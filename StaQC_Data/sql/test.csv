,Unnamed: 0,NL,Code
25000,46673,Count number of occurrences for each unique value,"select time, activities, count(*) from table group by time, activities;
"
16427,49652,PostgresQL SQL: Converting results to array,"SELECT  i_adgroup_id, array_agg(i_category_id)
FROM adgroupcategories_br
WHERE i_adgroup_id IN
(
    SELECT i_adgroup_id
    FROM adgroupusers_br
    WHERE i_user_id = 103713
)
GROUP BY i_adgroup_id;
"
19887,66710,CASE still returns null,"SELECT @RecordType AS RecordType_1,
       AbstractData.AccountNumber AS AcctNum_2,
       COALESCE(AD.Diagnosis, '') AS Dx_3
FROM AbstractData
LEFT JOIN AbsDrgDiagnoses AD ON AD.VisitID = AbstractData.VisitID
WHERE AbstractData.PtStatus <> 'REF' AND AD.DiagnosisSeqID = '1'
"
7982,36588,Get closest store for each customer,"111.045*DEGREES(ACOS(COS(RADIANS(lat1)) * COS(RADIANS(lat2)) *
                     COS(RADIANS(long1) - RADIANS(long2)) +
                     SIN(RADIANS(lat1)) * SIN(RADIANS(lat2)))) AS distance_in_km
"
6271,43591,Adding rows in table2 automatically on the basis of a specific column's input in table1,"delimiter //
create trigger ins_table2 after insert on table1
for each row
begin
  declare t2_cnt_index int default 1;
  while t2_cnt_index <= new.num do  
    insert into Table2 (desc2,id1) values (new.desc2,new.id1);
    set t2_cnt_index := t2_cnt_index + 1; 
  end while ;
end ; //
delimiter ;
"
25586,67009,Creating a string from a SELECT statement,"update table
set TRANSFER_TITLE = ID || PAYMENT_BASE || PAYMENT_A || PAYMENT_B || PAYMENT_C || PARTNER_ID
"
38385,21247,"SQL - JOIN on two result tables, ideas to refactor?","SELECT DISTINCT
       u.host
      ,first_value(usage) OVER w AS first_usage
      ,last_value(usage) OVER w AS last_usage
FROM   usage u
WINDOW w AS (PARTITION BY host ORDER BY logtime, usage
             ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING)
"
39114,27873,Get a hash (sha) of a sql table,"Dim d As DAO.Database
Dim r As DAO.Recordset
Dim s As String
Set d = CurrentDb()
Set r = d.OpenRecordset(""SELECT foo, bar, baz FROM foobar"")
s = """"
While Not r.EOF
    s = s & r!foo & "","" & r!bar & "","" & r!baz & "";""
    r.MoveNext
Wend
r.Close
Set r = Nothing
Set d = Nothing
s = SHA1TRUNC(s)
"
36293,12081,MYSQL join query advice (removing orphaned rows),"delete from campaingMailList where
campaingId not in (select campaingid from campaigns)
"
10149,27008,Unpivot Data Scenario to Solve?,";WITH Data AS
(
    SELECT [QUOTE Ref], [Product Line], [Value]
    FROM 
    (
        SELECT [QUOTE Ref], [Product A], [Product B], [Product C], [Product D]
        FROM [Table1]
    ) p
    UNPIVOT
       ([Value] FOR [Product Line] 
       IN ([Product A], [Product B], [Product C], [Product D] )
    )AS unpvt
 )
SELECT * 
FROM DATA 
WHERE Value <> 0;
"
27201,68612,MySQL Database INNER Joins - Query Help,"SELECT 
CONCAT(fo.first_name, ' ', fo.last_name, if (fights.winner=1, ""Winner"", ""Loser"")) 'Fighter 1', 
CONCAT(ft.first_name, ' ', ft.last_name, if (fights.winner=2, ""Winner"", ""Loser"")) 'Fighter 2', 
CONCAT(victory_method.name, ' (', method_notes, ')') 'Victory' 
FROM fights 
INNER JOIN fighters as fo ON fights.fighter1_id = fo.id
INNER JOIN fighters as ft ON fights.fighter2_id = ft.id
INNER JOIN victory_method ON fights.victory_method_id = victory_method.id
"
3598,8629,What is the second argument in array_length() function?,"array_length(array[[1, 2], [3, 4], [5, 6]], 1) ---> 3
array_length(array[[1, 2], [3, 4], [5, 6]], 2) ---> 2
"
25489,9489,Transposing rows to columns using self join,"SELECT CategoryId, 
       MIN(SWITCH(YourTable.Flag = 'a',Value)) AS aValue,
       MIN(SWITCH(YourTable.Flag = 'm',Value)) AS mValue,
       MIN(SWITCH(YourTable.Flag = 'p',Value)) AS pValue
FROM YourTable
GROUP BY CategoryId
"
471,41040,How to check the date format of the cell (oracle),"case 
    when regexp_like(A, 'XXX/MOSCOW/XXXMSX/[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]')
    then 'true' 
    else 'false' 
end
"
13030,30164,Getting a column of table using another table,"select t1.column2
from table1 t1
left join table2 t2
   on t1.id = t2.id
"
34759,11205,TSQL Change column name in sql select statement based on parameter,"IF @DateExpired = 1
    SELECT sens.date1 AS Expired FROM sens
ELSE
    SELECT sens.date1 AS [Due Date] FROM sens
"
5693,48648,Select from different tables via SQL depending on flag,"SELECT CASE @Flag WHEN 1 THEN t.field1 WHEN 2 THEN t.field2 WHEN 3 
   THEN t.field3 END as field,
   [A bunch of other fields],
   @Flag as flag
FROM table t
"
31215,52398,"Return one value if true, return another value if not true","Select 
    ID, Type, Price, Code, Date 
from 
    tblPRODUCT tbpr
where 
    (Code = '1234' AND Date IN (Select MAX(Date) from tblPRODUCT where type= tbpr.type   
and code = '1234'))
OR Date IN (Select MAX(Date) from tblPRODUCT where type= tbpr.type 
         and not exists(select code from tblPRODUCT where type= tbpr.type  and code is 
not null) ) 
"
39910,65359,display column alias from other tbl,"SELECT tbl2.userid, tb2.col3 AS [your name here], tbl1.col1 AS [your name here], ...
FROM tbl2
INNER JOIN tbl1 ON tbl1.userid = tb2.userid
WHERE tbl2.userid = ""testuser""
"
859,63160,Performance of primary/foreign key versus single table with no primary key,"SELECT Key
FROM keys k INNER JOIN users u
    ON k.UserId = u.UserId
WHERE u.UserName = 'username'
"
11297,25726,Select only rows that have unique fields,"  SELECT Col1, Col2, Col3, Col4 FROM MyTable WHERE
  Col1 NOT IN (Col2,Col3,Col4) AND
  Col2 NOT IN (Col3,Col4) AND
  Col3 <> Col4
"
27247,60538,Sort results by number of NOT NULL values,"select ...
from ...
order by
  case when name is null then 0 else 4 end +
  case when distance is null then 0 else 3 end +
  case when proximity is null then 0 else 2 end desc
"
27884,30081,How to show number of courses a student failed,"SELECT s.studentid, s.name,notes.courseid ,count(1) CNT
FROM student s
INNER JOIN notes ON s.studentid = notes.studentid
WHERE (notes.note) <  ""50""
group by s.studentid, s.name, notes.courseid
ORDER BY student.name
"
33739,35292,Is there a way to coalesce the top option value in stored procedure?,"@topParam
select TOP (COALESCE (@topParam, 1000000000))
"
26020,40797,how to create inherited table in oracle,"CREATE OR REPLACE TYPE PARENT AS OBJECT (...);

CREATE OR REPLACE TYPE CHILD UNDER PARENT (...);

CREATE TABLE PEOPLE OF PARENT;
"
18617,46314,Custom Fields DB Design for Membership Application,"CREATE TABLE Member
( MemberID 
, Org_Type
, Name
, ...
, Role
, PRIMARY KEY (MemberID)
, UNIQUE KEY (Org_Type, MemberID)
, CHECK Org_Type IN (1, 2, 3)
) ;

CREATE TABLE Member_Type_1
( MemberID 
, Org_Type
, Location
, PRIMARY KEY (MemberID)
, FOREIGN KEY (Org_Type, MemberID)
    REFERENCES Member(Org_Type, MemberID) 
, CHECK Org_Type = 1
) ;
"
20981,58390,SQL Select rows with max and min date,"select * from dbo.myDatabase 
where 
    ([Date] = (select max([Date]) from /* your query */ ) or 
    [Date] = (select min([Date]) from /* your query */ ))
    and MachineId = '7B788EE88E-6527-4CB4-AA4D-01B7F4048559' -- or any other id
"
27378,3716,How to convert string to integer - weird format,"SELECT CAST((columnName * 100) as INTEGER) NewValue
FROM TableName;
"
27796,32179,How to get all the rows from MySQL table which have same values for multiple columns?,"SELECT allSt.* 
FROM students allSt
join students st 
-- check the same majorSubject AND the same minorSubject --
on allSt.majorSubject = st.majorSubject and allSt.minorSubject = st.minorSubject 
WHERE
st.rollNumber = '<rollNumber>' AND
-- exclude student with the given rollNumber from the result set --
allSt.rollNumber <> '<rollNumber>'
"
4854,57362,Passing an intager array to mysql procedure,"mysql> select find_in_set(2, '1, 2, 3');
+---------------------------+
| find_in_set(2, '1, 2, 3') |
+---------------------------+
|                         0 |
+---------------------------+

mysql> select find_in_set(2, '1,2,3');
+-------------------------+
| find_in_set(2, '1,2,3') |
+-------------------------+
|                       2 |
+-------------------------+
"
23140,67558,Left Join with multiple tables question,"SELECT user.name, profile.bio, rate.rate
FROM user
LEFT JOIN profile ON user.id = profile.user_id
LEFT JOIN rate ON user.id = rate.user_id
WHERE status = 'active'
"
20868,55824,Search to return both child items and parent items,"select id, name,parentID 
from @a
where name like @Letter or
    ID  in (select ParentID from @a 
        where name like @Letter)
"
37232,64006,SQL: Not Like produces different results than what would be Like's opposite,"areaid areaname townname
 1        AA      AA
 1        AA      BB
"
24722,34376,how to implement unique IDs across many tables,"UNHEX(REPLACE(UUID(),'-',''))
"
9561,23691,How to return result set with incremented rows?,"DECLARE TABLE @MYTABLE
(
    ID INT IDENTITY,
    VALUES......
)
INSERT INTO @MYTABLE
SELECT MYVALUES.....

SELECT * FROM @MYTABLE
"
27236,16619,Update left join rows that didn't match,"update mytable1 t1 inner join mytable2 t2 on (t1.a=t2.a or t1.b=t2.b or t2.c=t1.c) set t1.state=5,t2.state=5 where((cast(t1.a=t2.a as unsigned integer) + (cast(t1.b=t2.b as unsigned integer) + (cast(t1.c=t2.c as unsigned integer)) <3) and t1.state=0;
"
24215,460,get data in sql from from date to to date,"SELECT ... FROM ... WHERE somecol >= '2011-01-01' AND somecol <= '2011-01-30'
"
6963,25379,Inserting a Row in a Table from Select Query,"INSERT INTO second_table (Bill_Number, Rest_Inform_Status, Rest_Response_Status)
SELECT ft.Bill_Number, @default_inform_status, @default_response_status
FROM first_table ft
LEFT JOIN second_table st
  ON st.Bill_Number = ft.Bill_number
WHERE st.Bill_Number IS NULL
"
38801,30702,SQL normalization,"INSERT INTO Colleges (CollegeName)
  SELECT DISTINCT CollegeName 
    FROM OLdTable ;

INSERT INTO Courses (CollegeID, CourseName)
  SELECT Colleges.CollegeID, OldTable.CourseName 
    FROM OldTable
      JOIN Colleges
        ON OldTable.CollegeName = Colleges.CollegeName ;
"
30814,6345,SQL delete almost identical rows,"with c as
(
    select 
        *, row_number() over(partition by name, name2, [user] order by id) as n
    from YourTable
)
delete from c
where n > 1;
"
25880,23540,converting column names to use as row fields in Access,"select 'SC' as Characteristic_Name, SC as Val
from yourtable
union all
select 'DO' as Characteristic_Name, DO as Val
from yourtable
union all
select 'temp' as Characteristic_Name, temp as Val
from yourtable
union all
select 'pH' as Characteristic_Name, pH as Val
from yourtable
union all
select 'etc' as Characteristic_Name, etc as Val
from yourtable;
"
3116,68653,SQL change value if shorter than X,"UPDATE tablename
SET value1 = concat(0,value1)
WHERE length(value1)=4
"
5860,68095,Remove duplicate product with lower price using mysql query,"delete p1 
from product p1
join product_description d1 on d1.product_id = p1.product_id
join product_description d2 
  on  d2.product_id <> d1.product_id
  and d2.language_id = d1.language_id
  and d2.name = d1.name
join product p2 on p2.product_id = d2.product_id
where d1.language_id = 1 -- define the language used for product name
  and (p2.price > p1.price -- delete if higher price exists
    or p2.price = p1.price and p2.product_id < p1.product_id -- delete if same price with lower id exists
  )
;
"
26485,25575,SQL Server: any equivalent of strpos()?,"Select CHARINDEX ('S','MICROSOFT SQL SERVER 2000')
Result: 6
"
34519,15071,"How to use datediff function to show day, hour, minute, and second","select 
datediff(second,depart_dt, arrived_dt)/86400 as Day,
datediff(second,depart_dt, arrived_dt)/3600%24 as Hour,
datediff(second,depart_dt, arrived_dt)/60%60 as Minute,
datediff(second,depart_dt, arrived_dt)%60 as Second
from yourtable
"
21945,63188,Select column under specific condition,"SELECT 
(CASE WHEN id_1 IN ('1', 'AF', 'C') THEN id_1 
WHEN id_2 IN ('1', 'AF', 'C') THEN id_2 
WHEN id_3 IN ('1', 'AF', 'C') THEN id_3 
ELSE 0 END ) id
,name 
FROM table 
WHERE (id_1 IN ('1', 'AF', 'C')) OR
(id_2 IN ('1', 'AF', 'C')) OR
(id_3 IN ('1', 'AF', 'C'));
"
33932,16392,"limitations of ""SELECT .. IN"" pgsql query","SELECT objectName, objectType
FROM objectTable INNER JOIN objectids ON (objecttable.objectid = objectids.id)
"
28746,45208,How do I search for all rows containing a given unicode character in Postgres,"SELECT * FROM myTable WHERE desc LIKE U&'%\2028%'
"
31041,43696,query and subquery on the same table,"select b.*
  from yourtable a
  left join
       yourtable b
    on (    a.Patient_ID = b.Patient_ID
        and a.DateOfService = b.DateOfService)
 where a.CPTCode = ""some value""
"
12304,17556,after update trigger to deal with multiple rows,"CREATE TRIGGER [dbo].[Group_Update]
ON [dbo].[TBL_ADM_USER_GROUP]
AFTER UPDATE
AS
BEGIN
   SET NOCOUNT ON;

   INSERT INTO TBL_TestTable    -- define column list for clarity
   SELECT CONCAT('Group ""' ,i.name,'"" is updated'),
         'GROUP', 'Update', SYSDATETIME(),
         i.changer_user_id
   FROM inserted i;
END
"
27130,14288,SQL Syntax for NOT IN and EXCEPT,"Select GeneName, count(*) from genes group by GeneName;
"
24700,37268,Magento: query to export product without category + attribute VISIBILITY,"SELECT cpe.entity_id, cpe.sku, cpe_int.value as visibility 
FROM catalog_product_entity as cpe
LEFT JOIN catalog_category_product as ccp
on cpe.entity_id = ccp.product_id
LEFT JOIN catalog_product_entity_int as cpe_int
ON cpe.entity_id = cpe_int.entity_id
AND cpe_int.attribute_id = 89
WHERE ccp.category_id IS NULL
"
20542,38018,Copy record to another table adding fields,"insert into tab2 (field1, field2, field3, field4) 
select field1, field2, field3, 'New Value' from tab1
"
11041,22178,"How I can add null data to a result set, where it doesn't exist in the DB - without inserting new data","SELECT 
d.device, 
s.service, 
r.hits
FROM dt_devs d
INNER JOIN dt_serv s ON d.serviceID = s.serviceID
LEFT JOIN results r ON d.deviceID = r.deviceID
"
288,16183,How to reset an Access table's AutoNumber field? (it didn't start from 1),"strDdl = ""ALTER TABLE Dummy ALTER COLUMN ID COUNTER(1, 1);""
CurrentProject.Connection.Execute strDdl
"
13809,54273,oracle primary key start with letter,"CREATE SEQUENCE your_pk_seq;

CREATE TRIGGER trg_populate_pk
  BEFORE INSERT ON your_table_name
  FOR EACH ROW
BEGIN
  SELECT 'S' || to_char( your_pk_seq.nextval )
    INTO :new.primary_key_column
    FROM dual;
END;
"
24907,22143,how to retrieve data from database monthly based on date if data not available it should display null,"select  Years,number as Month,isnull(Total,0) as Total
from(
    select number 
    from master..spt_values 
    where type='P' 
    and number between 1 and 12) seq
cross join (select distinct Year([date]) as Years from Table1) y
left join
    (select Year([date])as Year,month([date])as Month,sum(total) as Total
     from Table1 
     group by  Year([date]),month([date]))t
on seq.number=t.Month
and t.year=y.Years            
"
32005,51933,Calc Order sum where Orderline contains product,"select o.OrderNo, OrderDate, ol.Amount,(select sum(oll.Amount * oll.UnitPrice) from OrderLine oll where oll.OrderNo = o.OrderNo) as OrderTotal
....
"
2427,54610,Select from a table with different where clauses,"select empid, 
       sum(case when attendance = 'P' then 1 end) as presents,
       sum(case when attendance = 'A' then 1 end) as absents
from EmpAttendance
group by empid
"
33099,18874,Issue with Oracle Stored Function,"SELECT rec_date_sf(registration) as date_rent_start, 
       registration
  FROM i_booking 
 WHERE registration = 'E246WFC';
"
37001,70416,Making Excel report into SSRS with Pivot Tables,"=Join(LookupSet(Fields!grade.Value & Fields!od.Value & Fields!wall.Value & Fields!id.Value, Fields!grade.Value & Fields!od.Value & Fields!wall.Value & Fields!id.Value, RTrim(Fields!stock_number.Value), ""FOC""), "", "")
"
11829,8209,Outer join with group by subqueries,"SELECT coalesce(t1.x, t2.x) x, t1.y, t2.z
FROM (select count(y), x from a group by x) t1 
full join (select count(z), x from b group by x) t2 on (t1.x = t2.x)
"
20179,52928,"SQL, Calculate Data Between Rows Using Lag","select p.*
from (select p.*, (lag(clock, 1) over () - clock) as diff
      from plays p
     ) p
where possession = 'away';
"
34735,5203,"SQL two ""group by"" in the same query","SELECT
    product_tracking.user_id,
    SUM(CASE WHEN product_tracking.product='A' THEN 1 ELSE 0 END) AS A,
    SUM(CASE WHEN product_tracking.product='B' THEN 1 ELSE 0 END) AS B,
    SUM(CASE WHEN product_tracking.product='C' THEN 1 ELSE 0 END) AS C
FROM
    product_tracking
GROUP BY
    product_tracking.user_id
"
2316,31402,I want to count people according to their cities and put them in three categories as in which city there are more than 5 people,"SELECT cities,
       CASE WHEN COUNT(*) = 1 THEN '1'
            WHEN COUNT(*) BETWEEN 2 AND 5 THEN '2-5'
            WHEN COUNT(*) > 5 THEN '5'
        END category,
       LISTAGG(people, ',') WITHIN GROUP (ORDER BY people) AS names  
  FROM your_table
 GROUP 
    BY cities
"
13783,62767,sql select all but nulls,"SELECT t1.Id, t1.Name, t2.Color 
from TableA t1 left outer join TableB t2 
on t1.Id_TableB = t2.Id;
"
20267,13395,SQL Group By Before Averaging,"SELECT t.Opp, avg(Points)
FROM (SELECT gl.team, gl.Opp, AVG(gl.Points) as Points
      FROM Players p INNER JOIN
           NBAGameLog gl
           ON p.Player_ID = gl.Player_ID
      WHERE (gl.Date_Played Between Date()-15 And Date() AND
            p.Position = ""C""
     GROUP BY gl.team, gl.Opp;
    ) t
GROUP BY t.Opp;
"
35481,29387,having clause without aggregate in select,"SELECT name, continent, population 
FROM world x  
WHERE continent in (SELECT  continent FROM world
group by continent
having max(population) < 25000000)
"
3563,19849,Why does the following query copy table data?,"SELECT COUNT(*) AS cnt
FROM products
WHERE ExternalProductId IS NOT NULL
GROUP BY ExternalProductId, SourceId
HAVING cnt > 1
"
34766,71088,How to enable/disable oracle job using job id,"begin
  dbms_job.broken(23, true);
  commit;
end;
/
"
18903,50592,"SELECT * FROM TABLE, TABLE depending on another query - SQL","select coalesce(p.name, f.name) as name
from contacts c
left join people p on p.contacts_id = c.id and c.type = 'person'
left join firms f on f.contacts_id = c.id and c.type = 'firm'
where c.id = 42;
"
9996,7970,SQL query finding best categories match,"select i1.item_id,i2.item_id,count(1)
from items i1
join categorizations c1 on c1.item_id=i1.item_id
join categorizations c2 on c2.category_id=c1.category_id
join items i2 on c2.item_id=i2.item_id
where i1.item_id <> i2.item_id
group by i1.item_id,i2.item_id
order by count(1)
"
31069,27205,SQL server Last Inserted ID,"DECLARE @ID BIGINT

INSERT INTO dbo.TABLE_ID (Table_NAME) 
SELECT 'Table_Products'

SELECT @ID = SCOPE_IDENTITY()

INSERT INTO dbo.Table_Products (ID, Product_Name)
SELECT @ID, 'SomeProduct'
"
30411,72840,Search for pattern in part of the string,"WHERE field LIKE '%ZZZ%' AND field NOT LIKE 'Additional comments:%ZZZ%'
"
35078,528,How can I convert a OLE Automation Date value to a date in SQL Server,"SELECT CAST(CASE WHEN OLEFLOAT > 0 THEN 
                         OLEFLOAT-2.0 
                 ELSE 
       2*CAST(OLEFLOAT AS INT) - 2.0 +  ABS(OLEFLOAT) END as datetime)
"
25195,65842,Select * from Table and still perform some function on a single named column,"SELECT 
     MY_TABLE.*, 
     (CHANGE_DATE, 'YYYY-MM-DD HH24:MI:SS') AS FORMATED_DATE 
FROM MY_TABLE;
"
14593,70148,how to pivot multiple records,"select p.floor,p.[1] as room1,p.[2] as room2,p.[3] as room3 from
(
select floor,apt,row_number() over(partition by floor order by apt) as rn from #t) as t

pivot
( 
min(t.apt)
for t.rn in([1],[2],[3]) 
)as p;
"
36349,7510,Create an ORACLE query - View and union with default value,"select c.id_contract
     , p.id_pfo
     , nvl(l.budget,0) value
  from contracts c
 cross join portfolios p
  left outer join ""contract_Linked_pfo"" l
      on l.id_contract = c.id_contract
     and l.id_pfo = p.id_pfo
;
"
39405,19274,Database creation script - external parameters/settings,":setvar filename somefile.ext
:setvar version 1
:on error exit

print 'This is version $(version) on $(filename)'
-- the rest of the actual script
"
17402,36847,Condense multiple rows to single row with counts based on unique values in sqlite,"SELECT cust,
       date,
       store,
       COUNT(*) AS n_items,
       SUM(item_type = 1) AS item1,
       SUM(item_type = 2) AS item2,
       SUM(item_type = 3) AS item3,
       SUM(item_type = 4) AS item4
FROM t
GROUP BY cust,
         date,
         store
"
15671,65687,WHERE statement based on CASE statement,"    WHERE DTH.PointPerson LIKE @userParam
        AND ActivityDate >= @startDateParam
        AND ActivityDate <= @endDateParam
        AND (
            (@orgTeamPK = '%' AND (USR.[OrganizationalTeamId] LIKE @orgTeamPK OR USR.[OrganizationalTeamId] IS NULL) )
            OR
            (@orgTeamPK <> '%' AND (USR.[OrganizationalTeamId] LIKE @orgTeamPK ) )
"
33321,66119,SQL max() only returns 1 row if column has several max values,"SELECT a,b FROM table
WHERE b = (SELECT MAX(b) FROM table)
"
22931,41713,Oracle PL/SQL get the first letter from the name(HUN),"create function hun_first_letter(name in varchar2) return varchar2 as
begin
  if substr(upper(name),1,3) in ('DZS') then
    return substr(name,1,3);
  elsif substr(upper(name),1,2) in ('CS','DZ','LY','NY','SZ','TY','ZS','GY') then
    return substr(name,1,2);
  else
    return substr(name,1,1);
  end if;
end;
"
13015,72009,IF ELSE condition in an SQL query,"SELECT  
    hist.I_PAYT_REF AS PAY_REF,
    hist.C_USERID AS USER_ID,
    PAYT.I_PAYT_REQ_SUM AS PAYMENT_FILE_ID
    FROM 
         SP.TSP_CP_HIST hist left join 
         SP.TSP_CP_PAYT_RQ_DTL PAYT ON PAYT.I_PAYT_REF = hist.I_PAYT_REF 
    WHERE hist.C_HIST_TYPE ='V'
"
4331,23216,Is there an elegant way to store a dual relationship (i.e. user 1 and user 2 are friends),"CREATE TABLE User
( Name VARCHAR(10) NOT NULL
, PRIMARY KEY (Name)
) ;

CREATE TABLE MutualFriendship
( u1 VARCHAR(10) NOT NULL
, u2 VARCHAR(10) NOT NULL
, PRIMARY KEY (u1, u2)
, FOREIGN KEY (u1) 
    REFERENCES User(Name)
, FOREIGN KEY (u2) 
    REFERENCES User(Name)
, CHECK (u1 < u2) 
) ;
"
13101,15825,SQLite :select where currend date between from date and to date if exist,"where datetime('now') >= coalesce(fromDate, datetime('now'))
      datetime('now') <= coalesce(toDate, datetime('now'))
"
35071,19703,SQL to replace field content with content from another table if found," SELECT e.id, e.title,
        COALESCE(ca.text, es.text, e.content) content
   FROM events e
   LEFT JOIN localizations ca ON ca.row_id = e.id AND ca.language = 'ca'
   LEFT JOIN localizations es ON es.row_id = e.id AND es.language = 'es'
"
18917,18342,MySQL Many-To-Many condition which combine AND/OR,"select  ItemId
from    Item_has_category
group by
        ItemId
having  sum(case when CategoryId = 1 then 1 end) = 1
        or sum(case when CategoryId = 2 then 1 end) = 1
        andsum(case when CategoryId = 3 then 1 end) = 1 
"
17085,4981,update a column by subtracting a value,"UPDATE a75ting.username
SET points = points - 5
"
31455,58673,SQL insert auto increment value,"INSERT INTO actions(Action) VALUES ('Go to the pub');
SET @aid = LAST_INSERT_ID();

INSERT INTO statements(statement, Language) VALUES ('Have a pint', 'English');
SET @sid = LAST_INSERT_ID();

INSERT INTO Relationships(SID,AID) VALUES (@sid,@aid);
"
1319,41703,joining two tables and overwriting one colum,"SELECT A.ID, A.NAME, A.DESC, CASE B.ISEMPTY
                WHEN 1 THEN 1
                ELSE A.ISEMPTY
                END CASE AS ISEMPTY 
FROM TABLE2 A
LEFT JOIN TABLE1 B ON A.ID=B.ID
"
3912,74308,Easier way to map record names for a column?,"SELECT SUM(COUNT) AS Actions, 
        (CASE event 
            WHEN 1 THEN 'Web' 
            WHEN 2 THEN 'iOS' 
            WHEN 3 THEN 'Android'
            WHEN 4 THEN 'Windows' 
            WHEN 5 THEN 'Mac' 
        ELSE 'Unknown' END )  AS Platform
FROM METRICS_WEEKLY
WHERE EVENT IN (1, 2, 3, 4 ,5 ,6) 
GROUP BY EVENT
"
8406,46650,querying using count,"select suppcode, count(distinct storecode) as StoresSupplied
from stocks
group by suppcode
having count(distinct storecode) > 3
"
4794,20197,Will using IFNULL prevent SQLite from using an index?,"sqlite> create table t(f);
sqlite> create index tf on t(f);
sqlite> explain query plan select * from t where ifnull(f,0)=1;
0|0|0|SCAN TABLE t (~500000 rows)
sqlite> explain query plan select * from t where f is null;
0|0|0|SEARCH TABLE t USING COVERING INDEX tf (f=?) (~10 rows)
sqlite> explain query plan select * from t where f=1;
0|0|0|SEARCH TABLE t USING COVERING INDEX tf (f=?) (~10 rows)
"
33372,38926,Insert results from Stored Procedure into table and add an extra column,"DECLARE @readerrorlog_results TABLE (
  LogDate date,
  ProcessInfo varchar(max),
  Text varchar(max)
)

INSERT INTO @readerrorlog_results
      (LogDate,ProcessInfo,Text)
EXEC sp_readerrorlog 0, 1, 'Login failed'

INSERT INTO FailedLogins
      (LogDate,  ServerName,ProcessInfo,Text)
SELECT LogDate,@@SERVERNAME,ProcessInfo,Text FROM @readerrorlog_results
"
30105,28150,Excluding insert of specific rows when copying data in same table,"INSERT INTO table (product_id, value, branch_id)
SELECT t1.product_id, t1.value, '71'
FROM table AS t1
LEFT JOIN table AS t2 ON t1.product_id = t2.product_id AND t2.branch_id = '71'
WHERE t1.branch_id = '53' AND t2.product_id IS NULL
"
21666,20425,getting the total consumption,"INSERT INTO `consumption` (consumption, total_consumption) 
VALUES (8, 
    consumption + (SELECT MAX(total_consumption) FROM consumption)
);
"
25218,33204,SQL: Get 2 rows from each category,"select distinct c1.ID, c2.category
from mytable c1
join mytable c2 ON c1.category = c2.category and c1.ID <> c2.ID
group by c1.category, c2.ID;
"
9678,19927,Join table with composite key twice,"SELECT id, summary, owner, c1.value, c2.value
FROM ticket t
INNER JOIN ticket_custom c1  ON t.id = c1.ticket AND c1.name = 'X'
INNER JOIN ticket_custom c2  ON t.id = c2.ticket AND c2.name = 'Y'
"
33973,52523,Delete equal data from two tables in SQL Server,"SELECT * INTO newA FROM a
EXCEPT
SELECT * FROM b
;

SELECT * INTO newB FROM b
EXCEPT
SELECT * FROM a
;
"
23194,60500,Using SELECT DISTINCT or alternative with a 3 table query,"SELECT DISTINCT WEEKLY_TIMECARD.WEEK_NUMBER
FROM 
  WEEKLY_TIMECARD, 
  DAILY_CALCULATIONS, 
  EMPLOYEE_PROFILES 
WHERE EMPLOYEE_PROFILES.EMPLOYEE_NUMBER = WEEKLY_TIMECARD.EMPLOYEE_NUMBER
  AND EMPLOYEE_PROFILES.EMPLOYEE_NUMBER = DAILY_CALCULATIONS.EMPLOYEE_NUMBER
  AND WEEKLY_TIMECARD.WEEK_NUMBER = DAILY_CALCULATIONS.WEEK_NUMBER
"
29245,31782,How can i create boolean column and assign value 1 when creating/altering a column of a mysql table?,"ALTER TABLE tablename CHANGE columnname columnname BOOLEAN DEFAULT '1' NOT NULL
"
649,47987,In PostgreSQL how do you join two tables select separate information," select * 
 from subjects s 
   left join enrollment e on s.subno = e.subno  
 where sno=9800007 
"
37509,52479,method to query for changes in single table with multiple data loads and set the mutationcode identifier,"UPDATE r1
SET r1.mutationcode = 1
FROM record as r1
join record as r2 on r2.loadno < r1.loadno
                  and r2.firstname = r1.firstname
                  and r2.lastname = r1.lastname
WHERE r2.street != r1.street
   or r2.streetno != r1.streetno
   ;
"
33199,18398,Delete specific word at the beginning,"UPDATE my_table SET path = substring(path, 8, 9999);
where path like '/PicsDB%'
"
25853,57126,How I should use BIT in SQL Server 2005,"ALTER TABLE fin_stavke
ADD CONSTRAINT fin_stavke_knjizenje CHECK ( doc_id IS NOT NULL OR protocol_id IS NOT NULL)
"
37579,890,Regular expression in google big query,"SELECT DebugData
CASE
 WHEN lower(DebugData) LIKE 'veri%' THEN 'Verizon'
 WHEN REGEXP_MATCH(LOWER(DebugData),r'^\d+[^a-zA-Z]*$') THEN c.Network 
 ELSE REGEXP_REPLACE(lower(DebugData),r'[^a-zA-Z]', ' ')
END
AS ActualCarrier
From table
"
8989,11647,Updating read/unread table upon post insertion,"SELECT ..., t.read FROM items i LEFT JOIN items_tracking t ON (t.item_id = i.id)
"
4160,65908,Counting lines in a list,"SELECT COUNT(color) AS cnt, color FROM YourTable
GROUP BY color
"
36992,26848,Add multiple values in table's column against specific id,"create table T (
    ID char(8) not null,
    /* other columns */
    constraint PK_T PRIMARY KEY (ID)
)

create table PhoneNumbers (
    ID char(8) not null,
    PhoneType varchar(12) not null,
    Number varchar(15) not null,
    constraint PK_PhoneNumbers PRIMARY KEY (PhoneNumbers,PhoneType),
    constraint CK_PhoneNumber_Types CHECK (PhoneType in ('Home','Work','Mobile')),
    constraint FK_PhoneNUmbers_T FOREIGN KEY (ID) references T(ID)
)
"
14169,9174,SQL: return values when PK equals two specific values in two different rows on the same field,"Select * from table1
Where number in (14,23) and id in(
Select id from table1 
Where number in (14,23)
Group by id
Having count(distinct number) = 2)
"
6535,5015,Microsoft Enterprise Library Connection String,"var connectionStringBuilder = new SqlConnectionStringBuilder(_db.ConnectionString);
string databaseName = connectionStringBuilder.InitialCatalog;
"
39816,18801,How to swap values from two fields at the same time in SQL?,"update
    table
set
    animal = case anmial when 'dog' then 'fox' else 'dog' end
where
    animal in ('dog', 'fox')
"
29660,64413,WHERE clause for a variable from a textbox,"where priceratio < cast(@input_number as int)
"
2688,5878,"Aggregate, Show Only Count >1 for each entry","SELECT Article_Name, Tag, COUNT( * ) AS count
FROM articletagview
GROUP BY Article_Name, Tag
HAVING COUNT(*) > 1
ORDER BY count DESC
"
15740,11577,SQL - Select all rows between two string rows,"SELECT  A.[DATE],
        A.[TIME],
        A.[User],
        A.[Entry]
FROM @Table A
CROSS APPLY(SELECT MIN([Date]) FROM @Table WHERE [Entry] LIKE 'Some Job%') CA_min(start_dt)
CROSS APPLY(SELECT MAX([Date]) FROM @Table WHERE [Entry] LIKE 'Some Job%') CA_max(end_dt)
WHERE [DATE] BETWEEN start_dt AND end_dt
"
14290,19885,Parsing full month and year in SQL,"SELECT CAST('July,1999' AS DATETIME)
"
36637,4002,Oracle SQL order by in subquery problems!,"select
    ps.id, ps.created_date, pst.last_updated, pst.from_state, pst.to_state,
    (   select min(last_updated)
        from mwcrm.process_state_transition subpst
        where subpst.last_updated > pst.last_updated
          and subpst.process_state = ps.id) as next_response
from <the rest>
"
662,25338,Decimal point is stripped by OdbcDataReader when connecting to an Oracle data source,"// internal GetDecimal
// -------------------
// Get Value of type SQL_DECIMAL or SQL_NUMERIC
// Due to provider incompatibilities with SQL_DECIMAL or SQL_NUMERIC types we always read the value
// as SQL_C_WCHAR and convert it back to the Decimal data type
"
23051,63842,codeigniter - database : how to update multiple tables with a single update query,"$this->db->set('a.firstname', 'Pekka');
$this->db->set('a.lastname', 'Kuronen');
$this->db->set('b.companyname', 'Suomi Oy');
$this->db->set('b.companyaddress', 'Mannerheimtie 123, Helsinki Suomi');

$this->db->where('a.id', 1);
$this->db->where('a.id = b.id');
$this->db->update('table as a, table2 as b');
"
8249,43202,Best way to store a value to query latest without de-nomalizing?,"update MyTable set IsLatestReading = 0 
inner join DELETE on DELETE.AssetID = MyTable and IsLatestReading = 1

update table  MyTable set IsLatestReady = 1
inner join INSERTED on INSERTED.MeterReadingID = MyTable.MeterReadingID
"
10380,52742,Update table1 based on value from table 2 in teradata,"UPDATE a
FROM table2 a, table1 b
SET hour1=b.mou
WHERE a.access_method_id=b.access_method_id
AND hour='hour1'
"
2209,51194,search entire oracle database for part of string,"EXECUTE IMMEDIATE
  'SELECT COUNT(*) FROM ' || t.owner || '.' || t.table_name ||
  ' WHERE '||t.column_name||' like :1'
  INTO match_count
  USING '%ALERT%';
"
14312,56688,Update table using SELECT on combined columns,"UPDATE Users
SET AccountId = RIGHT(lastName, 5) + RIGHT(UserId, 6)
"
8553,69311,Display all table A records which are not in table B using mysql joins concept,"SELECT 
t1.*
FROM tableA as t1
LEFT JOIN tableB t2 ON t1.email=t2.email
WHERE t2.id IS NULL
"
38383,43392,ANSI NULLS and the ON clause,"select housenumber, street, town, country postcode, count(*) as cnt,
       min(a.id) as masterid, max(a.id) as childid 
from #address a
group by housenumber, street, town, country postcode
having count(*) >= 2;
"
37174,49377,Display 1st precision value after decimal (In oracle),"SELECT 
  CASE
    WHEN COLUMN_A LIKE '%.%' THEN
      TO_CHAR(CAST(COLUMN_A AS DECIMAL(10,3))*100, '999.0') || '%'
    ELSE COLUMN_A
   END AS COLUMN_F
FROM   Table_a;
"
29617,36128,"Complex query, many joins","SELECT  *
FROM    A
        INNER JOIN B ON B.AID = A.AID
        INNER JOIN C ON C.BID = B.BID
        INNER JOIN D ON D.AID = A.AID
        INNER JOIN E ON E.DID = D.DID
        INNER JOIN F ON F.EID = E.EID
WHERE   C.Field = F.Field
"
35181,40600,Approach to a Bin Packing sql problem,"SELECT SUM([Item quantity]) as totalItems
     , SUM([Item quantity]) / 160 as totalBoxes
     , MOD(SUM([Item Quantity), 160) amountInLastBox
FROM [Transactions]
GROUP BY [Transaction Id]
"
15662,40388,MySQL Joining Tables While Counting & Grouping,"select created_at, s.label, amount
from 
(
    select count(r.Source) as amount, r.source, r.created_at
    from  related_table r
    group by r.source, r.created_at) a  inner join source_table s
   on a.source = s.source_id
where created_at between '2013-12-01' and '2013-12-31'
order by amount desc, created_at desc
"
11382,62160,Classic ASP - display records from databse in the table Week-wise or month-wise,"select
emp_number,
datepart(year, order_date),
datepart(month, order_date),
datepart(wk, order_date),
sum(grand_total)
from order_details
group by
emp_number,
datepart(year, order_date),
datepart(month, order_date),
datepart(wk, order_date)
order by 1, 2, 3, 4
"
31279,30811,Insert Data from one table to another in the Same Database due to import wizard,"INSERT INTO [JDatabase].[dbo].[MineOp] (Name)
SELECT Name
FROM [JDatabase].[dbo].[MineOp$];
"
17640,75557,Database replication with Slony-I alternative Linux setup to Shell Scripts,"p = subprocess.Popen('/usr/bin/slonik',stdout=subprocess.PIPE,stdin=subprocess.PIPE)
p.stdin.write('<slon commands here>')
p.stdin.close()
"
23146,7295,Select only the YEAR from DATE?,"SELECT * FROM EMPLOYEE_T WHERE EXTRACT (YEAR FROM EmployeeDateHired) = 1999
"
29452,68722,Column names in each table must be unique. while copy table data from one table to another in sql server,"select k.transactid, k.Hbarcode into Khanger2013
 from KHanger_tbl k
inner join Transaction_tbl t
on t.transactid=k.transactid
where t.dtime <='2013-12-30
"
4494,51909,"How can I combine three select queries, each excluding the results from the previous ones?","SELECT
   CASE WHEN stageCompleted = 1 THEN 'Final'
        WHEN StartDate < NOW() THEN 'Active'
        ELSE 'Inactive'
   END,
   ID
FROM Stage
"
13257,37618,"Mysql, clean up loose ends","DELETE FROM table_a
WHERE ref_b IS NOT NULL
  AND NOT EXISTS ( SELECT 1 FROM table_b WHERE table_b.id = table_a.ref_b )
"
29416,46677,Case Sensitivity in google spreadsheet queries,"=QUERY(Website!$A16:$D, ""select B WHERE (lower(C)=lower('""&$B$1&""') OR lower(B) contains lower('""&$B$1&""'))"", -1)
"
23225,62768,query last value,"select top 1 
       l.klantId, bh.rechten, kg.voornaam, kg.achternaam, kg.woonplaats, kg.telefoonnr, og.klantbericht, s.klantstatus 
from login l 
inner join klantGegevens kg on l.klantId=kg.klantid 
inner join bevoegdheden bh on l.rechten=bh.id 
inner join orderGegevens og on og.loginNr=l.klantid 
inner join status s on s.id=og.klantstatus 
where l.klantid=1 
order by ordernr desc
"
14403,8606,joining 3 tables & inserting in a 4th table in sql server,"from items
left join sales on ITEMS.ITEM_CD =sales.ITEM_CD
left join purchase on items.ITEM_CD =purchase.ITEM_CD
"
20093,75182,Get CLOB data in a text/xml file,"use DBI;
my $db = DBI->connect('dbi:Oracle:tnsname','user','password',{RaiseError=>1});
my $txt = ($db->selectrow_array('select my_clob_col from my table where ...'))[0];
$db->close;
open my $fh, '>out.txt' or die $!;
print $fh $txt;
close $fh;
"
9402,14770,Changing my oracle NLS_Lang environment,"to_char(sysdate,'Dy Mon dd','NLS_DATE_LANGUAGE = FRENCH')
to_char(sysdate,'Dy Mon dd','NLS_DATE_LANGUAGE = AMERICAN')
"
27313,43921,How to link three distinct arrays (same size of elements) into a sql table?,"my @day     = (1,1,1,2,2,2,3,3,3);
my @product = qw(banana apple pear orange cherry strawberry blueberry yogurt lettuce);
my @total   = (22,44,67,34,76,44,67,45,86);
my $cnt     = @day - 1;

for my $i (0..$cnt) {
    $insert_products_total->execute($day[$i], $product[$i], $total[$i]);
}
"
7897,33002,SQL: How to force the relational operator to consider NULL values,"WHERE IFNULL(a.entity_id, 0) = IFNULL(b.entity_id, 0);
"
38291,30508,SQL: Updating a column based on other table,"UPDATE a
SET Status = 'FAIL'
FROM TableA a
  INNER JOIN (
    SELECT a.MatchID1
    FROM TableA a
      INNER JOIN b ON a.MatchID1 = b.MatchID1 AND a.MatchID2 <> b.MatchID2
    GROUP BY a.MatchID1
  ) x ON a.MatchID1 = x.MatchID1
"
10639,38377,How to get top 5 selected items with mysql query?,"select a.id, a.ans, count(*) as cnt
from submitted_answers sa join
     answers a
     on concat(', ', sa.ans, ', ') like concat('%, ', a.id, ', %')
group by a.id, a.ans
order by cnt desc
limit 5
"
5845,12412,delimiting data in a mysql database without exporting it,"UPDATE tablename SET url = SUBSTRING_INDEX(url, ""?"", 1);
"
32027,59115,How do i insert new record in this table?,"IF NOT EXISTS (SELECT 1 FROM City WHERE City = 'Paris')
Insert INTO City (City) VALUES ('Paris')

DECLARE @Cid int = (SELECT CityID FROM City WHERE City = 'Paris')

INSERT INTO people (lname, fname, city, age, salary) 
VALUES (' Doe','John', @cid, '25','1000$' )
"
20987,73619,SQL Server: How do I update dates so that they are two months prior?,"UPDATE YourTable
SET DateField1 = DATEADD(mm, -2, DateField1)
WHERE .....
"
22746,26683,Joining Query from Two Tables,"SELECT * FROM 
(
select 
    serial_Number, 
    system_id, 
    date_time 
from 
    acp_parts ap 

UNION ALL

select 
    serial_Number, 
    system_id, 
    date_time 
from 
    acp_parts  test_results tr
)
ORDER BY serial_Number, date_time  
"
10519,55746,how to return query result as time HH:MM?,"SELECT EXTRACT(HOUR FROM NUMTODSINTERVAL(SUM(HOURS_WORKED), 'HOUR'))||':'
   ||EXTRACT(MINUTE FROM NUMTODSINTERVAL(SUM(HOURS_WORKED), 'HOUR')) AS TOTAL_HOURS
FROM (...
"
6870,58783,Substract 1 to a IP Adrress in SQL,"select concat(substring_index(ip, '.', 3),
              '.',
              substring_index(ip, '.', -1) -1
             ) as NewIP
"
780,11491,summarize initial column mysql,"select malecount+femalecount as sumcount from  (select
count(if(gender=""male"",1,null)) as malecount,  
 count(if(gender=""female"",1,null)) as femalecount   from biodata) as
 query
"
26966,52265,Identify valid IP from a set of column values,"where REGEXP_SIMILAR (int_cust_ip_addr, '^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$') = 1
"
31139,62778,Insert missing records based on master record in same table,"INSERT INTO
  priceRule
SELECT
  user.id,
  parentPriceRule.product_id,
  parentPriceRule.price
FROM
  user
LEFT JOIN
  priceRule    AS parentPriceRule
    ON  parentPriceRule.user_id = user.belongs_to_id
LEFT JOIN
  priceRule    AS myPriceRule
    ON  myPriceRule.user_id     = user.id
    AND myPriceRule.product_id  = parentPriceRule.product_id
WHERE
  myPriceRule.id IS NULL
"
21930,45568,Group Rows with different values and rename it,"select
  (case
    when dept like 'Car%' then 'Car'
    when dept in ('MC1', ...) then 'MC' 
    when ...
   end case) dept,
  sum(...),
  sum(...)
from ...
group by
  (case
    when dept like 'Car%' then 'Car'
    when dept in ('MC1', ...) then 'MC' 
    when ...
   end case)
"
7361,62360,Query sql with two table in one and show the counting the total number,"SELECT movie.celeb, movieCount, albumCount 
FROM 
  (SELECT celeb, count(1) movieCount 
   FROM star GROUP BY celeb) movie INNER JOIN
  (SELECT celeb, count(1) albumCount 
   FROM releases GROUP BY celeb) album ON movie.celeb=album.celeb
"
9601,48981,Counting rows in multiple tables cause large delay,"SELECT 
  (SELECT COUNT(*) FROM categories), 
  (SELECT COUNT(*) FROM serverfuncs), 
  (SELECT COUNT(*) FROM clientfuncs);
"
12630,55701,SQL: Creating table with Enum-like attribute that is one of only several types,"CREATE TABLE Rental (
       status char(6),
       date datetime,
       id int PRIMARY KEY
);

alter table Rental 
  add constraint status_valid_value
  check (status is null or (status in ('open','closed')));
"
13129,53644,sql returning no rows selected,"select ur.uno, count(q.eno)*5
  from userresponse ur
       left outer join question q
         on(    ur.eno = q.eno 
            and q.correctanswer = ur.response 
            and q.qno = ur.qno 
            and q.eno = '1')
where ur.uno = '1' 
group by ur.uno
"
28461,52563,creating a calculated column using SQL COUNT,"SELECT workername, closedCalls, totalCalls - closedCalss AS openCalls
FROM   (SELECT   workername, COUNT(closeddate) AS closedcalls, COUNT(*) totalCalls
        FROM     mybanksupport
        GROUP BY workername) t
"
14007,49591,SQL retrieval from tables,"  SELECT *
    FROM table
   WHERE EMPLOYEE_ID = ?? AND DTL_ID = ??
UNION
  SELECT *
    FROM table
   WHERE EMPLOYEE_ID = ?? AND DTL_ID = 0
     AND NOT EXISTS (SELECT *
                       FROM table
                      WHERE EMPLOYEE_ID = ?? AND DTL_ID = ??)
"
37580,38708,creating new column from existing column using t-sql,"select
    projectnum,
    allw,
    budjet,
    substring(projectnum, 1, 3)
        + '-'
        + substring(projectnum, 7, 3)
        + case
            when len(projectnum) = 10
            then '-' + substring(projectnum, len(projectnum) - 1, 1) end
        as project_code

into
    new_table

from
    old_table
"
23006,37137,How to construct this query? (Ordering by COUNT() and joining with users table),"SELECT u.user,
COUNT(s.score) as WINS
FROM users u INNER JOIN scores s
     ON u.user_id = s.user_id 
WHERE s.score = 1
GROUP BY u.user_id (and any other columns you need from the user table)
ORDER BY WINS
"
24490,35734,Updating duplicate column with value,"with NT as  (
select 
  ID,
  Row_Number() over (PARTITION BY RedirectLink ORDER BY ID)-1 as Nr
from Table1
)
update T  
  set T.RedirectLink = T.RedirectLink + '_' + cast(NT.Nr as varchar)
FROM Table1 T
JOIN NT ON (NT.ID = T.ID)
where Nr>0
"
33566,16094,How to return new line in SQL Server 2008,"SELECT 'SELECT * ' + char(13) + char(10) + 'FROM LIFE'
"
5140,74271,How to select the data by unicode where condition?,"    GetDataByChinese_Name(@""你好"");
"
8760,2083,SQL CASE or not?,"select nhi ,sum(case when length='dna' then 1 else 0 end) dna_count 
from table 
group by nhi  
having sum(case when length='dna' then 1 else 0 end)>3;
"
30275,30160,SQL server 2005 showing unique values and not showing anything duplicating,"SELECT SerialNumber, ModelNumber, Date, CustomerName
FROM (SELECT pft.*,
             count(*) over (partition by SerialNumber) as cnt
      FROM PreQcFormTable pft
      WHERE Date BETWEEN '2014-02-14' AND '2014-03-05' AND
            ProductOrigin = 'P'
     ) t
WHERE cnt = 1 AND
      FailCodes = '';
"
36445,67201,SQL Server 2008 query 1 row date convert into column,"SELECT U.UnitID as UnitID, U.Name as Unit
FROM Product PR inner join
     Unit U
     on U.UnitID in (PR.BaseUnitID, PR.SecondaryUnitID, PR.PrimaryUnitID)
where Productid = 1;
"
38662,71598,SQL command to clear specific text,"USE Server 
SELECT 
  firstName AS EmployeeFirstname
, lastName AS EmployeeLastname
, title AS EmployeeTitle
, id AS EmployeeID
, 
  Case 
  When emailAddress Like '%@mycompany.com' 
      Then  emailAddress
  Else Null
  End AS EmployeeEmailAddress 
FROM db.Information 
WHERE ISNUMERIC(id)<> 0 
  AND empStatus = 'A'
"
17363,40338,comparing a row and including the null,"where [column] not like '[cd]%' or [column] is null
"
18264,20728,select columns from different tables with different data type columns,"select Distinct a.Sequence, b.RELEASED_TITLE
from IncludedIn a inner join FinishedTrack b
 on a.OriginatesFrom = b.IIOriginatesFrom 
 Inner join CdInfo c on a.IIALBUM_ID = c.ALBUM_ID
Order By a.Sequence
"
6399,8677,Trying to use subquery to get row count from another table,"SELECT e.id, e.name, e.description,
       (SELECT count(*)  FROM day d WHERE d.event_id = e.id) AS days 
FROM event e;
"
20882,34131,How to query 2 identical SQL Server databases on different server machines,"SELECT ABC.Pays FROM SR1.DB1.SC1.Tbl1 ABC
UNION ALL
SELECT DEF.Pays FROM SR2.DB1.SC1.Tbl1 DEF
"
18184,4243,SQL Query to show multiple entries and its count,"select col1, col2, count(*)
from yourTable
group by col1, col2
having count(*) > 1
"
32329,64488,Creating SQL queries and algebraic expression from text,"SELECT LoanAccs.name
, Department.depAdress
, book.author
, book.title
LEFT OUTER JOIN LoanedBooks 
  ON loanAccs.loanAcc = loanedBooks.loanAcc
LEFT OUTER JOIN Department 
  ON loanAccs.depCode = department.DepCode
LEFT OUTER JOIN Book 
  ON loanedBooks.ISBN = books.ISBN
WHERE DATEDIFF(dd, CURRENT_DATE, loanedbooks.returndate) <= 28
ORDER BY depAdress, depCode, name desc
"
15539,73097,SQL sub query to retrieve total cost for each hotel,"SELECT H.hotelName, SUM(R.roomPrice) as 'Room Price'
FROM hotel H
JOIN room R
ON H.hotelNo = R.hotelNo
GROUP BY H.hotelNo;
"
29379,1274,SQL - Compute difference between two rows and put in another column,"UPDATE TableA AS a
JOIN TableA b 
  ON a.`Source` = b.`Source` AND a.`Date` > b.`Date`
LEFT JOIN TableA c
  ON a.`Source` = c.`Source` AND a.`Date` > c.`Date` AND c.`Date` > b.`Date`
SET a.`new fans` = a.`fans` - b.`fans`
WHERE c.`Date` IS NULL
"
35655,552,ORACLE SQL: Show the lowest salary in the department with the highest average salary,"SELECT MINIMUM_SALARY,DEPARTMENT_ID
FROM
(
 SELECT AVG(SALARY) AS AVERAGE_SALARY,
        MIN(SALARY) AS MINIMUM_SALARY,
        DEPARTMENT_ID
  FROM EMPLOYEES
 GROUP BY DEPARTMENT_ID
)EMPLOYEE_AGGREGATED
WHERE
    AVERAGE_SALARY = (SELECT MAX(AVG(SALARY)) FROM EMPLOYEES GROUP BY DEPARTMENT_ID)
"
15460,20324,"Select from tables, where the table names are stored in another table","DECLARE   @SQL AS VARCHAR(MAX);

SELECT    @SQL = COALESCE(@SQL + ' ', '') +
          'SELECT * FROM ' + TableName +
          CASE
            WHEN TableName = MAX(TableName) OVER () THEN ''
            ELSE ' UNION ALL '
          END
FROM      TableNames;

EXEC(@SQL);
"
21754,74947,"Oracle: I need a ""partial"" outer join. Look at the image","SELECT
   COALESCE(a.master,b.master) master,
   a.ColA,
   b.ColB
FROM
  a FULL OUTER JOIN B
  ON a.master = b.master
     AND (a.ColA = b.ColB 
          or a.ColA is Null
          or b.ColB is Null)
ORDER BY 
    COALESCE(a.master,b.master),
    COALESCE(a.cola,b.colB)
"
24088,24611,Updating database row for a group of people,"update tblCustomer 
set IsHappy = 1 
where country = 1 
  and firstname in ('ian', 'bob', 'sam', 'joe')
"
21907,60333,Get TOP rows out of child table WITH inner join,"SELECT P.PARENTID FROM PARENT P 
WHERE EXISTS (SELECT 1  FROM CHILD C 
WHERE C.PARENTID = P.PARENTID 
AND C.ISACTIVE = 1)
"
5155,45016,Cannot getting Correct query,"select  1.0 * data / sum(data) over ()
from    tableName
"
13871,41454,Rotate/Generate table in Oracle,"select * from 
table1
pivot
(
   max(""Value"")
  for ""Machine"" in ('M1', 'M2')
      )
"
26909,28758,"Add milliseconds to date in SQL, not seconds","SELECT ADD_SECONDS (TO_TIMESTAMP('2014-04-10 09:11:45'), 0.1) FROM DUMMY  
"
26445,5583,Selecting rows where a column contains at least one character not in a whitelist,"select top 10 foo
from bar
where foo like '%[^A-Z0-9]%'
"
28872,15795,database - retrieve results for unused positions,"SELECT * 
FROM POSITION 
WHERE NOT EXISTS (SELECT 1
                  FROM OFFICER 
                  WHERE OrganizationID = '2016-02081-0' AND 
                        OFFICER.PosID = POSITION.PosID);
"
16990,3793,SQL to insert into table variable from another table with aggregate function?,"select * from 
(
select foreign_serial_num, msg_id, data_value, timestamp 
     , row_number() over (partition by oreign_serial_num, msg_id order by timestamp desc) as rn 
  from external_data
) ordered 
where ordered.rn = 1
"
19760,33657,Pivot - How would i do this?,"select productid,
       sum(IsProcess * Yield) ProcessYield,
       sum(IsCosmetic * Yield) CosmeticYield
from myTable
group by productid
"
9703,44829,MySQL trigger. How to store each row of data in table for a limited time?,"create view v_table
    select *
    from table
    where createdat >= now() - interval 1 minute;
"
32530,22179,"SQL joining two tables, null same result","SELECT
   CASE WHEN (
     T1.Field1 = T2.Field1 OR (T1.Field1 IS NULL AND T2.Field1 IS NULL)
   ) THEN NULL ELSE T2.Field1 END AS Field1,
   CASE WHEN (
     T1.Field2 = T2.Field2 OR (T1.Field2 IS NULL AND T2.Field2 IS NULL)
   ) THEN NULL ELSE T2.Field1 END AS Field2
/** and so on **/
FROM
  Table1 T1
  FULL OUTER JOIN Table2 T2
    ON T1.JoinField = T2.JoinField
"
5875,68479,Drilling down date span with ColdFusion or SQL,"AND dte_vouch_start <= #myDate# AND dte_vouch_expiry >= #myDate#
"
15035,42535,Why my strings can't be sorted like i want when i insert values from textview?,"Cursor cursor = sqLiteDatabase.query(MYDATABASE_TABLE, columns, 
        null, null, null, null, ""CAST("" + KEY_CONTENT + "" as integer) desc"");
"
27714,75543,Filtering data with from statement,"SELECT 
    FK_ID
FROM MYTABLE
WHERE NUMBER = 0
GROUP BY FK_ID
HAVING COUNT(*) >= 2;
"
15238,5058,Query the id and number of times hired for DVDs hired in a month,"select dvdID as 'unique number', count(*) as 'times hired' 
from MonthlyRental 
where month(dateHired) = 8 
group by dvdId
"
31356,31498,db2 sql left join table help,"select 
t1.id as ID,
sum(case when t2.field1 = 1102 then (t2.field3 - t2.field2) end) as A,
sum(case when t2.field1 = 1112 then (t2.field3 - t2.field2) end) as B,
sum(case when t2.field1 = 1113 then (t2.field3 - t2.field2) end) as C,
sum(case when t2.field1 = 1106 then (t2.field3 - t2.field2) end) as D 
from table1 t1
left join table2 t2 on t1.id = t2.id
group by 1;
"
25071,75337,SQL GROUPING on 2 fields to get the min value,";with cte as
(
  select id, type_id, value, sort_order,
    rn = row_number() over(partition by id order by type_id, sort_order)
  from yourtable
)
select id, type_id, value, sort_order
from cte
where rn = 1
"
12436,57420,"Sql, Subquery into a LIKE() operator","SELECT * FROM users u WHERE u.user_name LIKE (select '%arthur%' from dual);
"
13521,9432,Hive Nested Group By,"select id, speed, min(time), max(time)
from (select t.*,
             (row_number() over (partition by id order by time) -
              row_number() over (partition by id, speed order by time)
             ) as grp
      from table t
     ) t
where speed = 0
group by id, speed, grp;
"
25453,17349,Find duplicate records in exist database table,"select col1. col2
from your_table
group by col1, col2
having count(*) > 1
"
24933,20804,How can I write a query with unwated spaces in my text?,"replace(columnToSearch,'  ',' ') 
"
8016,42449,query to find the cases of cholera by age,"SELECT id, schoolid, sex, age, diagnose FROM tbl_1 WHERE diagnose = 'Cholera'
UNION ALL
SELECT id, patientid, sex, age, diagnose  FROM tbl_2 WHERE diagnose = 'Cholera'
ORDER BY age, sex;
"
16485,19978,how to handle mysql tables with same id,"Student(id,name,mail,password)
Article(id,art_name,description)
"
27173,15302,max value of no autonincrement column in update query - Oracle,"INSERT INTO mytable (mykeycolumn,col1,col2) VALUES
 ((SELECT MAX(mykeycolumn)+1 FROM mytable),'val1','val2');
"
7980,9619,MySQL syntax for Join Update,"UPDATE Reservations r JOIN Train t ON (r.Train = t.TrainID)
SET t.Capacity = t.Capacity + r.NoSeats
WHERE r.ReservationID = ?;
"
17439,63732,"Interleaving the rows of two different SQL tables, sorting by date","select created_at, 'a' as tab_name from table_a 
union all
select created_at, 'b' as tab_name from table_b
order by created_at
"
6654,56089,How to aggregate the daily temperature data into weekly data?,"SELECT city, to_char(day,'iw'), max(high), min(low), sum(NVL(count,0)),
       max(first) keep (dense_rank first order by day) as first,
       max(last) keep (dense_rank last order by day) as last
FROM dailyX
WHERE day > to_date(20140101,'YYYYMMDD')
GROUP BY city, to_char(day,'iw');
"
30248,27116,SQL Integrity Constraint VarChar Comparison,"CREATE TABLE User
(
    UNAME VARCHAR(100),
    FNAME VARCHAR(100),
    LNAME VARCHAR(100),
    CONSTRAINT CHECK_USERS 
        CHECK(INSTR(UNAME, FNAME) = 0 AND INSTR(UNAME, LNAME) = 0)
)
"
23844,72792,Doubles in MySQL Query,"SELECT Users.full_name
FROM Users
INNER JOIN profiles
ON profiles.user_id = users.id
WHERE profiles.zipcode = '$ZIPCODE' 
ORDER BY users.full_name ASC
"
33023,57643,ruby on rails scope for date and time query,"scope :recent_flag, -> { where(product.created_at > 40.days.ago)}
"
36918,27227,Anyone advise about SQL queries and grouping 15 min interval data in to days?,"SELECT YEAR(BeginTimePeriodDT), 
       MONTH(BeginTimePeriodDT), 
       DAY(BeginTimePeriodDT), 
       User_ID, 
       SUM(TotalLoginTime)
FROM MyTable
GROUP BY YEAR(BeginTimePeriodDT), 
         MONTH(BeginTimePeriodDT), 
         DAY(BeginTimePeriodDT), 
         User_ID
"
24234,180,Two select statements in stored procedure,"select 
    car.Brand, 
    car.model, 
    car.Color, 
    car.AdministrationNo, 
    car.InsuranceNo, 
    car.RegistrationExp,
    Administration.City
from Car
left join Administration
    ON Administration.AdministrationNo = Car.AdministrationNo
where car.PlateNo = xxx
"
13888,5723,sql with set difference capability,"Select  e.*
From    employee    e
Where Not Exists
(
    Select  1
    From    employee_roles  r
    Where   r.employee_id = e.employee_id
    And     r.role_id = 5330
)
"
32492,29566,"In SQL in a ""group by"" expression: how to get the string that occurs most often in a group?","select A, B
from (
  select A, B, ROW_NUMBER() OVER (PARTITION BY A ORDER BY C_B DESC) as rn
  from (
     select A, COUNT (B) as C_B, B
     from table
     group by A, B
  ) count_table
) order_table
where rn = 1;
"
36089,45323,how to join three tables and retrieve selected columns from the three tables and in oracle?,"select cu.cust_id, cu.cust_name, ci.location
  from cinema ci
  join booking b
    on ci.c_id = b.c_id
  join customer cu
    on b.cust_id = cu.cust_id
 where ci.location <> 'Paris'
"
30761,27822,how to print some letters from a string in sql server,"SELECT SUBSTRING(name,2,2) AS ShortComp FROM table;
"
38783,38439,Order by date a select query on UNION ALL,"SELECT id, date, text
FROM (SELECT id, date, text, 1 AS priority
      FROM timeline
      UNION ALL
      SELECT *, 2 AS priority
      FROM reps) u
ORDER BY priority, date DESC
"
16675,32697,How to extract substrings from strings in Oracle with PL/SQL?,"FOR idx IN 1..(LENGTH(w)-NgramLen+1)
  LOOP
    -- do what you want here
    DBMS_OUTPUT.PUT_LINE(SUBSTR(w,idx,NgramLen));
  END LOOP;
"
20012,59300,Multiple inner joins or multiple queries?,"SELECT games.id, games.title, 
        GROUP_CONCAT(DISTINCT dc.name) AS developers,
        GROUP_CONCAT(DISTINCT pc.name) AS publishers
INNER JOIN game_developer ON game_developer.games_id = games.id
INNER JOIN companies AS dc ON dc.id = game_developer.companies_id
INNER JOIN game_publisher AS gp ON gp.games_id = games.id
INNER JOIN companies AS dp ON dp.id = gp.companies_id
GROUP BY games.id
ORDER BY games.title
LIMIT 50
"
4024,10523,Not able to fetch records by Date from database,"Select * from table t1 
where t1.date between '20160511 00:00:00' and '20160513 23:59:59';

select * from table t1 where cast(t1.date as date) IN ('20160511');
"
14228,45832,How to substract the results of queries from each other?,"select l1.name
from table_1 l1
where not exists (select 1 from table_2 l2 where l2.name = l1.name) and
      not exists (select 1 from table_3 l3 where l3.name = l1.name);
"
19674,12229,oracle: How to get the latest changed record matching conditions,"select id, code
  from (select id,
               code,
               row_number() over (
                 partition by id 
                     order by last_upd_date desc) as rn
          from tbl
         where is_current = 'CURRENT'
           and org = 'E')
 where rn = 1
"
34132,68124,Get Unique Results in a query,"SELECT t.idMain, sub_t.minSecondary, t.textValue
FROM   your_table t
JOIN   (SELECT   idMain, MIN(idSecondary) minSecondary
        FROM     your_table
        GROUP BY idMain) sub_t ON (sub_t.idMain = t.idMain);
"
2399,37178,Grouping by and counting but retrieve only one column,"SELECT product_id
FROM accounts_products
GROUP BY product_id
ORDER BY COUNT(*) DESC
LIMIT 1
"
39741,29257,Which tags are not in the database?,"
SELECT  Tag
FROM    UserSpecifiedTags
  LEFT OUTER JOIN AllTags ON UserSpecifiedTags.Tag = AllTags.Tag
WHERE   AllTags.Tag IS NULL
"
27973,54084,using dynamic IN clause in MSSQL,"  DECLARE   @Status nVARCHAR(400),
            @SQL nvarchar(500)

SET @status = '''Closed'''+','+'''OPEN'''
set @SQL = '
select * from [MYTABLE] where status in('+@status +')'

 exec sp_executesql @SQL
GO
"
18941,64420,Indexing SQL for Between query with only one match?,"select * from table1 where Col1 = 
    (select max(Col1) from table1 where Col1 <= 8)
and Col2 = 
    (select min(Col2) from table1 where Col2 >= 8)
"
30513,47954,Can I combine ten similar SQL queries to one?,"SELECT ji.issuestatus, cf.ID AS customfield_id, ROUND(SUM(cfv.NUMBERVALUE),0) AS mysum
FROM
    jissue ji CROSS JOIN customfield cf
    LEFT JOIN customfieldvalue cfv ON cfv.ISSUE=ji.ID AND cfv.customfield=cf.ID
WHERE
    ji.pkey LIKE '%PB-%'
    AND ji.issuestatus IN (10127,10128,10129,10130,10131)
    AND cf.ID IN IN (11381, 11382)
GROUP BY ji.issuestatus, cf.ID;
"
8081,61187,how to represent one-to-one relationship in db design?,"Laptop
-------------
LaptopId (PK)
...

LCD
-------------
LCDId (PK)
LaptopId (FK, Non-null, Unique constraint)
"
33108,18159,"SQL, AND, OR in one statement","SELECT * 
FROM  `users` 
WHERE (
   fname LIKE  '%Toms%'
   OR lname LIKE  '%Toms%'
)
AND (
   bDate < ""1991-12-03""
   AND regDate > ""2000-12-03""
   AND lastActivity > ""2000-12-03""
)
LIMIT 0 , 30
"
9653,68850,SQL Count multiple columns based,"SELECT 
    M.Machine_ID, 
    M.Machine_Name, 
    COUNT(CASE WHEN E.Event_ID='1' THEN 1 ELSE NULL END) AS Event1,
    COUNT(CASE WHEN E.Event_ID='2' THEN 1 ELSE NULL END) AS Event2
FROM Machines M 
    JOIN Events E 
    ON M.Machine_ID = E.Machine_ID
GROUP BY M.Machine_ID, M.Machine_Name
"
32352,31546,sql update in the same table based on quantities,"update the_table t1
   set value = (select value 
                from the_table t2
                where quantity < 0
                  and t2.id = t1.id)
where quantity > 0
  and id = 'id1';
"
2280,8617,How do I Remove an entry which is more than 30 seconds old And has null value,"select * from dbo.ONE where LastLogin is NULL and  
                            datediff(ss,regdate,GetDate())<30
"
32698,53496,reluctant quantifier using oracle regexp,"regexp_replace('''val1'',''val2''','(''.*?'')','upper(\1)')
"
35417,16318,Resetting a variable within subquery,"  SELECT t.*,
         (@i := if(@c = column, @i + 1,
                   if(@c := column, 1, 1)
                  )
         ) as rank
  FROM table t CROSS JOIN
       (SELECT @i := 0, @c := '') params
  ORDER BY column, time;
"
7,14228,Split column which have two or three word by space in oracle sql,"select trim(substr(legacy, 1 - instr(reverse(legacy), ' '))) as surname,
       trim(substr(legacy, 1, length(legacy) - instr(reverse(legacy), ' '))) as restname
"
10887,17200,How to Append/Updated records in SQL Server Virtual Table?,"select A.IdentifyingNumber as IdentifyingNumberL, A.Included as IncludedL,
       B.IdentifyingNumber as IdentifyingNumberR, B.Included as IncludedR from
(
    select  ROW_NUMBER() OVER(ORDER BY IdentifyingNumber) AS Row,
            IdentifyingNumber, Included
    from @EntityList  where Included=0
) 
A
full outer join 
(
    select ROW_NUMBER() OVER(ORDER BY IdentifyingNumber) AS Row,
           IdentifyingNumber,Included from @EntityList  where Included=1
)B
 on A.Row=B.Row
"
34301,55719,Wordpress single database connection,"define( 'WP_USE_THEMES', false );
require( '/path/to/your/wordpress/root/directory/wp-blog-header.php' );
status_header( 200 );
"
26516,73232,SQL data type question,"CREATE TABLE agents (
    agent_id int PRIMARY KEY,
    ... more columns ...
);

CREATE TABLE customers (
    customer_id int PRIMARY KEY,
    agent_id int REFERENCES agents,
    ... more columns ...
);
"
7653,71589,SQL - Select by condition based on multiple rows,"select * from actions 
  join (
    select action_id,
      group_concat(name,'=',value order by name separator ',') as csv // MySQL
//    string_agg(name || '=' || value, ',' order by name) as csv // PostgreSQL
    from meta 
    where name in ('planet', 'object') 
    group by action_id
  ) meta 
  on actions.id = meta.action_id 
  where csv = 'object=building,planet=earth'
"
1507,44869,mysql optimize data content: multi column or simple column hash data,"SELECT
  package.id,
  user_id,
  package_name,
  date,
  package_content.*
FROM package
INNER JOIN package_content on package.id = package_content.id
WHERE whatever
ORDER BY whatever
"
26779,14666,Conditions with And Or statements,"$this->Model->find('all', array('conditions' => array('OR' => array(

              array('UserEntityVarchar.entity_id' => 1, 
              'EavAttribute.attribute_code' => 'firstname'),

              array('UserEntityVarchar.entity_id' => 1, 
              'EavAttribute.attribute_code' => 'lastname')))));
"
10072,30570,Need SQL query to list user's current and possible purchases,"declare @userId int;
set @userId = <your user ID>;

SELECT 
    p.ProgramId,
    (CASE WHEN g.ProgramID IS NULL THEN 0 ELSE 1 END) AS IsSubscribed

FROM Programs p
    LEFT OUTER JOIN Gateway g ON (g.ProgramID = p.ProgramID AND g.UserID = @userId) 
"
7736,10870,Select count of column grouped by another column SQL,"SELECT PC.Category_Name, Sum(P.Products_Inventory)
FROM Products_Category PC
   INNER JOIN Products P ON PC.ProductId = P.ProductId
GROUP BY PC.Category_Name
"
31939,31111,How can I find the MAX() of some column in a recursive situation?," contact_id     super_id     relationship
 1              10           Parent
 1              20           Grandparent
 10             20           Parent
"
37612,53308,How to move AND transform data in SQL?,"insert into NewTable (Decision)
select case Decision when 'N' then 0 when 'Y' then 1 else 2 end
from OldTable
"
34548,6287,How to see the sql query in cakephp,"echo $this->element('sql_dump');
"
15012,36432,SQL Group by attribute and show results if there is more than one in that group,"SELECT * FROM testing 
WHERE fruits IN (
  SELECT fruits FROM testing 
  GROUP BY fruits HAVING COUNT(*)>1
)
ORDER BY id
"
7037,49532,How to get the value of a row with Max aggregation function?,"SELECT c.comment, m.* 
FROM 
comments c 
JOIN
(
    SELECT t.match_id, max(t.timestampe) as maxtimestamp, count(t.match_id) as comments_no
    FROM comments t
    GROUP BY t.match_id
) m on c.match_id = m.match_id and c.timestampe = m.maxtimestamp
"
28639,44805,How can I round a date object to the end of the month in MySQL?,"SELECT LAST_DAY(DATE_ADD('2010-11-24', INTERVAL 3 YEAR))
"
25842,68679,Should my view be much slower than my stored proc?,"        WHERE     StoreID = @StoreID
"
25255,28557,Pivot table wording - SSMS 2012,"select SIMULATION, [USSIC Aviation], [Avemco Aviation], [Property], [Life]
from
(
  select SIMULATION, replace(PRODUCT,'_',' ') Product, value
  from  CM.CorrelationData
  where Product_Description='UW' 
) d
pivot
(
  min(Value)
  for PRODUCT in ([USSIC Aviation], [Avemco Aviation], [Property], [Life])
) piv
"
9533,5440,Using GROUP BY aggregating SUM on a calculated column,"SELECT sub.RecDate, Sum(sub.AdjYield) AS SumOfAdjYield
FROM
    (
        SELECT RecDate, Weight * YTD / (SELECT SUM(Weight) From Records 
        WHERE Class1=t2.Class1 AND Class2 = t2.Class2) as AdjYield
        From Records as t2
        WHERE Class1=""fi"" AND Class2=""ra""
    ) AS sub
GROUP BY sub.RecDate;
"
18547,20243,What is the best way to check for the existence of a Login in SQL Server 2005,"select * from master.sys.syslogins WHERE [name] ='loginname'
"
39896,51039,MySQL Query for Item List View with tags,"SELECT i.*
     , GROUP_CONCAT(tag_name) tags
  FROM items i
  JOIN items_tags_xref it
    ON it.item_id = i.item_id
  JOIN tags t
    ON t.tag_id = it.tag_id
 GROUP
    BY i.item_id;
"
39439,45864,Comparison Query to Compare Two SQL Server Tables,"SELECT 'Table1' AS TableName, name, lastname FROM
    Table1 OUTER JOIN Table2 ON Table1.name = Table2.name2 
                             AND Table1.lastname = Table2.lastname
WHERE Table2.name2 IS NULL
UNION
SELECT 'Table2' AS TableName, name2 as name, lastname2 as lastname FROM
    Table2 OUTER JOIN Table1 ON Table2.name2 = Table1.name 
                             AND Table2.lastname2 = Table1.lastname
WHERE Table1.name IS NULL
"
530,9564,Select All Columns From Table With 1 Distinct Column and a Where Condition,"SELECT b.* 
FROM yourTable b
INNER JOIN
  (SELECT MIN(VEH_ID) as minV,  GLASS_ID as g
   FROM yourTable
   GROUP BY GLASS_ID) as d
  ON b.Glass_ID = d.g and b.VEH_ID = d.minV
WHERE b.GLASS_ID LIKE  '%DB00%'
"
15468,11289,SQL Server parameter issue,"create dbo.MyProc (
    @Param int = 30;
)
. . . 
"
29380,69031,Atomic update column in SQL Server,"update top (1) table with (readpast)
set Column1=1
output inserted.*
where Column1 = 0
"
27060,63597,print SQL output in jade file,"res.render('index', {
  title: 'Home',
  rows: rows
});
"
3147,38076,Mathematical Function within Sql Case Statement,"DECLARE 
@Mileage NVARCHAR(75) = NULL,
@IsMiles BIT = 1,
@Converted NVARCHAR(75) = NULL

select a.* from 
(SELECT [Id],Odometer,IsMiles,
CASE when IsMiles=0 THEN OdometerValue * 0.62137 else Odometer end as ConvertedOdometer 
FROM [dbo].[Vehicle]
where IsMiles = 0)a
where a.ConvertedOdometer >=0 AND 
a.ConvertedOdometer <= @Mileage
"
28559,11814,Getting values of both status from a same field in mysql,"SELECT *
FROM `lead`
WHERE
   (`added_on` >= '$from' AND `added_on` <= '$to')
   AND `status` IN ('Hot', 'Paid')
"
27771,16518,MySQL : How do I select the next rows from ID,"select * 
from your_table 
where id > 5 
order by id asc limit 5
"
2647,14853,duplicate answers when predicate in more than one field SQL,"SELECT 
    a.*

FROM 
    addresses a
        JOIN
    individuals i
    ON a.AddressID = i.AddressID

GROUP BY
    a.StreetName, i.FirstName, i.Surname

HAVING
    COUNT(1) > 1
"
35347,11324,Returnable CONNECT BY PRIOR (SQL),"with tree as ( 
 SELECT t.name, t.id, t.parent, LEVEL lvl, connect_by_root(id) root
   FROM t
CONNECT BY PRIOR parent = id
  START WITH id IN (83, 98, 46, 43, 48)
), ordered_tree as (
 select name, 
        id, 
        parent,
        row_number() over (partition by id order by id) rn
   from tree 
  order by root, lvl desc
)
select name, id, parent
 from ordered_tree where rn = 1 
"
28826,52573,SQL - Multiple register conditions query,"SELECT  COMPANY, PROJECT
FROM    TABLE
GROUP   BY COMPANY, PROJECT
HAVING  MAX(TYPE) = MIN(TYPE) AND
        MAX(TYPE) = 'DUMMY'
"
17279,28452,"How to select ""From"" field with qualifier in sql server","SELECT t.[From] AS FromAddress 
FROM MyAddresses AS t
"
5772,54640,SQL Find Replacement Character as a part of a string,"DECLARE @TEST TABLE (ID INT, WORDS VARCHAR(10))

INSERT INTO @TEST VALUES (1, 'A�AA')
INSERT INTO @TEST VALUES (2, 'BBB')
INSERT INTO @TEST VALUES (3, 'CC�C')
INSERT INTO @TEST VALUES (4, 'DDD')

SELECT * FROM @TEST WHERE WORDS LIKE '%' + NCHAR(UNICODE('�')) + '%'

UPDATE @TEST
SET WORDS = REPLACE(WORDS, NCHAR(UNICODE('�')), 'X')

SELECT * FROM @TEST WHERE WORDS LIKE '%' + NCHAR(UNICODE('�')) + '%'
SELECT * FROM @TEST 
"
7076,21617,SQL attribute variant within the same statement,"SELECT k.location, l.description, h.parent,
       SUM(CASE WHEN k.status = 'ECCAPR' THEN 1 ELSE 0 END) as cnt_ECCAPR,
       SUM(CASE WHEN k.status = 'FSAPR' THEN 1 ELSE 0 END) as cnt_FSAPR
FROM KINDICENT k JOIN
     LOCATIONS l
     ON  k.location = l.location JOIN
     LOCHIERARCHY h
     ON l.location =  h.location    
GROUP BY k.location, l.description, h.parent
ORDER BY parent;
"
4048,7329,How to find the partition by ROWID in oracle?,"select *
from   dba_objects
where  data_object_id = dbms_rowid.rowid_object(ROWID_OF_THE_ROW)
"
7556,39183,Can not join more than two table,"SELECT a.id, a.title, b.title, c.title 
FROM table1 AS a 
INNER JOIN table2 AS b ON b.id = a.cat1_id 
INNER JOIN table3 AS c ON c.id = b.cat2_id 
ORDER BY a.id DESC
"
10615,69784,Reference data from another table,"ALTER TABLE Table_3
ADD CONSTRAINT my_name
CHECK
    (column_3 in 
        (SELECT Column_1 FROM Table_1))
"
16926,49050,Need help in generating Query,"select
    col1,
    col2,
    col3 = (
        select col3 + ','
        from TestTable
        for xml path('')
    )
from TestTable
group by col1, col2
"
36819,31933,Oracle: CASE equivalent of DECODE,"SELECT E1.last_name Boss,
    E2.last_name Subordinate
FROM Employee E1 FULL JOIN Employee E2
    ON E1.id = E2.boss_id
WHERE
    (CASE
    WHEN E1.ID is null THEN 'M' ELSE E1.sex END) = 'M' 
    AND
    (CASE 
    WHEN E2.ID is null THEN 'M' ELSE E2.sex END) = 'M';
"
8758,9615,Count number of distinct rows,"SELECT COUNT(DISTINCT PoliticianId) AS result
FROM Votes
WHERE UserId = 1010 ;
"
21058,72055,Firebird multiple statements,"Update stuff; Delete stuff; Update stuff;
"
19957,17868,Select and add result of multiplying two columns from table in MySQL,"SELECT project_id,
       Sum(rate * quantity) AS total_price
FROM   orders
WHERE  client_id = 1
GROUP  BY project_id 
"
27423,46846,Syntax for adding inverted commas in T-SQL using Visual Studio (SQL),"where ',' + @PostCode + ',' like '%,' + PCode + ',%'
"
19056,33013,Select unexist date yyyy/mm,"declare @StartDate date = cast(dateadd(month, -12, GetDate()) as date)
declare @EndDate date = cast(GetDate() as date)
declare @YMList TABLE (YYYYMM INT)

;with dates as (
    SELECT cast(@StartDate as Date) [date]
    UNION ALL
    SELECT DATEADD(month,1,t.date)
    FROM dates t
    WHERE t.[date] < @EndDate
)
insert @YMList (YYYYMM)
select 
    YEAR([Date]) * 100 + MONTH([Date]) AS YYYYMM
from dates
WHERE [Date] < @EndDate
OPTION (MAXRECURSION 10000)
"
15425,8310,How to generate script of a stored procedure based on modified date?,"   SELECT name , create_date, modify_date ,sm.definition FROM sys.procedures sp
   Inner join sys.sql_modules sm  ON sp.object_id = sm.object_id 
   WHERE CONVERT(DATE,sp.modify_date)    = CONVERT(DATE, '02/19/2013')
"
31666,35071,Removing specific value from SQL database,"UPDATE
    S
SET
    Column1 = CASE WHEN CHARINDEX('(', REVERSE(S.Column1)) > 0
        THEN REVERSE(RIGHT(REVERSE(S.Column1), LEN(S.Column1) - CHARINDEX('(', REVERSE(S.Column1))))
        ELSE S.Column1
    END 
FROM
    dbo.Source AS S;
"
24848,15433,"Get the most recent ""event"" for distinct items using an SQL query (MySQL database)","select r.id, r.computername, r.event, r.timestamp
from raw r
inner join (
    select max(id) as id
    from raw
    group by computerName
) as maxEventPerComputer on r.id = maxEventPerComputer.Id
"
9319,38872,Like Operator to retrieve the results,"Select * from Street where Street_Name like REPLACE('%Park Ave 10%',' ', '%') 
"
21354,4420,How to determine a query for a specific time interval in MySQL?,"SELECT COUNT(DISTINCT p.id) AS pictures,
       COUNT(DISTINCT m.id) AS songs,
       COUNT(DISTINCT l.id) AS likes,
       CAST(p.date_of_upload AS DATE) AS Posted
FROM pictures p LEFT JOIN
     music m
     ON p.id = m.pictures_id LEFT JOIN
     likes l
     ON p.id = l.pictures_id
WHERE p.date_of_upload > DATE_ADD(CURRENT_DATE(), INTERVAL - 14 DAY)
"
22546,75581,How to remove or alter the dbo prefix from SQL Server 2012 tables?,"IF (NOT EXISTS (SELECT * FROM sys.schemas WHERE name = 'MyDbo')) 
BEGIN
    EXEC ('CREATE SCHEMA [MyDbo] AUTHORIZATION [dbo]')
END

ALTER SCHEMA MyDbo 
    TRANSFER dbo.your_old_table
GO
"
12592,31845,SQL query to show most ordered product,"SELECT p.`product_id`, p.`name`, SUM(o.`quantity`) AS quantity
FROM `Order_Detail` AS o
    INNER JOIN `Product` AS p
    ON o.`product_id` = p.`product_id`
GROUP BY o.`product_id`
ORDER BY SUM(o.`quantity`) DESC, p.`name` ASC
LIMIT 3
"
5041,572,Aggregate continuous ranges of dates,"SELECT min(reserved_date) AS start_date
     , max(reserved_date) AS end_date
FROM  (
   SELECT reserved_date
        , reserved_date - row_number() OVER (ORDER BY reserved_date)::int AS grp
   FROM   reserved_dates
   ) sub 
GROUP  BY grp
ORDER  BY grp;
"
37336,38276,SQL Join Tables - 2nd newest entry to related main entry in other table,"SELECT post.ID,max(post.Title),max(post.Author),min(post.CreateDate),
min(comment.CreateDate),
datediff(mi,min(post.CreateDate),min(comment.CreateDate)) as 'first comment in minutes'
FROM Posts as post
INNER JOIN Comments as comments on post.ID = comment.PostID
where  comment.Type != 'initial'
group by post.id
"
24320,15061,Put Correct [Order] When inserting multiple ROWS?,"SELECT @BaseProductId, Id, Row_Number() OVER (ORDER BY ....),
@UserId, GETUTCDATE(), @UserID, GETUTCDATE() FROM @ImageIDs;
"
33915,8591,sql order by specific value in column and than order alphabetical the rest of the same column,"DECLARE @myTable TABLE([Fruits] VARCHAR(20))
INSERT INTO @myTable VALUES('Apple')
INSERT INTO @myTable VALUES('Pear')
INSERT INTO @myTable VALUES('Peach')
INSERT INTO @myTable VALUES('Plum')
INSERT INTO @myTable VALUES('Grape')

SELECT * 
FROM @myTable
ORDER BY
    CASE WHEN([Fruits] = 'Grape') THEN 0 ELSE 1 END,
    [Fruits]
"
38118,1854,SQL Combine two tables in select statement,"SELECT StuffYouWant
FROM (SELECT *
      FROM TableA
      UNION  ALL
      SELECT *
      FROM TableB) c
"
2498,61116,How to use two aggregations from one table to calculate a metric in oracle SQL,"SELECT ITEM, STORE,
    SUM(CASE WHEN REASON = 183 THEN QUANTITY ELSE 0 END)-
    SUM(CASE WHEN REASON = 182 THEN QUANTITY ELSE 0 END)
FROM TRANSACTION
GROUP BY ITEM, STORE
"
4692,64514,"SQL join tables, total spent by all customers","SELECT c.custId, c.firstname, SUM(i.unitcost*li.quantity) total_spent
FROM customers c
    JOIN orders o ON c.custId = o.custId
    JOIN lineitems li ON o.orderId = li.orderId
    JOIN items i ON li.itemId = i.itemId
GROUP BY c.custId, c.firstname
HAVING COUNT(DISTINCT o.orderID)>1
LIMIT 0,30
"
6445,23367,Retrieve records using SQL Query,"SELECT 
   *
FROM 
   undefined_table_name
GROUP BY 
   image_type 
ORDER BY
   image_type ASC;
"
33971,27261,Struggling with a simple SQL JOIN,"select u.ufn,
       u.uln,
       u.ue,
       t.unit,
       t.address
from   users u
inner join (
            select uid, 
                   max(start_date) as newest_start_date
            from transactions
            group by uid) x
on u.uid = x.uid
inner join transactions t
on t.start_Date = x.newest_start_date
and t.uid = u.uid
"
3748,32425,SQL - Space/blank character code,"SELECT name
CASE 
   WHEN ' ' || name || ' ' LIKE '% N %' THEN 'Red'
   WHEN ' ' || name || ' ' LIKE '% B %' THEN 'White'
   WHEN ' ' || name || ' ' LIKE '% RS %' THEN 'Green'
   ELSE 'Other'
END 
FROM mytable
"
18067,59019,How to add conflict replace for this table in sqlite?,"...
UNIQUE (UserID, IsType) ON CONFLICT REPLACE
"
27066,40678,SQL use rows as columns,"SELECT Date,
       MIN(CASE WHEN Product = 'P1' THEN Sold END) AS ""P1"",
       MIN(CASE WHEN Product = 'P2' THEN Sold END) AS ""P2"",
       MIN(CASE WHEN Product = 'P3' THEN Sold END) AS ""P3""
  FROM ___insert_table_name_here___
 GROUP
    BY Date
;
"
23211,66516,Select Update statement in oracle range selection,"UPDATE someTable
   SET yourField = <SOME-VALUE>
 WHERE emp_id = emp_id_in
   AND some_date BETWEEN TO_DATE('9/3/2011', 'MM/DD/RRRR') AND TO_DATE('9/6/2011', 'MM/DD/RRRR')
"
12904,20822,How to replace percent (%) character,"UPDATE MPOLITICAS SET NOM_POLITICA =  REPLACE(NOM_POLITICA, '%' , ' PERCENT');
"
20759,29771,SQL One row that has multiple joins from different columns,"Select m.Description, st.Description 
FROM BaseTable bt 
LEFT JOIN Mapping m where m.toID = bt.id
LEFT JOIN BaseTable bt2 where m.FromID = bt2.id,
inner join SubTypeTable stt on bt2.subTypeID = stt.id
"
33776,46764,list of users and roles that have permissions to an object (table) in SQL,"select permission_name, state_desc, type_desc, U.name, OBJECT_NAME(major_id) 
from sys.database_permissions P 
JOIN sys.tables T ON P.major_id = T.object_id 
JOIN sysusers U ON U.uid = P.grantee_principal_id
"
30321,11260,Compare two tables and extract missing element per date,"select
    d.datePlaying, p.namePlayer
from
    table2 p
cross join 
    (select distinct datePlaying from table1) d
left join
    table1 t on t.idPlayer = p.idPlayer and t.datePlaying = d.datePlaying
where
    t.idPlayer is null
"
27649,32407,Find Users with consecutive leaves,"select userid
from (select t.*, 
             dateadd(d, -seqnum, t.date) as diff
      from (select t.*, row_number() over (partition by userid order by date) as seqnum
            from t
            where datediff(d, t.date, getdate()) <= 30 and leave = 'Y'
           ) t
     ) t
group by userid, diff
having count(*) > 1
"
219,38474,"Price plan, feedback on database design","    phoneplan_id (P)
    phone_id (F)
    package_id (F)
    point
"
807,66831,inner join same table,"select user.user_fname
      ,user.user_lname
      ,parent.user_fname
      ,parent.user_lname
  from users as user
  join users as parent on parent.user_id = user.user_parent_id
 where user.user_id = $_GET[id]
"
39318,40360,Picking out respective serviceID for MAX() SQL SERVER- Row_number()?,"select a.*
from (select a.*,
             row_number() over (partition by Customer_nr order by [Months left till service expiry] desc) as seqnum
      from a
     ) a
where seqnum = 1;
"
299,20066,Database related query,"UPDATE employee 
SET Salary=
CASE WHEN Salary < 10000 THEN Salary + 500
CASE WHEN Salary >= 10000 and Salary < 20000  then Salary+600
CASE WHEN Salary >= 20000 and Salary < 30000  then Salary+700
ELSE Salary END
"
28809,16484,Return Character from Numeric Field using Cast & Coalesce,"select 
case 
 when isnull (ff.ff_sales,aa.ff_sales) is null then '---' 
 else cast(isnull (ff.ff_sales,aa.ff_sales) as varchar) 
end as 'Total Revenue'
"
12875,70471,How to find rows that has values that exists with criteria 'a' in a table but does not exist with criteria 'b'?,"SELECT No
FROM
  ( SELECT No, MAX(Field1) AS MaxField1
    FROM tableX
    GROUP BY No, Type
  ) AS tmp
GROUP BY No
HAVING MIN(MaxField1) > 0 ;
"
33136,15089,Call procedure in mysql,"UPDATE f
SET f_status = 0
WHERE ( f_userid1 = @userid1 AND f_userid2 = @userid2 )
   OR ( f_userid1 = @userid2 AND f_userid2 = @userid1 );
"
13970,668,How can i merge duplicate rows in SQL with an special condition,"SELECT
    ROW_NUMBER() OVER(ORDER BY (SELECT NULL)) AS Id,
    *
FROM (
    SELECT DISTINCT Word,
        STUFF((SELECT ',' + description
               FROM Your_Table
               WHERE Word = T.Word
               FOR XML PATH('')), 1, 1, '') AS description
    FROM Your_Table T) AS A
"
13840,53454,Query to search multiple columns,"declare @city nvarchar(50) = 'mm',
        @state nvarchar(50) = 'ap'

Select *
From (Select *
    from YourTable
    Where city = @city or state = @state
    )z
order by Case When city = @city and state = @state Then 1
              When City = @city then 2
              Else 3
          end
"
30041,11426,How can I add a GUID column in SSIS from a Flat File source before importing to a SQL Table?,"Imports System
Imports System.Data
Imports System.Math
Imports Microsoft.SqlServer.Dts.Pipeline.Wrapper
Imports Microsoft.SqlServer.Dts.Runtime.Wrapper

<microsoft.sqlserver.dts.pipeline.ssisscriptcomponententrypointattribute> _
<clscompliant(false)> _
Public Class ScriptMain
    Inherits UserComponent

    Public Overrides Sub Input0_ProcessInputRow(ByVal Row As Input0Buffer)
        ' Create a Globally Unique Identifier with SSIS
        Row.Guid = System.Guid.NewGuid()
    End Sub
End Class
"
10261,19649,How to keep a rolling counter on unique dates in SQL? (ORACLE),"SELECT Customer, Date, Row_Number() Over (Partition By Customer Order By Date) RN
FROM YourTable
ORDER BY Customer, Date
"
33841,42607,SQL server determine which row was inserted?,"DECLARE @output TABLE (id int)

Insert into A (fname, lname)
OUTPUT inserted.ID INTO @output
SELECT fname, lname FROM B

select * from @output
"
19700,66294,printing rank of a player and his(her) neighbors,"WITH ranking AS
(
  SELECT *,
         RANK() OVER (ORDER BY score DESC) userRank
  FROM   TableName  
)
SELECT *
FROM   ranking
WHERE  userRank BETWEEN
        (SELECT userRank - 1 FROM ranking WHERE userID = 'bbb') AND
        (SELECT userRank + 1 FROM ranking WHERE userID = 'bbb')
"
22962,34010,oracle - getting 1 or 0 records based on the number of occurrences of a non-unique field,"select n_rec, my_field
from (select n_rec, my_field
        , count(*) over (partition by my_field) as Counter
    from myTable
    where my_field = ?)
where Counter = 1
"
30872,10190,How to properly write a SET DATE,"DECLARE @FiscalYear INT = 2014,
        @fyLowerBound DATE;

SET @fyLowerBound = CAST(CAST((@FiscalYear - 1) AS CHAR(4)) + '1001' AS DATE)

SELECT  @fyLowerBound;
"
10847,69264,SQLPlus column width,"COLUMN number_column FORMAT 999999999999999
"
35408,48274,Is it possible to get the sum while executing a join?,"select id, p1.value as company, p2.value as budget,
       sum(p2.value) over (partition by p1.value) as CompanyBudget
FROM  process p
LEFT JOIN Param p1 on p1.ID = p.ID AND p1.NAME = 'Company'
LEFT JOIN Param p2 ON p2.ID = p.ID AND p2.NAME = 'Budget'
where type = 'Authorization';
"
5353,3556,SQL Server 2012 - Sales Summary with best day marker,"case when DailyNet = max(DailyNet) over(partition by TillID) then 'Yes' else 'No'
"
4110,54233,Cannot create SQL Encryption Key,"USE master;
GO
CREATE MASTER KEY ENCRYPTION BY PASSWORD = '5tr0ngP@ssW0rd'
GO

OPEN MASTER KEY DECRYPTION BY PASSWORD = '5tr0ngP@ssW0rd'

CREATE CERTIFICATE MyDBcert 
  WITH SUBJECT = 'The Cert For MyDB';
GO

USE MyDB;
GO

CREATE DATABASE ENCRYPTION KEY
  WITH ALGORITHM = AES_256 
  ENCRYPTION BY SERVER CERTIFICATE MyDBcert;
GO
"
15687,2965,SQL find rows with multiple references,"SELECT street_name, store_id, count(*) 
FROM streets 
GROUP BY street_name
HAVING COUNT(DISTINCT store_id) > 1
"
23664,37014,Limit number of rows returned from sqlite,"SELECT col1, col2 FROM mytable WHERE foo = 'bar' LIMIT 42;
"
27863,17328,(T-SQL): How do I use result set A to calculate result set B?,"
DECLARE @empid int;
DECLARE vend_cursor CURSOR
    FOR select employee_id from employee where employee_team = 1 and employee_role = 1
OPEN vend_cursor
FETCH NEXT FROM vend_cursor into @empid;
WHILE @@FETCH_STATUS = 0    
BEGIN  
// your query with @mpid 
FETCH NEXT FROM db_cursor INTO @name   
END   
CLOSE vend_cursor
DEALLOCATE vend_cursor
"
20885,43460,Oracle query with every minute a day,"alter session set nls_date_format='dd-mon-yyyy hh24:mi'
/

with cte as ( select trunc(sysdate) as start_date from dual )
select start_date + ((level-1)/(24*60)) as date_w_mins
from cte
connect by level <= (24*60)
/
"
31120,74371,"Oracle SQL view with COUNT, AVG columns","SELECT 
  category.category_id, 
  category.name,
  COUNT(item.item_id) as items_in_category,
  AVG(item.rate) as avg_rate
FROM
  category
INNER JOIN 
  item_category ON category.category_id = item_CATEGORY.category_id
INNER JOIN 
  item ON item_category.item_id = item.item_id
GROUP BY
  category.category_id, 
  category.name
"
35923,3882,SQL Left Join losing rows after filtering,"SELECT 1.Label, COUNT(2.values)
FROM Table1 1
    LEFT JOIN Table2 2 ON 1.fk = 1.pk and
              2.Date BETWEEN 1/1/2010 AND 12/31/2010    
GROUP BY 1.Label
"
19879,23155,How to incorporate the next result of a query in the query in PostgreSQL?,"SELECT *
  FROM 
(
      SELECT (SELECT max(level) FROM students ""inner"" WHERE ""inner"".level < ""outer"".level) as Level
           , sum(Case When grade = 'Pass' Then 1.0 Else 0.0 End) / count(*)                as Percentage
        FROM students ""outer""
    GROUP BY level
    union all
      SELECT max(level) as Level
           , null       as Percentage
        FROM students
) mylevels
 WHERE level is not null
"
37200,44362,"MongoDB Given a list of keys, get all matching docs and create new docs for non-matching keys","var emails;
var matchingMails = users.find({""email"" : {$in : emails}}, {""email"":1, ""_id"":0});
var newEmails = emails.subtract(matchingMails); // set difference
db.batchInsert(createUsersFromEmails(newEmails));
"
19850,15940,Separate substring by comma SQL Server,"declare @str varchar(max);
select @str='Hello,world,continent,nation,city';

SELECT @str=''''+REPLACE(@str,',',''',''')+''''
exec('select * from mytable where col_word in('+@str +')')
"
12813,47643,SQL Query to add result set values as column values,"
SELECT 'NetworkKey' AS AuthKey,
        COUNT(*) AS TotalCount,
        SUM(CASE WHEN NetworkSK IS NULL THEN 1 ELSE 0 END) AS NUllcount,
        SUM(CASE WHEN NetworkSK IS NOT NULL THEN 1 ELSE 0 END) AS NotNullcount
FROM EDW.Fact.AuthorizationRequest
"
7448,14836,SQL group functions using joins,"SELECT d.department_name, d.manager_id, m.name, AVG(e.salary)
FROM employees e
INNER JOIN departments d ON (e.department_id = d.department_id)
LEFT OUTER JOIN employees m ON (m.employee_id = d.manager_id)
GROUP BY d.department_name, d.manager_id, m.name;
"
12854,15416,Check whether a column is empty," Select * FROM Items WHERE Extra IS NULL OR Extra = ''
"
965,28781,Android Spinner Selected Item,"Spinner mySpinner = (Spinner)findViewbyId(R.id.spinner);
int position = mySpinner.getSelectedItemPosition();
String Text = yourCityList[position].toString(); // dont know which list is holding the city list... 
// i didn't use any db in any of my app so cant tell you how can you get list... 
// leaving it to you... :)
"
12302,55274,Is there a way to combine count and select query?,"SELECT A.ID, A.Date, COUNT(c.ID) AS Comments
FROM Article A
LEFT JOIN Comment c
  ON A.id = c.FK_Article
GROUP BY A.ID, A.Date
ORDER BY A.ID;
"
24598,64100,SQL DATEADD with Variable," DECLARE @EndDate date;

 SELECT @EndDate = DATEADD(day, 1, atvcEndDate)
 FROM tbUserReport
 WHERE atvcUserId = @UserId;
"
38435,30844,How to merge multiple tables in MYSQl which have two columns in common,"SELECT table_1.*, table_2.*, table_3.*, table_4.* FROM table_1  
  INNER JOIN table_2 ON table_1.age_grp = table_2.age_grp  
    AND table_1.gender = table_2.gender
  INNER JOIN table_3 ON table_2.age_grp = table_3.age_grp  
    AND table_2.gender = table_3.gender
  INNER JOIN table_4 ON table_3.age_grp = table_4.age_grp  
    AND table_3.gender = table_4.gender
"
28996,60918,SQL Same column subtraction,"SELECT SUM(CASE WHEN a=1  THEN 1 ELSE 0 END)- SUM(CASE WHEN a=0  THEN 1 ELSE 0 END) AS Result FROM table
"
21195,66184,Dynamically inserting multiple rows to a table,"INSERT INTO Table1(colm1,colm2,colm3)
SELECT clom1,constant,constant FROM TABLE2
"
6843,52786,"SQL date comparison in WHERE clause, TypoScript","lib.my_val {  
       select {  
        pidInList = 100000  
        max = 1  
        where = UNIX_TIMESTAMP(effective_date) < UNIX_TIMESTAMP()  
        orderBy = UNIX_TIMESTAMP(effective_date) DESC  
      }  
      table = tx_my_table  
    }
"
29046,38616,Include column names in the results of an Oracle SQL query?,"SELECT 'colname1',
       'colname2',
       'colname3',
       1 AS ordering
  FROM dual
UNION
SELECT colname1,
       colname2,
       colname3,
       2 AS ordering
  FROM yourtable
ORDER BY ordering;
"
14997,29651,Getting sp value from another sp,"declare @t table (id int)

insert @t (id)
exec myoldsp @parameters
"
38494,43227,"Selecting the first row from each group, with ORDER BY more than one column","SELECT T1.X,
       T1.Y,
       T1.A,
       T1.B
  FROM
      (SELECT X,
              Y,
              A,
              B,
              ROW_NUMBER() OVER (Partition BY X,Y Order By A,B) AS RowNum
         FROM T
     ) T1
WHERE T1.RowNum = 1
"
15634,70412,join a column that contains the previous max,"DECLARE @T TABLE (Code VARCHAR(5))
INSERT @T VALUES ('EM010'), ('EM100'), ('EM101'), ('EM105'), ('EM106')

SELECT  T1.Code,
        (   SELECT  MAX(Code)
            FROM    @T t2
            WHERE   t1.Code > t2.Code
        ) AS Code2
FROM    @T t1
"
20791,13318,Four Tables show single occurrence for outer most table,"SELECT DISTINCT ON(companies.name, employees.first_name) 
   applicants.id, companies.name, employees.first_name, departments.name, applied_date
FROM applicants
INNER JOIN departments ON applicants.department_id = departments.id
INNER JOIN companies ON departments.university_id = companies.id
INNER JOIN employees ON applicants.student_id = employees.id
ORDER BY companies.name, employees.first_name, applied_date
"
36614,74617,Searching a Record from Middle of the Table,"SELECT b.id AS next_id FROM tableb b LEFT JOIN tablea a 
ON (b.id =a.Table_b_fk ) WHERE b.M1=100 AND b.M2 =100 AND b.id >4 
ORDER BY b.id ASC  LIMIT 1
"
24668,23757,Ado.net Getting the schema for a table,"Command.ExecuteReader(CommandBehavior.KeyInfo)
"
12741,29993,Time diffence between rows in a big table,"select user_id,
       date,
       case
          when date - lag(date) over (partition by user_id order by date) > interval '40' minute then 1
          else 0
       end as diff_flag
from the_table
order by user_id, date
"
28914,52146,Oracle update from multiple subqueries,"update tableA tA 
set tA.value = (
  select tB.value 
  from tableB tB 
  inner join tableC tC 
  on tB.value = tC.value
  where tB.id = tA.id
)
"
21654,41657,Oracle system time as float,"SELECT sysdate - date '1900-01-01' days_since_jan_1_1900
  FROM dual;
"
36011,44606,missing some results from mysql query,"SELECT
   IFNULL(m.local_mir, o.localParty) as local,
   IFNULL(m.remote_mir, o.remoteParty) as remote
FROM 
   data as o
   LEFT JOIN mirror_data as m 
      ON (o.localParty = m.local OR o.remoteParty = m.remote)
LIMIT 
   0,10;
"
6690,49821,Split varchar into separate columns in Oracle,"SELECT SUBSTR(t.column_one, 1, INSTR(t.column_one, ' ')-1) AS col_one,
       SUBSTR(t.column_one, INSTR(t.column_one, ' ')+1) AS col_two
  FROM YOUR_TABLE t
"
17387,14025,"Sql help, function parses a string field in table, need to filter returned table in where clause","WHERE String_Finder(Log_Table.Message, 1, 2) NOT LIKE 'NO_TYPE'
"
19050,9864,SAP HANA alternative for cross apply,"select T.*, someFunction(T.Value)
from T cross join F
"
24282,30088,MySQL group-by with comma-seperated list,"select min(category_id) as min_cat, 
       group_concat(distinct category_id order by category_id) as category_list, 
       bookmark_id
from your_table
group by bookmark_id
"
3291,61715,Query performance on two databases on one server,"Live - Cardinality Estimate Expression=""CONVERT_IMPLICIT(nchar(18),[pn].[PartNumber],0)""

Test - Cardinality Estimate Expression=""CONVERT_IMPLICIT(nvarchar(50),[pn].[PartNumber],0)""
"
36986,43193,Oracle get rows that exactly matches the list of values,"SELECT OrderID 
FROM OrderDetailTable JOIN OrderedTable USING (ItemID)
GROUP BY OrderID 
HAVING COUNT(DISTINCT ItemID) = (SELECT COUNT(DISTINCT ItemID) FROM OrderedTable)
"
38093,9486,Get a list of fields out of an XML data type,"SELECT
    DISTINCT T.C.value('local-name(.)[1]', 'varchar(100)')
FROM @Employees
CROSS APPLY EmployeeDetails.nodes('Employee/EmployeeDetails/*') AS T(C)
"
24834,75563,MS Access; Count number of times linked value occurs in multiple columns,"SELECT m.Meal, COUNT(*) AS Orders
FROM tbl_Meal_Options AS m
LEFT JOIN (
    SELECT Meal_1 AS Meal FROM tbl_Invitations
    UNION ALL
    SELECT Meal_2 AS Meal FROM tbl_Invitations
    UNION ALL
    SELECT Meal_3 AS Meal FROM tbl_Invitations
    UNION ALL
    SELECT Meal_4 AS Meal FROM tbl_Invitations
) AS i
ON m.Meal_Option = i.Meal
GROUP BY m.Meal
"
13540,4690,Update date format in mysql,"UPDATE tableName
SET    coldate = DATE_FORMAT(STR_TO_DATE(colDate,'%m/%d/%y'),'%Y/%m/%d')
"
21352,38964,When to add calculated custom columns to a query - right away or by using a join,"SELECT SystemName, Caption, Label, Capacity, FreeSpace,
       100*freespace/capacity [% of free space],
       capacity-freespace [used space]
FROM CCS_Win32_Volume
ORDER BY SystemName, Caption
"
16896,10790,SQL Query for select data from multiple tables,"SELECT newTable.MyData, newTable.CreationDate FROM
(SELECT MyData, CreationDate FROM Table1
UNION
SELECT MyData, CreationDate FROM Table2) AS newTable
ORDER BY newTable.CreationDate DESC
"
39516,15918,Sum of rows on Saturdays and Sundays,"select sum(QTY),GROUP
from table
where TO_CHAR(order_date,'DY', 'NLS_DATE_LANGUAGE=AMERICAN') in ('SUN','SAT')
group by GROUP;
"
33591,13043,Django Database: design of a model that combines two models,"class Order(models.Model):
    order_id = models.IntegerField(...)


class Step(models.Model):
    name = models.CharField(max_length=128)
    orders = models.ManyToManyField(Order, through='StepOrder')


class StepOrder(models.Model):
    order = models.ForeignKey(Order)
    step = models.ForeignKey(Step)

    ## date of the order starting this step
    date_created = models.DateField(...)
    date_end = models.DateField(...)

    status = models.CharField(max_length=128, default=""Pending"")
"
22647,60071,Select distinct values from multiple columns,"select min(A),B
  from table
 group by B
"
19067,59614,How to find rows in one table that have no corresponding row in another table,"select tableA.id from tableA left outer join tableB on (tableA.id = tableB.id)
where tableB.id is null
order by tableA.id desc
"
10127,62350,Order by clause is changing my result set,"SELECT *
FROM (SELECT TOP 2 * FROM mytable WHERE someid = @something ORDER BY added DESC)
ORDER BY added
"
9179,45547,Number of rows in which two or more specified values appear,"SELECT COUNT(*) FROM your_table
WHERE 1 IN (n1,n2,n3,n4,n5) AND 26 IN (n1,n2,n3,n4,n5)
"
24306,44941,How to select bi-directional mapped rows from a table in MySQL?,"SELECT DISTINCT t.item_code, t.item_name
FROM mytable t
INNER JOIN 
  (SELECT item_code, COUNT(DISTINCT item_name) num FROM mytable GROUP BY item_code) code
  ON (t.item_code = code.item_code)
INNER JOIN 
  (SELECT item_name, COUNT(DISTINCT item_code) num FROM mytable GROUP BY item_name) name
  ON (t.item_name = name.item_name)
WHERE code.num > 1 OR name.num > 1
"
37167,18998,SQL: Select distinct from two columns where only column2 is different," SELECT DISTINCT a.*
 FROM table a
 JOIN table b
    ON  a.colA  = b.colA
    AND a.colB != b.colB 
"
38538,44652,MySQL Statement Displaying Values Even If NULL,"SELECT 
  firstName AS ""First Name"", 
  lastName AS ""Last Name"", 
  dependent_name AS ""Dependent Name"" 
FROM employee
LEFT JOIN dependent ON dependent.essn = employee.ssn;
"
60,47620,SQL Count function - simple aggregate needed,"select name, count(*) over (partition by name) as name_count, amount
from table t;
"
10719,51456,get info from XML with CodeIgniter,"<?php
$xml=simplexml_load_file(""yourxml.xml"");
echo $xml->name . ""<br>"";
echo $xml->surname . ""<br>"";
echo $xml->image1 . ""<br>"";
echo $xml->image2;
?>
"
7280,49190,How to get enum element from index,"CREATE TABLE ranks
SELECT DISTINCT rank+0 as id, CONCAT('',rank) as rank
FROM soldiers
"
3245,41598,Many-to-many SQL selection,"DECLARE @array TABLE(
    tag varchar(50)
)
INSERT INTO @array
VALUES('test')
INSERT INTO @array
VALUES('braindead')

select * from bookmark_model_bookmark
where id in(
    select bookmark_model_bookmark_id FROM bookmark_tag x INNER JOIN bookmark_model_tag t ON t.id = x.bookmark_model_tag_id
    where t.name in (select tag from @array)
    group by bookmark_model_bookmark_id
    having bookmark_model_bookmark_id >= (select count(0) from @array))
"
22941,3234,T-SQL Custom Sort/OrderBy on a Calculated Value as a Stored Procedure or Table Function,"SELECT
  CalendarEventID,
  dbo.GetLatestDate(
    FromDate, ToDate, Monday, Tuesday,
    Wednesday, Thursday, Friday, Saturday, Sunday, 
    EveryNWeeks, EndAfterNOccurences) AS LatestDate
FROM CalendarEvents
ORDER BY 2
"
21718,72917,Absolute maxvalue comparison of columns in Firebird SQL,"SELECT a.ELM_NUM,a.COMBO, 
    CASE WHEN abs(a.N_1) > abs(a.N_2) THEN a.N_1 ELSE a.N_2 END as maxN 
from ntm a 
order by a.ELM_NUM
"
18023,28290,how to merge two sqlite3 databases with same schema having primary key with auto increment,"INSERT INTO student(name, age)
SELECT name, age
FROM toMerge.student;
"
3547,26357,sql query to get dIvided group,"    ;with cte as (
select 
    case 
        when stat = 'N' and duedate > GETDATE() then 'NG' 
        when stat = 'N' and duedate < GETDATE() then 'NL' 
        else stat 
    end As S, duedate from activity)
    select S,COUNT(*) from CTE group by (S)
"
31212,47814,hierarchical sum in PostgreSQL,"WITH RECURSIVE children AS (
    -- select leaf nodes
    SELECT id, value, parent
        FROM t
        WHERE value IS NOT NULL
    UNION ALL
    -- propagate values of leaf nodes up, adding rows 
    SELECT t.id, children.value, t.parent
        FROM children JOIN t ON children.parent = t.id
)
SELECT id, sum(value) 
    FROM children 
    GROUP BY id   -- sum up appropriate rows
    ORDER BY id;
"
10038,27486,SQL query to get columns and records of that columns using like operator,"Select 'KEYWORD' as KEYWORD, 'PART1_D1' as PART1_D1, 'PART1_D2' as PART1_D2, 
  'PART1_D3' as PART1_D3, 'PART1_D4' as PART1_D4, 'PART2_D5' as PART2_D5,
UNION
Select KEYWORD, cast(PART1_D1 as varchar(50), cast(PART1_D2 as varchar(50), 
  cast(PART1_D3 as varchar(50), cast(PART1_D4 as varchar(50), 
  cast(PART2_D5 as varchar(50)
From sample
"
35716,21936,How to group rows in SQL with more than 2 columns are of the same value?,"Select column1, column2 from MyTable
GROUP BY column1, column2
"
17178,24005,SQL Having a single column display value from different tables,"SELECT T1.SubmissionStatus 
FROM Table1 T1
JOIN Table0 T0 ON T1.primaryKey = T0.foreignKey
UNION
SELECT T2.SubmissionStatus 
FROM Table1 T2
JOIN Table0 T0 ON T2.primaryKey = T0.foreignKey
UNION
SELECT T3.SubmissionStatus 
FROM Table1 T3
JOIN Table0 T0 ON T3.primaryKey = T0.foreignKey
"
24141,16893,SQL Group by time,"SELECT TOP (100) PERCENT 
    me.Path, 
    MAX(pd.SampleValue) AS Sample, 
    DATEADD(MI, -(DATEPART(MI, pd.DateTime) % 5), pd.DateTime) AS PeriodStart
FROM ...
WHERE ...
GROUP BY me.Path, DATEADD(MI, -(DATEPART(MI, pd.DateTime) % 5), pd.DateTime)
ORDER BY me.Path
"
25709,7282,Multiple SQL MAX when items are not in order,"select productname, max(test1) from (
SELECT *,
    row_number() over (order by test2 asc) -
    row_number() over (partition by productname order by test2 asc) as GRP 
from @MyTable
) X 
group by productname, GRP
"
17026,54898,"Collaps function on Date from SQL, failing to give result","DECLARE @listStr VARCHAR(MAX)
SELECT @listStr = COALESCE(@listStr+',' ,'') + Isnull(CAST (CONVERT(DATE,SP.StartDateTime,103) as Varchar),'')
FROM testtable AS SP
SELECT @listStr
GO
"
9686,47686,Oracle Loop Through Join Statement,"select startid = min(id) from customer;
select maxid = max(id) from customer;

i = startid
while i <= maxid

begin
   with myCTE as (select ... from customer where id >= i and id < i + 1000)
   insert into xxx (....)
   select ....
   from myCustomerChunk
        join productcustomers pc on ....
        join product p on ....

   i = i+1000
end
"
2073,32053,Storing i18n data in a database using XML,"Lcid       SportID      Description
3081       1            Soccer
3082       1            Futbol
"
2342,7664,Oracle Rows to Column Transformation,"select login_id
     , sum(case when status_name='open' then count end) open
     , sum(case when status_name='closed' then count end) closed
     , sum(case when status_name='inprogress' then count end) inprogress
     , sum(case when status_name='pending' then count end) pending
from table
group by login_id
"
36867,9992,How to select all non-distinct rows from a DB?,"SELECT origin, destination 
FROM mytable
GROUP BY origin, destination
HAVING COUNT(*) > 1
"
17626,11857,SQL iteration without creating a table?,"DECLARE @sqlstmt VARCHAR(MAX)
SET @sqlstmt = 'SELECT vin FROM cars WHERE 1=1'
IF @interior<>'No Preference'
   SET @sqlstmt = @sqlstmt + ' AND interior = '''+@interior+'''
IF @color<>'No Preference'
   SET @sqlstmt = @sqlstmt + ' AND color = '''+@color+'''
...
exec(@sqlstmt)
"
15200,5078,DAO Recordset with SQL Statement to Add Records with For Next Loop,"If rrow = 1 then
    DoCmd.RunSQL ""SELECT [Oracle JE].* INTO Unmatched FROM [Oracle JE] 
    WHERE [Oracle JE].[Account Code]="" & start 
Else
    DoCmd.RunSQL ""INSERT INTO Unmatched SELECT [Oracle JE].* FROM [Oracle JE] 
    WHERE [Oracle JE].[Account Code]="" & start 
End
"
18713,50536,sql get result of current year only,"select * from table where YEAR(date) = YEAR(CURDATE())
"
37100,61946,Filtering my SQL to show only those records > 0,"HAVING ISNULL(max(m.Init_Amnt) - sum(d.Amnt-Appl), 1) > 0
"
28147,39988,Boolean expression as column value in transact sql,"select (5 - 3)
"
11553,15809,SQL : Linked lists in SQL database?,"stores
    id
    code
    name
    address
    ...

items
    id
    code
    name
    description
    barcode
    retail_price
    ...

stocks
    store_id
    item_id
    stock_count

inventories
    id
    inventory_date
    store_id

inventory_items
    inventory_id
    item_id 
    original_stock_count
    corrected_stock_count
"
33719,43262,Current date in Oracle Db,"SELECT ""DATE"", BUS, VALUE
FROM {your_table}
WHERE ""DATE"" >= trunc(sysdate) and ""DATE"" < trunc(sysdate+1)
"
7715,1260,Displaying results in the column based on multiple ID condition,"SELECT Reference.quote_date As Date, Customer.name As Name ,
       Customer.surname AS Surname, Customer.postcode, Customer.telephone,
       Reference.ref_ID AS PolicyRefNo, Reference.agent_ID,
       (reference.call_id IN(1,2,3))  as Tel,
       (reference.call_id IN(4,5,6)) as F2F
FROM Customer INNER JOIN
     Reference
     ON Customer.customer_ID = Reference.customer_ID;
"
31842,47804,Group By and Join (DB2),"SELECT 
   btst.Ordnungsbegriff AS BBNR,
   COUNT(vp.KVNR) 
   FROM 

   ...
GROUP BY vz.""VALIDTO"", vz.""BETRIEBSNUMMER"", btst.Ordnungsbegriff 
"
9482,39798,User COUNT() in SQL Server query to be independent on the where clause,"select ou.*
from (select u.FullName, u.Id, o.FullAddress,
             Price, Payment, o.Created, StartDelivery as Delivering, 
             [Status], o.Id,
             COUNT(*) OVER (PARTITION BY o.CustomerId) AS CountOfOrders
      from orders o full outer join
           users u
           on o.CustomerId = u.Id
     ) ou
where [Status] = 2
"
25314,10893,Moving one database in wamp and not the whole directory?,"wampmanager -> Apache -> Version -> click on the version number
"
37090,72587,only return records with odd count in a table with sql command,"SELECT   product_id, COUNT(product_id) AS cnt
FROM     warehouse
GROUP BY product_id
HAVING   COUNT(product_id) MOD 2 = 1;
"
32774,52183,SQL query IF statement in stored procedure,"IF @CORP IN ('something', 'somethingElse')
BEGIN
    -- your code
END
"
34341,51737,"Unable to drop constraint in sql server 2005 ""Could not drop constraint. See previous errors""","ALTER MyTable NOCHECK CONSTRAINT FK_MyTable_AnotherTable
"
23014,70137,Compare dates regardless of time(MSSQL),"ALTER PROCEDURE [dbo].[SP_GET_QUEUESINFO_BY_DATE]
AS
BEGIN
declare @date2 datetime
set @date2= '2012-09-21'
select COUNT(QueueID) ,
       sum(case when QueueNumIn != 0 THEN 1 else 0 end) as 'InQueue',
       sum(case when QueueNumOut != 0 THEN 1 else 0 end) as  'OutQueue'
from Queue 
where CAST(QueueDate as DATE) >= @date2 -- QueueDate = @date2
END
"
34619,57101,Simple SQL query on small tables takes too long to execute,"Select  t.Name TownName,
        c.Name,
        d.Id
From    Towns t
        Join Companies c ON t.Id = c.Town
        Join Documents d ON c.Id = d.Company
Order By c.Name
"
35346,9685,"in postgres, is there an easy way to select several attr/val rows into one record?","select array_agg(attr => val) from t1;
"
19460,6766,SQL Multiple Query with 1 Result Set,"select id, lname, fname from table1 t1 where t1.id not exists in (select id from table2)
"
20558,54652,Update Query updating data in one if it meets criteria specified in the other,"UPDATE second_table AS s, pay_periods AS pp
SET s.[Pay Period] = [pp].[Pay Period]
WHERE s.Date Between [pp].[Start Date] And [pp].[End Date];
"
15569,35240,"How to create text file using sql script with text ""|""","DECLARE @Text AS VARCHAR(100)
DECLARE @Cmd AS VARCHAR(100)
SET @Text = 'Hello world^| '
SET @Cmd ='echo ' +  @Text + ' > C:\AppTextFile.txt'
EXECUTE Master.dbo.xp_CmdShell  @Cmd
"
595,66353,Invalid column name on Having in SQL Server,"SELECT * 
FROM
    (SELECT 
         Id, Lat, Lng,
         (6367 * acos(cos(radians(45.444)) * cos(radians(Lat)) * 
          cos(radians(Lng) - radians(158.554)) + sin(radians(4545)) * 
          sin(radians(Lat)))) AS distance 
     FROM Posts) p
WHERE 
    p.distance < 15  
ORDER BY 
    p.distance
"
28802,15451,Better way of performing dynamic conditional searching in TSQL?,"SELECT x.*
FROM   x
WHERE  (x.id = @NameFilter
OR     @NameFilter is null)
AND    (x.typeId = @typeFilter
OR     -1 =  @typeFilter)
AND    (x.date = @date
OR     @date is null)
AND    (x.someStingType = @someStringType
Or     '' = @someStringType)
"
9611,45383,Managing Sample Data with VS 2010 Database,"/* All deployments get the reference data */
:r .\ReferenceData.PostDeployment.sql

IF ('$(SampleSet)' = 'ClientA')
BEGIN
    :r .\SampleData.ClientA.PostDeployment.sql
END
ELSE IF ('$(SampleSet)' = 'ClientB')
BEGIN
    :r .\SampleData.ClientB.PostDeployment.sql
END
"
26306,56988,Select statement with a particular logic,"select * 
from RBOTRANSACTIONSALESTRANS main 
where main.DATAAREAID = 'DAT'
 and exists 
  (
    select 1 
    from RBOTRANSACTIONSALESTRANS sub 
    where sub.QTY < 0 
      and sub.DATAAREAID = main.DATAAREAID
      and sub.STORE = main.STORE 
      and sub.TERMINALID = main.TERMINALID
      and sub.TRANSACTIONID = main.TRANSACTIONID
  )
order by main.TRANSACTIONID
"
26216,64718,SQL select single distinct values from multiple columns (not combined values),"select Department1 
from tab
union 
select Department2 
from tab
"
13810,28848,Sql query to get a non-contiguous subset of results,"select FOO from BAZ limit 50
    union
select FOO from BAZ limit 50, 1
    union
select FOO from BAZ limit 99, 1
    union
select FOO from BAZ limit 100, 1
    union
select FOO from BAZ limit 149, 1
"
11533,39340,selecting values from a reference table,"SELECT a.id,a.first_name,a.last_name,b.value as user_type,b.value AS user_type, b2.value as user_status
FROM user AS a 
JOIN reference AS b 
ON 'user'=b.table AND 'type'=b.type AND a.type = b.value 
JOIN reference AS b2
ON 'user'=b2.table AND 'status'=b2.type AND a.status = b2.value
"
30664,43781,Select all values from first table and ONLY first value from second table,"SELECT u.firstName, u.lastName, u.fbId, MIN(q.dateUsed) as dateUsed, u.codesLeft
FROM Users u
INNER JOIN Code q ON u.Id = q.userId
GROUP BY u.firstName, u.lastName, u.fbId, u.codesLeft
"
2702,22330,Creating a dynamic table from dynamic SQL,"declare @query varchar(max) = 
'select * into #t from table'
EXEC(@query) 
select * FROM #t
"
22777,5864,Select first purchase for each customer,"SELECT H.transaction_no, H.customer_id, H.operator_id, H.purchase_date
FROM Sales_Transactions_Header H
INNER JOIN
    (SELECT customer_id, MIN(purchase_date) As first_occurence
    FROM Sales_Transactions_Header
    GROUP BY customer_id) X
ON H.customer_id = X.customer_id AND H.purchase_date = X.first_occurence
"
6275,3916,Count from several columns Oracle Sql,"SELECT f.fruit, SUM(f.cnt) AS cnt
  FROM ( SELECT d.Fruit1 AS fruit, COUNT(1) AS cnt FROM Fruits d GROUP BY d.Fruit1 
          UNION ALL
         SELECT e.Fruit2 AS fruit, COUNT(1) AS cnt FROM Fruits e GROUP BY e.Fruit2
       ) f
 GROUP BY f.fruit
 ORDER BY f.fruit
"
8938,26051,How to select count of different values in the corresponding column in SQL?,"SELECT 
  number,
  COUNT(CASE WHEN answer = 'yes' THEN 1 END) AS total_yes,
  COUNT(CASE WHEN answer = 'no' THEN 1 END) AS total_no
FROM test_table
GROUP BY number
"
14729,24009,SQL Optimized Way to Calculate Aggregate Timespans,"select guid, sum(datediff(ms, t.[date], t.nextInactive)) as duration_ms
from (select t.*,
             (select min([date])
              from t t2
              where t2.guid = t.guid and t2.[date] > t.[date] and t2.status = 'Inactive'
             ) as nextInactive
      from t
      where t.status = 'Active'
     ) t
group by guid
"
37396,68847,Incorrect Syntax near the keyword On," SELECT t1.activity_status_id,
       Count(*),
       t2.description,
       t2.color
FROM   dbo.Activity t1
       INNER JOIN dbo.Activity_Status t2
               ON t1.activity_status_id = t2.id
GROUP  BY t1.activity_status_id ,t2.description,t2.color 
"
20516,57282,SQL LIKE operator and wildcard characters,"where 'Kitchen Towel w/ Red-Brown Stripes' like productname || '%'
"
30057,37104,Grouping by intervals,"select count(*), round(mynum/3.0) foo from mytable group by foo;
"
33495,19432,"SQL, Find all entires that don't exist in another table","SELECT A.x
FROM A LEFT OUTER JOIN B ON A.x = B.x
WHERE B.x IS NULL
"
31787,53340,MySQL referring to own id from within table,"select t.*
from table t left outer join
     table sub
     on t.subid = sub.id
where 'Tom' = t.name or 'Tom' = sub.name;
"
36387,66366,Postgres CASE statement,"SELECT ROUND((SUM((to_number((case when g.grade='DRP' then '5.00' else g.grade end), '9D99') * s.subjunits)))/(SUM(s.subjunits)), 2)
"
26675,53925,How to build a Sql Server table to store Quiz answers paired with the questionId?,"-- Survey/Quiz ""has many Questions""
Survey (SurveyStartedAt, SurveyExpiresAt)
-- Question ""belongs to a Survey""
Question (FK Survey, QuestionPrompt, QuestionRules..)
-- Each Participant can ""respond to a Survey""
Response (FK Participant, FK Survey, ResponseTime)
-- And each Answer, of which there are many per Response,
-- ""contains the answer for a single Question""
Answer (FK Response, FK Question, Value)
"
35916,45290,"Mysql query, populate a value based on other","update tbl t join (select post_id, meta_value
                     from tbl
                    where meta_value is not null) x on t.post_id = x.post_id
   set t.meta_value = replace(x.meta_value, '_ico', '_img')
 where t.meta_key = '_wpbdp[fields][10]'
"
14996,9305,Sql join and insert if not exists,"Insert into Itemlookup (ItemNumber, Cases, [TimeStamp])
Select a.ItemNumber, b.CaseCount, a.TimeStamp 
from ItemsProduced a 
inner join MasterItemList b on a.ItemNumber = b.ItemNumber
left join Itemlookup i on i.ItemNumber = a.ItemNumber
                      and i.Cases= b.CaseCount
                      and i.TimeStamp = a.TimeStamp 
where i.ItemNumber is null
"
9148,15764,Can this query be written with out using variable?,"INSERT INTO [ITD640_B].[dbo].[employee]
     ([employee_no]
     ,[employee_fname]
     ,[employee_lname]
     ,[store_no])
SELECT 
     123456
     ,'YourFirstName'
     ,'YourLastName'
     ,[store_no]
FROM 
     store 
WHERE 
     store_name = 'Rocky Mountain Produce';
"
35532,25525,Sum value for Password_Life_Time + Password_Grace_Time,"select profile,sum(to_number(limit))from dba_profiles
where ascii(substr(limit,1,1))between 48 and 57 and resource_name in  ('PASSWORD_GRACE_TIME','PASSWORD_LIFE_TIME')
group by profile;
"
3652,49320,Both sides of a many to many relationship also relate to the same 3rd party,"1. Make TableA.CId and TableB.CId both FKs to Table C.ID.
2. Add a unique index in TableA on columns AId and CId.
3. Add a unique index in TableB on columns BId and CId.
4.  Add a CId column to TableM.
5.  Then Add two FKs in Table M,
   a. One using columns (AId, CId) pointing to Unique composite Index in Table A, and
   b. the other using columns (BId, CId) pointing to Unique composite Index in Table B.
"
7663,50017,Joining Multiple Large Tables,"select t1.a, t1.b
into t4
from t1
join t2 on t1.a = t2.a and t1.c = t2.c
join t3 on t1.a = t3.a and t1.c = t3.c
where t3.e / t2.d < x
"
39434,55211,Have week number how to compute last day of the week?,"SELECT STR_TO_DATE('201038 Sunday', '%X%V %W');
"
39056,62679,Group By Quarter and Month in SQL Server 2008,"SELECT [Quarter], [Month], SUM([Group]) as [Group], SUM([Member]) as Member, 
  SUM([Value]) as [Value]
FROM dbo.YourTableName
GROUP BY [Quarter], [Month]
"
30270,15437,find the date of last update to sqlite in iphone,"NSString *pathLocal;    // Path to your SQlite DB file
NSFileManager *fileManager = [NSFileManager defaultManager];
NSDictionary *localAttr = [fileManager attributesOfItemAtPath:pathLocal error:&error];
NSDate *localDate = [localAttr objectForKey:NSFileModificationDate];
// localDate here has the info you're looking for
"
1738,29034,Displaying image from database in listview,"public static Bitmap getBitmapFromBytes(byte[] bytes)
{
    Bitmap bmp;
    bmp = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);
    Bitmap mutableBitmap = bmp.copy(Bitmap.Config.ARGB_8888, true);
    return mutableBitmap;
}
"
7837,21312,SQL - run query against different table (dynamic table) based on parameter,"IF @date = CAST(getdate() as date)
BEGIN 
SELECT * FROM server1.db1..MyTable
ELSE
SELECT * FROM server2.db2..MyTable_history WHERE date = @date
END
"
2730,41600,Oracle SQL Developer - Unable to run queries using varchar field as identifier,"select * from content_definition where content_id = 'hhhh233';
"
20677,16666,Why do partitions require nested selects?,"SELECT id AS newid
FROM test
WHERE newid=1;     -- must use ""id"" in WHERE clause
"
2113,104,Group By SQL Statement - consolidating results on one row,"TRANSFORM Sum(tbl_timesheet_hours.[work_order_hours]) AS SumOfwork_order_hours
SELECT tbl_timesheet_hours.[work_order_no], Sum(tbl_timesheet_hours.[work_order_hours]) AS     [Total Of work_order_hours]
FROM tbl_timesheet_hours
GROUP BY tbl_timesheet_hours.[work_order_no]
ORDER BY Format([work_order_date],'ddd')
PIVOT Format([work_order_date],'ddd') In (""Mon"",""Tue"",""Wed"",""Thu"",""Fri"",""Sat"",""Sun"");
"
35193,64808,Stuck at many-to-many relationship in mysql database,"Users
-----
UserID (PK)
... (Other user details)

Product
-------
ProductID (PK)
... (Other product details)

Order
-----
OrderID (PK)
UserID (FK)
OrderDate

OrderLine
---------
OrderID (PK)
ProductID (PK)
OrderQuantity
"
17014,16722,SQL Server: Get data for only the past year,"SELECT ... From ... WHERE date > DATEADD(year,-1,GETDATE())
"
26281,60749,Need to use criteria from multiple tables to acquire data from multiple tables,"SELECT c.*, m.first_name, m.last_name 
FROM charges c 
LEFT JOIN member m 
    ON c.member_id=m.member_id 
INNER JOIN members_groups mg 
    ON mg.group_id=1
    AND mg.member_id = m.member_id
"
31010,54130,SQL Server foreign key constraint - pair (same tuple),"alter table tbl1 with check 
add constraint FK_tbl1_tbl2 
foreign key (fkID1, fkID2) 
references tbl2 (pkID1, pkID2)
"
10872,49247,Need help combining two SQL selections into one for pivot table,"SELECT State, City, Device, Stat_A, Stat_B, null FROM A UNION
SELECT State, City, Device, null, null, Stat_C FROM B;
"
18859,27733,SQL: Create a table with 24 hourly rows,"select i
from generate_series(current_timestamp - interval '24' hour, current_timestamp, interval '1' hour) i
"
15050,56680,how to change this sql query,"SELECT  t.*
FROM    dbo.tbh_table t
CROSS APPLY
        dbo.fn_split(TopicID) split
WHERE   split.value = 19
"
28650,40986,"Select max date, then max time","SELECT T_RATE_ID, T_INPUTDATE, T_INPUTTIME, T_SINCEDATE
FROM
   (SELECT 
       *, ROW_NUMBER() OVER (PARTITION BY T_SINCEDATE ORDER BY T_INPUTDATE DESC, T_INPUTTIME DESC) rn
     FROM YourTable
     WHERE T_SINCEDATE<= sysdate) T
WHERE rn = 1
"
15063,29418,selection of column based on max value,"select 
  (select max(count1)
   from (
    select count1 union all
    select count2 union all
    select count3 union all
    select count4 union all
    select count5) X) as MaxCount
from tbl
"
15706,25824,"If same value in one column in tow rows, update another column with same value from one row","update t1
set grp = t2.grp
from yourtable t1
  join yourtable t2 on t1.code = t2.code and t2.grp is not null
where t1.grp is null
"
16657,67559,Returning a set of the most recent rows from a table,"select *
from (
    select *, rnum = ROW_NUMBER() over (
      partition by #tmp.foreignKeyId
      order by #tmp.startDate desc)
    from #tmp
) t
where t.rnum = 1
"
11727,37471,SQL Inner join with function returning table,"SELECT t.col, s.Item
FROM dbo.tablename AS t
CROSS APPLY dbo.function_name(t.value) AS s;
"
15846,48897,Calculation in a select statement,"SELECT OrderNumber, sum(SellPrice * Quantity) AS TotalCost
FROM OrderDetail
INNER JOIN Product
ON Product.ProductID = OrderDetail.ProductID
group by OrderNumber
"
33314,5039,Finding number of rows in each GROUP BY result,"SELECT EAM_Model, new_Model, count(*)
FROM rollout_systems 
WHERE scope_ID = '.$id.'              
GROUP BY EAM_Model, new_Model
"
2569,38565,Combine SQL with XQuery and Linq To SQL,"var results = from r in MyXmlFieldTable
   let date = context.XQueryDateTime( r.XmlValues, ""MyContainer/MyDateTime"" )
   where date < DateTime.Now.AddDays( -5 )
   select new
   {
       Date = date,
       FirstName = context.XQueryString( r.XmlValues, ""MyContainer/FirstName"" ),
       LastName = context.XQueryString( r.XmlValues, ""MyContainer/LastName"" )
   };
"
33370,39938,SQL - Ignore reacquiring entries,"select userid, checktime, checktype, verifycode
from
(
  select 
    userid, checktime, checktype, verifycode,
    case when checktype = lag(checktype) over (order by checktime) then 1 else 0 end
      as is_repeated
  from mytable
) marked
where is_repeated = 0
order by checktime;
"
26936,21834,Select from VALUES,"select schema1.Usage('element', 20140101, 20140714),
       schema1.TOTAL_Usage('element', 20140101, 20140714)
       schema1.CAPABILITY_Usage('element', 20140101, 20140714)/schema1.TOTAL_Usage('element', 20140101, 20140714) AS X(a)
from sysibm.sysdummy1;
"
36157,68472,SQL Looping through results,"SELECT id, DatabaseYouUsed.dbo.functionYouWrote(id)
FROM DatabaseYouUsed.dbo.TableWithIDs
"
3236,68986,SQL getting a Row with MIN(col A) if 2 row exist then MIN(colB),"select top 1 cola, colb
from table1
order by cola, colb
"
39357,29791,Is it possible to add all the others into a column in PIVOT of SQL server,"SELECT * 
FROM (  SELECT  CASE WHEN pet NOT IN ('dog','cat') THEN 'others' ELSE pet END pet, 
                age
        FROM Pet.Info) AS B
PIVOT (AVG(age) FOR pet IN ([dog],[cat],[others])) AS C
"
15986,10696,Select max column value when column value does not exist?,"SELECT FISCAL_PERIOD, FISCAL_year, amount  
FROM MAXTABLE   
where fiscal_period = 5  
union all
SELECT FISCAL_PERIOD, FISCAL_year, amount  
FROM MAXTABLE 
where fiscal_period = (select max(fiscal_period) from MAXTABLE)
and not exists (select * from MAXTABLE where fiscal_period = 5)
"
17884,45423,Join 3 tables in mysql,"$sql = ""SELECT p.id, m.menu_name, m.image_id, i.file_url 
            FROM product p 
            INNER JOIN menu m ON m.id = p.menu_id
            INNER JOIN icon i ON i.id = m.image_id
            WHERE ... "";
"
36495,27041,Find the time difference between two consecutive rows in the same table in sql,"select t1.EmpID, t1.TimeIn, t1.TimeOut, 
       datediff(minute, max(t2.TimeOut), t1.TimeIn) as minutes
from timesheet t1 left join timesheet t2 on t1.EmpID = t2.EmpID 
       and t2.TimeOut < t1.TimeIn
group by t1.EmpID, t1.TimeIn, t1.TimeOut
"
23703,63862,SELECT * FROM db value defined by customer in a form,"$price=filter_var($_POST['price'], FILTER_SANITIZE_STRING); //USER SUBMITTED sanitization stage 1.

$query=$dbh->prepare(""SELECT *  FROM $table WHERE price=?;"");
$query->execute(array($price));
"
26554,16040,loop through results and create views for a new database,"USE [Target DB];
DECLARE @view VARCHAR(MAX)

DECLARE curs CURSOR 
FOR SELECT VIEW_DEFINITION FROM [Source DB].INFORMATION_SCHEMA.VIEWS

OPEN curs

FETCH NEXT FROM curs 
INTO @view
WHILE @@FETCH_STATUS = 0
BEGIN 
    EXEC(@view)
    FETCH NEXT FROM curs 
    INTO @view
END 
CLOSE curs
DEALLOCATE curs
"
21606,3375,Adding Primary keys and a Relationship to tables,"CREATE TABLE tblMembers (
    Member_ID int identity(1, 1) not null primary key
    Name varchar(255)
);

CREATE TABLE tblHorses (
    Horse_ID int identity(1, 1) not nullprimary key
    Name varchar(255),
    Age int,
    Member_ID int references tblMembers(member_id)
);
"
31462,35886,Restructuring the database after deleting a row,"update t
    set num = num-1
    where num > <val deleted>
"
16037,74340,Can stored procedure of one schema access the tables of other schema,"CREATE SCHEMA cdbo AUTHORIZATION dbo;
"
27694,44043,select data between 2 dates in SQL,"select
    PM.PM_Eng_Name,
    sum(isnull(PMOutput.Quantity, 0)) as TotalOut
from PM
    left outer join PMOutput on PM.PM_code = PMOutput.PM_code and PMOutput.Output_Date BETWEEN ‘2013-01-01’ AND ‘2013-08-25’
group by PM.PM_Eng_Name
"
4820,25524,How to address multiple columns as one in MySQL?,"(select a as yourField from d1)
union
(select b from d2)
union
(select c from d3)
order by yourField desc
limit 5
"
35086,31688,How do I Compute an Order Line Number in SQL 2000,"select 
    ol1.orderId,
    ol1.orderLineId,
    count(*) as lineNumber
from 
    orderLine ol1
    inner join orderLine ol2 
    	on ol1.orderId = ol2.orderId
    	and ol1.orderLineId >= ol2.orderLineId
group by 
    ol1.orderId, 
    ol1.orderLineId
"
29266,43648,PL/pgSQL: merge results from iterative function call in another function,"CREATE OR REPLACE FUNCTION func2(IDs integer[]) RETURNS SETOF y AS $BODY$
DECLARE
  a_id int;
BEGIN
  FOREACH a_id IN ARRAY $1
  LOOP
    RETURN QUERY SELECT * FROM func1(a_id); 
  END LOOP;
  RETURN;
END; $BODY$ LANGUAGE plpgsql STABLE STRICT;
"
16867,9887,MySQL $i++ equivalent,"  SELECT @i := @i + 1 AS i, COUNT(*), ...
    FROM affiliates_earnings
    JOIN (SELECT @i := 0) dummy
   WHERE ...
GROUP BY ...;
"
29086,28175,SQL Server 2008 R2 stored procedures,"CREATE PROCEDURE [dbo].[proc_search_patient_ByID]
( 
@PatID_pk int ,
@Cntid  smallint,
@FamID int
)
AS
SET NOCOUNT ON
IF @Cntid IS NULL
BEGIN
   --Use select stmt of a table
END
ELSE
   --Use select stmt of another table
BEGIN
END
"
29249,1930,Show alternate result based on column value,"SELECT rnk, name ,gender
FROM (
  SELECT STRAIGHT_JOIN id, name, @y:=IF(@gender=gender,@y+1,1) AS rnk, @gender:=gender AS gender
  FROM (SELECT @gender:=NULL) AS x
  JOIN test
  ORDER BY gender, name DESC
) AS t
ORDER BY rnk ASC, gender DESC;
"
30868,67071,SQL Join query with filter condition : performance,"SELECT
  stuff
FROM 
  foo
INNER JOIN
  bar
    ON  (join predicates here)
WHERE
  (static filters here)
"
15760,60578,"How to express in LINQ, an SQL OrderBy clause over two fields","var query = product.OrderByDescending(m => m.ProductScore)
                   .ThenBy(m => m.ProductId);
"
7083,28549,Find distinct id by many row manipulations,"select id
from your_table
group by id
having sum(rank=1 and `case`=0) > 0
and sum(rank=2 and `case`=1) > 0
and sum(rank=3 and `case`=0) > 0
"
27458,19239,Maximum size for a SQL Server Query? IN clause? Is there a Better Approach,"SELECT ...
FROM Table
JOIN (
   SELECT x.value(N'.',N'uniqueidentifier') as guid
   FROM @values.nodes(N'/guids/guid') t(x)) as guids
 ON Table.guid = guids.guid;
"
251,37446,Find schools that have more than 1 order,"select 
     school_ucn,count(DISTINCT otc_order_number) 
from 
   storiacloud.schl_storia_revenue_fact
group by 
    school_ucn 
having 
    count(distinct otc_order_number)>1 
"
9868,40179,query to segregate users based on role per project in mysql,"select projectid,
group_concat(case when roleid = 1 then userid end) junior,
group_concat(case when roleid = 2 then userid end) senior,
group_concat(case when roleid = 3 then userid end) TL
from table1
group by projectid
"
32483,14390,MySQL CROSSTAB or PIVOT Query,"select 'answer1' as questions,
       sum(case when answer1 = 1 then 1 end) as total_1,
       sum(case when answer1 = 0 then 1 end) as total_0,
       sum(case when answer1 = NA then 1 end) as total_NA
from tablename
UNION ALL
select 'answer2' as questions,
       sum(case when answer2 = 1 then 1 end) as total_1,
       sum(case when answer2 = 0 then 1 end) as total_0,
       sum(case when answer2 = NA then 1 end) as total_NA
from tablename
etc...
"
10792,31908,How define column a OR column b NOT NULL?,"create table football_players (
    id VARCHAR(36) PRIMARY KEY,
    name VARCHAR(20),
    surname VARCHAR(20),
    constraint chk_name_surname check (name is not null or surname is not null)
);
"
29684,5684,how do I make a table that is creating itself from another table in SQL Server,"Insert into tRestituiri (DataRestituire,CodCD , CodCV,CodAB)
SELECT DataScadenta,CodCD , CodCV,CodAB FROM tImprumuturi WHERE DataScadenta>GETDATE()-60
"
21467,46015,Get Data Between Two Table Where There are no relation between Them,"select *
from supplier s
cross join Customer c
"
8539,9723,Create packages in SQL Server management studio without SSIS,"CREATE SCHEMA [billing]

CREATE PROCEDURE billing.sp_IssueInvoice ( /*parameters*/ )
AS
BEGIN
    -- Your code
END

CREATE PROCEDURE billing.sp_CancelInvoice ( /*parameters*/ )
AS
BEGIN
    -- Your code
END

CREATE SCHEMA [ordering]

CREATE PROCEDURE ordering.sp_SubmitOrder ( /*parameters*/ )
AS
BEGIN
    -- Your code
END

CREATE PROCEDURE ordering.sp_UpdateOrder ( /*parameters*/ )
AS
BEGIN
    -- Your code
END
"
28704,10468,Which SQL clause should I use?,"select vehiclename, 
       sum(case when oil = 'oil1' then volume end) as oil_1,
       sum(case when oil = 'oil2' then volume end) as oil_2,
       sum(case when oil = 'oil3' then volume end) as oil_3
from the_table
group by vehiclename
order by vehiclename;
"
30391,39342,SQL change rule based off when a time happens,"echo ""UPDATE artwork SET location='storage' WHERE name='Mona Lisa' | psql -u some_user -d some_database
"
9711,48601,SQL Server 2005 row to columns GPS data mapping in scatter graph,"SELECT Shiftindex, ID, Time, x00 AS xGPS, y00 AS yGPS
FROM GPS

UNION

SELECT Shiftindex, ID, Time, x01 AS xGPS, y00 AS yGPS
FROM GPS
"
23226,51639,SQL query: Selecting an entry from one table and adding values from another,"SELECT h.Hotelname, Sum(r.FreeRooms) as FreeRooms
FROM hotel h
INNER JOIN hotel_room r 
    ON r.H_ID = h.H_ID
GROUP BY h.Hotelname
"
10684,56097,Get count of items and their values in one column,"select 
   Items.itemId,
   count(MyTbl.itemId) as count
from Items
   left join MyTbl on (MyTbl.ItemID = Items.ItemID)
group by Items.itemId
order by Items.itemId
"
30709,69978,trying to test that a field <> value with null values in mysql,"WHERE field <> 'deactivated' OR field IS NULL
"
8616,22992,Sorting dates stored as varchar/rfc822,"SET @dt = 'Mon Jun 13 2011 11:30:00 GMT-0400 (EDT)';

SELECT    
CONVERT_TZ(
  -- Parse all, but timezone
  STR_TO_DATE(@dt, '%a %b %e %Y %H:%i:%s'),

  -- Parse timezone to '+NN:NN' format
  INSERT(SUBSTRING_INDEX(SUBSTRING_INDEX(@dt, 'GMT', -1), ' ', 1), 4, 0, ':'),

  -- Our unified timezone
  '+00:00'
);

-- Result: 2011-06-13 15:30:00
"
16778,35147,"SQL two records, should be one","Select location,Cashier,[Time],
  stuff((SELECT distinct ', ' + cast(ref as varchar(500))
           FROM t t2
           where t2.location = t1.location
           FOR XML PATH('')),1,1,'') 
Grom t t1
Group By location, Cashier,[Time]
"
33346,62929,SQL Insert Into w/Subquery - Checking If Not Exists,"INSERT INTO UserPermission (UserPermissionID, UserID, PermissionID, RegionID)
SELECT NEWID(), UserID, @PermID, NULL
FROM UserRole r
WHERE RoleID = '<specific guid>'
AND NOT EXISTS (SELECT * FROM UserPermission WHERE UserID = r.UserID AND @PERMID = PermissionID);
"
323,73502,Convert an Integer to time,"select cast(DATEADD(hour, 13, 0) as time)
"
20118,4298,SQL - join up two separate sql queries,"select 1.page_name, count(*) as ExitPageCount
from WebLog l
inner join (
    select http_session_id, max(page_hit_timestamp)
    from WebLog
    group by session
) lm on l.http_session_id = lm.http_session_id and l.page_hit_timestamp = lm.page_hit_timestamp
group by 1.page_name
"
24357,18752,SQL: Count Clause,"SELECT Verticals.Vertical_Name as V_name, COUNT(*) AS [Count]
FROM Impressions
Inner Join Verticals ON Impressions.Campaign_id = Verticals.Campaign_id
GROUP BY Verticals.Vertical_Name
"
37658,20826,MySQL: SELECT with AND OR producing incorrect data?,"SELECT COUNT(*) FROM AllScoringPlays WHERE GameId = 6124 AND SeasonId = 1 AND
(P_AssistId = 21 OR S_AssistId = 21);
"
38611,23411,A query to return a mix of SUM and COUNT in 5 joined tables,"SELECT *,
(select count (*) from Applications as A1 where A.ID = A1.AdID ) as Applicants,
(select count(*) from Referrals as R where A.ID = R.AdID ) as Referrals,
(select count(*) from Subscribers as S where A.ID = S.AdID ) as Subscribers,
(select count(*) from Views  as V where A.ID = V.AdID ) as Views
FROM Ads as A
"
22434,64897,How do I join multiple records into a single record in SQL?,"SELECT ID,
       MAX(CASE WHEN Position = 1 THEN Email ELSE '' END) AS primary_email,
       MAX(CASE WHEN Position = 2 THEN Email ELSE '' END) AS Secondary_email
FROM YourTable
GROUP BY ID;
"
28305,72275,How can I get a row which has biggest value?,"
WITH C AS ( SELECT MAX(IMAGE_ORD) M FROM TBL_IMAGE )
SELECT 
  TBL_IMAGE.IMAGE_PATH, TBL_IMAGE.IMAGE_ID, TBL_IMAGE.DOC_NID 
FROM
  TBL_IMAGE JOIN C ON IMAGE_ORD = C.M
WHERE ROWNUM < 2
"
39408,4993,"Get a row, then others order by id","SELECT * FROM table ORDER BY id = 5 DESC, id ASC
"
5126,65775,MySQL query incorporation both join tables and nested sets,"SELECT node_id, group_concat(name SEPARATOR ' ')
FROM taggings INNER JOIN tags ON taggings.tag_id=tags.id
INNER JOIN (SELECT node.id AS node_id, parent.id AS parent_id
FROM categories AS node,
categories AS parent
WHERE node.lft BETWEEN parent.lft AND parent.rgt) subcategories
ON subcategories.parent_id=taggings.taggable_id
GROUP BY (node_id);
"
20749,53055,How to select only the rows that have a column with a repeated value?,"select t1.run, t1.code, t2.code from tablename t1, tablename t2
    where t1.run = t2.run and t1.code = 1 and t2.code = 8;
"
35200,39771,SQL: Select * where attribute matches all items in array,"SELECT photos.id,max(otherColumn)
FROM \""photos\"" 
INNER JOIN \""taggings\""
ON \""photos\"".\""id\"" = \""taggings\"".\""photo_id\"" 
INNER JOIN \""tags\"" 
ON \""tags\"".\""id\"" = \""taggings\"".\""tag_id\"" 
WHERE \""tags\"".\""name\"" IN ('foo', 'bar')
group by photos.id
having count(*) = 2 --2 is the number of items in your array of tags.
"
6752,73541,"Instead of independently joining multiple tables, use separate queries?","SELECT
  collections.collectionid as collectionid,
  photos.name as photo_name,
  'photo' as document_type
FROM collections
  LEFT JOIN photos on collections.collectionid = photos.collectionid
WHERE collections.collectionid = 14
UNION ALL
SELECT
  collections.collectionid as collectionid,
  song.name as photo_name
  'song' as document_type
FROM collections
  LEFT JOIN songs on collections.collectionid = songs.collectionid
WHERE collections.collectionid = 14
"
31186,64813,Using SQL query to find details of customers who ordered > x types of products,"SELECT customer_name, COUNT(DISTINCT product_ID) as products_count FROM customer_table
INNER JOIN orders_table ON customer_table.customer_ID = orders_table.customer_ID
GROUP BY customer_table.customer_ID, customer_name
HAVING COUNT(DISTINCT product_ID) > 10
"
13665,33500,Create 2 new columns from a query,"SELECT u.ID, u.fname, u.lname
      , d1.name as div_1_name
      , d2.name as div_2_name 
FROM USERS u 
LEFT JOIN DIVISIONS d1 ON u.div_1_id = d1.ID 
LEFT JOIN DIVISIONS d2 ON u.div_2_id = d2.ID
"
8493,6767,How to convert a varchar column type to date type without losing the dates,"CREATE TABLE temp (startdate varchar(255), stuff varchar(255));

INSERT INTO temp
SELECT startdate,stuff
FROM mytable;

TRUNCATE TABLE mytable;

ALTER TABLE mytable ALTER COLUMN startdate DATETIME NOT NULL;

INSERT INTO mytable
SELECT CAST(startdate AS DATETIME), stuff FROM temp;

DROP TABLE temp;
"
35702,61257,select multiple joins to display using more than 3 tables,"Select c.Id, c.Name from Client c 
    Join ClientArticle ca on c.ID = ca.ClientID
    Join Article a on ca.ArticleID = a.ArticleId
    Where a.Value = 'Y'
"
9433,32555,Can Pro*Fortran connect to Oracle 10g on windows?,"http://download.oracle.com/docs/cd/B19306_01/appdev.102/b14352/toc.htm
"
17646,28052,How to get max value from 2 tables,"SELECT
   ID, MAX(Total)
FROM
    (
    SELECT ID, Total FROM Table1
    UNION ALL
    SELECT ID, Total FROM Table2
    ) foo
GROUP BY
   ID
"
13782,14645,SQL query using table aliases,"SELECT c1.name, c1.country, c2.name, c2.country 
FROM city c1, city c2
WHERE c1.country < c2.country
"
14068,38412,SQL - Combining 3 rows per group in a logging scenario,"select L1.Session, L1.Date, L1.Level, L1.Context, 'Api Call' AS Message,
       L3.ExecutionTime, 
       L1.Parameters as InputModel, 
       L2.Parameters as OutputModel,
       L3.Parameters as HttpResponse
from Log L1 
inner join Log L2 ON L1.Session = L2.Session
inner join Log L3 ON L1.Session = L3.Session
where L1.Message = 'Call Begin'
  and L2.Message = 'Call Response'
  and L3.Message = 'Call End'
"
2666,19699,Postgres: group query,"select t.country, t.month, t.code, t.code_count,
100 * t.code_count / cast( x.scc as float) as percentage
from t
left join
(
select country, month, sum(code_count) as scc
from t
group by country, month
) x
on x.month = t.month
"
32454,7021,Insert & Select,"update pd
    set EAC = r.EAC
    from [dbo].[Projectdetails] pd join
         [dbo].['RAC'] r
         on pd.[ProjectKey] = r.[Project _ID]);
"
16325,64863,"SPARQL Query, select everything except things that match?","select ?husband ?color where {?husband <spouse> ?wife . ?husband <likes> ?color . OPTIONAL {?wife <likes> ?wifecolor FILTER (?wifecolor = ?color)} FILTER (!BOUND(?wifecolor))}
"
25380,75619,"Firstname, middlename and lastname MS SQL","SELECT  picture,person_id,   firstname+ ' ' +middlename+ ' ' +lastname AS fullName
FROM    PERSON
WHERE   (firstname+ ' ' + LTRIM(middlename + ' ') + lastname LIKE""%#queryString#%"")
"
23286,19252,How can I find days between different paired rows?,"select count(distinct recipient_id)
from email e1
where e1.activity = 'delivered'
  and exists
        (select * from email e2
         where e1.recipient_id = e2.recipient_id
           and e2.activity = 'open'
           and datediff(e2.action_date,e1.action_date) <= 1)
"
34175,73977,Even Odd rows without using an outer query,"SELECT TOP (1) WITH TIES a, b, c,
       ROW_NUMBER() OVER (ORDER BY a) as ROWNUM,
       ROW_NUMBER() OVER (ORDER BY a) % 2 as BOOL
FROM love
ORDER BY BOOL DESC;
"
3758,31666,How to make this SELECT Query in DELETE Query?,"DELETE a.* FROM accounts a
JOIN (SELECT email
      FROM accounts
      GROUP BY email
      HAVING COUNT(*) > 1) dup
ON a.email = dup.email
"
13698,6711,Oracle: Update with join not working as expected,"update d_dim 
    set FLAG = case when id in (select id from t_temp) then 'Y' else 'N' end;
"
14274,21295,Is there a standard way to duplicate a row in a database table?,"INSERT INTO `<table>` (column1, column2, ...) -- Not IDENTITY columns
SELECT column1, column2, ... FROM ...
"
26724,49201,convert blob text to image and image to text,"<img src=""data:image/jpeg;base64,<?php echo base64_encode($_SESSION['pic']); ?>"" />
"
24134,71169,DB Schema Organization,"User (UserID, firstname, lastname, etc.)
Event (EventID, Name, Date, Location, Capacity, etc.)
EventRegistration (EventRegistrationID, UserID, EventID, ParticipantTypeID, etc.)
ParticipantType (ParticipantTypeID, Name)
"
23369,24803,connecting to mirror database when principal downs,"
Data Source=myServerAddress;Failover Partner=myMirrorServerAddress;Initial Catalog=myDataBase;Integrated Security=True;
"
27335,58512,Is it necessary to Use # for creating temp table in sql server?,"DECLARE @ItemBack1 TABLE
(
 column1 int,
 column2 int,
 someInt int,
 someVarChar nvarchar(50)
);

INSERT INTO @ItemBack1
SELECT column1, 
       column2, 
       someInt, 
       someVarChar 
  FROM table2
 WHERE table2.ID = 7;
"
34600,58824,mysql joining 2 tables getting 2 diferent values from the same table,"Select f.name, t.name, message from messages
Left join users as f on messages.fromID = f.uid
Left join users as t On messages.toid = t.uid
"
23322,74017,Select using LEFT OUTER JOIN with condition,"SELECT A.id,
       A.name,
       B.[datetime]
FROM   tableA A
       LEFT OUTER JOIN tableB B
                    ON A.Id = B.id
                       AND B.[datetime] < @date 
"
37670,8008,MySQL - Transferring data,"Update YourTable
set shortDate = date_format(`Date`, '%m%d')
"
19592,71326,How to select records from a Table that has a certain number of rows in a related table in SQL Server?,"SELECT
   b.foreignkey,
   count(b.foreignkey) as bidcount 
FROM 
   b
WHERE 
   b.foreignkey IN (SELECT a.id FROM a) 
GROUP BY 
   b.foreignkey 
HAVING 
   count(b.foreignkey) < 3  
"
25259,41530,Pivoting Dates to Day of week,"WITH t AS (
  SELECT
    Client,
    Task,
    Hours,
    ROW_NUMBER() OVER(PARTITION BY Client,Task,Date ORDER BY Date) rn,
    DATEPART(dw,date) DayOfWeek
  FROM MyTable
)
SELECT Client, Task, [1] Sun, [2] Mon, [3] Tues, [4] Wed, [5] Thu, [6] Fri, [7] Sat
FROM t
PIVOT(SUM(Hours) FOR DayOfWeek IN ([1],[2],[3],[4],[5],[6],[7])) p
"
8110,2424,save list order in database?,"response.write "" $('li','#myList').each(function(i,li) { ""

int i = 1;

sql= ""INSERT INTO links SET headline='""& headline &""',datum='""& datum &""',links_adress='""& links_adress &""', userId="" & userId & "", avd_id="" & i & "" ;""

i++;

conn.Execute (sql)

response.write"" })""
"
3655,4232,Group by and count with inner join,"SELECT Count(DISTINCT ORD.ORDERNUMMER)
FROM        Orders AS ORD
INNER JOIN Material AS KP ON KP.Ordernummer = ORD.Ordernummer
WHERE (KP.SOORT = 'SCREEN') AND ORD.PRODUCTIEORDER = '201132' AND ORD.LAND = 'Belgie'
"
24384,56358,Get the alternate rows in SQL,"SELECT GENDER, R = ROW_NUMBER() OVER (PARTITION BY GENDER ORDER BY GENDER)
FROM   PERSON
ORDER BY R, GENDER DESC
"
19742,71618,Sort varchar column starting with the first letter instead of the first character?,"IList<string> sorted = context.Terms.ToList()
    .OrderBy(t => Regex.Replace(t.Term, @""\W*"","""")).ToList();
"
26224,12484,Select distinct from multiple fields using sql,"SELECT DISTINCT(ans) FROM (
    SELECT right AS ans FROM answers
    UNION
    SELECT wrong1 AS ans FROM answers
    UNION
    SELECT wrong2 AS ans FROM answers
    UNION
    SELECT wrong3 AS ans FROM answers
    UNION
    SELECT wrong4 AS ans FROM answers
) AS Temp
"
23378,53425,T-SQL - Using CASE with Parameters in WHERE clause,"select * 
from Sales
where SaleDate between @StartDate and @EndDate
and
   (
    (@SalesUserId is not null and SalesUserId = @SalesUserID)
    or (@SiteId is not null and SiteId = @SiteId)
    or (BrandId = @BrandID)
   )    
"
28564,63788,Programatically select record in TDBLookupComboBox,"ADOQueryToUpdate->FieldByName(""Column_Name"")->AsInteger = ADOQueryFillingList->FieldByName(""Column_Name"")->AsInteger;
"
23139,37290,Insert row only if it doesn't exist already in MySQL,"You can add a primary key! It just has to be over two columns and not just one.
ALTER TABLE your_table
ADD PRIMARY KEY(idA, idB)
"
31819,14175,SQL: Exclude row if value in both columns,"SELECT * 
FROM table_name 
WHERE Login <> Alias
"
33636,42301,Sum up the column using Access sql query,"SELECT EID, SUM(PCNUM) FROM table1
GROUP BY EID;
"
20202,32245,"How to store a ""primary"" record","CREATE TABLE Location (
    LocationID INT PRIMARY KEY,
    CompanyID INT NOT NULL, -- References Company table, not shown here.
    LocationName VARCHAR(50) NOT NULL, -- Possibly UNIQUE?
    IsPrimary INT CHECK (IsPrimary IS NULL OR IsPrimary = 1), -- Use a BIT or BOOLEAN if supported by your DBMS.
    CONSTRAINT Locations_U1 UNIQUE (CompanyID, IsPrimary)
);
"
27859,64576,Automatically create scripts for all SQL Server Jobs,"DECLARE @object int
exec sp_OACreate 'SQLDMO.SQLServer', @object OUT
exec sp_OASetProperty @object, 'LoginSecure', TRUE
exec sp_OAMethod @object,'Connect(sqltest)'
exec sp_OAMethod @object, 'Jobserver.Jobs().Script()'
exec sp_OADestroy @object
"
17062,61281,How can I refer to the row that the update is currently updating?,"UPDATE STUDENT s
   SET points = s.points + CONSTANT * (SELECT p.score 
                                        FROM PLAYSIN p 
                                       WHERE p.name = s.name)
"
33887,32628,"Microsoft SQL-Apply ""Where"" Clause to Particular Columns","COUNT(case when Recordings_Sum >= 60 AND Recordings_Sum < 100 then 1 end) AS DaysAbove60
COUNT(case when Recordings_Sum >= 100 AND Recordings_Sum < 140 then 1 end) AS DaysAbove100
COUNT(case when Recordings_Sum >= 140 then 1 end) AS DaysAbove140
"
20678,38262,How to SUM columns from three mysql tables?,"select id, sum(value) from (
    select id, value from table1
    union all select id, value from table2
    union all select id, value from table3
) t group by id
"
4264,58660,Suggested users to follow SQL query,"SELECT u.id, u.name
FROM users u, relationships r
WHERE u.id = r.follows_user_id AND r.user_id = N
"
20653,1795,Creating date/time ranges with Oracle TIMESTAMP WITH TIMEZONE datatype,"SELECT COLUMN_NAME, MY_TIMESTAMP 
  FROM TABLE_NAME 
  WHERE MY_TIMESTAMP >= SYSDATE - INTERVAL '3600' SECOND
  ORDER BY MY_TIMESTAMP 
"
39374,27652,DELETE Row of a table with a condition with another table,"DELETE FROM BatchProducts
WHERE BatchProducts.ID = @ID
AND EXISTS (SELECT * FROM [Batch] 
    WHERE [Batch].ID = BatchProducts.BatchID AND [Batch].RetailerID = @RetailerID)
"
33933,36290,Issue with creating XMLQuery for given XPATH,"//OrderVal/Orderattrs/Orderattr/(@Ordername, OrderVals/OrderVal/listvalue)/data(.)
"
17291,74275,SSMS - Varying number of parameters in a stored procedure,"create procedure prTest 
@i int = null, @i2 int = null
as
select @i,@i2
go

exec prTest 1  --just pass 1 parameter, 2nd is default
go
exec prTest   -- leave all as default
go
exec prTest @i2 = 5  --to pass in a param if it is not 1st, use names
go
exec prTest null,5  --same as above
"
15068,53124,A more efficient way to do this select and update loop,"UPDATE
    likes
INNER JOIN votes
    ON votes.votedElm = likes.id
    AND votes.country = likes.country
SET
    likes.votes = IF(votes.vote_type = 0,likes.votes+1,likes.votes-1),
    votes.voteProcessed = 1
WHERE
    votes.voteProcessed = 0
"
7660,56003,How to make sql query case insensitive in sqlite for my iOS app,"SELECT * FROM PROFILE WHERE upper(no) = upper(?);
"
5187,24645,UPDATE from two INNER JOINS,"UPDATE inventar i INNER JOIN
       product_to_category ptc
       ON ptc.product_id = i.product_id INNER JOIN
       category_description cd
       ON cd.category_id = ptc.category_id
   SET i.category = cd.name;
"
29562,50039,compiling invalid oracle procedures,"CREATE OR REPLACE PROCEDURE proc_main AS
BEGIN

   EXECUTE IMMEDIATE 'BEGIN proc_child1; END;';

   EXECUTE IMMEDIATE 'BEGIN proc_child2; END;';

   EXECUTE IMMEDIATE 'BEGIN proc_child3; END;';

   proc_compile_invalids;  -- This invokes 
                           -- ""alter procedure <procedure_name> compile"" 
                           -- statement for all the invalids.

END;
"
13661,63152,Copying data between two tables using ID from third table,"CREATE TABLE a(id INT);
INSERT INTO a (id) VALUES (1,2,3,4,5,6);

CREATE TABLE b(id INT);
INSERT INTO b (id) VALUES (10,20,30,40,50,60);

CREATE TABLE c (a_id INT, b_id INT) AS SELECT a.id AS a_id, b.id AS b_id FROM a,b;
"
27889,25861,Select subarray and its length in PostgreSQL,"SELECT l.country, c.list, c.list_count
FROM   location l
LEFT   JOIN (
   SELECT location_id AS id
         ,array_agg(id) AS list
         ,count(*) AS list_count
   FROM   competition
   GROUP  BY 1
   ) c USING (id)
"
12404,11088,SQL DB2 null calculation causing problems,"Select
  dmvndn ""Vendor Number"",
  IFNULL(sum(dmsls) / NULLIF(sum(dmprc), 0), 0) ""Calculation""
From MyFile
Group By dmvndn
"
16023,39176,"SQL Server query freezes when I use ""where""","exec sp_msforeachtable ""dbcc dbreindex('?')"" 
"
2082,34687,How to select using criteria? SQL syntax,"Select Table1.*
from Table1
where (X = 0 or Width = X) and
      (Y = 0 or Height = Y) and
      (Z = 0 or Length = Z)
"
12095,35561,Sum multiple columns using a subquery,"SELECT a.name, 
       SUM(B.sequence + B.length)    AS total
 FROM Tbl1 A
      INNER JOIN Tbl2 B
         ON B.sequence = A.sequence
WHERE A.loc <> -1
  AND A.id = 10201
      GROUP BY a.name
      ORDER BY A.location
"
23393,64478,Remove dots and hyphen on where clause MySQL,"WHERE
  REPLACE
    (
      REPLACE
       (
         some_column, ""-"", """"
       ), ""."", """"
    ) in ('10000000000', '1999999999')
"
33709,2526,"MS-Access: Replace ""bracket""","public function ReplaceCodes(str as string) as string
     dim returnString as string

     returnString = str
     returnString = replace(returnString,""abc-longcode"","""")
     // ... etc...

     ReplaceCodes = returnString
end function
"
37992,43525,SQL multiple lookups for a single code column in an SQL query,"SELECT 
    ITEM_ID, 
    (SELECT name FROM Code WHERE CODE_ID = Claim_ID) AS Claim_ID_NAME, 
    (SELECT name FROM Code WHERE CODE_ID = status_ID) AS status_ID_name
FROM Claim
"
35083,18251,SQL Query to compare two most recently modified row of the same table,"select id, max(case when seqnum = 1 then value end) as value
from (select t.*, row_number() over (partition by id order by modifieddate desc) as seqnum
      from table t
     ) t
group by id
having max(case when seqnum = 1 then value end) <> max(case when seqnum = 2 then value end);
"
34422,53786,A procedure to Reverse a String in PL/SQL,"CREATE OR REPLACE PROCEDURE ReverseOf(input IN varchar2) IS
        reverse varchar2(50);
BEGIN
        FOR i in reverse 1..length(input) LOOP
                reverse := reverse||''||substr(input, i, 1);
        END LOOP;
        dbms_output.put_line(reverse);
END;
"
3228,70211,"Is there a single query that can update a ""sequence number"" across multiple groups?","Set @seq = 0;
Set @type_id = -1;

Update `log`
Set `sequence` = If(@type_id=(@type_id:=`type_id`), (@seq:=@seq+1), (@seq:=1))
Order By `type_id`, `created_at`;
"
8138,8851,MySQL query table to get data between start and end date,"SELECT *
FROM   run
WHERE  run_id NOT IN (SELECT runID 
                      FROM   booking
                      WHERE  startDate >= '10/07/2015' AND
                             endDate <= '15/07/2015');
"
20220,67347,boolean logic on multiple rows of an sql table,"select unique id from table as t1
where (t1.source = 'a' or t1.source='f')
  and exists 
   (select * from table as t2
    where t2.id = t1.id and (t2.source = 'c' or t2.source='g')
    )
"
18833,57409,How to Convert Varchar(1) to Bit in Sql Query?,"select case when your_varchar_column = 'N' 
            then 1 
            else 0 
       end as your_bool_result
from your_table
"
34789,28202,How to get the max value in relation table using MYSQL,"SELECT   v.id, MAX(duration)
FROM     video v
JOIN     source s ON s.id IN (v.source_low, v.source_med, v.source_high)
GROUP BY v.id
"
4793,2338,Get unique common records with all records from both tables?,"select *
from table1 t1
union all
select *
from table2 t2
where not exists (select *
                  from table1 t1
                  where t1.invno = t2.invno
                 );
"
27139,59497,Query to get intersect,"select spj1.jnum as jnum1, spj2.jnum as jnum2 
from spj spj1
join spj spj2 on spj1.pnum = spj2.pnum and spj1.jnum < spj2.jnum
group by spj1.jnum, spj2.jnum
having count(distinct spj1.pnum) >= 100;
"
28456,28435,"SQL: How to select a count of multiple records from one table, based on records in a different table?","SELECT message, count(commentID) 
FROM tableA LEFT JOIN tableB ON tableA.messageID = tableB.messageID 
GROUP BY message
"
17943,53546,How to solve this SQL query (header and detail)?,"select d.employee_id, h.week_start_date
from detail d
join header h on h.header_id = d.header_id
group by d.employee_id, h.week_start_date -- employees with same week_start_date
having (
  count(distinct h.location_code) > 1 -- have more than 1 location
  or count(distinct h.department_code) > 1 -- or more than 1 department
)    
"
11099,10682,SQL database design advice needed,"Sale table: 
-----------------------------
sale_id autonumeric(1,1) PK
, emp_id int FK
, prod_id int FK
, price decimal(10,2)
, sold_date datetime(2)
, other_interesting_sale_details
"
7699,27923,How can I import a mysql dump?,"mysql -uroot -p database_name < backup.sql
"
16826,73419,MySQL Group by consecutive values,"select t1.id
     , t1.job_id
     , t1.updatedate
     , t2.rn as rnt2
  from temprwithrn as t1
  left 
  join temprwithrn as t2
    on t1.rn = t2.rn + 1
 where t1.job_id <> t2.job_id or t2.job_id is null
"
31431,18490,Heroku - SQL query return difference results on localhost and heroku,"db=# select current_date - interval '15' year;
      ?column?       
---------------------
 1997-04-26 00:00:00

db=# select current_date - interval '15'
        years        
---------------------
 2012-04-25 23:59:45

db=# select current_date - interval '15 year';
      ?column?       
---------------------
 1997-04-26 00:00:00
"
32248,14281,Is it possible to use values from another table as the interval in a DATEADD function?,"MyTable:
ID    Interval    Date
1     1           10-10-2001

SELECT ID, DATEADD(D, Interval, GETDATE()) AS NewDate FROM MyTable


SELECT e.*
FROM [events] e
INNER JOIN [interval] i on e.customerID = i.customerID
WHERE e.date = DATEADD(D, i.daysBefore, 
                   DATEADD(D, 0, 
                       DATEDIFF(D, 0, GETDATE())))
"
8696,50176,MySQL row as a column,"SELECT p.ID, m1.meta_value as event_address, m2.meta_value as event_date, p.post_title 
from events_posts p
inner join events_postmeta m1
on p.ID=m1.post_id and p.post_type='event' and (p.post_status='publish' or p.post_status='recurring') 
and m1.meta_key='address'
inner join events_postmeta m2
on p.ID=m2.post_id and p.post_type='event' and (p.post_status='publish' or p.post_status='recurring') 
and m2.meta_key='st_date'
order by p.ID
"
4501,70320,Sorting data according to current date,"SELECT * FROM posts
ORDER BY
    DATE(published_at)=DATE(NOW()) DESC,
    DATE(published_at)<DATE(NOW()) DESC,
    DATE(published_at)>DATE(NOW()) ASC`
"
37962,56840,SQL - Select everything that does not follow proper format,"select *
from Table
Where SSN not Like '[0-9][0-9][0-9][0-9]'
"
22261,74652,Fetch last item in a category that fits specific criteria,"   SELECT * 
     FROM categories AS c
LEFT JOIN (SELECT * FROM articles ORDER BY id DESC) AS a
       ON c.id = a.id_category
      AND /criterias about joining/
    WHERE /more criterias/
 GROUP BY c.id
"
15352,33579,Check a lot of colums for at least one 'true',"DECLARE  @T TABLE (
b1 bit
,b2 bit
,b3 bit
);

DECLARE @T2 TABLE (
b1 bit
,b2 bit
,b3 bit
,b4 bit
,b5 bit
);

INSERT INTO @T VALUES (0,0,0),(1,1,1);
INSERT INTO @T2 VALUES (0,0,0,0,0),(1,1,1,1,1);

SELECT CHECKSUM(*) FROM @T;
SELECT CHECKSUM(*) FROM @T2;
"
34047,58308,Using cookie to execute SQL select,"var customerName = """";
var customerEmail = """";
if (Request.Cookies[""BookingReq""] != null) {
    var breq = db.Query(""SELECT * FROM BookingRequests WHERE BookingGUID = @0"", Request.Cookies[""BookingReq""].Value);
    //I don't know webmatrix so I don't know what happens to breq if that value doesn't exist - I'll assume it's null
    if (breq != null) {
        customerName = breq.CustomerName;
        customerEmail = breq.CustomerEmail;
    }
}
"
20371,2446,How to select row with the latest timestamp from duplicated rows in a database table?,"SELECT * FROM ( 
SELECT pk_id, 
       user_id, 
       some_timestamp, 
       ROW_NUMBER() OVER (PARTITION BY user_id ORDER BY some_timestamp DESC) col 
FROM table) x  
WHERE x.col = 1
"
36715,9936,Update records with a key pair,"UPDATE `User` u
LEFT JOIN `User` maxUser ON u.user = maxUser.user AND maxUser.endDate > u.endDate
SET u.`endDate` = NULL
WHERE maxUser.user IS NULL;
"
13302,64502,Remove on update condition without drop mysql table,"ALTER TABLE `invoices`.`invoices`
    CHANGE `DateTime` `DateTime` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
"
39886,66489,SQL consecutive occurrences count,"select key1, key2, key3, emailSent_Date,
       row_number() over (partition by key2, key3 order by key1) as ""Count""
from ""table"";
"
32834,71651,How to select parent rows that doesn't have child and child that has parent rows,"/* All parents without children */
SELECT  a.*
FROM    tbl_Categories a
WHERE   NOT EXISTS (
          SELECT * 
          FROM   tbl_Categories b
          WHERE  b.CategoryId_fk = a.CategoryId
)
/* All children */
UNION ALL
SELECT  a.*
FROM    tbl_Categories a
WHERE   CategoryId_fk IS NOT NULL
"
16410,647,"Find records that belong to the same identifier, check for multiple occurences of value in column","select t.*
from (select t.*,
             sum(case when cust_type = 'M' then 1 else 0 end) over (partition by sales_id) as NumMs
      from table t
     ) t
where NumMs > 1;
"
22090,59710,Modify FindAll function to a DoesExist function in SQL Server,"WHILE @Id IS NOT NULL AND @Id <> @AncestorId
BEGIN
 SET @Id = (
  SELECT ManagerId FROM dbo.Users WHERE UserId = @Id
 )
END

RETURN CASE WHEN @Id IS NOT NULL THEN 1 ELSE 0 END
"
4693,30094,Get intersection of sets in mysql db,"SELECT t2.person_id, COUNT(*) int_size, GROUP_CONCAT(t2.preference_id) shared_preferences
FROM table t1
JOIN table t2 ON t1.preference_id = t2.preference_id
WHERE t1.person_id = 1
AND t2.person_id != 1
GROUP BY t2.person_id
ORDER BY int_size DESC
LIMIT 10
"
16673,31760,Custom order in Oracle PL/SQL,"ORDER BY DECODE(
         GRADE_MASTER.GRADE_DESCRIPTION,
         'SENIOR DIRECTOR', 1,
         'DIRECTOR', 2,
         'MANAGER', 3,
         'EMPLOYEE', 4,
         5)
"
13381,41653,MySQL: Create all the rows where at least one attribute belongs,"SELECT b.id, group_concat(c.a) a
FROM a_b
  JOIN a ON a.id = a_b.a
  JOIN b ON b.id = a_b.b
  JOIN a_b c on b.id = c.b
WHERE a.name = 'bob'
GROUP BY b.id
"
22321,7574,How to execute more than one query at the same time in mssql,"SELECT     InspectionProcedureName AS Inspection, COUNT(*) AS Total
FROM         UnitData_Vehicle
WHERE     (DATEDIFF(day, InspectionDateTime, GETDATE()) = 1)
GROUP BY InspectionProcedureName
UNION ALL
SELECT     InspectionProcedureName AS Inspection, COUNT(*) AS Total
FROM         AnotherTable
WHERE     (DATEDIFF(day, InspectionDateTime, GETDATE()) = 1)
GROUP BY InspectionProcedureName
UNION ALL
-- Next query etc...
"
23824,46014,Selecting value via substracting another value from a total number,"SELECT ID FROM FA WHERE MASS = 800 - (SELECT MASS FROM FA WHERE ID = '14:0')
"
19484,44045,mySQL subquery slower than 2 seperate queries,"SELECT DISTINCT SUBSTRING( 6pp, 1, 4 ) AS postcode
FROM `6pp`
WHERE EXISTS (SELECT 1
              FROM tmp_orderimport oi
              WHERE oi.gebiedID = `6pp`.gemeenteID AND
                    typeGebied = 'Gemeente' AND idorder = 1733 AND STATUS = TRUE
             ); 
"
24876,19638,Drupal database data parsing,"$data = unserialize(""thatlongstring"");
print_r($data);
"
17762,43982,mysql rank and subtraction of count,"  select t.candidateid ,  @curRank := @curRank + 1 AS rank, if(@prevote=-1, 0,@prevote-t.num) as sub, @prevote:=t.num as num
    from 
    (
    SELECT    candidateid,
            count(*) as num
    FROM      vote p
    group by candidateid
    ORDER BY  num desc
    ) t, (SELECT @curRank := 0, @prevote:=-1) r
"
24414,56486,PL/SQL issue concerning Frequent Itemset,"FOR i IN coll_nt.FIRST .. coll_nt.LAST
LOOP
    dbms_output.put_line(i||': '||coll_nt(i));
END LOOP;
"
21911,31637,SQL - Specific group by,"SELECT *
FROM (
    SELECT *, ROW_NUMBER() OVER (PARTITION BY cav_id ORDER BY updated DESC) seq
    FROM yourTable) dt
WHERE seq = 1;
"
534,7251,Joining 2 Count Query With Group By Clause,"SELECT UserID, COUNT(*) Total, SUM(CASE WHEN JoinStatus = 2 THEN 1 END) Joined
FROM Customer
WHERE JoinYear = 2016 AND JoinMonth = 1 AND JoinWeek = 2 AND JoinDay = 1
GROUP BY UserID
"
26872,62363,Oracle's Equivalent to DEFAULT in T-SQL,"CREATE OR REPLACE PACKAGE my_constants
AS
  color_alpha constant integer := 255;
END my_constants;
"
33798,44666,PostgreSQL GOTO bak in function,"CREATE OR REPLACE FUNCTION task_manager(task integer, params text)
   RETURNS integer AS $$
BEGIN
IF task = 1 OR task = 2 THEN

  -- some work 1


END IF;

  IF task = 2 THEN

  -- some work 2


END IF;

RETURN null;
END;
$$ LANGUAGE plpgsql;
"
5856,6743,Django Query Optimisation,"sigma=0
demo_by_age = Demo.objects.filter(age_group=age);

popn=demo_by_age.count() #One

card_list = demo_by_age.values_list('card_no', flat=True) # Two

dic = Fact_table.objects.filter(card_no__in=card_list).aggregate(Sum('duration') #Three
sigma = dic['duration__sum']

avgDur=sigma/popn
"
34210,18003,Generate an executable SQL script from an SQL Server database project,"    private void UpgradeDatabaseWithDacpac(string connectionString, string databaseName, string dacpacFileName)
    {
        DacPackage dacPackage = DacPackage.Load(dacpacFileName);
        DacServices dacServices = new DacServices(connectionString);
        dacServices.Deploy(dacPackage, databaseName, true);
    }  
"
3294,15677,When using SELECT can you modify the value of a returned field based on other fields?,"SELECT city,state,
CASE 
 WHEN (city IS NULL OR city='') AND (state IS NULL or state='') THEN ''
 ELSE country
END as country_1
 FROM `table`
"
18733,62460,SQL Server store multiple values in sql variable,"declare @caroptions table
(
    car varchar(1000)
)

insert into @caroptions values ('BMW')
insert into @caroptions values ('Toyota')
insert into @caroptions values ('Nissan')

select * from cars where make in (select car from @caroptions)
"
8396,42662,SQL Server ORDER BY [aggregation] DESC/ASC,";WITH oc AS
(
SELECT [order], 
       COUNT([order]) AS order_count
FROM   order_comment 
GROUP  BY [order]
), occ AS
(
SELECT o.*,
       order_count AS comment,
       ROW_NUMBER() OVER (ORDER BY order_count DESC) AS  [rownum]
FROM [order] o
INNER JOIN oc ON oc.[order] = o.id
)
SELECT *
FROM occ 
WHERE  [rownum] BETWEEN 0 AND 10
ORDER BY [rownum]
"
8781,53708,Assign values from a column to another column in the correspondent row,"update your_table
set column1 = column1 || column2
"
18710,48545,SQL check if a row of table A exists in tables B or C,"select (case when su1.id is not null and su2.id is not null then 'BOTH'
             when su1.id is not null then 'TYPE1'
             when su2.id is not null then 'TYPE2'
             else 'Neither'
        end)
from (select 999 as user_id from dual) u left join
     sub_user_1 su1
     on su1.id = u.user_id left join
     sub_user_2 su2
     on su2.id = u.user_id
"
24754,49047,Full text search on PostgreSQL,"SELECT title, body FROM messages
  WHERE tsv @@ to_tsquery('english', 'title & body')
"
1728,11000,Simple change causes SQL query execution time to dramatically increase,"SELECT
  a.StringValue, COUNT(a.StringValue)
FROM Attributes a
INNER JOIN ProductAssociations p ON a.ProductAssociation = p.ID
    AND p.ProductCode = 'MyProductCode'
LEFT JOIN Attributes a2 ON a2.ProductAssociation = p.ID
    AND a2.Name = 'Is Test' AND a2.BooleanValue = 0       
WHERE
  Name = 'Windows OS Version'
  AND StringValue IS NOT NULL
  AND COALESCE(a2.ProductAssociation, NULLIF(@IsTestsIncluded, 1)) IS NOT NULL
GROUP BY a.StringValue
"
9664,43841,"SQL integer query, find integer within +/- 1","SELECT integername 
FROM tblintegerlist 
WHERE (integername-<variable>) BETWEEN -1 AND 1
"
32460,49974,SQL query to fetch records based on related id in the same table,";WITH cte
AS
(
    SELECT Id, Name, ParentId  
    FROM Color 
    WHERE ParentId = @parentIdValue
    UNION ALL
    SELECT c2.Id, c2.Name, c2.ParentId  
    FROM cte c1
    INNER JOIN Color c2 ON c2.ParentId = c1.Id
)
SELECT * FROM cte;
"
10423,35587,How to convert date to ISO 8601 in SQL-Server?,"SELECT CONVERT(char(30), '2006-09-08 14:39:41.000',126)
"
2420,13282,From oracle to mySQL,"  SELECT CONCAT('DROP TABLE `',t.table_schema,'`.`',t.table_name,'`;') AS stmt
       FROM information_schema.tables t WHERE
         t.table_name LIKE 'USER_%%' ESCAPE '\\'
         ORDER BY t.table_name
"
28710,70991,Losing data when joining two tables in mysql?,"SELECT locations.id as loc_id, meets.id as meets_id, ... FROM meets LEFT JOIN locations ON locations.id=meets.loc ORDER BY date DESC
"
13115,13879,Select minimum date value in a table,"select Account, security_name, broker_name, balance_bf, tran_amt, tran_date,
   FIRST_VALUE(balance_bf) OVER (PARTITION BY security_name, broker_name ORDER BY tran_date) as first_balance,
   FIRST_VALUE(tran_date) OVER (PARTITION BY security_name, broker_name ORDER BY tran_date) as first_tran_date
from customer_transactions;
"
33231,52012,sqlite3 unixtime interval query by multiplication and division,"WITH RECURSIVE intervals(t) AS (
    VALUES(1413902400000)
    UNION ALL
    SELECT t + 600000
    FROM intervals
    WHERE t < 1413972000000
)
SELECT intervals.t,
       COUNT(*)
FROM intervals
LEFT JOIN MyTable
    ON MyTable.unixtime BETWEEN intervals.t
                            AND intervals.t + 599999
GROUP BY 1;
"
29127,60957,Eloquent change value of a column with a condition,"public function getStatusAttribute($value) {
    return ($value) ? ""Approved"" : ""Pending"";
}
"
4800,19259,How to search for multiple values on inner join,"select 
   p1.gameId 
from 
   participants as p1, participants as p2 
where
   p1.name = 'Team1' and p2.name='Team2' and p1.gameId = p2.gameId
"
18350,67193,Flag field conversion from old table to new one,"INSERT INTO NewTable (flagNewTableCol,othercolumns)
SELECT CASE WHEN flagColunn = 'Y' THEN 1
            ELSE 0
       END, othercolumns
FROM OldTable
"
32827,60053,"How do I select records by comparing values in columns B, C among records with same value in column A?","SELECT orders.user, orders.item, orders.date
FROM orders, (SELECT * FROM orders WHERE item = 'ball') ball_table
WHERE orders.user = ball_table.user AND orders.date > ball_table.date;
"
4281,59589,Duplicated rows,"select  a.Data, b.Data
from    Table1 a
left join Table2 b
    on  b.JoinValue = a.JoinValue
    and b.DateField =(
        select Max( DateField )
        from   Table2
        where  JoinValue = b.JoinValue );
"
24693,2109,insert by selecting values from two columns into a column from the same table,"INSERT INTO table1 (username)
SELECT CONCAT(COALESCE(prefix, 'AB'), LPAD(COALESCE(MAX(id), 0) + 1, 3, '0'))
  FROM table1
"
21934,57709,Oracle group orders by date and sum the total,"select
  sum(order_total) as total_amount,
  to_char(trunc(created_date), 'DD/MM/YYYY') as grouped_date
from
  orders
where
  status = 'Complete' and
  created_date >= trunc(sysdate-30)
group by
  trunc(created_date)
order by
  trunc(created_date) asc
"
26665,53718,Replace into Sql (Not all line just special letter inside it),"update _Items SET CodeName = REPLACE(CodeName,'_08_','_07_') 
where CodeName LIKE '%_08_%'
"
32939,36741,SQLView not working,"WHERE start_date <= sysdate
AND closing_date >= sysdate
"
6378,74125,Update Column based on Bulk insert from CSV SQL,"UPDATE i 
SET TrimNumber = tempintr.TempTrimNumber
FROM Interpreters AS i INNER JOIN 
     #InterpreterTrimNumbers tempintr
     ON i.TrimNumber= tempintr.TempTrimNumber
"
37880,27281,Using XQuery in Oracle,"SELECT XMLQuery('
    for $customer in ora:view(""customer"")/ROW
       return $customer/LAST_NAME
' RETURNING CONTENT) FROM DUAL;
"
11343,41151,selecting rows in sql in sequence fashion of column,"select t.id, t.col, t.filter
from (select t.*,
             @rn := if(@f = filter, @rn + 1, if(@f := filter, 1, 1)) as rn
      from table t cross join
           (select @f := '', @rn := 0) vars
      order by filter, id
     ) t
order by rn, field(filter, 'type1', 'type2', 'type3');
"
11123,19752,SQL: Is it possible to merge these two SQL statements into a single query?,"SELECT COUNT(DISTINCT CustomerID) as Total,
       COUNT(DISTINCT CASE WHEN OrderDate >= '2016-01-01' THEN CustomerID END) as Total_2016
FROM Orders;
"
21854,36503,oracle sql query to format number by comma,"SELECT  TO_CHAR(696585242087, '99G999G999G9999', 'NLS_NUMERIC_CHARACTERS="",.""')
FROM    dual
"
7738,24165,How do I rename a column in a database table using SQL?,"essais=> SELECT * FROM Test1;
 id | foo | bar 
----+-----+-----
  2 |   1 |   2

essais=> ALTER TABLE Test1 RENAME COLUMN foo TO baz;
ALTER TABLE

essais=> SELECT * FROM Test1;
 id | baz | bar 
----+-----+-----
  2 |   1 |   2
"
18420,39452,SQL Query to get Top 1 with greatest modifieddate From Group BY ID. How can i achieve this?,"with C as
(
  select *,
         row_number() over(partition by ToOrganizationID order by ToLastModifiedDate desc) as rnTo,
         row_number() over(partition by ToOrganizationID order by FromLastModifiedDate desc) as rnFrom
  from MergeAndDeleteNonprofitDetails
)
select *
from C
where rnTo = 1 or
      rnFrom = 1
"
33984,73516,find marks of each student for each quarter.write a query to find out the maximum mark of all the quarters for each student,"select student, greatest(q1, q2, q3, q4) as greatest_value
from sample;
"
34856,44616,how to change all records of a specific field in mysql,"UPDATE topMovies
SET movieId = REPLACE(REPLACE(movieId,'/title/',''),'/',''),
year = REPLACE(REPLACE(year,'(',''), ')','')
"
3888,28331,SQL Server counter column that increments when a new record has been added,"SELECT *, 
  ROW_NUMBER() OVER (PARTITION BY ReportId ORDER BY Time) as IncrementColumn
FROM ProcessMaster
"
327,29118,sql where condition,"select user_1, user_2
from t
group by user_1, user_2
having count(*) >= 2;
"
29337,11489,MYSQL: How do I create a trigger that calculates a field value based on value from different table?,"DELIMITER $$

CREATE TRIGGER `yourDB_polozky`
   BEFORE INSERT
   ON `yourDB`.`polozky`
   FOR EACH ROW
BEGIN
   DECLARE vat_rate   float;

   SELECT DPH
     INTO dph_rate
     FROM `yourDB`.`dph`
    WHERE id = new.dph_id;

   SET new.cena = (1 + dph_rate) * (new.cena_za_kus * new.mnozstvi);
END
$$
"
4210,12176,Scoring database entries by multiple columns,"select *
from (
    select *,
      case when location = 'berlin' then 5 else 0 end +
      case when royality >= 100 then 1 else 0 end +
      case when familylaw = null then 1 else 0 end +
      case when criminallaw = true then 1 else 0 end as score
    from tbl
) scored
order by score desc
"
29793,17586,How to make a case when better in sql,"DECLARE @from INT=1
DECLARE @to  INT=5,
        @cnt INT,
        @sql NVARCHAR(max)

SET @cnt=@from
SET @sql='select '

WHILE @cnt <= @to
  BEGIN
      SET @sql += 'sum(sum' + CONVERT(VARCHAR(50), @cnt) + '),'
      SET @cnt+=1
  END

SELECT @sql = LEFT(@sql, Len(@sql)-1)+ ' from tablename group by GroupByID'

exec sp_executesql @sql 
"
37151,7652,Applying calculations based on a number of criteria stored in separate tables?,"SELECT ...
Product.ProductPrice as Price,
CustomerRules.ProductPriceRules as Rules
FROM Product
LEFT JOIN Customer
ON ...
LEFT JOIN CustomerRules
ON Product.ProductID = CustomerRules.ProductID
AND Customer.CustomerID = CustomerRules.CustomerID
"
15045,71899,SQL Group By COUNT in two,"SELECT CCID, 
   COUNT(CASE WHEN TypeID = 5 THEN CCID END) as OurTypeCnt,
   COUNT(CASE WHEN TypeID <> 5 THEN CCID END) as NotOurTypeCnt
FROM CCsTransactions 
GROUP BY CCID
HAVING ((OurTypeCnt >= 1) AND (NotOurTypeCnt < 1))
"
11966,41964,SQL Server 2005 - Columns to Row,"select distinct t1.[key],
  STUFF((SELECT distinct ', ' + t2.plant
         from yourtable t2
         where t1.[key] = t2.[key]
            FOR XML PATH(''), TYPE
            ).value('.', 'NVARCHAR(MAX)') 
        ,1,2,'') plant
from yourtable t1;
"
9429,9767,SQL- Finding the users with the Maximun average score,"WITH tempTable 
AS (select userid, AVG(score) FROM sample GROUP BY userid)

SELECT * FROM tempTable WHERE score = (SELECT MAX(score) FROM tempTable)
"
31913,30202,Custom user autonumber,"Me!AutoNumber.Value = Format(Val(Nz(Right(DMax(""[AutoNumber]"", ""[YourTable]""), 3), 0)) + 1, ""\D000"")
"
14201,37402,SQL CUT and PASTE to COLUMN,"UPDATE   TableName
SET      Col2 = Col1,
         Col1 = NULL
WHERE    Col1 IS NOT NULL
"
38133,514,Select only the rows where column values appear more than once,"select *
from A
  inner join B on A.id_x = B.id_x
  inner join C on B.id_y = C.id_y
  inner join D on C.id_z = D.id_z
where
  A.date > '2014-01-01'
  and A.id_y = 154
  and D.id_t = 2
  AND  A.id_x IN
  (
  SELECT A.id_x FROM A
  GROUP BY A.id_x
  HAVING count(A.id_x)>1);
"
26482,3168,Return Column name in case statement but no table involved,"SELECT
      --Set image for xmas
      CASE WHEN @CurrentMonth = 12 AND @CurrentDate = 25
         THEN 'imagetest.png'
      --Set for easter
       WHEN @CurrentMonth = 3 AND @CurrentDate = 19
         THEN 'imagetest2.png'
      --Keep setting images for events
      WHEN @CurrentMonth = 3 AND @CurrentDate = 19
         THEN 'imagetest3.png'
      --If no match, return default image
      ELSE  'logo.png' 
   END AS url
"
13383,52824,How to delete rows in associated SQL tables?,"delete 
from GlassesColor 
where GlassesID in (select GlassesID from Glasses where CollectionID = 3)
"
15394,73539,passing the desc command to oracle using openquery,"SELECT
  Column_Name,
  Data_Type,
  Data_Length,
  Data_Precision,
  Nullable
FROM All_Tab_Columns
WHERE Owner = '<schema>' AND Table_Name = '<table>'
ORDER BY Column_ID
"
8753,19547,SQL: How to update a Composite Key?," UPDATE accounts 
    SET account_id = '30' 
  WHERE account_id = '20'
        AND user_id = '10';
"
5198,18580,Selecting data where there's less than 10 linked rows,"select a.Id from proxy a, account b
where a.ID = b.proxyId
group by a.ID
having count(*) <= 10
"
29494,500,Filter data based on matches within data,"awk -F \* 'NR==FNR{if (/\*/)a[$1]}
NR>FNR{  if (/\*/)
       {print;next}
   s=0
   for (i in a)
       {if ($0~i){s++;break}}
   if (s==0) print
}' file file
"
22884,2632,How to manually move rows from one database to the next?,"INSERT INTO [NewDB].[dbo].[Aliases] 
SELECT columns
FROM [OldDB].[Terminal].[Alias]
"
5689,45656,SQL - include this record if these other records are included,"SELECT p.*, o.* 
FROM Policy p
    JOIN OtherPolicyFile o on o.PolicyId = p.PolicyId 
    LEFT JOIN OtherPolicyFile o9or10 
        on o9or10.PolicyId = p.PolicyId and o9or10.Status IN (9,10)
WHERE o.Status IN (9,10)
    OR o.Status = 11 AND o9or10.PolicyId is NOT NULL
GROUP BY <whatever key you need>
"
6788,40554,sql. Getting a max(avg(column)),"SELECT source_id, company_id, MAX(avg_click) as max_click FROM 
(SELECT source_id,company_id,AVG(clicks) AS avg_click FROM table_company
GROUP BY source_id,company_id
ORDER BY avg_click DESC) tmp
GROUP BY company_id
"
33618,62431,Update query in Access with variable that can be empty but constraint the prevents update,"SQLString = ""UPDATE tblRegister"" & _
            "" SET tblRegister.Status = "" & IIF(StatusID=0,""NULL"", StatusID) & _
            "" WHERE tblRegister.ID = 'reg01'
"
19964,19840,Remove columns in sql-file,"insert  into `films_genres_temp`
    (`id`,`film_id`,`genre_id`,`num`) 
    values 
    (1,1,1,1),
    (2,1,17,2),
    (3,2,1,1),
    ...

insert into `films_genres`
    (`film_id`,`genre_id`)
    select `film_id`,`genre_id`
        from `films_genres_temp`
"
30996,57826,Access SQL database - ORDER BY,"ORDER BY Val(MasterPNo)
"
35948,52995,Query plan for database table containing trillions of records,"select place
from myTable
where Designation='Manager' and
      timeOfJoining > '1930-10-10' and
      timeOfLeaving < '1950-10-10';
"
31562,38805,Django 1.4 primary key conflict after a bulk_create,"select setval('keyword_id_seq', 3); 
"
6073,11613,Is it possible to pass a value to an order by clause using SQL?,"select b.KeyValue,
       a.rqstId,
       a.orchiveId,
       case when c.KeyTypeName = 'key2' then 0 else 1 end as KeyTypeNameForOrder
  from rqst a, key b, keyType c
 where a.statusId = 102
   and a.requestType = 4
   and a.processTypeId = 5
   and b.rqstId = a.rqstId     
   and c.KeyTypeId = b.keyTypeId
 order by 4
"
6367,16762,SQL comparison condition column to choose the table to JOIN,"select g.*, coalesce(s1.erynda_kakayato, konkretnaya_hren)
from general g left join
     secondary1 s1 
     on s1.general_id = g.id and g.type_id = 1 left join
     secondary s2
     on s2.general_id = g.id and g.type_id = 2 ;
"
14302,6191,Return section of a string,"SELECT SUBSTRING('Z00056ABC00044', 1, CHARINDEX('ABC', 'Z00056ABC00044') -1)
"
25309,64726,Group By day of month across calendar days - SQL Server 2012,"sum(case when day([date]) = 1 then 1 else 0 end) as day1,
sum(case when day([date]) = 2 then 1 else 0 end) as day2,
sum(case when day([date]) = 3 then 1 else 0 end) as day3,
sum(case when day([date]) = 4 then 1 else 0 end) as day4,
etc
sum(case when day([date]) = 31 then 1 else 0 end) as day31
"
36268,6873,SQL Riddle on relations,"CREATE TABLE a (
    id int,
    other_id int REFERENCES b(id)
);
CREATE TABLE b (
    id int,
    other_id int REFERENCES a(id)
);
INSERT INTO a VALUES (1,1);
INSERT INTO b VALUES (1,1);
"
20089,2175,How to get first login per day of users in a date range,"SELECT UserID, MIN(Login_Date) as First_Login_Date
FROM Login
WHERE Login_Date BETWEEN inputStartDate AND inputEndDate
GROUP BY UserID, YEAR(Login_Date), MONTH(Login_Date), DAY(Login_Date)
"
28388,18395,Value of id corresponding to max value of another column,"select 
    staff_id as id,
    totalrentaltranscations
from a_table
order by 2 desc
limit 1;
"
5526,75395,How do I run a select query with count()?,"SELECT au.*,p.*
FROM account_users au
INNER JOIN posts p
ON p.account_users.id = au.id
GROUP BY p.post_id
HAVING count(*) > 5
"
36457,4868,MYSQL Date Time Insert issue,"INSERT INTO delivery(Manifest_Id, Expected_Start_DateTime, Expected_End_DateTime)
VALUES ('SGP1361645SGP','2013-10-23 14:00:00','2013-10-23 18:00:00')
"
17883,74159,sql how to check multiple data existed in db,"SELECT MIN(CASE WHEN company = 'walmart' THEN 'True' ELSE 'False' END)
FROM  Table1
WHERE users IN ('a','b','e')
--False

SELECT MIN(CASE WHEN company = 'google' THEN 'True' ELSE 'False' END)
FROM  Table1
WHERE users IN ('c','d','e')
--True
"
11765,62177,Use of OUTER JOIN AND OR operators together,"SELECT A.ID_NO,A.NAME B.APPL_STATUS 
FROM PERSON A LEFT JOIN FORM_DETAILS B ON A.ID_NO=B.ID_NO
WHERE
B.APPL_DATE BETWEEN '12/07/2009' AND '12/09/2009' AND
(B.STATUS = 'A' OR
B.STATUS = 'C')
ORDER BY APPL_DATE
"
23578,71869,SQLite statement to query for Recurring Calendar Events,"-- A time interval must be either completely ""to the left"" or completely
-- ""to the right"" of the other time interval for them not to overlap.
SELECT * FROM EVENT
WHERE
    NOT(
        (:s < DTSTART AND :s < DTEND AND :e < DTSTART AND :e < DTEND)
        OR (:s > DTSTART AND :s > DTEND AND :e > DTSTART AND :e > DTEND)
    )
"
33492,50783,Comparing long data type with varchar data in oracle,"select count(*)
from 
(SELECT XMLTYPE(
DBMS_XMLGEN.GETXML('select SEARCH_CONDITION from user_constraints ')
).extract('//SEARCH_CONDITION/text()').getstringval() srch_cond
from dual)
where srch_cond like '%&apos;g&apos;%'
"
12705,68718,Order result with LIKE operator,"SELECT * FROM Customers
WHERE Country LIKE '%land%'
order by charindex('land', Country)
"
36995,73145,sql statement to retrieve a list of results (from other table) for a given record?,"SELECT bands.band_id, track_id
FROM bands
LEFT JOIN tracks ON tracks.band_id = bands.band_id
WHERE bands.property1 = xyz;
"
19450,23369,Why is SQL's grammar inside-out?,"MULTIPLY PRICE BY QUANTITY GIVING COST.
"
24636,63920,Format datetime to Month - Year then order desc,"SELECT 
    ArchiveTravelNewsByMonth, 
    NewsDatePosted
FROM(
    SELECT DISTINCT TOP 12 SUBSTRING(CONVERT(VARCHAR(11), NewsDatePosted, 113), 4, 8) AS ArchiveTravelNewsByMonth,
        NewsDatePosted
    FROM dbo.at_News)x
ORDER BY CONVERT(DATETIME, ArchiveTravelNewsByMonth)
"
4337,68921,Join tables and return 2 separate entries with NULL values,"SELECT A.SVC_PREFIX, B.SVC_CD, A.anotherData, CD.SVC_ID, CD.isGood, CD.isHappy  
FROM A
JOIN B ON B.SVC_PREFIX = A.SVC_PREFIX AND B.SVC_CD = A.SVC_CD
JOIN
(
  SELECT SVC_ID, isGood, isHappy
  FROM C

  UNION

  SELECT SVC_ID, isGood, NULL AS isHappy
  FROM D
) AS CD ON CD.SVC_ID = B.SVC_ID
"
5296,25351,SQL Column after insert read only without trigger,"DENY UPDATE ON dbo.MyTable (Creator, CreationDate) TO SampleRole;
"
16467,64681,SQL select - can you match one string to two columns?,"SELECT id, first_name, last_name 
FROM users 
WHERE (first_name LIKE 'jo%' OR last_name like 'jo%')
"
18658,33083,SQL: SELECT number text base on a number,"SELECT foo
FROM Table
WHERE CAST(foo as int)>@n
"
27003,18023,Construct an SQL query to populate one table using data from another,"insert into holdings (accountid, holdingdate, holdingid, holdingvalue) 
select v.accountid, v.valuationdate, 999, v.valuation
from valuations v
left join holdings h on h.accountid=v.accountid and h.holdingdate=v.valuationdate
where h.holdingdate is null 

EDIT: Corrected the second version to use a correlated WHERE clause.

insert into holdings (accountid, holdingdate, holdingid, holdingvalue) 
select v.accountid, v.valuationdate, 999, v.valuation 
from valuations v
where v.valuationdate not in (select distinct holdingdate from holdings where accountid=v.accountid)
"
33187,10289,ORDER BY # of rows with same option ID from different table,"SELECT
    options.optid as id,
    options.value as value,
    options.vid as voteid,
    (
        SELECT COUNT(*)
        FROM vote_votes votes
        WHERE votes.optid = options.optid
    ) as votes
FROM vote_options options
WHERE options.vid = {$vote['vid']}
ORDER BY votes DESC;
"
35315,66343,Similar SQL queries returning different results,"SELECT count(*)
FROM comments
WHERE thread=1
AND parent_id=0
AND NOT EXISTS (SELECT 1 FROM users
                WHERE users.user_id=comments.user_id)
"
31850,3197,MySQL ORDER problem,"select * 
from myTable
order by field(myID, 8, 7, 6) desc;
"
2852,12083,Transforming queries: right joins to left joins,"Select T1.Id Ida, t2.id idb, T3.id idc FROM T3
LEFT JOIN 
   (T2
      LEFT JOIN T1 ON (T1.ID = T2.ID))
ON (T1.ID= T3.ID);
"
16555,22193,Query returns incorrect result,"SELECT TOP 1 *
FROM (
    SELECT Patient_ID, Appt_Resource_ID, COUNT(*) AS theCount
    FROM vwGenPatApptInfo
    GROUP BY Patient_ID, Appt_Resource_ID
    WHERE ApptDateTime >= DATEADD(yyyy, -2, GETDATE()) and Appt_Cancelled_Date is NULL
) b
JOIN vwGenPatInfo p ON p.Patient_ID = b.Patient_ID
ORDER BY theCount DESC
"
30126,13806,Sql group by too many conditions,"select m.*, ms.TotalValue
from MyTable m
inner join (
    select [Order], sum(Price * Quantity) as TotalValue
    from MyTable
    group by [Order]
) ms on m.[Order] = ms.[Order]
"
18722,48371,How to insert Byte[] into the Informix database through the SQL Editor interface,"INSERT INTO Temp (id, name) VALUES (1, VARBINARY('rg_book'));
"
33342,9839,"Access: merge 2 tables, based on the name of table 1 and a column in table 2","  UPDATE Table1, Table2 
  SET Table1.Value = Table2.Value 
  WHERE Table2.Name = ""Table 1""
"
32203,63417,MySQL performance issue - lots and lots of ORing,"SELECT * FROM my_table;
"
25920,52169,1 Working Day Back In SQL DB2,"select * 
from mytable 
where mydate = current date - 
    (case when dayofweek(current date) = 1 then 2 -- sonntag
          when dayofweek(current date) = 2 then 3 -- montag
          else 1 end) days
"
17338,65991,Slick lifted update on an Object,"def updateContact(id: Int, firstName: Option[String], lastName:Option[String], ...): Unit = {
  val q1 = Query(Contacts).filter(_.id === id)
  val c = q1.first
  val modifiedC = c.copy(
    firstName = firstName.getOrElse(c.firstName),
    lastName = lastName.getOrElse(c.lastName),
    ...
  )
  q1.update(modifiedC)
}
"
4526,63293,Postgres SQL to select the previous valid date,"Select s.Branch, s.Date, s.containers,
       lag(s.Date) over (partition by branch order by date) as prev_Date,
       lag(s.containers) over (partition by branch order by date) as prev_Containers
from shipping s;
"
22037,23463,PostgreSQL: change date by the random number of days,"select date(now() + trunc(random()  * 20) * '1 day'::interval);
"
16333,16336,How to find Best Match from the left in MySQL,"SELECT *
  FROM table1
 WHERE str_col LIKE 'FR10%'
    OR str_col LIKE 'FR1%'
    OR str_col LIKE 'FR%'
    OR str_col LIKE 'F%'
 ORDER BY 4 * (str_col LIKE 'FR10%') +
          3 * (str_col LIKE 'FR1%') +
          2 * (str_col LIKE 'FR%') +
          1 * (str_col LIKE 'F%') DESC,
          CHAR_LENGTH(str_col),
          str_col
"
18053,62477,"""BEGIN..COMMIT;"" fails in SQLite","BEGIN;
INSERT INTO fields VALUES ('field1');
COMMIT;
"
23795,33495,How to get the following join query,"SELECT t1.col1, t2.col2, t2.col3
  FROM table1 t1
  LEFT JOIN table2 t2 ON t1.col1=t2.col1
;
"
15738,9393,SQL Query - Don't grab this unless this," SELECT * FROM posts
    WHERE STATUS=2 AND
    INSTR(tags,'featured video')>0 
    OR
    INSTR(tags,'video')=0
"
37615,73813,Make SQL function run for every value in table,"select TicketNum
from TicketBooks a
where Used='No'
and TicketNum < (select MAX(b.TicketNum)
            from TicketBooks b
            where b.Used='Yes'
            and b.TicketBookNum = a.TicketBookNum)
order by TicketNum desc
"
35526,59734,JOIN - Get one full table and the rest of another,"select *
from t1
union all
select *
from t2
where Not exists (select 1 from t1 where t1.age = t2.age)
"
23920,44035,SQL: Order results by (optional) relationship,"SELECT p.id, ..., creationdate
    FROM Post p
        LEFT JOIN Post_Has_Post php
            ON p.id = php.child_id
    ORDER BY COALESCE(php.parent_id, p.id),
             creationdate
"
39743,73546,Convert rows into columns without using PIVOT or Cased Aggregate Functions,"select customer,
       max(case when seqnum = 1 then distributor end) as distributor1,
       max(case when seqnum = 2 then distributor end) as distributor2
from (select t.*,
             row_number() over (partition by customer order by (select null)) as seqnum
      from t
     ) t
group by customer;
"
29671,39292,Creating a Comma Seperated List from a subquery in SQL,"SELECT 
id, 
name as title,
description as body,
(
    select GROUP_CONCAT( b.attributeValue ) as attributeValue
    from
    shop_product a,
    shop_product_attribute b 
    where 
    a.id = b.productId and
    b.attributeName=""Tag""
) as tags
FROM shop_product a
"
28886,22920,SQL:HOW TO TAKE SUBSTRING FOR QUERY,"SELECT RIGHT(INC_DATE, 4);
"
33381,19826,saving select result into variable,"declare @arr table (result int)
insert @arr (result) select 1 union select 2
"
35798,52109,Converting between oracle.sql.TIMESTAMPTZ and standard JDBC classes for DbUnit,"SQL> select to_char(systimestamp, 'YYYY-MM-DD HH24:MI:SS.FF TZD') as d from dual;

D
----------------------------------
2008-10-21 17:00:43.501591
"
35124,35296,Birthdays in SQL... disregard year in a date value,"SELECT
   *
FROM
   Users
WHERE
   MONTH( Users.Birthdate ) = MONTH( GetDate() )
   AND
   DAY( Users.Birthdate ) = DAY( GetDate() )
"
39748,13501,SQL: How to exclude maximum if another column doesn't match,"select * from t where enrolldate=
(select max(enrolldate) from t as t1
  where t.id=t1.id)
  and t.code='WHEAT'
"
33696,22283,"How to select table from syntax show on mysql, without using procedure?","SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='your DB_Name' AND........{additional conditions }....
"
24782,33710,How to remove all cross-sell product links from Magento?,"DELETE FROM `catalog_product_link` WHERE `link_type_id` = 5;
"
23396,31028,Subquery to get aggregate with different WHERE clause,"SELECT sum( CASE WHEN network = 'Search Network' THEN Ctr ELSE 0 END )
"
27250,65668,postgres - finding unique users which have specific records,"SELECT user_id
FROM table_user_flags
WHERE flag IN (1,2)
GROUP BY user_id
HAVING COUNT(DISTINCT flag)=2;
"
32718,1926,Oracle Procedure Escape characters,"open table_cursor for 'SELECT * FROM REALM_ENTRIES WHERE ID IN (SELECT ID FROM APP_ENTRIES where APP_EXT_CODE =:appcode AND VERSION_NUMBER=:version_number)'
using appcode, version_number;
"
32630,6367,Cleaner way of manually updating multiple rows,"UPDATE login 
SET is_admin=1
where memberid IN (1, 6, 10, 12, 7, 3)
"
19155,34916,SQL Unique Values Numbering Sequence for Pivot,"SELECT Q1.customer_name, Q1.order_date, Q1.price, 
       (
        SELECT COUNT(*) + 1
          FROM MyQuery AS Q2
         WHERE Q2.customer_name = Q1.customer_name
               AND Q2.order_date < Q1.order_date
       ) AS pivot_id
  FROM MyQuery AS Q1;
"
32889,33681,How to get rating for each user?,"SELECT
  c.id,l.login,
  AVG(f.mark) AS AVGRating
FROM logininfo l
  JOIN person p
    ON l.id = p.info_id
  JOIN candidate c
    ON p.id = c.id
  JOIN feedback f
    ON c.id = f.candidat_id -- < -- this one
GROUP BY c.id
ORDER BY AVGRating ASC; 
"
32124,53575,Performing calculation where there are common column values,"select id, sum(id*prm)
from tablename
group by id order by 2 desc
"
24381,30833,Select the earliest and latest dates,"select t.in_click, 
    t.first_name,
    t.create_date
from tracker t
where 
    t.create_date = (select min(create_date) from tracker where in_click = t.in_click)
    or t.create_date = (select max(create_date) from tracker where in_click = t.in_click)
"
2876,50368,Oracle Query: How to get the most recent Active Record from this Log Table?,"select *
 from (select skl.*,
              row_number() over (partition by skl.KeyId order by skl.PublishDate desc) as rn
         from ServerKeyLog skl
        where skl.PublishDate >= date '2015-08-01'
          and skl.PublishDate < date '2015-09-01')
where rn = 1
  and IsActive = 'T'
order by KeyId
"
28842,2114,How to Get the List of Students whose Name Starts and Ends with the Same Character in a Single Column,"SELECT StudentName FROM tblStudents WHERE LEFT(StudentName,1)= RIGHT(StudentName,1)
"
23649,44821,How to sqlite query fire on latitude and logitude between 100 meter distance from my current GPS location in Android?,"
Get Distance:
float[] results = new float[1];
Location.distanceBetween(SQLitePosition.latitude, SQLitePosition.longitude,
            CurrentPosition.latitude, CurrentPosition.longitude, results);
"
14339,16604,Delete all records except the most recent one?,"DELETE student
WHERE ApplicationDateTime <> (SELECT max(ApplicationDateTime) 
                              FROM student s2
                              WHERE s2.StudentID  = student.StudentID)
"
32181,72619,Is GROUP BY needed in the following correlated subquery?,"SELECT fd.cust_id
FROM   fd
JOIN   loan USING (cust_id)
GROUP  BY fd.cust_id, fd.amount
HAVING fd.amount < sum(loan.amount)
"
3910,43040,Can't figure out correct SQL query for historical table records,"SELECT t.* 
FROM table t
JOIN (SELECT rid, MAX(revision) MaxRevision FROM table GROUP BY rid) mt
ON t.rid = mt.rid AND t.revision = mt.MaxRevision
"
28777,45791,Oracle Forms : How to check if oracle forms 11g process is running?,"#!/bin/bash
if [ $( ps aux | grep WLS_FORMS |wc -l) -eq 1 ]
then
  echo ""Process is not running.""
  service oracleforms start
else
  echo ""Process is running.""
fi
"
29731,57977,MySQL database design user rating,"CREATE TABLE user_rating (
    rated_user_id INTEGER NOT NULL,
    rater_user_id INTEGER NOT NULL,
    value FLOAT,
    time TIMESTAMP,
    PRIMARY KEY (rated_user_id, rater_user_id));
"
11975,27244,T-SQL - Convert/Transpose multiple XML node values to a column,"SELECT 
    [RowKey],
    x.y.value('(.)[1]', 'INT') AS ItemKey
FROM
    dbo.[tbl_MyDataTable] AS t
CROSS APPLY
    t.[Format].nodes('/MultiSelect/ItemKey') x(y)
"
19073,15637,How to set minvalue of sequence to result of a select query?,"column startval new_value v_startval

SELECT
      MAX(customer_id) + 1
FROM
      customer;

create sequence customer_seq start with &v_startval.;
"
2328,283,Sql var char going to else everytime,"SELECT ...
   CASE  
     WHEN LEFT(LTRIM(RTRIM([consent_complete])),1) = '2' THEN 'Complete'  
     ELSE 'Incomplete'
   END AS  [Complete?]
FROM ...
"
13588,51400,How to store selected data in a list in vb.net?,"dim x as integer

for x = 0 to datTable.rows.count - 1
  listOfCanteenSwipe.Add(datTable.rows(x).item(""datarec""))
next
"
3920,48582,"SELECT Top 1 ID, DISTINCT Field","SELECT min(ID), City
FROM Cities
Group by City
"
14225,56775,How do I print a triangle of stars using SQL,"SQL> ed
Wrote file afiedt.buf

  1  select rpad( '* ', level*2, '* ' )
  2    from dual
  3* connect by level <= 3
SQL> /

RPAD('*',LEVEL*2,'*')
--------------------------------------------------------------------------------
*
* *
* * *
"
13778,33587,oracle query - additional where condition depending on a field,"WHERE t.something = 'something' AND
      (t.lastname = 'smith' or t.name <> 'john')
"
23215,16713,SQL Server 2008R2 Join One To Many,"select *
from case C
left join P on P.case_id = C.case_id and P.primary_party != ''
where P.case_id is null
"
6544,33161,Update Column where two values sum to equal zero in SQL Server,"UPDATE tContractsInTransit
SET Paid = 'true'
FROM
tContractsInTransit cit
INNER JOIN
(SELECT CtrlNo
,SUM(Amt)/COUNT(DISTINCT CtrlNo) AS Tot
 FROM tContractsInTransit
    GROUP BY CtrlNo 
   HAVING SUM(Amt)/COUNT(DISTINCT CtrlNo) = 0) t
   ON cit.CtrlNo = t.CtrlNo
"
36552,48351,MySQL display columns from two tables without repeatation,"SELECT r.Restaurant_ID, m.Item_Name, m.Item_price
FROM restaurants r
LEFT JOIN menu m ON r.Restaurant_ID=m.Rest_ID
WHERE Item_ID=1
"
7890,24939,Oracle Query for finding non-repeated rows,"SELECT name FROM tbl_name GROUP BY name HAVING COUNT(name) = 1 
"
2945,43897,Access 2013: How to Return All Records With Date Older than X?,"Select * From YourTable
Where 
    IsDate([myDtField])
    And
    DateDiff(""d"", DateValue([myDtField]), Date()) > 120
"
23138,51155,Count query results on multi-join statements,"select 
    cnt.loginid, 
    COUNT(*)
from contact cnt 
    right join grpmem list on cnt.contact_uuid = list.member 
    left join contact grp on grp.contact_uuid = list.group_id 
    join contact_acctyp cntacc on cnt.contact_uuid = cntacc.contact_uuid
where cntacc.c_acctyp_id in (select id from acctyp_v2 where sym like 'CDN%')
GROUP BY
     cnt.loginid
"
20397,62545,challenging SQL grouping,";with numbered as (
    SELECT event_type, department_name, effective_time,
           row_number() OVER (ORDER BY effective_time) row
    FROM a
)
SELECT    cur.event_type, cur.department_name, cur.effective_time
FROM      numbered cur
LEFT JOIN numbered prev ON cur.row = prev.row + 1
WHERE     cur.row = 1
          or prev.event_type <> cur.event_type
          or prev.department_name <> cur.department_name
ORDER BY  cur.effective_time
"
9454,67010,Entity Framework and CROSS/OUTER APPLY,"from t1 in tab1
from t2 in tab2.Where(t2 => t2.SomeCol == t1.SomeCol).Take(1)
select new { t1, t2 }
"
41,71942,Store Procedure Select into a variable,"--will not count NULLS
select @totalrecs= count(id) from table1

--will count NULLS
select @totalrecs= count(*) from table1
"
20975,36371,compare dates in mssql,"SELECT * FROM table WHERE theDate < convert(date, GetDate())
"
37926,101,Creating summary report with selected summary,"SELECT
    CustomerType,
    COUNT(*),
    SUM(CASE WHEN Status = 'C' THEN 1 ELSE 0 END),
    SUM(CASE WHEN Status = 'A' THEN 1 ELSE 0 END),
    SUM(Amount)
FROM
    Customers
GROUP BY
    CustomerType
ORDER BY
    CustomerType
"
20712,25873,How to select insert more than once using INSERT INTO?,"INSERT INTO `wp_postmeta` (post_id, meta_key, meta_value)
SELECT post_id, 'custom', custom FROM `wp_temp` WHERE custom IS NOT NULL
UNION ALL
SELECT post_id, '_custom', 'field_514e91e73640d' FROM `wp_temp` WHERE custom IS NOT NULL
"
17945,61477,Merge 2 sql queries,"SELECT 
    SUM(CASE WHEN field_id_207 != '' then 1 else 0 end) as total_1,
    COUNT(exp_channel_data.entry_id) AS total_2 
FROM exp_channel_data 
JOIN exp_channel_titles 
ON exp_channel_titles.entry_id = exp_channel_data.entry_id 
AND status = 'open' 
AND exp_channel_data.channel_id = '18' 
AND author_id = ""CURRENT_USER""
"
36580,29033,Combining DateSerial with >= & <,"    dbo_agreements_1.end_date >= DateSerial(Year(Date()), Month(Date()) -1, 1)
AND dbo_agreements_1.end_date < DateSerial(Year(Date()), Month(Date()), 1)
"
20579,67448,Inserting value into column based on column in separate table,"update old
set NewID = new.NewID
from ContactRecords as old
  inner join NewContact as New on new.OriginalID = old.OriginalID
"
9897,24309,Get 2 weeks of data from Database," DateTime startDate = DateTime.Now.Date.AddDays(-13).Date;
"
8762,2098,Select records from table where field not in left join of different table in MySql,"CREATE TEMPORARY TABLE tc AS
(SELECT company.id AS cid, temp_company.scode AS tcode
FROM temp_company
INNER JOIN company ON temp_company.number = company.number
WHERE temp_company.scode IS NOT NULL AND temp_company.scode != """")

CREATE TEMPORARY TABLE rc AS
(SELECT tc.cid as cid FROM tc
LEFT JOIN company_scode ON tc.cid = company_scode.company_id
WHERE tc.tcode = company_scode.code)

SELECT * FROM tc
WHERE tc.cid NOT IN (SELECT cid FROM rc)
"
11929,43903,Select columns with and without group by,"select p.* from  Table1 as p inner join 
(SELECT ProductName, MIN(Price) AS minPrice    FROM Table1      GROUP BY ProductName) t 
on p.productname  = t.ProductName and p.price = t.minPrice    
"
38137,52958,pull Drupal field values with db_query() or db_select(),"debug($node);
"
38914,31388,Sql View to calculate column based on another column,"sum(case when t.credit then t.amount else -t.amount end)
"
16801,20963,No rows returned by REGEXP_LIKE,"SQL> select 1 from dual where regexp_like('?:', '(?:)');

         1
----------
         1
1 row selected.
"
30730,34938,mysql count with 0,"SELECT months.id_month, 
       Count(DISTINCT ad.email) 
FROM   `months` 
       LEFT OUTER JOIN `ad` 
                    ON id_month = Month(ad.created_at) 
                       AND Year(ad.created_at) = 2015 
GROUP  BY id_month 
ORDER  BY id_month ASC 
"
24033,52022,Replace String in Oracle Procedure,"SELECT NAMA_AKUN, REPLACE(NAMA_AKUN, 'DOLLAR AMERICA', 'USD') AS NEW_NAMA_AKUN
  FROM MONDES_MSTR_CHART_OF_ACCOUNT
  WHERE INSTR(NAMA_AKUN, 'DOLLAR AMERICA') > 0;
"
16537,48892,Collation help needed,"CREATE TABLE #tmp_NoRotadayOff
    (
      DayOfYear datetime
    , Rota varchar(10) COLLATE DATABASE_DEFAULT
    , RotaTemplate varchar(50) COLLATE DATABASE_DEFAULT
    );
"
7289,17426,pipe charecters data in expression engine query as parameters,"SELECT * 
FROM exp_categories 
WHERE parent_id 
IN (4, 5, 6, 7) 
ORDER BY cat_id ASC;
"
20137,32429,get data on particular timings of the day in a month in SQL,"SELECT * 
FROM   [dbo].[tickets] 
WHERE  t_date_time_issued > DATEADD(mm, - 30, GetDate()) 
AND Cast(t_date_time_issued as TIME) between '06:00' and '09:10'
"
4907,25301,Get cell value and use it in an INSERT statement (MS ACCESS),"INSERT INTO  transactions(itemid, userid, tdate) 
    SELECT   TOP 1 items.ID, users.ID, NOW() 
    FROM     items, users
    ORDER BY Rnd(-(1000*items.ID*users.ID)*Time()), 
             items.ID, users.ID
"
12729,26349,"from each partition, select rows with N distinct values","select t.*
from (select t.*, dense_rank() over (partition by x order by y) as seqnum
      from atable t
     ) t
where seqnum <= 2;
"
9911,15191,LINQ to SQL How can I submit changes after closing the connection?,"using (var dataContext = new DataContext(ConnectionString))
{
     dataContext.TABLE_NAME.Attach(modifiedEntity);
     dataContext.SubmitChanges();
}
"
21243,51338,Count distinct sql and break by day with timestamp over midnight,"select dte, count(*)
from (select trip_id, min(date_trunc('day', timestamp)) as dte
      from t
      group by trip_id
     ) t
group by dte
order by dte;
"
19526,56658,SQL count on multiple columns?,"select firstname, lastname, count(*) as `Name Count`
from table
group by firstname, lastname
"
7786,22071,"selecting rows that are the same in one column, but different in another","SELECT *
FROM YourTable
WHERE X IN (
  SELECT T1.X
  FROM YourTable T1 INNER JOIN
       YourTable T2 ON T1.X = T2.X
  WHERE T1.DATE <> T2.DATE
);
"
6888,20703,Dynamic database instance in a query,"IF  EXISTS (SELECT * FROM sys.synonyms WHERE name = N'TABLE_SYNONYM') DROP SYNONYM [dbo].[TABLE_SYNONYM]
IF @region_id not in (2,3) CREATE SYNONYM [dbo].[TABLE_SYNONYM] FOR [DB_US].[dbo].[mytable]
IF @region_id = 2 CREATE SYNONYM [dbo].[TABLE_SYNONYM] FOR [DB_EU].[dbo].[mytable]
IF @region_id = 3 CREATE SYNONYM [dbo].[TABLE_SYNONYM] FOR [DB_Asia].[dbo].[mytable]

insert into [dbo].[TABLE_SYNONYM] (...) select ....
"
30299,3105,SQL Junction Query - How To Get Exact Match,"SELECT F.fruitName 
FROM tblFruits as F INNER JOIN
     tblFruitTagJunc AS FTJ
     on F.fruitID = FTJ.fruitID INNER JOIN
     tbltag as T
     ON FTJ.tagID = T.tagID
GROUP BY F.fruitName
HAVING SUM(iif(t.tag in ('Orange'), 1, 0) > 0 AND
       COUNT(t.tag) = 1;
"
16026,28078,Store records in a new table created by a query in mysql," CREATE TABLE locationCreatedNew 
 SELECT * FROM location RIGHT JOIN locationdata 
 ON location.id=locationdata.location_location_id;
"
21441,22838,Execute Stored Procedure in a Cursor,"create table #t
(
name sysname,
rows bigint,
reserved varchar(50),
data varchar(50),
index_size varchar(50),
unused varchar(50)
)

EXEC  sp_MSForEachtable 'insert into #t EXEC sp_spaceused ''?'''

select name,rows,reserved,data,index_size,unused 
from #t
"
32182,6670,What happens to schema objects when you DROP USER but don't specify CASCADE?,"ORA-01922: CASCADE must be specified to drop 'THE_USER'
"
36661,55929,Oracle SQL Query for Stacked Pareto Chart,"select category, series, CntS 
from (
  select  distinct count(category) over (partition by category) cntC,
   count(series)  over (partition by category, series ) cntS,
   category, series 
from fruit   ) Tab
order by CntC desc, cntS desc; 
"
5551,68709,MYSQL query returning more values,"select
  (select count(*) from data where 991 in (insurance1, insurance2, insurance3))
  +
  (select count(*) from sat where 991 in (insurance1, insurance2, insurance3));
"
5753,36777,Select count() in Doctrine DQL with left join manyToMany unidirectional relation where user does NOT have relation specific group,"SELECT COUNT(u)
FROM RAZUserBundle:User u
WHERE u.id NOT IN (
    SELECT u2.id
    FROM RAZUserBundle:User u2
    JOIN u2.groups g WITH g.id = 70
)
"
11370,133,Can SQLite support this schema?,"sqlite> create table selfref (id integer primary key, 
   name string, parent integer references selfref (id));
sqlite> .schema
CREATE TABLE selfref (id integer primary key, name string, 
   parent integer references selfref (id));
sqlite> insert into selfref values (null, ""alice"", null);
sqlite> insert into selfref values (null, ""bob"", null);
sqlite> insert into selfref values (null, ""charlie"", 
    (select id from selfref where name = ""alice""));
sqlite> select * from selfref;
1|alice|
2|bob|
3|charlie|1
sqlite> 
"
8975,10729,SQL FOR XML Help,"SELECT t.column1 AS ""@Name"",
       t.column2 AS Subcategory
  FROM TABLE t
FOR XML PATH ('Category')
"
27391,4073,SQL Beginner - How to get items from Table1 that are associated with at least 10 items in Table2,"select c.*, e.cnt
from [Contract] c inner join
     (select e.ContractId, count(*) as cnt
      from Envelope e
      group by e.ContractId
      having count(*) >= 10
     ) e
     on e.ContractID = c.ID;
"
1301,46761,sql joining three tables using inner joins,"select a.name,b.manufacturer_id,c.id,c.item_desc 
from manufacturers as a
inner join 
item_manufacturers as b
on b.manufacturer_id=a.id 
inner join item as c 
on c.id=b.item_id
"
12883,74572,SQL query 6 degrees of separation for network analysis,"with recursive tc as(
select $1 as player_id, 1 as level
  union
select ph2.player_id, level+1
  from tc, phone_hashes ph1, phone_hashes ph2
  where tc.player_id=ph1.player_id
  and ph1.hash=ph2.hash
  and tc.level < 6  
)    
select distinct player_id from tc
"
12536,75577,Is this a good way of copying data from one table to another?,"UPDATE links1
INNER JOIN links2 ON (links1.URL = links2.URL)
SET links1.UTitle = links2.title, links1.UDesc = links2.description
"
19991,35852,Mixed UPDATE SELECT query,"UPDATE products AS p
JOIN categories AS c ON p.scategory = c.scategory
SET p.fcategory = c.scategory
"
28453,3267,How to write a conditional nested subquery,"  SELECT C.conContractID, COALESCE(C.conWkActual, C.conWkPlanned, C.conWkBaseline) AS 'YourDatecolumn', C.conService,  C.conCapRev, C.conContractType, C.conSection, C.conContractStatus 
  FROM Contracts C
  WHERE ConContractStatus = 'Cancelled';
"
29520,37088,Oracle 10g - optimize WHERE IS NOT NULL,"SELECT  /*+ INDEX (t index_name_on_col1) */
        *
FROM    mytable t
WHERE   col1 IS NOT NULL
"
9428,1163,SQL: Make colors from color-table searchable,"select *
from cards_data where id in
(
  select cards_id
  from con_cards_colors
  group by cards_id
  having count(case when colors_id in (select id from colors where name in ('Red','Blue')) then 1 end) = 2 -- i.e. find all
  and count(*) = 2 -- i.e. find only those and no others
);
"
13064,49776,SQL Combine 2 Different Rows into 1,"SELECT   CASE WHEN fruit IN ('orange', 'grapefruit')
              THEN 'citrus' 
              ELSE fruit 
         END,
         SUM(price)
FROM     inventory
GROUP BY CASE WHEN fruit IN ('orange', 'grapefruit')
              THEN 'citrus' 
              ELSE fruit 
         END
"
21919,7261,NULL NOT NULL on Default constraint in sql,"use tempdb
go
CREATE TABLE example
(
    id BIT DEFAULT (0)
)

INSERT example (id) VALUES (null)

SELECT * FROM example
"
17359,17496,SQL to find rows where two columns have the same value,"select column1, count (*)
from mytable
where column2 = column3
group by column1, column2;
"
37455,41481,Sql joins and queries,"Select distinct pair From table2
    join table1 b 
       on b.CUR = t.bas
    join table1 u 
       on u.id = b.id 
          and u.CUR = t.under
"
16917,6493,Conditional cumulative SUM in MySQL,"select idStudent,
       SUM( hourCourse * mark ) / SUM( hourCourse ) AS WeightedAvg
from
(
  SELECT t.*,
  case when @idStudent<>t.idStudent
    then @cumSum:=hourCourse
    else @cumSum:=@cumSum+hourCourse
  end as cumSum,
  @idStudent:=t.idStudent
  FROM `test` t,
  (select @idStudent:=0,@cumSum:=0) r
  order by idStudent, `key`
) t
where t.cumSum <= 30
group by idStudent;
"
10496,13671,Select one record when all records mapped to another table,"    ;WITH CTE as (Select *,
ROW_NUMBER()over(partition by OUTPUTVALUE order by id)rn 
From #Temp A
    Inner Join #Temp2 B On A.Id=B.Table1Id 
    Where A.Value=1)

    SELECT OUTPUTVALUE FROM cte where rn >= 3
"
17371,15752,Update TAG Relational table from select match on main table with keywords field and tag table with individual keywords,"Insert into TagSoftarerel (SoftwareID, TagID)
Select m.Id, 
       (Select T.TagId from Tag T where T.Tag = m.Keyword) as TagId 
from MAIN m 
"
9546,25259,Access SQL ignore warning about type conversion,"DoCmd.SetWarnings False
' do stuff here
DoCmd.SetWarnings True
"
29018,14003,cross referencing records across tables,"SELECT   email, COUNT(*) AS num_tables
FROM     (SELECT DISTINCT email FROM table1
          UNION ALL
          SELECT DISTINCT email FROM table2
          UNION ALL
          -- All the other tables
         ) t
GROUP BY email
HAVING   COUNT(*) > 1
"
5626,42759,How to get records from a table based on the quantity of a value in an other table,"select a.city, count(b.city) as cnt
from a
left join b on a.id=b.city and b.active=1
group by a.id, a.city
order by count(b.city) desc
"
31916,43078,Pick up different values in 1 table,"<cfquery name='b'>
SELECT ID
    , AVG( DECODE( Pen_Type, 'Type A', Pen_Price, 0 ) ) AS Price_A
    , AVG( DECODE( Pen_Type, 'Type B', Pen_Price, 0 ) ) AS Price_B
    , AVG( DECODE( Pen_Type, 'Type C', Pen_Price, 0 ) ) AS Price_C
FROM Pen_Table
WHERE Date_Purchase = #Date#
GROUP BY ID
</cfquery>
"
20616,29512,How to make column name dynamic with spool on ORACLE?,"column title_column1 new_value vc1
column title_column2 new_value vc2
column title_column3 new_value vc3
select title_column1,title_column2,title_column3 from test_columns;
select &vc1,&vc2,&vc3 from test_data;
"
27158,39540,Postgresql - backup database and restore on different owner?,"createdb -p 5433 -T template0 db_name 
pg_restore -p 5433 --no-owner --role=owner2 -d db_name db_name.dump
"
1218,5386,Total by day needed,"     SELECT IDIDAT, COUNT(*)     
       FROM CA1665AFCV.SROISDPL T01 
       WHERE IDIDAT >= '20160101' 
       AND IDORDT = 'FB'                          
    GROUP BY IDIDAT
"
23003,19225,How to get groups belonging to user Cartalyst Sentry 2,"$user = User::findOrFail($id);

$user->getGroups();

foreach($user->groups as $group)
{
     echo $group->name;
}
"
29406,51178,Merge result of two queries in SQL Server,"SELECT 
   PB_BANK_CODE,
   PB_BANK_NAME,
   ISNULL(SUM(PC_AMOUNT),0)
FROM GLAS_PDC_BANKS inner join GLAS_PDC_CHEQUES 
    on GLAS_PDC_BANKS.PB_BANK_CODE = GLAS_PDC_CHEQUES.PC_BANK_FROM
WHERE  PB_COMP_CODE='1' 
   AND PB_BANK_CODE='025' 
   AND ISNULL(PC_DISCD,'X') != 'C'
   AND PC_DUE_DATETIME BETWEEN '05/05/2008' AND '05/06/2008'
"
37447,31658,How to get GETDATE() from multiple linked Servers,"insert into table
(all_Dates)
SELECT *
FROM OPENQUERY(USLinkedServer, 'SELECT getdate()')
union
SELECT *
FROM OPENQUERY(UKLinkedServer, 'SELECT getdate()')
union
SELECT *
FROM OPENQUERY(AUSLinkedServer, 'SELECT getdate()')
.
.
.
"
20154,52369,select last 25 records from SQL table,"DELETE * 
FROM 'list' 
WHERE id NOT IN ( SELECT id 
                  FROM 'list' 
                  ORDER BY id DESC 
                  LIMIT 25 )
"
38685,72987,Convert SQL datetime to specific format,"select convert(varchar(10), getdate(), 105) + ' ' + 
       SUBSTRING(CONVERT(varchar, getdate(), 100), 14, 4)+ ' ' +
       RIGHT(convert(varchar, getdate(), 100), 2)
"
33046,71360,"Why do associated collections contain null values? (Hibernate, Annotation, Spring)","table authorities:
username id
bob 1
bob 3
bob 5
"
9153,71504,Adding column value dynamically in select statement SQL Query,"select ServerName,Downloaded,Failed, RebootRequired, Administrator
from Table1 t1 left join Table2 t2 on 
t1.ServerName=t2.ServerName
"
13450,10522,sql query to get content older than 3 weeks,"select contentID, title, created 
from content
where created < dateadd(week,-3,getdate());
"
17028,73739,Calculating a field from SQL Query Selecting from multiple tables with Union,"SELECT MTGUID * 1.35 as calculatedMTGUID, SUBSEL.* FROM (  
SELECT BKRETAIL.* FROM BKRETAIL WHERE BKRETAIL.MKEY='SOMEKEY' 
UNION  SELECT BKWHOLESALE.* FROM BKWHOLESALE WHERE MKEY='SOMEKEY') SUBSEL
ORDER BY  
case STATUS     
WHEN 'RT' then 1     
WHEN 'WH' then 2     
WHEN 'OL' then 3     
WHEN 'OD' then 4     
WHEN NULL then 5     
else 6  
end; 
"
28515,16386,Alternative for count distinct,"SELECT COUNT(*)
FROM
(
    SELECT Col1
    FROM Table
    GROUP BY Col1
) tbl
"
38837,67840,Using Multiple ANDs and ORs in ANSI SQL,"SELECT
    w.fizz
FROM
    widgets w
WHERE
    w.special_id = 2394
    AND
    (
        (
            w.buzz != null
            AND w.foo = 12
        )
        OR
        (
            w.blah = 'YES'
            AND w.num = 4
        )
    )
"
35397,41779,IReport Creation Issue- Get all Months of Year,"select a.mnth,b.leavecount from
(
     SELECT to_char(to_date(LVL,'MM'),'MM') mnth
     FROM (select level lvl from dual CONNECT BY LEVEL <=12)
) a
,(SELECT to_char(leavedate,'MM') AS MONTH,leavecount...""your query"")b
WHERE a.mnth=b.MONTH(+)
"
14879,61823,"Postgres 9.2 find, compare and replace two values in column","update fruittable 
   set fruitvalue = (SELECT MAX (fruitvalue) 
                     FROM fruit 
                     WHERE fruitname IN ('apple','pear'));
where fruitname in ('apple', 'pear');
"
17889,74316,Calculating document frequency in SQL,"select term, count(DISTINCT iso) as doc_frequency
from   countries
     , regexp_split_to_table(name, '[^\.\w]') term
where  term <> ''
group  by term;
"
7820,40042,Comparing huge amounts of binary data quickly,"<fieldType 
   name=""signatureNgrams"" 
   stored=""false"" 
   class=""solr.StrField""> 
 <analyzer type=""index""> 
   <tokenizer 
       class=""solr.analysis.NGramTokenizerFactory"" 
       minGramSize=""4"" 
       maxGramSize=""4"" 
       /> 
   <filter class=""solr.LowerCaseFilterFactory""/> 
 </analyzer> 
</fieldType>
"
7961,68655,MS Access SQL: Grouping By Month,"SELECT
   Format(Sum(IIf(MONTH(Sale_PickupDateTime)=1,1,0))/Count(Sale_PickupDateTime)
         , ""Percent"") AS January
FROM [Sales Table];
"
28810,17472,Oracle arrangements,"SELECT COUNT(1) FROM (SELECT t1.name as name1, t2.name as name2 
FROM Locations t1, Locations t2
WHERE t1.name <> t2.name)
"
13299,72163,"Sql Server - Remove End String Character ""\0"" From Data","UPDATE mytable
SET myfield = REPLACE(myfield, CHAR(0), '')
"
16089,34665,Updating values in a column from another table on another server,"UPDATE t2
   SET t2.id = t1.id
  FROM T t2 JOIN S1.<dbname>.dbo.T t1
    ON t2.somefield = t1.somefield
-- AND t2.otherfield = t1.otherfield
"
8442,4082,having trouble with sql about movie theme,"select distinct director, title, stars
from (movie join rating using (mid)) m
where stars in (select max(stars) 
                from rating join movie using (mid) 
                where m.director = director);
"
5580,9820,SQL Server : Computed Column DATEDIFF Clause,"(CASE 
    WHEN [Control_Stage2] IS NULL THEN NULL -- or -1 or what you like
    ELSE datediff(day,[Control_OpenDate],getdate())
END)
"
9502,54857,SQL: How to get the original sorting when joining two tables,"order by Table1.Name, Table2.Money
"
26783,56327,"SQL Server, using a table as a queue","while not exists (select * from QueueTable)
    begin
    wait for delay '00:01'
    end
"
25413,68887,how to print out the whole table using anonymous block in pl sql?,"SET SERVEROUTPUT ON
     BEGIN
          -- A PL/SQL cursor
          FOR cursor1 IN (SELECT * FROM table1) 
          LOOP
            DBMS_OUTPUT.PUT_LINE('Column 1 = ' || cursor1.column1 ||
                               ', Column 2 = ' || cursor1.column2);
          END LOOP;
     END;
        /
"
33796,61786,How to execute a user defined function in SQL that has a paramter being passed to it?,"SELECT * FROM dbo.TestFunction (your_parameters_separated_by_commas)
"
9160,33398,update tables value from another table in mysql where updated field is foreign key,"UPDATE tbl2 t
INNER JOIN tbl1 s
 ON(t.transaction_id = s.id)
set t.transaction_id = s.id_trans
"
19759,24740,How to select firrst column date and second column time as Datetime,"SELECT CAST(CAST(@ReminderDate AS Date) AS DateTime) + CAST(DATEADD(HOUR,-3,@ReminderTime) AS TIME)
"
23264,17150,Subtraction in sql statement,"SELECT  firstName, lastName
     FROM  Presidents 
     WHERE  endTerm > DATE_ADD(beginTerm, INTERVAL 4 YEAR)
"
18663,14440,Calling a materialized view from another materialized view in Postgres,"create materialized view first_view
as
select a.column_one, b.column_two, c.column_three
from table_a a 
   join table_b b on a.id = b.aid
   join table_c c on b.id = c.bid;

create materialized view second_view
as
select x.some_column, f.*
from other_table x
   join first_view f on x.id = f.column_one;
"
24850,70376,SQL Same ID Populated in Multiple Rows with Different Column Values Populated--Need One ID in One Row,"select id, max(col1) as col1, max(col2) as col2, max(col3) as col3, max(col4) as col4
from t
group by id;
"
13952,61942,I try to make a complex sql request,"SELECT SUM(CASE 
           WHEN order.state = 3 AND order.source = 1 THEN 1 
           ELSE 0 END) AS equal,
       SUM(CASE 
           WHEN order.state <> 3 AND order.source <> 1 THEN 1 
           ELSE 0 END) AS different
FROM order;
"
28132,15095,merged SQL table names,"SELECT 
     Name, 
    'Users' AS Type 
FROM users 
WHERE name LIKE '%alex%'
UNION
SELECT 
     Name, 
     'Admins' AS Type 
FROM admins 
WHERE name LIKE'%alex%'
"
12889,52717,Problem with joining to select statements,"SELECT (
    SELECT COUNT( WiningComment)
    FROM Threads
    WHERE WiningComment IN (SELECT CommentsID
    FROM Comments
    WHERE  UsersID=@UserID)
) as 'WinningAnswers',
(
    SELECT COUNT(CommentsID)
    FROM  Comments
    WHERE  UsersID=@UserID
) as 'TotalAnswers'
"
16644,54218,SQL Hurdle - SQL Server 2008,"WITH MyCte AS    
    (SELECT	MyWeek = 1     
    UNION ALL     
    SELECT	MyWeek + 1     
    FROM	MyCte     
    WHERE	MyWeek < 53)
SELECT  MyWeek, 
    	DATEPART(year, DATEADD(wk, -MyWeek, GETDATE())),
    	DATEPART(month, DATEADD(wk, -MyWeek, GETDATE())),
    	DATEPART(wk, DATEADD(wk, -MyWeek, GETDATE()))
FROM    MyCte
"
23185,62763,SQL Server : Select from two tables with default value 0,"select B.caseNumber, ISNULL(count(C.checkupNumber) ,0)
from BaseTable B
left join Checkup C
on B.caseNumber = C.caseNumber
where B.patientId ='P201'
group by B.caseNumber
"
29864,28337,How do I get the last month using a query?,"... = MONTH(DATE_SUB(CURRENT_TIMESTAMP, INTERVAL 1 MONTH));
"
9275,667,Drop all tables command,"rm db/development.sqlite3
"
13551,72722,Return min value from query with inner join,"SELECT POI.Name FROM POI INNER JOIN rtgitems ON POI.Vote=rtgitems.item where totalrate= (select min(totalrate) from rtgitems)
GROUP BY POI.Name 
"
689,60879,Trying to complete simple SQL query involving a case and a table join,"Select  
case when t2.statusid = 3 then t2.Id end as MatchedId,
case when t2.statusid <> 3 then t1.Id end as UnmatchedId
,t2.Number,t1.Date
from Table1 t1 
left join Table2 t2 
on t2.Id = t1.Id;
"
11988,48477,how to delete duplicates from a database table based on a certain field,"delete from tbl
where id NOT in
(
select  min(id)
from tbl
group by sourceid
)
"
5836,28117,MSQL trigger to insert record in second table based on update of specific field,"CREATE TRIGGER dbo.trg
   ON  customer
   AFTER INSERT,UPDATE
AS 
BEGIN
    -- SET NOCOUNT ON added to prevent extra result sets from
    -- interfering with SELECT statements.
    SET NOCOUNT ON;

    IF EXISTS (SELECT  1 FROM inserted WHERE comm_preference IN ('E', 'B')
        BEGIN
            INSERT INTO email_sent 
            SELECT customerno, email, GETDATE() from inserted
        END        

END
"
10276,75053,How do I grab a column from table B if it that column may or may not be there?,"SELECT  a.*, b.city
FROM    tableA a
        LEFT JOIN tableB  b
            ON a.ID = b.ID
"
10349,23032,SQL store rate changing in time and SELECT rate valid for particular time instant,"with scd_table (
    select  a.*  , 
            lead(from_date,1,to_date('31/12/9999','dd/mm/yyyy')) over (partition by a order by from_date asc) as to_date
    from    YOUR_TABLE a
)
select  * 
from    scd_table
where   :d >= from_date
and     :d < to_date
"
11258,63737,How to use Unique Composite Key,"ALTER TABLE Items ADD UNIQUE INDEX(ItemName, ItemSize);
"
1067,24977,How to learn stored procedure authorization,"--EXECUTE AS USER = 'Wanida';
SELECT * 
FROM fn_my_permissions('dbo.MyProc','OBJECT') 
ORDER BY subentity_name, permission_name;
"
11006,8388,row number based on field data,"ROW_NUMBER() OVER(PARTITION BY docRefID ORDER BY docExternalContent)
"
26259,57798,Specify the DB Name Dynamically in a Query,"DROP SYNONYM syn_a;
CREATE SYNONYM a FOR STAGEDB.SCHEMA.SOURCE;
DROP SYNONYM syn_b;
CREATE SYNONYM b FOR STAGEDB.SCHEMA.TABLEA;
DROP SYNONYM syn_target;
CREATE SYNONYM target FOR SOURCEDB.SCHEMA.DESTINATIONTABLE;

MERGE INTO syn_target as TARGET
USING (SELECT COLA, COLB, COLC FROM syn_a as A INNER JOIN syn_b as B
) AS SOURCE
ON TARGET.ID = SOURCE.ID
WHEN MATCHED THEN UPDATE--

WHEN NOT MATCHED INSERT
"
22474,2835,T-SQL - query filtering,"SELECT * FROM table1 WHERE Id IN
(
    SELECT  Id
      FROM table1
    GROUP BY Id
    HAVING COUNT(DISTINCT [Customer No_]) > 1
)
"
32664,31803,"Select from the result of a union query, Oracle","SELECT tbl.name
FROM
(
    SELECT name FROM customer
    UNION
    SELECT name FROM vendor
) tbl
"
33064,28567,Find Time difference between 2 datetimes ignoring date portion,"SELECT ABS(ROUND(DATEDIFF(MI,CONVERT(TIME,date1), CONVERT(TIME,date2))/60.0,0))
"
34897,21536,How to improve SQL query performance in MySQL,"SELECT id, checkresult.pcname, pcuser, checkTime as lastCheckTime,
       TIMESTAMPDIFF(SECOND,checkTime,now()) as lastCheckAge,
       lastBackup, diff, threshold, backupStatus,
       TIMESTAMPDIFF(SECOND,lastBackup,now()) as ageNow
FROM checkresult join
     (SELECT pcname, max(checkTime) as maxct
      FROM checkresult
      GROUP BY pcname
     )  pm
     on checkresult.pcname = pm.pcname and checkresult.checkTime = pm.maxct
ORDER BY id desc;
"
21180,36650,MySQL Update with a join,"update software s  
inner join equimentinventory ei on  
    s.id = ei.id  
set s.name = ""windows 7""  
where ei.item=""computer""  
"
37548,73932,Create a stored procedure based on known columns (wont break on unknown)?,"INSERT INTO myCrazyHugeTable (column1Name, column2Name)
    VALUES ('column1Val', 'column2Val');
"
1502,60648,How to find percentages of values in SQL?,"SELECT  hero, AVG(pointEarned > 0) p
FROM    gamestatistics
GROUP BY
        hero
ORDER BY
        p DESC
"
26136,22318,Select sum of same column based on a condition,"SELECT date, 
       SUM(case when payed = 1 then amount else 0 end) as PaidAmount,
       SUM(case when payed = 0 then amount else 0 end) as UnPaidAmount
FROM events 
GROUP BY DATE;
"
10268,13480,Finding total sum of the sum of different columns of different tables,"select sum(t.population)
from (
   select population from table A
   union all
   select population from table B
   union all
   select population from table A
) t
"
33756,18986,control SQL Server database stop/start,"ALTER DATABASE YourDatabaseName SET AUTO_CLOSE OFF;
"
30633,44076,merge 2 selects into 1,"SELECT g.naam,g.gebruikerID ,g2.naam,g2.gebruikerID
FROM gebruiker g , gebruiker g2, vriend v
WHERE g.gebruikerID = v.gebruikerID_Jezelf 
OR g2.gebruikerID = v.gebruikerID_Persoon
AND g.gebruikerID IN(SELECT gebruikerID_Jezelf FROM vriend) 
OR g2.gebruikerID IN(SELECT gebruikerID_Persoon FROM vriend);
"
30571,69470,"Update more than one field in a table, having one field depending on the other","UPDATE tblOperation 
    SET  
    tblOperation.DateDifference = DateDiff(""d"",[tblOperation].[Date],[tblOperation].[FinalDate]), 
    tblOperation.Tax = tblOperation.Value*tblOperation.Percentage/3000*(DateDiff(""d"",[tblOperation].[Date],[tblOperation].[FinalDate])), 
    tblOperation.FinalValue = tblOperation.Value-(tblOperation.Value*tblOperation.Percentage/3000*(DateDiff(""d"",[tblOperation].[Date],[tblOperation].[FinalDate])));
"
8511,8378,Unique column value combination with NULL values,"CREATE UNIQUE INDEX
foobar_test ON foobar
(COALESCE(a_id, -1), COALESCE(b_id, -1), COALESCE(c_id, -1), ident) -- Nulls become -1
WHERE date_a is null and date_b is null; -- Only check when date_a and date_b is null
"
5496,54392,SQL Query needs to return rows even when results are null,"SELECT u.Name, c.[Description], hs.Duration
FROM Users u
CROSS JOIN Categories c
LEFT OUTER JOIN HourlyStats hs
ON u.UserID = hs.UserID
AND c.EventID = hs.EventID
"
2823,23403,Selecting the last entry in sql database for each id field,"WITH cte 
AS
(
     SELECT *,
         ROW_NUMBER() OVER
         (
             PARTITION BY Reg_No
             ORDER BY Transdate DESC
         ) AS RowNumber
     FROM unithistory
)
SELECT *
FROM cte
WHERE RowNumber = 1
"
4029,47402,Return rows where no match is found in another table,"SELECT t.*
FROM   teams t
WHERE  NOT EXISTS (SELECT 1
                   FROM   userteams ut
                   WHERE  t.teamname = ut.teamname
                          AND ut.name = 'Gary') 
"
34371,68992,"In Oracle, find the next specific date","add_months(trunc(add_months(sysdate, 10), 'YYYY'), 2) - 1
"
28209,5686,Whats the right syntax for the string comparison query involving variable name in PostgreSQL?,"SELECT *
FROM name
WHERE strpos(LastName, FirstName) > 0;
"
35525,1462,Limit the number of rows after group,"SELECT
    id, timestamp, lat, lon
FROM (
    SELECT *,
        rn = ROW_NUMBER() OVER(PARTITION BY id ORDER BY timestamp DESC)
    FROM yourTable
) t
WHERE rn = 1
"
12573,32553,SQL query to display before specified date,"SELECT SUM(Sale_Price)
FROM sales
WHERE Sale_Date < DATE '2015-10-12';
"
33520,30339,sum function incorrect values and list of not paid yet this month,"select td1.client_name,td1.TotalDebt,td2.TotalPayment from (SELECT client_name, sum(total_debts) as TotalDebt FROM client_debts GROUP BY client_name) as td1
inner JOIN
(SELECT client_name, sum(payment) as TotalPayment FROM client_details GROUP BY client_name) as td2
on td1.client_name=td2.client_name
"
13835,32660,pad database out with NULL criteria,"select i.id, s.date, t.type
from (select distinct id from sample) i cross join
     (select distinct type from sample) t left join
     sample s
     on s.id = i.id and
        s.type = t.type;
"
29389,73296,mysql get last N records with MAX(date),"SELECT prh.*
FROM product_rate_history prh INNER JOIN
     (SELECT max(created_on) as maxco
      FROM product_rate_history
      WHERE prh.product_id = 16
      GROUP BY Date(created_on)
     ) prh2
     ON prh.created_on = prh2.maxco
WHERE prh.product_id = 16
ORDER BY prh.created_on DESC;
"
3250,73754,Unexpected performance boost after adding JOIN and ORDER BY to query,"SELECT <cols> FROM profiles INNER JOIN (
    SELECT <primary key cols> FROM profiles
    WHERE x.sex='M' ORDER BY rating LIMIT 100000, 10
) AS x USING(<primary key cols>);
"
31936,56287,SQL Server Generate Script to Alter Data Type,"ALTER TABLE table_name ALTER COLUMN column_name new_datatype nullability
"
26051,3285,How do I change all the values in a column whose value is contained in more than one row?,"Update t
Set t.Email = ''
Where t.Email in (Select email from YourTable group by email having count(*)>1)
"
20224,9263,How to apply Joins in Oracle to require result,"SELECT pm.p_name ""P_NAME"",
       listagg(sm.s_number, ', ') WITHIN GROUP (ORDER BY pd.p_d_id) ""S_NUMBER""
  FROM pattern_master pm,
       pattern_details pd, 
       shift_master sm
 WHERE sm.s_id= pd.s_id 
   AND pm.p_id = pd.p_id
GROUP BY pm.p_name;
"
27990,56270,mysql: how to put row data into one return column,"SELECT GROUP_CONCAT(ID)
FROM tablename
Where Running = 3
"
706,63470,Convert Comma Separated column value to rows," SELECT A.[id],  
     Split.a.value('.', 'VARCHAR(100)') AS String  
 FROM  (SELECT [id],  
         CAST ('<M>' + REPLACE([string], ',', '</M><M>') + '</M>' AS XML) AS String  
     FROM  TableA) AS A CROSS APPLY String.nodes ('/M') AS Split(a); 
"
39515,49452,Query - Update table rows at one go with different values,"update your_table
set lat_appx = substring(lat, 1, 6),
    long_appx = substring(`long`, 1, 6)
"
234,14051,Update multiple columns in SQL with bound multi-part identifier,"update table_1
  set field_1 = table_2.value_1
  from table_1
    inner join table_2
      on (table_1.id = table_2.id)
"
18674,54925,Need a simple T-SQL Query,"select PrimaryKeyColumn1, PrimaryKeyColumn2,
       stuff(((case when column_a = 1 then ',A' else '' end) +
              (case when column_b = 1 then ',B' else '' end) +
              (case when column_c = 1 then ',C' else '' end)
             ), 1, 1, '') as vals
from . . .
"
4765,32247,Narrow down results with SQL joins?,"select ALBUMS.category_id
,      ALBUMS.album_id
,      ALBUMS.album_name
,      ALBUMS.artist_id
,      ARTISTS.artist_name
from   ALBUMS
       inner join ARTISTS on ALBUMS.artist_id = ARTISTS.artist_id
       inner join CATEGORIES on ALBUMS.category_id = CATEGORIES .category_id
where  CATEGORIES.category_name = 'Your category name'
"
37895,63034,"Getting ALL shops, with `attached` if a given item is attached to it","SELECT shops.*, shop_item.id AS attached
FROM shops LEFT OUTER JOIN
     shop_item
     ON shops.id = shop_item.shop_id and shopt_item.item_id = 1;
"
10789,9630,Oracle - How to conditional SUM two rows,"select JOURNAL_NO, LINE_NO, SUM(AMOUNT), MAX(ACC_CODE)
from
(
select JOURNAL_NO,
       case when LINE_NO > 1000 then LINE_NO - 1000 else LINE_NO end as LINE_NO,
       AMOUNT, ACC_CODE
from tablename
) dt
group by JOURNAL_NO, LINE_NO
"
17336,21180,Tabular Query to Compare Measures Across Dates,"Previous Value := CALCULATE(SUM(Table[Value]) - CALCULATE(SUM(Table[Value]), PREVIOUSDAY(Table[date])))
"
4581,38945,i need to get dabase values in to my textbox using join,"$this->db->select('*');
                $this->db->from('tbl_user');
                $this->db->join('tbl_userinfo', 'tbl_user.user_id = tbl_userinfo.user_id');
                $this->db->where('tbl_user.user_id', $data);
                $query = $this->db->get();
                $result = $query->result();
                return $result;
"
14384,53821,SQL Full Text Contains not returning expected rows,"select ssw.*
  from sys.fulltext_system_stopwords ssw
  where ssw.language_id = 1033;
"
31195,65092,How to get 3 parameters from 3 different tables in one query - SQL,"SELECT U.Name AS UserName,
       MAX(P.Date) AS LatestPost,
       (SELECT COUNT(F.userNameFollower) FROM Followers WHERE userID = U.userID) AS FollowerCount
FROM User U
INNER JOIN Post P ON (U.userID = P.userID)

GROUP BY U.UserID
"
4516,17538,How to modify every row in the column with procedure?,"update your_table
set    your_column = your_column || '_[' || your_id || ']'
where  your_column is not null
"
34137,66979,Confused on how to design my database for a checklist app,"SELECT i.*
FROM checklist_item i
INNER JOIN tab t ON i.tab_id = t.tab_id
WHERE t.name = 'Household'
"
8912,41544,MySQL: update field with Group By,"$sql = ""UPDATE table SET salary = salary  + 5 WHERE name = 'david' 
        ORDER BY id LIMIT 1"";
"
10972,49686,SQL JOIN return record from table flights corresponding form table 2,"Select
    flights.name,
    flights.Departure
from
    flights
    inner join Table2
        on Table2.Dep = SUBSTRING(flights.Departure,1,4) and Table2.Arri = SUBSTRING(flights.Arrival,1,4)
;
"
7253,16820,Find entities with multiple relations,"SELECT 
    p.id 
FROM Photo p
JOIN PhotoConnect pc on pc.photo_id = p.id
JOIN PhotoConnect pc1 on pc1.photo_id = p.id
WHERE pc.outside_name = 'country' and pc.outside_key = 6 
  AND pc1.outside_name = 'region' and pc1.outside_key = 13
GROUP BY photo_id
"
23770,51756,Filter Reverse Pairing in Query,"SELECT a.user_id, b.user_id, count(*) AS num, collect_set(m.movie_title)
FROM ratings a JOIN
     ratings b
     ON a.movie_id = b.movie_id JOIN
     movies m
     ON a.movie_id = m.movie_id
WHERE a.user_id < b.user_id
GROUP BY a.user_id, b.user_id
ORDER BY num DESC;
"
6112,15672,How to find duplicate record for same date,"select id, roomid, inv_date, count(room)
from room_inventory
group by id, roomid, inv_date
having count(room) > 1;
"
543,8866,MySql select from two tables statment,"SELECT
  u.id,
  u.name,
  u.isSpecial,
  d.country,
  d.zipCode
FROM Users u
LEFT JOIN Detals d
ON u.id = d.userId
WHERE u.name = 'Jorden'
  OR u.isSpecial = 1
"
21207,6473,how to make a vote up feature?,"UPDATE myTable
  SET voteCol = voteCol + 1
  WHERE id = idOfInterest;
"
1200,43985,How to filter data on one table based on reference data on another table?,"SELECT A.name, A.code, A.Account, A.remark, A.scheme
FROM account_agent A
INNER JOIN bulk_index B ON A.account = B.account 
WHERE A.scheme = 'as' AND A.code = '10'
"
15645,70011,Is it possible to Pivot data like this?,"select
    SubId,
    max(case when ProcessNumber = 802 then ReadTime end) as [802Time],
    max(case when ProcessNumber = 802 then Lineage end) as [802Lineage],
    ....
from SourceTable
group by SubId
"
31680,6847,SQL Query producing results in reverse order,"SELECT * FROM [TIMESTAMP_ORGANISER].[dbo].[TEST_DB]
ORDER BY timestamp, CASE WHEN remaining LIKE '%agentStateEvent%' THEN -1
                         WHEN remaining LIKE '%TerminalConnectionCreated%' THEN -2
                    ELSE -3 END
"
25794,21666,SQL GROUP BY with a condition?,"INSERT INTO t1_temp (id, NeighborhoodID, power, tag) 
    SELECT id, NeighborhoodID, SUM(power), tag 
    FROM CLOUD GROUP BY tag, NeighborhoodID ORDER BY NeighborhoodID
"
9037,39471,How to change data type of columns without dropping it,"ALTER TABLE dbo.DEPARTMENT
ALTER COLUMN BUDGET_CODE VARCHAR(100)
ALTER COLUMN OFFICE_NUM VARCHAR(100)
"
6741,51825,PostgreSQL query failure,"select * from test where key0 >= '00 00        00        00 00        00' order by key0;
 key0 
------
(0 rows)

select * from test where key0 >= '00 00        00        00 00        00' COLLATE ""C"" order by key0;
                  key0                  
----------------------------------------
 00 00        00        00 0000        
(1 row)
"
28322,15333,SQL to get the 2nd (nth) record for each group (postgresql or mysql),"select bid_id, status, created_at
from
(
select bid_id, status, created_at,
row_number() over(partition by bid_id order by created_at desc) as rn
from tablename
) x
where x.rn = 2;
"
7669,6826,How to get values from rows on one table to column of other,"select t1.CustomerId, t1.CustomerName,
       max(case when seqnum = 1 then PhoneNmber end) as PhoneNmber1,
       max(case when seqnum = 2 then PhoneNmber end) as PhoneNmber2
from table1 t1 left join
     (select t2.*,
             row_number() over (partition by customerId order by customerId) as seqnum
      from table2 t2
     ) t2
     on t1.CustomerId = t2.CustomerId
group by t1.CustomerId, t1.CustomerName;
"
5894,4756,How make a subquery in a select all (*) for a view SQL,"CREATE VIEW database.pages_view AS
    SELECT p.p_name, p.slug, i.image, t.title, t.text,
           s.*
    FROM database.pages p LEFT JOIN 
         database.page_image i
         ON p.id = i.ages_id LEFT JOIN 
         database.page_text t
         ON p.id = t.pages_id LEFT JOIN
         database.sections s
         ON p.id = t.pages_id
    WHERE p.visible = 1;
"
18194,13224,mysql query needed for complex move of 1 field into a field in a different database,"update LTC_NEW.pfields_content c
  join LTC_OLD.phpbb_users u on c.member_id = u.user_id
SET c.field_5 = u.user_gender
"
23328,50897,How to verify if the content of a specific table field is univocal?,"SELECT Title, COUNT(1) AS TitleCount
FROM MaliciousCodeAlertDocument
GROUP BY Title
HAVING COUNT(1) > 1
"
6187,61895,Where clause affects Count() but not number of results returned,"   SELECT [user_id], [first_name], COUNT(m.sender_id) as number_of_messages
     FROM [Member]
LEFT JOIN [Message] m ON user_id = m.sender_id
                     AND m.message_type = 0
 GROUP BY [Member].[user_id], [first_name]
 ORDER BY number_of_messages DESC
"
22108,17836,Dropping a TABLESPACE and USER when table LOCKS are disabled,"BEGIN
   FOR cc IN (SELECT owner, table_name
                FROM all_tables
               WHERE tablespace_name = :x
                 AND table_lock = 'DISABLED') LOOP
      EXECUTE IMMEDIATE 'ALTER TABLE ""' || cc.owner || '"".""' || 
                         cc.table_name || '"" ENABLE TABLE LOCK';
   END LOOP;
END;
"
1516,21491,SQL Update secondary table with data from first table,"# NULL for appID
INSERT INTO Applications 
VALUES (NULL, ""app name"") 

# NULL for fileID, LAST_INSERT_ID() for recently inserted appID
INSERT INTO files 
VALUES (NULL, LAST_INSERT_ID(), ""file name"") 
"
13956,20203,SQL count / query assistance,"SELECT InstructorDetails.Name, count(*) totalCount
FROM   Instructor i
       INNER JOIN Person as InstructorDetails
           ON InstructorDetails.ID = i.InstructorID
       INNER JOIN Student as Mentees
           ON Mentees.MentorID = i.InstructorID
GROUP BY InstructorDetails.Name
"
16670,29547,"SQL: Take only the latest entry for each ""group""?","SELECT t1.`INDEX`, t1.`INDEX2`, t1.`SOMENUMBER` FROM TEST t1 INNER JOIN
(SELECT `INDEX`, `INDEX2`, MAX(`DATE`) DATE FROM TEST
GROUP BY `INDEX`, `INDEX2`) t2 ON t1.INDEX = t2.INDEX AND t1.INDEX2 = t2.INDEX2 AND t1.DATE = t2.DATE
"
39480,19116,Converting from normal date to unix epoch date in MS Access SQL query,"    DATEDIFF(second, '1 Jan 1970', tbl.LastChangeDate)
"
36702,40470,Sql 2005 get latest entry from a group of data,"SELECT ClientId, body, MAX(DateModified)
FROM Activity
GROUP BY ClientId, body
"
19621,34544,Query patient ID #s from an Excel 2007 list?,"SELECT counties.*
FROM counties INNER JOIN (importedpatients INNER JOIN patients ON
importedpatients.patientid = patients.patientID) ON 
counties.countyid = patients.countyid
"
12786,66998,Updating data in a table,"update criminals set charge1 = 
replace(charge1,substring(charge1, charindex('#',charge1), len(charge1)),'')
where charindex('#',charge1) > 0
"
25915,51619,"multiple parameter ""IN"" prepared statement","ArrayList<Integer> partNumbers = new ArrayList<Integer>();
partNumbers.add(999);
partNumbers.add(777);
partNumbers.add(1234);

// set up
Database database = new Database(getConnection());
Table<Inventory> inventoryTable = database.getTable(Inventory.class);

ArrayListSelectOperation<Inventory> operation =
    new ArrayListSelectOperation<Inventory>(inventoryTable, ""partNumberIn"");

// show results
for (Inventory inventory: operation.selectAll(partNumbers))
    System.out.println(inventory.getPartNumber());
"
8949,70541,SQL Server - Efficiently storing the results of a query in a tracking table,"DECLARE @QueryTime DATETIME
SET @QueryTime = GetDate()
INSERT INTO TableB
SELECT X, @QueryTime FROM TableA
SELECT X, Y FROM @TableA
"
13984,75477,SQL: @somevalue = null is not working properly,"  IF @existPerson is null
"
36388,72943,MSSQL Insert 10 random rows for each ID,"insert into TBL3
select t1.col1, t2.col2
from
    (select row_number() over (order by NEWID()) rownum, col1 from TBL1) t1
inner join
    (select row_number() over (order by NEWID()) rownum, col2 from TBL2) t2
on t1.rownum = t2.rownum

go 10
"
35565,11228,Align the SQL server Query results,"DECLARE @MaxKeyLength INT = (SELECT MAX(LEN([Name])) FROM testTable)


select '(''{' + cast(UniqueId as varchar(MAX)) + '}'',''' + LEFT(LTRIM([Name]) + ''',                                             ', @MaxKeyLength + 4) + ''''  + Address+ '''),'
from testTable;  
"
24431,68410,White-space between two values,"LTRIM(RTRIM(EB.Liter))+'L '+LTRIM(RTRIM(EB.CC))+'cc '+'-ci'+LTRIM(RTRIM(EB.BlockType))+LTRIM(RTRIM(EB.Cylinders))+
    + '('+
    LTRIM(RTRIM(EB.EngBoreIn))+'x'+
    LTRIM(RTRIM(EB.EngStrokeIn))+'; '+
    LTRIM(RTRIM(EB.EngBoreMetric))+'x'+
    LTRIM(RTRIM(EB.EngStrokeMetric))
    +')' as EBase
"
9724,32637,Merge rows by type order by count psql,"select id,entity_type,likes_count from 
(
SELECT Row_number()OVER (partition BY entity_type ORDER BY likes_count DESC)rn,id,entity_type,likes_count
FROM   elements
) A
ORDER  BY rn,
          CASE entity_type
            WHEN 'Ride' THEN 1
            WHEN 'Part' THEN 2
            ELSE 3
          END 
"
641,59328,SQL SUM on 'generated' column,"SELECT   name,
         surname,
         SUM(absentdays) AS total_absent_days
FROM     (SELECT name, 
                 surname,
                 DATEDIFF(""d"", fromdate, todate) AS absentdays
          FROM   DiseaseReport D, Employees E
          WHERE  E.number = D.empnumber
         )
GROUP BY name, surname
"
5616,6744,SQL Server - View a specific log entry in transaction log file (ldf),"Select * from ::fn_dblog(null,null)
"
22533,919,Test for COUNT()>X inside SQLite trigger,"CREATE TRIGGER mytrigger
BEFORE INSERT ON mytable
BEGIN
    SELECT CASE WHEN 
        (SELECT COUNT (*) FROM mytable) >= 3
    THEN
        RAISE(FAIL, ""Activated - mytrigger."")
    END;
END;
"
24498,23133,SQL single select to modify the second string occurance in all wordpress posts,"UPDATE `wp_posts` SET `post_content` = (SELECT CONCAT(SUBSTRING_INDEX(`post_content`,@search,@pos),'4321',SUBSTRING_INDEX(`post_content`,@search,(@pos-1-(LENGTH(`post_content`)-LENGTH(REPLACE(`post_content`,@search,'')))/LENGTH(@search)))));
"
21588,66244,How to make an if statement using value from case,"select (case country when @c then @co = @co +1
        else @co = 1, @c = country
        end ) as ax,
        country, country_id, town, IF(town_id = param_ti, population_c, NULL) as pop
    from tb_town a left join
         tb_country b on b.country_id = a.country_id;
"
2272,47870,Return the sum of counts from multiple years," SELECT DecadeStart, MAX(MovieCount)
     from (
           SELECT m.year AS DecadeStart, (
               SELECT COUNT(*)
               FROM Movie m2
               WHERE m2.year >= m.year AND m2.year < (m.year + 10) 
               AND m2.year IS NOT NULL) 
          as MovieCount
          FROM Movie m GROUP BY m.year
          ) movie ;
"
35845,28481,"How to return ""row number"" of first occurrence, SQL?","SELECT COUNT(*)
FROM tbl
WHERE letter < 'F'
"
17289,35297,Join 3rd Table in MYSQL,"SELECT 
  coll.title AS CollectionTitle, 
  cont.CollectionID, 
  cont.title AS ContainerTitle, 
  cont.ID as ContainerID, 
  cont.LevelContainerID,
  cont.ContentID,
  user.Title,
  user.Value,
  user.EADElementID 
FROM tblCollections_Content cont 
JOIN  tblCollections_Collections coll 
  ON cont.collectionid = coll.id 
JOIN tblCollections_UserFields user
  ON cont.ContentId = user.ContentId
WHERE cont.title is NOT NULL 
ORDER BY CollectionID, ContainerID
"
6739,25583,How can I optimize the following SQL query,"select count(t1.id), t1.variety_id, t1.name 
from tblItem t1
inner join tblItem t2 ON t2.order_id = t1.order_id and t2.variety_id = 4005
where t1.variety_id != 4005 
GROUP BY t1.variety_id, t1.name
ORDER BY count(t1.id) DESC 
LIMIT 5;
"
18141,20667,get empty result from sql query,"SELECT    p1.cost AS V1, p2.cost AS V2 , p3.cost AS V3 
FROM      product p1
LEFT JOIN product p2 on p2.id = 2
LEFT JOIN product p3 on p3.id = 3
WHERE     p1.id = 1
"
4496,33807,How to select row based on existance of value in other column,"select i_id, option, p_id
from (
  select
    i_id,
    option,
    p_id,
    row_number() over (partition by i_id order by case option when 'C' then 0 when 'B' then 1 when 'A' then 2 end) takeme
  from thetable
  where option in ('A', 'B', 'C')
) foo
where takeme = 1
"
8905,10940,Compare the date from other table,"Select 
  StartDate,
  [Status]=Case  
        when DATEDIFF(m,StartDate,(Select MAX(Date) from Table2))>6
        then 'Expired' 
        Else 'Valid'
        end

  From Table1
  where EndDate is not null
"
956,75555,How to use variable in SQL statements and assign answer to variable,"name = db.execute ""SELECT price FROM Products WHERE product_code = ?"", bind_variable_here
"
6552,62109,Nz() not working in MS Access,"SELECT
    Nz(s1.CountOfPatient_ID,0) + Nz(s2.CountOfAll_ID,0)
FROM
    [SELECT Count(Patient_ID) AS CountOfPatient_ID FROM Research]. AS s1,
    [SELECT Count(All_ID) AS CountOfAll_ID FROM Research]. AS s2
"
27347,41527,How to extract custom tokens in SQL Server NVarChar/VarChar field by using RegEx?,"var s = ""Welcome [CT Name=\""UserName\"" /], We hope that you will enjoy our services and your subscription will be expired on [CT Name=\""ExpiredDate\"" /]."";
var pattern = ""\\[CT\\s\\w+=\""\\w+\""\\s/\\]"";
var matches = Regex.Matches(s, pattern);
foreach (var match in matches)
{
    Console.WriteLine(match.ToString());
}
Console.ReadLine();
"
5437,18536,SQL- Identify nullable values,"SELECT *
FROM information_schema.columns c with (Nolock)
"
7344,64279,Show sum of all for every record,"select ItemName, (select sum(Price) from Items) as AllPrices
from Items
"
34696,13148,How do I get the count of records that do not have any record in the second table?,"select count(*) 
from first_table f
where not exists (select 1 from second_table s where s.infoid = f.id)
"
38853,13161,Convert cell text in progressive number,"%% Converting of the UUIDs into integer
C = unique(session);
N = length(session);

session2 = zeros(N, 1);
for i = 1:N
    session2(i) = find(strcmp(C, session(i)));
end
"
25815,41309,Processing pairs of events from a database,"select *
from events a
     events p
     on a.eventid = p.eventid and
        a.status = 'acknowledged' and
        p.status = processed;
"
36172,64455,Tricky Postgresql query,"select a, b, c
from example
join (select a, max(c) max_c from example group by a) max_c
on example.a = max_c.a and example.c = max_c.max_c
"
38593,58520,How to retrieve employees belonging to more than one Owner using Oracle SQL,"SELECT emp_no, owner_id
FROM (
SELECT  emp_no
       ,owner_id
       ,COUNT(DISTINCT owner_id) OVER (PARTITION BY emp_no) c
FROM    TableB b INNER JOIN 
        TableA a ON b.aid = a.aid 
)
WHERE c > 1;
"
13565,29460,Split and join sql,"select a.id, group_concat(c.id)
from a join
     categories c
     on concat(', ', c.catename, ', ') like concat('%, ', name, ', %')
group by a.id;
"
20207,71427,Select and join from to tables in mysql,"  (select t.*, u.Name from thread_message t left join users u on FromUserId=u.Id where ToUserId=1) 
union 
  (select t.*, u.Name from thread_message t left join users u on ToUserId=u.Id where FromUserId=1)
"
10418,34527,"PostgreSQL equivalent for TOP n WITH TIES: LIMIT ""with ties""?","WITH cte AS (
   SELECT *, rank() OVER (ORDER BY <something>) AS rnk
   FROM   tbl
   )
SELECT *
FROM   cte
WHERE  rnk <= n;
"
38972,65932,SQL Repeate or Duplicate results,"SELECT 
emp.name,
emp.lastname,
emp.birthdate,
emp.gender
FROM employee emp
inner join (select 1 as a union all select 2) a on 1 = 1
WHERE employeeid = 1
"
33665,28479,How do I find records in one table that do exist in another but based on a date?,"select d.`name`
from z_dealer d
where
  (select count(*)
   from z_order o
   WHERE o.promo_code = d.promo_code
   AND o.date_ordered > '2015-01-01') = 0
"
34859,59035,Better query for joins,"  SELECT t.name
    FROM TEACHERS t
    JOIN CLASS c ON c.teacherid = t.teacherid
    JOIN STUDENTS s ON s.studentid = c.studentid
                   AND s.name IN ('John', 'Bob')
GROUP BY t.name
  HAVING COUNT(DISTINCT s.name) = 2
"
11315,2902,Refreshing a pivot table created in Excel Vba (ADODB Connection),"    Set .Recordset = rs
    .Refresh
"
20943,32839,Is this a legal SQL query?,"SELECT r.EventName, e.TotalSeats - SUM( r.NumSeats )
FROM Reservation r JOIN
     Event e
     ON e.Name = r.EventName
GROUP BY r.EventName, e.TotalSeats;
"
71,68683,Return NULL data in SQL,"SELECT dboUser.User, 
    dboComputer.ComputerName 
FROM dboUser LEFT JOIN dboComputer ON dboUser.User = dboComputer.User
WHERE dboUser.User IN ('user1', 'user2', 'user3');
"
36325,36873,How do I add a column to identify sequences of dates,"select a.*, sum(SequenceStart) over (partition by user order by date) as seq
from (select a.*,
             (case when date > dateadd(day, 45, lag(date) over (partition by user order by date)) 
                   then 1 else 0 end
              end) as SequenceStart
      from appointment a
     ) a;
"
29478,64563,Merge data from two cells from the same column in different rows in MySQL/MariaDB,"SELECT pkm.pkm_code, pkm.pkm_name, group_concat(type.type_name) as typename FROM poketype
    JOIN pkm ON pkm.pkm_code=poketype.pkm_code
    JOIN type ON poketype.type_code=type.type_code
    WHERE pkm.pkm_code<=151
    GROUP BY pkm.pkm_code, pkm.pkm_name;
"
14590,44548,changing selected values in INSERT statement,"INSERT INTO NEWTABLE (ID, VALUE, NEWVALUE)
SELECT
    ID,
    VALUE,
    CASE OLDVALUE
       WHEN 'A' THEN 'Y'
       WHEN 'B' THEN 'Z'
       ELSE OLDVALUE
    END
FROM OLDTABLE;
"
7034,55551,SQL funky time duration query,"select 
    case 
        when extract(day from date_field) <= 25 
        then date_trunc('month', date_field + interval '3 months')
        else date_trunc('month', date_field + interval '4 months')
    end
from t
"
33672,11294,How to get previous value from a log,"SELECT  *
, prev_value = (
    SELECT TOP 1 NewCustomerValue 
    FROM #CustomerExampleLog l 
    WHERE c.CustomerRecordId = l.CustomerRecordId 
    AND l.NewCustomerValue <> c.CurrentCustomerValue 
    ORDER BY LogCreateDate DESC
   )
FROM    #CustomerExample c
"
7432,6713,Sorting a number which is stored as varchar in mysql,"SELECT * FROM `Fac__Invoice` ORDER BY CAST(`Fac__Invoice`.`invoice_number` AS UNSIGNED) ASC 
"
23972,70578,BASH List header of empty sqlite database,"sqlite3 your.db ""pragma table_info(your_table)""
"
36110,5168,sql oracle update date,"update table1 set ""date"" = to_date(date_txt, 'MM/DD/YYYY HH:MI:ss AM')
"
30074,36504,Join query explained,"FROM subscriptions 
JOIN users ON users.user_id =  subscriptions.following 

FROM subscriptions 
left JOIN users ON users.user_id =  subscriptions.following 

FROM subscriptions 
CROSS JOIN users

FROM subscriptions 
JOIN users ON users.referred by_id =  subscriptions.following 
"
7440,27207,Listing elements of my table," SELECT cr.*
   FROM cliche c
  INNER JOIN cliche_revisao cr ON c.cliche_pk = cr.cliche_pk
  WHERE cr.numero = (SELECT MAX(number) 
                     FROM cliche_revisao cr2
                     WHERE cr2.cliche_pk = cr.cliche_pk)
"
25672,3818,How to update time in the timestamp column in oracle?,"UPDATE table_name
   SET timeout  = timeout + interval '12' hour
 WHERE timeout > timein;
"
12900,23011,SQL Server : join and append columns,"SELECT  a.ID, 
        SUBSTRING(d.NameList,1, LEN(d.NameList) - 1) Names
FROM    a
        CROSS APPLY
        (
            SELECT DISTINCT [NAME] + '; ' 
            FROM  B 
            WHERE A.ID = B.DupID 
            FOR XML PATH('')
        ) D (NameList) 
"
19651,23936,SQL connect two columns,"SELECT *
FROM table1
WHERE CONCAT(column1, column2) = '0123456789';
"
874,42373,SQL Join of 2 tables to subtract quantities using Java,"UPDATE Orderdetails od
INNER JOIN Titles t ON od.id = t.id
SET t.No_of_copies_in_inventory = (t.No_of_copies_in_inventory - o.QtyOrdered)
WHERE od.id = 'idhere'
"
7420,44912,"Access 2013 - One to Many relationship: Show all values on ""One"" side and only select values on ""Many"" side","SELECT 
  tblSalaryBand.BandName, tblSalaryBandYear.BandMax, 
  tblSalaryBandYear.BandMin, tblSalaryBand.ID AS SalaryBandID
FROM tblSalaryBand 
LEFT JOIN (
    SELECT * 
    FROM tblSalaryBandYear 
    WHERE ReviewYearID = [Forms]![frmHome]![SelectedYear]
) AS SBY ON tblSalaryBand.ID = SBY.SalaryBandID 
"
24294,67787,Replace ; with blank in SQL,"SELECT REPLACE(note,';','') AS [note] FROM @T
"
18011,57040,"LOAD DATA INFILE only Loads 0s, NULLs, and Blanks","LOAD DATA LOCAL INFILE 'c:/mytestfile.csv' INTO TABLE report.test
FIELDS TERMINATED BY ','
OPTIONALLY ENCLOSED BY '""' 
LINES TERMINATED BY '\n'
IGNORE 1 LINES
(ONE, TWO)
"
26811,71559,SQL Update records to sum of previous records with condition,"declare @sumc decimal
declare @sumd decimal
set @sumc=0
set @sumd=0

update myTable set 
    @sumc+= case typ when 'c' then amn else 0 end, flwc=@sumc,
    @sumd+= case typ when 'd' then amn else 0 end, flwd=@sumd
"
15410,54677,SQL to Count status text and change some of those status texts (and their count) based on a date,"DECLARE @currentDate DATE = '20160404'

SELECT
    Status =
        CASE 
            WHEN DueDate <= @currentDate AND ISNULL(Status, '') <> 'Complete' THEN 'Late'
            ELSE Status
        END,
    COUNT(*)
FROM DispatchStatus
GROUP BY
    CASE 
        WHEN DueDate <= @currentDate AND ISNULL(Status, '') <> 'Complete' THEN 'Late'
        ELSE Status
    END
"
23679,42921,SQL select row where id=max(id),"SELECT pd_id, pd_title, pd_description, pd_colour,
       pd_price,pd_large_image,pd_date,cat_sub_id_3,pd_new
FROM product 
WHERE 
  cat_sub_id_1 = '"".$cat_sub_id.""' 
  AND cat_parent_id='"".$cat_parent_id.""' 
  AND pd_id = (select max(pd_id) from product)
GROUP BY pd_title
"
5282,57395,Storing one or several sql statements as a variable in a stored procedure in SQL Server,"DECLARE @SQLQuery varchar(500)

SET @SQLQuery = 'SELECT * FROM Employees WHERE EmployeeID = 123'

EXECUTE(@SQLQuery)
"
6545,17432,"MySQL - display rows of names and addresses grouped by name, where name occures more than once","SELECT t.name_id,
       t.last_name,
       a.street_address
  FROM NAME t
  JOIN ADDRESS a ON a.name_id = t.name_id
  JOIN (SELECT n.last_name
          FROM NAME n
      GROUP BY n.last_name
        HAVING COUNT(*) > 1) nn ON nn.last_name = t.last_name
"
33944,57138,How to insert a row into a table and update the last row before inserting the new row in SQL Server,"CREATE TRIGGER trgCustInfo_Status
ON CustInfo
AFTER INSERT
AS
BEGIN
  DECLARE @id INT

  SELECT @id = Id 
  FROM (
    SELECT Id, ROW_NUMBER() OVER (ORDER BY Id DESC) rn 
    FROM CustInfo
  ) t
  WHERE rn=2

  UPDATE CustInfo
  SET EndDate = CAST(GETDATE() AS DATE),
      Status = 'OFF'
  WHERE Id = @id
END
"
32755,45971,Event/Time and criteria based SQL,"SELECT a.* 
FROM user a 
LEFT JOIN event b ON (b.user = a.id AND b.event = 'userjoined') 
WHERE a.joineddt < '1 week ago date' 
AND b.id IS NULL
"
29162,8871,How do I write this SQL query?,"SELECT * FROM MyTable
WHERE parentId = '001'
AND childId = (SELECT MAX(childId) FROM MyTable WHERE parentId = '001')
"
8845,6002,Compare only DATE from 2 datetime columns - sql,"Select * from Admissions
Where DATEDIFF(dd,AdmitDateTime,DepartDateTime)=0
"
37858,36342,Access 97: table entry to drop off form when a date/time reached,"SELECT *
FROM MyTable
WHERE CreateTime > DateAdd(""d"", -3, Now())
"
5645,72580,SQL query for fetching a value where all but one row matches,"SELECT DISTINCT
    task_group
FROM query_tst As a
WHERE (
    (NOT EXISTS (
        SELECT NULL
        FROM query_tst As b
        WHERE (
            (a.task_group = b.task_group) And
            (b.task_name <> 'Initial') And
            (b.performed_by <> 'AUTO')
        )
    ))
);
"
33369,51290,Use FLOOR() (or other SQL functions) in Django queries,"MyModel.objects.extra(group='FLOOR(quantity/100)')\
    .values('group')\
    .annotate(count=Sum('quantity'))\
    .order_by()
"
30703,75595,SQLite - Highest 60 second average in a time series?,"SELECT MAX((SELECT AVG(watts) 
            FROM tblworkoutdata d2
            WHERE d2.workoutsummaryid = d1.workoutsummaryid 
              AND d2.ticks BETWEEN d1.ticks AND d1.ticks + 60)) AS theMax 
FROM tblworkoutdata d1
WHERE workoutsummaryid = 198
"
7588,75345,Query to order time events showing first future events and after show current events,"SELECT *,
       DATEDIFF(start_time, CURDATE()) AS diff
FROM   events
WHERE  start_time >= CURDATE()
        OR ( start_time <= CURDATE()
             AND end_time >= CURDATE() )
ORDER  BY CASE
            WHEN diff > 0 THEN 0
            ELSE 1
          end,
          diff ASC;
"
8924,19774,querying on kinda EVA like model,"select entity_id from table where value = 1
intersect
select entity_id from table where value = 2


select t1.entity_id from table t1
join table t2 on t1.entity_id = t2.entity_id
where t1.value = 1 and t2.value = 2
"
32826,28057,How to select from a table with two columns but one of them is null,"select * 
from t_items where (code ='#itemcode#' 
and #itemcode# is not null)
OR (definition like '%#definition#%' 
and #definition# is not null)
"
8600,26381,Set up Oracle Text to index values of multiple columns in Oracle tables,"begin
ctx_ddl.create_preference('my_multi', 'MULTI_COLUMN_DATASTORE');
ctx_ddl.set_attribute('my_multi', 'columns', 'column1, column2, column3');
end;


create index myindex on mytable(docs) 
  indextype is ctxsys.context 
  parameters ('DATASTORE my_multi');
"
11548,21890,Taking IF clauses from MySQL to SQL Server 2005,"SELECT id, first, last, 
  CASE WHEN first IN (q1,q2) THEN 1 ELSE 0 END
  + CASE WHEN last IN (q1,q2) THEN 1 ELSE 0 END AS points
FROM dbo.users
ORDER BY points DESC;
"
12311,13372,Can not clear table from sqlite in android,"db.execSQL(""DELETE FROM ""+ TABLE_SERVER_CONTACTS);
"
32580,39378,Expand table rows based on column value,"select to_char(event_date + (l - 1),'dd/mm/yyyy') from tab1 t
left outer join (
  select level l from dual
  connect by level <= (select max(rang) + 1 from tab1)
) on l <= rang + 1
order by event_date, 1;
"
11058,69018,Write Sql sub Query,"select a.orgid, b.orgaddressid, c.address
from organization a
left join organization_address b on a.orgid = b.orgid and b.isprimaryaddress = 'YES'
left join address c on b.orgaddressid = c.addressid
where a.orgid = 1;
"
32565,3114,SQL Programming DateDiff,"CEILING(DATEDIFF(MONTH, DATE1, DATE2) / 12.0) as Total
"
19999,26773,Get all customer that bought 2 product,"SELECT customer
     , COUNT(DISTINCT product) ttl -- DISTINCT is only necessary if (customer,product) is NOT unique
  FROM t
 WHERE product IN ('p1', 'p2')
 GROUP 
    BY customer
HAVING COUNT(*) = 2 -- where 2 is equal to the number of items in IN();
"
27320,50803,Where datetime=date without full table scan?,"UPDATE records SET earnings=
  (SELECT SUM(rate) 
   FROM leads 
   WHERE records.user_id=leads.user_id 
     AND  leads.datetime >= records.date
     And  leads.datetime < records.date [+ one day])  -- however you do that in MySQL
"
24569,7213,SQL How can i exclude an entire group of data when only one member of the group meets criteria,"SELECT * 
FROM #YourTable
WHERE Batch IN (SELECT DISTINCT BATCH 
                FROM #YourTable 
                WHERE MajorCode >= 4000)
"
12013,27198,An SQL statement,"SELECT userName FROM tblUsers ORDER BY date ASC,score DESC
"
23637,1366,SQL Filtering Through Multiple Tags,"SELECT * FROM images
  LEFT JOIN links AS l1 ON l1.INO = images.INO
  LEFT JOIN tags AS t1 ON t1.TagNO = l1.TagNO
  LEFT JOIN links AS l2 ON l2.INO = images.INO
  LEFT JOIN tags AS t2 ON t2.TagNO = l2.TagNO
  [...]
  WHERE t1.tagNO = $tag1
    AND t2.tagNO = $tag2
  [...]
"
39811,11159,How to write a sub query within another subquery?,"SELECT coral.name, COUNT(coralsampling.sampleno) number_of_samples
FROM coral 
JOIN coralsampling 
  ON coral.coralcode = coralsampling.coralcode
 AND coralsampling.dateofsampling BETWEEN '2007/1/1' AND '2008/1/1'
GROUP BY coral.name
HAVING COUNT(coralsampling.sampleno) > 1
"
27419,26090,"database two column logical OR index, or create separate 'index' table","CHECK(team_a_id < team_b_id)
"
13300,57922,Select article AND select article liked time only if article liked (if there is row with userID in Article likes),"SELECT
   Article.ID,
   Article.Title,                                       
   Article.Content,
   COALESCE(Article_Likes.Time,'NOT LIKED') AS Time
FROM Articles
   LEFT JOIN Article_Likes ON Article.ID = Article_Likes.ArticleID 
WHERE  Article.ID = (ArticleID)
LIMIT 1
"
35797,45615,SQL Server : order by - column equal to zero or larger,"select * from your_table
order by case when colA > 0 then 1
              when colA = 0 then 2
              when colA < 0 then 3
         end,
         colB
"
35747,25961,Need Oracle SQL query which will find out consecutive occurrence of vowels for more than 2 times,"Select A,B,C
From Table
Where REGEXP_LIKE(Field, '[aeiou]{3,}', 'i');
"
13513,64759,How to construct this query in T-SQL,"SELECT Date, ColumnA, ColumnB
FROM TableName 
WHERE Date = 
  (SELECT max(Date) FROM TableName)
"
22045,37338,Joining records from same table,"select id1,id2,id3, date1, 
isnull(lead(date1) over(partition by id1,id2,id3 order by date1)-1, '99991231') as date2
from test
"
2629,20347,SQL: trying to find rows that contain the char '1'," SELECT OS_NAME FROM OS WHERE VERSION LIKE '*1*' 
"
26627,13552,sqlite3 select from empty table = no select?,"SELECT IFNULL((SELECT _id FROM empty_table LIMIT 1), 1)
"
1851,49999,"PHP / MySQL question, more the latter","SELECT 
  CONCAT('Q', QUARTER(inv.duedate), ' ', YEAR(inv.duedate)) as quarter,
  SUM(inv.total) as total
FROM
  invoices inv
  LEFT JOIN clients cli ON inv.client_id = cli.id 
WHERE
  cli.country = 'CA'
GROUP BY
  quarter
"
34082,15836,SQL list only unique / distinct values,"WITH singleRow as ( 
   select count(way), way
   from planet_osm_line 
   group by way
   having count(way) = 1
)
SELECT P.*
FROM planet_osm_line P
JOIN singleRow S
  ON P.way = S.way
"
28055,44521,MySQL Query help,"SELECT * FROM tbl
WHERE (Column_1 = 'PENDING') OR (Column_2 = 'PENDING') OR (Column_3 = 'PENDING')
"
39303,3618,Print out cursor values,"create table #inserted(insertorder int identity(0,1), prodId int, orderQuantity int ... <matches inserted row>)

--cursor loop
    insert destination_table(prodId, orderQuantity, ...)
       output inserted.* into #inserted   /*output inserted.* will just select it */
    values @prodId, @orderQuantity ...
--end loop

--inserted rows;
select * from #inserted order by insertorder 
"
34352,6073,I want to add 5 hours on my current time,"Declare @myDate Datetime    
Set @myDate = dateadd(HOUR, 5, getdate())

SELECT Left(Convert(varchar(10),@myDate,21),10) +
       stuff(right(convert(varchar(26), @myDate, 109 ), 15 ), 7, 7, ' ')
"
7606,10233,Building hierarchical order rows from hierarchical table structure,"select [Level],Val from
(
SELECT '0' as [Level], [Col001] as Ord, [Col001] as Val  FROM @DataSource
union 
SELECT '1' as [Level], [Col001]+[Col002] as Ord, [Col002] as Val  FROM @DataSource
union 
SELECT '2' as [Level], [Col001]+[Col002]+[Col003] as Ord, [Col003] as Val  FROM @DataSource
union 
SELECT '3' as [Level], [Col001]+[Col002]+[Col003]+[Col004] as Ord, [Col004] as Val  FROM @DataSource
) as T1
ORDER BY Ord,[Level]
"
31600,58817,Access query called as stored procedure via ADO can't retrieve from linked tables,"strDB = xlWb.Path & ""\database\dbQueries.accdb""
conn.Open ""Driver={Microsoft Access Driver (*.mdb, *.accdb)};"" & _
   ""Dbq="" & strDB & "";"" & _
   ""Trusted_Connection=Yes;""
"
18031,28114,How to load a column with multiple values into separate lines into a table,"SELECT T1.ItemNum, T2.mySplits as Substitute
FROM
 (
  SELECT *,
  CAST('<X>'+replace(T.Substitutes,'/','</X><X>')+'</X>' as XML) as my_Xml 
  FROM Table1 T
 ) T1
 CROSS APPLY
 ( 
 SELECT my_Data.D.value('.','varchar(50)') as mySplits
 FROM T1.my_Xml.nodes('X') as my_Data(D)
 ) T2
"
24122,57325,How can I add a condition to a WHERE clause depending on a separate table's value when given an ID for that table?,"SELECT COUNT(s.id)
FROM salesperson s, businesstrip b
WHERE b.id = @BusinessTrip_ID
  AND s.isEligibleForTrip
  AND (s.canSpeakFrench OR NOT b.requiresFrench)
"
24083,4555,Compare two DATETIME only by date not time in SQL Server 2008,"IF CAST(DateField1 AS DATE) = CAST(DateField2 AS DATE)
"
2579,34482,Select second most minimun value in Oracle,"SELECT value
  FROM (SELECT value,
               dense_rank() over (order by value asc) rnk
          FROM table)
 WHERE rnk = 2
"
25879,69174,Keeping track of web application usage in an SQL Database (Need Suggestions),"select 
  users.id, 
  (users.msg_limit - subq.msgs_used) as msgs_available
from users
inner join (select
              sum(msg_log.cnt) as msgs_used
              from msg_log
              where weekofyear(msg_log.date) = weekofyear(now())
                and msg_log.user = :user_id_param) as subq;
"
21127,53824,"SQL - Is there a query that will do ""foreach A in table, if !B, insert B""?","INSERT IGNORE INTO `table`
SELECT `alt1`.`nid`, `alt2`.`realm`
FROM `table` AS `alt1`, `table` AS `alt2`
"
28763,25236,Update to Exclusive lock conversion,"-- Clustered index (C index)
NCCol2 IDA lockhash (these values are the ""identifier"" of locks)
------ --- --------------
1      11  (29cf3326f583)
2      22  (31178495a25a)

-- Non-Clustered index (NC index)
NCCol2 lockhash
------ --------------
1      (8194443284a0)
2      (61a06abd401c)
"
32814,6617,Group by a string with delimiter,"SELECT a.id, 
(SELECT count(*) FROM ancestors_table t where t.ancestors LIKE CONCAT('%,',a.id,',%') )
  FROM ancestors_table a; 
"
32636,20428,how to fetch random numbers of rows from mysql database?,"SELECT * FROM table ORDER BY RAND() LIMIT 40;
"
3181,18451,How to fetch data of last month from database,"Select count(js_id) from yourtable   WHERE DATEDIFF( m, applied_date, GETDATE() ) = 0
"
39526,63147,Mysql insert data on table a when insert in table b,"DELIMITER $$

DROP TRIGGER /*!50032 IF EXISTS */ `TR_Ebook`$$

CREATE
    TRIGGER `TR_Ebook` AFTER INSERT ON `Ebook` 
    FOR EACH ROW BEGIN
        IF NOT EXISTS (SELECT 1 FROM MisLibros WHERE NEW.IdEbook = MisLibros.IdEbook) THEN 
            INSERT INTO MisLibros (IdEbook) 
            VALUES (NEW.IdEbook);
        END IF;
END;
$$

DELIMITER ;
"
1123,53735,Select where count of other query of same table,"select m.groupId
from Members m
group by m.groupId
having count(*) > 1 and
       sum(case when m.userid = 1 then 1 else 0 end) > 0;
"
21936,51173,SQL SELECT from multiple tables or JOIN,"SELECT t1.Id_thread, t2.Name, t1.Date
FROM t1
JOIN t2 ON t1.Id_thread = t2.Id_thread
GROUP BY t1.Id_thread
"
10141,21403,This query works in postgres and but not in oracle,"SELECT 
    DateTo,(((((EXTRACT(YEAR FROM Ht_LoanSusp.DateTo))-(EXTRACT(YEAR FROM Ht_LoanSusp.DateFrom)))*12)+
    (EXTRACT(MONTH FROM Ht_LoanSusp.DateTo))-(EXTRACT(MONTH FROM Ht_LoanSusp.DateFrom)))+1) AS NoOfMonth
 FROM HT_LoanSusp 
"
30809,20563,New line in Sql Query,"DECLARE @NewLineChar AS CHAR(2) = CHAR(13) + CHAR(10)
PRINT ('SELECT FirstLine AS FL ' + @NewLineChar + 'SELECT SecondLine AS SL')
"
22977,53369,Generating number,"select a,b,
rank() over (partition by b order by a) c 
from tbl
order by a;
"
34634,14266,How to alter a column datatype for derby database?,"ALTER TABLE MY_TABLE ADD COLUMN NEW_COLUMN BLOB(2147483647);
UPDATE MY_TABLE SET NEW_COLUMN=MY_COLUMN;
ALTER TABLE MY_TABLE DROP COLUMN MY_COLUMN;
RENAME COLUMN MY_TABLE.NEW_COLUMN TO MY_COLUMN;
"
27529,49550,Brackets use in where clause,"select 
    PK_Branch,
    [Branch Name DE],
    Country 
from 
    DimBranch
where 
    ([Branch Name DE] like 'Lyss (CH)' or [Branch Name DE] like 'Sevilla') and Country like 'Spain'
"
4404,21301,Time spent between log entries in a table,"SELECT *
     , lead(action_time) OVER (PARTITION BY user_id ORDER BY action_time)
      - action_time AS time_spent 
FROM   tbl;
"
28188,55948,SQL query time series data to find trend counts for user activity,"WITH actions(action) AS(
  VALUES ('X'),('Y'),('Z'))
SELECT d.action
       ,Count(DISTINCT a.userid)
FROM table1 as a
  LEFT JOIN table1 AS b
    ON a.userid = b.userid AND b.action = 'Y' AND a.timestamp < b.timestamp
  LEFT JOIN table1 AS c
    ON a.userid = c.userid AND c.action = 'Z' AND b.timestamp < c.timestamp
  JOIN actions AS d
    ON d.action IN (a.action, b.action, c.action)
WHERE a.action = 'X'
GROUP BY d.action
"
7458,52117,How do I move (INSERT+DELETE) the last n rows from a table in Jet SQL / Access 2003?,"INSERT INTO ChatArchive (MsgId, MsgText, Filtered, LastFetched) SELECT MsgID, MsgText, Filtered, LastFetched FROM ChatCurrent WHERE ID <= (SELECT MAX(ID) from ChatCurrent) - 500;
DELETE FROM ChatCurrent WHERE MsgId <= (SELECT MAX(MsgId) FROM ChatArchive);
"
13192,26074,MySQL query to return a conversation between 2 users,"SELECT SQL_CALC_FOUND_ROWS
    i.id_msg, i.id_user_from from_id, i.id_user_to to_id,
    u_from.name from_name, u_to.name to_name, i.message
FROM inbox AS i
INNER JOIN user AS u_from ON u_from.id_user = i.id_user_from
INNER JOIN user AS u_to   ON u_to.id_user   = i.id_user_to
WHERE (i.id_user_from = 1 AND i.id_user_to = 2) 
   OR (i.id_user_from = 2 AND i.id_user_to = 1)
ORDER BY date_msg DESC
"
11357,54269,Group returned result by mysql,"     SELECT name, repeat_status
     FROM `x`
     WHERE labref = '111'
     GROUP BY name ,repeat_status;
"
8219,71918,Multiple Login area,"tbl_user
 UserID | firstName | Email | Password | LoginArea | GroupID

 1 , Bill , email@email1.com , passwordhash344, Backend | 2
 2 , Paul , email@email2.com , passwordhash123, Backend | 3 
"
23164,63540,"Search string mysql db that can have spaces, be in another string, etc","select *
from mytable
where REPLACE( `productcode` , ' ' , '' ) like '%searchparam%'
"
19914,50734,Mysql group_concat with distinct values from another row,"SELECT
  SUM(amount) totalamount,
  GROUP_CONCAT(amount) amounts,
  GROUP_CONCAT(doc_number) docno,
  doc_date docdate,
  scheme_description schemedesc
FROM (
  SELECT scheme_description, doc_date, doc_number, SUM(amount) amount
    FROM credit_notes
    GROUP BY scheme_description, doc_date, doc_number) t
GROUP BY scheme_description, doc_date
"
28700,26761,MySQL: Joining a table with itself without using Distinct ,"SELECT f1.fUID, f1.fName
FROM friends f1,
friends f2
WHERE f1.UID = X1
      AND f2.UID = X2
      AND f1.fUID = f2.fUID
"
1787,72514,SQL query needed to combine many-to-one values into single result,"SELECT i.item_id,
       group_concat(p.property_id, ':', p.property_value separator ';') as properties
FROM Item i INNER JOIN
     Property p
     ON i.item_id = p.item_id
GROUP BY i.item_id;
"
5251,22673,How to count the number of times an element appears consecutively in a table in Teradata?,"  select id,
         count(*)
    from (select x.*,
                 row_number() over(partition by id order by ord) -
                 row_number() over(partition by id, seg order by ord) as grp
            from tbl x) x
   where seg = 'B'
group by id, grp
order by grp
"
22485,38265,How to create correct SQL statement in delphi,"ADOQuery1.SQL.Text := 'INSERT INTO [dbo].[client] ([Meno],[Priezvisko]) ' +
                      'VALUES(:Meno, :Priezvisko)';
ADOQuery1.Parameters.ParamByName('Meno').Value := Edit1.Text;
ADOQuery1.Parameters.ParamByName('Priezvisko').Value := Edit2.Text;
ADOQuery1.ExecSQL;
"
16823,74439,SQL ACCESS Subquery with extra AND condition,"SELECT m.ID,
    m.PN,
    m.CLASS,
    m.ZAHL,
    Count(M2.id) AS IncByPN
FROM Table1 AS m
    INNER JOIN Table1 AS m2 ON m2.PN = m.PN AND m2.ID <= m.ID
WHERE m.CLASS='ECN'
GROUP BY m.ID, m.PN, m.CLASS, m.ZAHL
ORDER BY m.ID
"
8079,63347,Write sql query to search using wildcard,"declare @Search varchar(20);
set @Search = '3011';

select * 
from TableName
where FieldName like '%' + @Search + '%';
"
4528,42463,VB.NET How to get row values from database to textbox (multiline),"  While reader.Read()
     TextBox1.Text &= reader(0).ToString() & Environment.NewLine 
  End While
"
1229,28878,Passing Parameters to SQL Query through Batch file doesn't work,"Select empSal from Emp_Master where empID = '&1';    -- not &2
exit
"
11000,55547,How to list tables whose names not contain numbers with psql?,"\dt public.[^[:digit:]]+
"
9384,58124,Can you change content in database via query,"UPDATE table_name
   SET url = CONCAT( 'www.', SUBSTR(url, 8, LENGTH(url) - 7) )
 WHERE url LIKE 'http://%'
"
14626,35567,How to find a table name which's column name consist cl_,"SQL> CREATE TABLE t(EMP_ID NUMBER);

Table created.

SQL>
SQL> SELECT table_name, column_name
  2  FROM all_tab_cols
  3  WHERE owner='SCOTT'
  4  AND column_name LIKE 'EMP\_%' ESCAPE '\';

TABLE_NAME           COLUMN_NAME
-------------------- --------------
T                    EMP_ID

SQL>
"
37713,13655,Query for average of last 20 days,"SELECT AVG(volume) AS avg_vol, symbol_id
FROM daily
WHERE date > current_date - INTERVAL'20' day
GROUP BY symbol_id
ORDER BY AVG(volume) DESC
LIMIT 100;
"
30805,854,SQL Remove duplicate parent child entries,"delete from sqltable
     where duplicateid > companyid and
           exists (select 1
                   from sqltable st2
                   where st2.duplicateid = sqltable.companyid and
                         st2.companyid = sqltable.duplicateid
                  );
"
6960,45653,Concatenate strings in Oracle SQL without a space in between?,"to_char(10000,'FM99999')
"
35996,14713,Also show row with NULL value,"SELECT * 
FROM project_category as a 
LEFT OUTER JOIN  project_estimate_detail  as b 
   ON a.id = b.project_cat_id 
where (b.project_cat_id IS NULL) OR (b.project_cat_id not in ('21','22','2'))
"
7275,56507,Using SQL IN AND together,"select product_id
from values
where value in ('large','short')
group by product_id
having count(distinct value) = 2
"
28274,14133,"MYSQL - create single record out of similar rows, chose values of greatest length for most columns","SELECT max(name),
       place_code,
       max(email),
       max(phone),
       max(address),
       max(details),
       max(estd),
       max(others)
FROM table_x
GROUP BY substring(name,1,4),place_code
"
1184,6719,Retrieve time from MySQL as HH:MM format,"SELECT DATE_FORMAT(date_column, '%H:%i') FROM your_table
"
19774,39148,Explicitly specify sort order for mysql query?,"select * from TABLE order by field(ID,4,2,5,3,1)
"
18657,32745,Oracle SQL getting max date value from when joining to another table,"SELECT a.VolumeID ""WFID""
     , a.Manager
     , t.TimeEst
     , t.SALTRecordedBy
     , MAX(t.SALTRecordedDate)
FROM ctxAssistanceWF a JOIN ctxAssistanceSaltWF t ON a.VolumeID = t.SaltWFID  
WHERE a.RowSeqNum = 1  
GROUP BY a.VolumeID
       , a.Manager
       , t.TimeEst
       , t.SALTRecordedBy
"
26847,69906,MYSQL: How can I implement a order by 'Best match' in a query containing `UNION ALL`,"(SELECT `products`.product_id, products.product_name
FROM (`products`)
WHERE  `product_name`  LIKE '%chair%'
AND `products`.`active` =  1)

 UNION ALL

(SELECT `products`.product_id, products.product_name
FROM (`products`)
WHERE  `category_id` IN (128,135,136,138)
AND `products`.`active` =  1)

ORDER BY
  CASE
    WHEN `product_name` LIKE 'chair%' THEN 1
    WHEN `product_name` LIKE '%chair' THEN 3
    ELSE 2
  END
"
23500,62451,Sql minus with joins,"with mf as (
      select Message_id,field_id from DB1.MESSAGE_FIELDS a
      minus
      select Message_id,field_id from DB2.MESSAGE_FIELDS
     )
select mf.*, m.name
from mf join
     messages m
     on mf.message_id = m.message_id;
"
26053,4495,How to convert mysql query into SQL Server query?,"select * from 
(select name , ROW_NUMBER() over(order by name) rn from user ) a
where rn > 5 and rn<= 15
"
15669,32787,Subtract datetime from two columns and put result as integer in third,"Select

    ,CAST(DATEDIFF(mi, Date1Column, Date2Column) as int) as 'DeltaMinutes'
    ,CAST(DATEDIFF(day, Date1Column, Date2Column) as int) as 'DeltaDays'
    ,ISNULL(DATEDIFF(MONTH, Date1Column, Date2Column), -9999) as 'LastSWAge'

From Table
"
22635,44065,How to force logical sorting in teradata?,"ORDER BY month_event (DATE, FORMAT 'mmm')

ORDER BY 
  CASE month_event
    WHEN 'jan' THEN 1
    WHEN 'feb' THEN 2
    WHEN 'mar' THEN 3
    WHEN 'apr' THEN 4
    WHEN 'may' THEN 5
    WHEN 'jun' THEN 6
    WHEN 'jul' THEN 7
    WHEN 'aug' THEN 8
    WHEN 'sep' THEN 9
    WHEN 'oct' THEN 10
    WHEN 'nov' THEN 11
    WHEN 'dec' THEN 12
  END
"
1191,60544,Multiple Foreign keys between two tables,"CREATE UNIQUE INDEX ON EventStaff (EventID) WHERE IsSupervisor = 1
"
30620,20919,Concatenate rows into CLOB,"SELECT Column1 , LISTAGG(Column2, ' ') 
WITHIN GROUP (ORDER BY Column2) AS employees
FROM   Table1
GROUP BY Column1 ;
"
15212,3040,SQL: Update one field from different table,"update table1
set
    value1 = (select value3 from table2 where id=7)
,   value2 = (select value4 from table2 where id=7)
where id=1
"
14748,75547,a small SQL query problem with SELECT,"SELECT
   `auction_title`,
   `auction_seo_title`,
   `auction_description_1`,
   `auction_unixtime_expiration`,
   `auction_startPrice`,
   MAX(`bids`.`bid_price`) as `bid_price`
FROM
   `auctions`
LEFT JOIN `bids` ON `auctions`.`auction_id`=`bids`.`bid_belongs_to_auction`
GROUP BY `auction_id`
ORDER BY `auction_unixtime_expiration` ASC
"
19065,50851,delete a row from table based on a specific association,"@ORM\OneToOne(targetEntity=""Paragraph"", mappedBy=""page"",cascade={""persist"", ""remove""})
"
4811,74511,Many to many table queries,"select t1.eid
  from t t1
 where t1.fid  = 'B'
   and not exists
       (select 1
          from t t2
         where t2.eid = t1.eid
           and t2.fid  = 'A')
"
38722,48845,How to join all data in table for one column as string with sql?,"SELECT STUFF(
    (SELECT ',' + t.name FROM table_name t
     where t.foreingId = 1 FOR XML PATH ('')), 1, 1, '')
"
20707,2386,"Find absent values in a junction table, rectify SQL Server 2008","merge icdjxn as S
using patientTbl as T
on S.patientID = T.patientID
when not matched then
  insert (patientID) values (patientID);
"
20732,69668,get last records with different values in a column,"SELECT Id, Data, Date, Transition
FROM mytable
WHERE Id IN (SELECT MAX(Id)
             FROM mytable
             GROUP BY Data, Transition
             HAVING COUNT(*) > 1)
"
1681,42982,Accessing second row in result,"SELECT * FROM
(
    SELECT DEPT_ID, COUNT(*) AS stud_count, ROW_NUMBER() over (order by COUNT(*) desc) ROW_NUM
    FROM TBL_STUDENT_DEPARTMENT_593932       
        GROUP BY DEPT_ID
)
WHERE ROW_NUM = 2;
"
2704,61210,Sum different values from same column,"select hour,sum(temperature)
from MyTable
group by hour
"
23916,33079,Wondering if the sql statement is correct,"select ProductSerial, count(*)
from testing
where IsRead = 'True'
group by ProductSerial
order by ProductSerial
"
24110,3510,Global Temporary table delete operation,"IF OBJECT_ID('tempdb..##Table' , 'U') IS NOT NULL
   drop TABLE ##Table
"
16632,10052,SQL query join issue,"SELECT m.Name FROM Main m LEFT JOIN Net n ON n.AppID=m.AppID LEFT JOIN Env e ON e.AppID=m.AppID;
"
8098,20629,SELECT and increasing id,"select rownum + 999
from   your_table
"
35223,52175,SQL related wonky error if there is no HTTP in the URL,"CASE WHEN UPPER(wuu.URL) LIKE 'HTTP://%'
THEN wuu.UR
ELSE 'HTTP://' || wuu.URL
END
"
34841,64873,Will Delete SQL locks the table which prevents new data insert into SQL Server 2005?,"WHILE 1 = 1
  BEGIN
        DELETE  TOP 10000 FROM  myTable WHERE CreationDate < GetDate()

        IF @@ROWCOUNT = 0
            BREAK
  END
"
26547,29548,Getting all records based on parent's parent,"SELECT *
FROM CUSTOMERS
WHERE STORE(ID) IN
    (SELECT STOREID
     FROM STORES
     WHERE AREA = DOWNTOWN)
"
27839,31907,SQL related fields and duplicates,"SELECT * FROM Logs l JOIN (
  SELECT prod, amt
  FROM Logs
  WHERE time between '02:00' and '06:00'
  GROUP BY prod, amt
  HAVING count(*)>1
) tmp
ON tmp.prod=l.prod AND tmp.amt=l.amt
WHERE time between '02:00' and '06:00'
"
416,28307,Stored Procedure with select into parameter,"CREATE OR REPLACE
PROCEDURE SP_IN_PARAM(
    INPARAM1 IN number,
    OUTPARAM2 OUT varchar )
AS
BEGIN
  SELECT col1 INTO OUTPARAM2 FROM SAM_TEMP WHERE COL2=INPARAM1;
END SP_IN_PARAM;
"
18689,17842,Joining two rows with same date/time,"select uid,
       max(case when Report <> 'TRUE' then Report end) as Report,
       date
from reports r
group by uid, date
having sum(case when Report = 'TRUE' then 1 else 0 end) > 0;
"
13736,14319,SQL multiple where and fields,"SELECT COUNT(m.meet_id),
SUM(CASE WHEN m.meet_category = 'long' THEN 1 ELSE 0 END),
SUM(CASE WHEN m.meet_category = 'short' THEN 1 ELSE 0 END)
FROM Meetings m where  meet_id in 
    (select meet_id
    FROM Orders o
    WHERE o.order_date >= '2011-03-01'); 
"
34000,2849,Turning off an index in Oracle,"ALTER INDEX idx1 [ INVISIBLE | VISIBLE ]
"
15066,22598,Selecting more than one column to query in sql,"SELECT t.sPropertyCode, sDataDate, SFirstSeen, a1.sTaskType, a2.sTaskType, a3.sTaskType
FROM tasks AS t
INNER JOIN temp AS a1 on t.sPropertyCode = a1.sPropertyCode and a1.sTaskType = 'RF'
INNER JOIN temp as a2 on t.sPropertyCode = a2.sPropertyCode and a2.sTaskType = 'IF'
INNER JOIN temp as a3 on t.sPropertyCode = a3.sPropertyCode and a3.sTaskType = 'CM' 
WHERE iRemoved = 1 AND iBusinessStreamId = 9
ORDER BY sPropertyCode, sFirstSeen;
"
36409,2292,Length (column) greater than but spaces after the characters,"select * 
from tablename 
where length(rtrim(field1)) > 4
"
32756,37982,Can't select row with condition against nvarchar column,"select * from tblactivity where action like N'រៀន%'
"
11114,19881,build a varchar using the first four characters of a uniqueidentifier,"Select
    left(x.id, 1) + '\' +
    left(right(x.Id, 3), 1) + '\' +
    left(right(x.Id, 2), 1) + '\' +
    right(x.Id, 1)
From
    (
        Select Left(cast(idField as varchar(38)), 4)  as Id
        From myTable
    ) x
"
12190,14913,LEFT JOIN 2 Table but will only return the 1st Record from Table2,"SELECT  a.*, b.*
FROM    table1 a
        LEFT JOIN
        (
            SELECT  cid, MIN(imagename) minImage
            FROM table2
            GROUP BY cid
        ) c ON a.cid = c.cid 
        LEFT JOIN table2 b
            ON  c.cid = b.cid  AND
                b.imageName = c.minImage
"
15400,40617,"Optimizing a simple SQLite query, if possible !","SELECT
 (SELECT id FROM test WHERE value < myvalue ORDER BY value DESC LIMIT 1) as below,
 (SELECT id FROM test WHERE value > myvalue ORDER BY value ASC  LIMIT 1) as above;
"
5700,72283,Select rows using having > 1 same column 1 but other column 2,"select
distinct p1.name,p1.article from products p1
where 
exists(
  select 1 from products p2 
  where p2.article = p1.article
  and p2.name <> p1.name
)
"
1600,19065,MySQL select * from last 5 days from a datetime field,"Select 
* 
from 
'myTable' 
where 'datetime' >=
      (
           select  
          `datetime` 
          from myTable 
          group by DATE(`datetime`) 
          order by `datetime` desc 4,1
        )
"
21010,64620,Limiting mysql log file size,"   # relay log restrictions
   relay-log-space-limit=15G
"
36542,55242,counting overall results with groups in mysql,"SELECT 
  COUNT(a.word) 
FROM concordance a
JOIN (SELECT DISTINCT b.word
      FROM bigdic b) temp
ON temp.word = a.word
WHERE a.word LIKE '%"" . $name .  ""%'""
"
11527,50915,num_buckets (dba_tab_col_statistics),"begin
dbms_stats.gather_table_stats(user,'M_CURRENT', 
          method_opt=>'for columns TNE size 254', cascade=>false, 
           granularity=>'ALL', degree=>8);
end;
/
"
4207,26282,mysql where statement date issue,"SELECT 
    * 
FROM 
    table_name 
WHERE 
    MONTH(Display_Date) = MONTH(CURDATE())
AND YEAR(Display_Date) = YEAR(CURDATE())
"
19305,25081,differentiate rows in a union table,"select * from 
(SELECT s.shout_id, s.user_id, s.time, 1 AS FromShouts FROM shouts s
union all
select v.post_id, v.sender_user_id, v.time, 0 AS FromShouts from  void_post v) 
as derived_table order by time desc;
"
32486,73862,select distinct elements from two columns with comma separated in sql,"DECLARE @val nvarchar(max)
SELECT @val = COALESCE(@val + ',' + col1, col1)
FROM (SELECT col1
      FROM dbo.twoColumns
      UNION
      SELECT col2
      FROM dbo.twoColumns
      ) x
SELECT @val
"
12227,23030,How do I join (merge?) several tables?,"SELECT
  at.author_id,
  at.author_name,
  'article' AS source_table,
  aat.id
FROM
  author_table at
  JOIN article_author_table aat
    ON at.author_id = aat.author_id

UNION ALL

SELECT
  at.author_id,
  at.author_name,
  'event' AS source_table,
  eat.id
FROM
  author_table at
  JOIN event_author_table eat
    ON at.author_id = eat.author_id
"
25260,73461,MS SQL Server: Create a sequence based on a column's value,"SELECT A.City, B.number Sequence
FROM Cities A
CROSS JOIN (SELECT *
            FROM master.dbo.spt_values
            WHERE type = 'P'
            AND number > 0) B
WHERE B.number <= A.NumberOfSchools
"
32240,23250,Cannot get running total even with unique Id's,"select 
  quote_section_id,
  expense_id,
  q.quoted,
  p.procured,
  nvl(q.quoted, 0) - nvl(p.procured, 0) as balance
from vw_pm_sum_quoted q
full outer join vw_pm_sum_procured p using (quote_section_id, expense_id)
where quote_section_id = '1000065052'
order by quote_section_id, expense_id;
"
32981,25383,SQL: How to replace values in a union of conflicting types,"SELECT code, name, ST_Force2D(geom) 
FROM mytable 
WHERE mytable.city = 'Greater Sydney'

UNION 

SELECT '0', 'Remaining Countries', ST_Collect(geom) 
FROM mytable 
WHERE mytable.city <> 'Greater Sydney';
"
20747,13575,Selecting Positive/Negative Values of a computation SQL,"HAVING (expr_for_ratio) > 0
"
25534,10545,When to use columns and when a separate table? - Database Design,"insert into computer (computer_id, attr_name, attr_value)
values
  (1, 'connection', 'HDMI')
, (1, 'connection', 'USB')
, (1, 'memory', '2 GB')
;
"
30277,2762,SQL: JOIN two tables with distinct rows from one table,"
WITH CTE_VL AS 
(
    SELECT *, ROW_NUMBER() OVER (PARTITION BY ProductId ORDER BY vl.VirtualLicenseId ASC) RN
    FROM dbo.VirtualLicense vl
    LEFT JOIN dbo.Product p ON vl.ProductName = p.Name
)
,CTE_License AS
(
    SELECT *, ROW_NUMBER() OVER (PARTITION BY ProductId ORDER BY ExpiryDate ASC) RN
    FROM dbo.License 
)
SELECT VirtualLicenseId, LicenseId 
FROM CTE_VL vl
LEFT JOIN CTE_License l ON vl.ProductId = l.ProductID AND vl.RN = l.RN
"
22965,279,MySQL: Return all rows of table A and true|false if record exists in table B,"SELECT sales_cat.id_cat, sales_cat.name,case when
user_cat.id is null then 0 else 1 end as ""selected"" FROM 
sales_cat LEFT JOIN user_cat ON 
user_cat.id_cat = sales_cat.id_cat and 
user_cat.id_user = 4 
"
38749,70294,mysql group by and order by does not work,"select m.* 
from messages m
  join ( 
    select id_sender, max(id) maxid
    from messages
    group by id_sender
    ) t on m.id = t.maxid
"
39055,216,Rearrange the order of rows in a database according to the ascending order of date in a column in android,"Cursor cursor = this.db.query(TABLE_NAME_2, new String[] { ""empid,username,emp_date,imagepath""},
              null , null, null, null, ""empid asc"");
"
27501,58375,MySQL CSV Row to multiple Rows,"for each (id, csv_foreign_keys) in source_rows do
    foreign_keys = split ',', csv_foreign_keys

    for each fk in foreign_keys do
        insert (id, fk) into many-to-many link table
"
9694,5438,Update not yielding correct results,"UPDATE a
SET
  Listed = a.Listed +  b.Listed,
  Sold = b.Sold,
  Volume = a.Volume + ISNULL(b.Volume, 0)
FROM @DList1 a
JOIN @DList2 b 
  on a.ItemID = b.ItemID;
"
38994,961,Getting the most recent data for each value in another column,"SELECT tenor_years,
        yield_pct,
        MostRecentDate
 FROM (
    SELECT
        tenor_years,
        yield_pct,
        curve_date AS ""MostRecentDate"",
        RANK() OVER (PARTITION BY tenor_years ORDER BY curve_date DESC) N
    FROM yc_node_hist
    where fk_yc_update = 12
)M
WHERE N = 1
ORDER BY tenor_years
"
39026,20805,Count Distinct in a Group By aggregate function in Access 2007 SQL,"SELECT cd.DiagCode, Count(cd.CustomerID)
FROM (select distinct DiagCode, CustomerID from CustomerTable) as cd 
Group By cd.DiagCode;
"
37056,74370,SQL Left Join doubling value of summed columns,"select a.TranName,a.TranDate,a.TranCode
from (
select TranName,TranDate,TranCode, SUM(TranQty) AS T1Qty
Table1 
group by TranName,TranDate,TranCode) a
LEFT JOIN
(
select TranName,TranDate,TranCode, SUM(TranQty) AS T1Qty
Table2 
group by TranName,TranDate,TranCode) b
on (A.TranName = B.TranName AND A.TranDate = B.TranDate AND 
    A.TranCode = B.TranCode)
where a.T1Qty != b.T1Qty
"
17724,51076,SQL divide two columns,"SELECT 
  idMovie, 
  AVG(score) AS AvgScore
FROM Critiques
GROUP BY idMovie
HAVING AVG(score) > 8
"
16158,49465,SQLite Insert or Replace Where,"INSERT OR REPLACE INTO decryptionKeys VALUES (""999"",""Birthday"",""25.12.1988"")
"
39950,39339,Materialized View: How to automatically refresh it upon table data changes?,"CREATE MATERIALIZED VIEW sales_mv
   BUILD IMMEDIATE
   REFRESH FAST ON COMMIT
   AS SELECT t.calendar_year, p.prod_id ... FROM ...
"
26899,42021,SQL to return first two columns of a table,"select column_name,ordinal_position
  from information_schema.columns
 where table_schema = ...
   and table_name = ...
   and ordinal_position <= 2
"
28492,50765,Removing commas from a string using SQL,"SELECT REPLACE('[30.345, -97.345, 4],[30.345, -97.345, 5],[30.345, -97.345, 6],[30.345, -97.345, 7].','],[','][');
"
16349,64747,Sequelize 2 Many to Many relationship,"Video.belongsToMany(models.User, {through: 'user_like_video', as: 'Like'});
Video.belongsToMany(models.User, {through: 'user_comment_video',as: 'Comment'});
"
3784,37627,How should I pass a table name into a stored proc?,"CREATE PROC spCountAnyTableRows( @PassedTableName as NVarchar(255) ) AS
-- Counts the number of rows from any non-system Table, *SAFELY*
BEGIN
    DECLARE @ActualTableName AS NVarchar(255)

    SELECT @ActualTableName = QUOTENAME( TABLE_NAME )
    FROM INFORMATION_SCHEMA.TABLES
    WHERE TABLE_NAME = @PassedTableName

    DECLARE @sql AS NVARCHAR(MAX)
    SELECT @sql = 'SELECT COUNT(*) FROM [' + @ActualTableName + '];'

    EXEC(@SQL)
END
"
35178,1421,Join One Table with Other Table for Every Row Type,"SELECT t.FinYearVal, t.Category, ISNULL(ttb.AMOUNT,0)
FROM (
    SELECT tta.FinYearVal, d.Category
    FROM @TempTableA tta
    CROSS JOIN (SELECT DISTINCT ttb.Category FROM @TempTableB ttb) AS d
) AS t
LEFT OUTER JOIN @TempTableB ttb ON t.FinYearVal = ttb.FinYear AND ttb.Category = t.Category
ORDER BY t.Category, t.FinYearVal
"
7021,49727,Mysql Select only percentage of rows,"SELECT title, COUNT(art) AS art_count
FROM table1
GROUP BY art 
HAVING art_count >= (select count(*) * X / 100 from table1)
"
6640,67596,Taking script of filtered stored procedures,"SELECT
    p.name,
    p.create_date,
    p.modify_date,
    sm.definition
FROM 
    sys.procedures AS p
INNER JOIN 
    sys.sql_modules AS sm ON p.object_id = sm.object_id
WHERE 
    p.is_ms_shipped = 0
    AND p.modify_date >= DATEADD(DAY, -10, DATEADD(DAY, -10, GETDATE())
"
33866,12540,sql select query attempt for distinct,"select * from
    (
        select 10Code, COUNT(10Code) AS NumOccurrences 
        FROM test.table GROUP BY 10Code
    ) grouped
join test.table src on 
    src.10Code = grouped.10Code 
    and (src.9Approximate is null or grouped.NumOccurrences == 1)
"
19825,49204,Selecting columns using variables,"SELECT u.town l.userID, l.type 
FROM listings l
INNER JOIN users u on u.userID = l.userID   
WHERE l.type = '{$type}' 
AND u.town = '{$town}'
"
32099,71259,How find values not duplicate in mysql,"SELECT u.* 
FROM USERS AS u
JOIN ( SELECT EMAIL FROM USERS GROUP BY EMAIL HAVING COUNT(1) = 1) AS dt
ON u.EMAIL = dt.email
"
11619,8230,Selecting * from max id when grouping by parentid (MySQL),"select
t1.*
from aTable t1,
(select parentid, max(id) as id
 from aTable group by parentid) t2
where t1.id = t2.id
and t1.parentid = t2.parentid
"
17992,55439,setting up a default value of a column in select statement,"SELECT name, city, addr, 12345 AS ph_no
FROM table1
"
20687,48055,How do I combine these two Select queries with an OR case,"SELECT * FROM `t_activities`
WHERE (`uid` = {$uid} OR `uid` in (SELECT `cid` 
                                   FROM `t_con` 
                                   WHERE `uid` = {$uid} AND `flag` = 1))
AND `del` = 0
GROUP BY `fid`
ORDER BY `time` DESC 
LIMIT 10
"
32158,49611,"How to handle True, False or NULL in where clause","SELECT * 
FROM TBL 
WHERE (@state is null and name is null) or 
      (name = @state)
"
32555,70222,"using the ids returned from insert into, for record insertion with foreign key","with s(name, distance) as (
    values ('archer goblin', 10), ('dragon', 50)
), the_ids as (
    insert into monster(name) 
    select name
    from s
    returning id, name
)
insert into ranged_monster (id_monster, distance)
select id, distance
from
    s
    inner join
    the_ids using (name)
"
29077,37119,How to do a count on a union query,"SELECT COUNT(*)
FROM
(
    select distinct profile_id 
    from userprofile_...

    union all

    select distinct profile_id 
    from productions_...
) x
"
93,18298,Foreign Key Cascade On Delete,"CREATE TABLE [Comment](
   CommentId int PRIMARY KEY IDENTITY(1,1),
   UserId int Not NULL,
   ArticleId int NOT NULL ,
   FOREIGN KEY(UserId) references [User](UserId),
   FOREIGN KEY(ArticleId) references [Article](ArticleId) ON DELETE CASCADE
)
"
6666,47504,"T-SQL: retrieve n times a specific number of rows where n is defined in an ""IN"" clause",";WITH MyCTE AS
(
    SELECT colA, 
           colB, 
           colC,
           ROW_NUMBER() OVER(PARTITION BY id ORDER BY colA, colB) AS rn
    FROM   table 
    WHERE id in (1, 2) 
)
SELECT *
FROM   MyCTE 
WHERE  rn<= 10
ORDER BY colA, colB
"
28,34158,how can i make database consistent in this situation?,"START TRANSACTION -- Or SET autocommit = 0
INSERT INTO two SELECT * FROM one WHERE ...;
DELETE FROM one WHERE ...;
COMMIT
"
26957,59503,SQL Check constraint on set of two columns,"create unique index idx_table_userId_active
    on table(userId)
    where active = 1;
"
3339,47013,Help us fix this sql statement,"SELECT u.UserID, UserLastName, UserFirstName, UserName, Notified, 
CycleNumber, CycleCurrentStep, CycleDateReported, cycleid
FROM [User] u 
left join Cycle c on (u.UserID = c.UserID) 
join UserDivSection us on (u.UserID = us.UserID and us.DivSectionID=26) 
where cyclenumber = ( select max(cyclenumber) from cycle where cycle.userid = u.userid)
"
23305,65148,Select TOP 2 with DISTINCT name SQL SERVER,"select Top 2 Clientes.Nome, Clientes.NCartao, sum(Vendas.ValorCIva) ValorCIva 
from Clientes AS Cli, Vendas INNER JOIN Clientes ON Clientes.IdCliente = Vendas.IdCliente 
group by Clientes.Nome, Clientes.NCartao
order by sum(Vendas.ValorCIva) DESC
"
21821,7736,Combining ORDER BY AND UNION in SQL Server,"select first.Id, first.Name 
from (
    select top 1 * 
    from Locations 
    order by Id) first
union all
select last.Id, last.Name 
from (
    select top 1 * 
    from Locations 
    order by Id desc) last
"
21908,38312,Minimal Basis of Functional Dependency,"{ A → B
  A → C
  C → D }
"
17264,72573,Dynamically create local temp table columns from permanent table rows,"DECLARE @SQL varchar(max)

CREATE TABLE #tmp(Id int)

SET @SQL = 'ALTER TABLE #tmp ADD Column1 varchar(20)'
EXEC(@SQL)
"
14486,19211,Calculating average from 2 database table colums,"select avg( greatest( coalesce(first_score,last_score) , coalesce(last_score,first_score) ) )
from mytable;
"
35182,6239,MySQL special ORDER BY,"SELECT * FROM `table` ORDER BY FIELD(`genre`, 'horror', 'scifi', 'horror'), `name`;
"
31930,5606,multiple loop inside single for statement using cursor,"  select r.kpi_frequency, r.kpi_freq_time_unit, min(f.id) 
    from rator_monitoring_configuration.kpi_definition   r,
         wf_workflow@fonic_retail    f
   where r.event_id = 10028
     and f.start_date > sysdate - numtodsinterval ( r.kpi_frequency, r.kpi_freq_time_unit );
   group by r.kpi_frequency, r.kpi_freq_time_unit
   order by r.kpi_frequency, r.kpi_freq_time_unit;
"
24400,15138,Error in create database postgresql,"       ResultSet res = st.executeQuery(""select count(*) from pg_catalog.pg_database where datname = 'sample'"") ;
       res.next();
       int count = res.getInt(""count"");
       System.out.println(""Count : "" + count);
       if(count == 0) {
         st.executeUpdate(""CREATE DATABASE sample"");
       }
"
8504,59087,SQL - Min difference between two integer fields,"SELECT MIN(value_0-value) as MinDiff
FROM TableName
WHERE value_0>=value
"
39716,14944,Search With Only Given Keywords But Nothing More,"select p.*
from TableOfMaterialNeeds tomn join
     Products p
     on tomn.productid = p.productid join
     TableOfMaterials tom
      on tomn.materialid = tom.materialid
group by p.productid
having sum(find_in_set(tomn.material, @LISTOFMATERIALS) = 0) = 0;
"
23206,61021,how to output image file from database drupal 7?,"$result = db_query(""SELECT myimage FROM example"");
$records = $result->fetchAll();

foreach ($records as  $value) {
    $uri = $value['url'];
    $url = file_create_url($uri);
}
"
27777,42538,MySQL LIKE and NOT LIKE is missing a record,"select *
from platform
where entityid is null;
"
9007,46040,Incremental update of Table,"    MERGE A2 AS target
    USING (SELECT * FROM A1) AS source 
    ON (target.Id = source.Id AND target.a1 = Source.a1...) -- More join condition
    WHEN MATCHED THEN 
        UPDATE SET a2 = source.a2, a3 = source.a3 ------ more columns
WHEN NOT MATCHED THEN
    INSERT (Id, A1, a1, a2....)
    VALUES (source.Id, source.a1, source.a2.....) 

WHEN NOT MATCHED BY SOURCE
        THEN DELETE 
END;
"
3334,23710,SQL Join Syntax with three tables with a left join,"FROM (invoice INNER JOIN ar ON invoice.trans_id = ar.ID) 
      RIGHT JOIN parts ON parts.id = invoice.parts_id
"
39302,29627,Differences between two tables,"select col1, col2, max(which)
from ((select col1, col2, 1 as which
       from table1 t1 
       where exists (select 1 from table2 t2 where t2.col1 = t1.col1)
      ) union all
      (select col1, col2, 2 as which
       from table2 t2
       where exists (select 1 from table1 t1 where t2.col1 = t1.col1)
      )
     ) tt
group by col1, col2
having count(*) = 1
"
727,57508,sql concat when original field is empty,"SET A = CONCAT(isnull(A,''), '_b')
"
23081,12604,"PostgreSQL, splitting to rows and recognizing the first part","SELECT t1.id, value,
       (case when values like value || '%' then 'yes' end) as first
FROM (SELECT t1.id,  t1.values,
             regexp_split_to_table(t1.values, E',') as value
      FROM t1
     ) t1;
"
7349,30296,MySQL Join with optional select value,"SELECT server.id
    , COALESCE( AVG( playerData.player ) , 0 ) AS average 
FROM server 
LEFT JOIN playerData ON server.id = playerData.serverID 
    AND (playerData.timestamp > UNIX_TIMESTAMP( ) -10000)
group by server.id
"
17309,929,I have this query that is driving me crazy,"SELECT 
   g.*,
   gua.*
FROM games g
LEFT JOIN game_user_answers gua
ON g.id = gua.id_game
  AND gua.answer_time>g.game_start_time
  AND points>0
WHERE g.id = 1 
  AND g.game_start_time = '2016-01-01 00:00:00'
"
15231,55415,"In Oracle SQL, How to replicate rows based on the binary value in a column?","SELECT name, bin, name || '-0' || lev AS id
FROM   mytable
JOIN   (SELECT     LEVEL AS lev
        FROM       dual
        CONNECT BY LEVEL <= 4) ON SUBSTR(bin, lev, 1) != '0'
"
16677,31029,Changing TextBox fields on Lost Focus,"Private Sub txtCC_LostFocus()
      txtCC.Text = Left(txtCC, 4) & String(8, ""x"") & Right(txtCC, 4)
End Sub
"
3917,3370,How to do one select two query with join table,"SELECT s.ID, e1.Name, e2.Name
FROM tblSale s
INNER JOIN tblEmployee e1
    ON e1.employeeID = s.employeeID
INNER JOIN tblEmployee e2
    ON e2.employeeID = s.employeeSaleID
"
6393,22424,Pass multiple parameters from stored procedure to crystal reports,"SELECT sum(case when Stat='1' then 1 else 0 end) as Counted, 
       sum(case when Stat='2' then 1 else 0 end) as Counted2 
from dbo.Batch
"
24808,57823,Most efficient way to perform an SQL-Statement containing a max-aggregate in the sub-query,"select *
from 
 (
   SELECT cur.name, log.price, log.valid_at,
       RANK()
       OVER (PARTITION BY cur.id
             order by valid_at DESC) as rnk
   FROM currency cur
   JOIN exchange_rate_log log on (cur.id = log.currency_id)
   WHERE log.exchange_currency = ?
     AND log.valid_at < ?
) dt
where rnk = 1; 
"
30735,35419,"SQL: Unable To Join These Two Tables (EAV Architechture, Magento)","SELECT e.entity_id, eav.value AS name, eav2.value as price
  FROM catalog_product_entity e
  JOIN catalog_product_entity_varchar eav
    ON e.entity_id = eav.entity_id
  JOIN eav_attribute ea
    ON eav.attribute_id = ea.attribute_id
  JOIN catalog_product_entity_decimal eav2
    ON e.entity_id = eav2.entity_id
  JOIN eav_attribute ea2
    ON eav2.attribute_id = ea2.attribute_id
 WHERE ea.attribute_code = 'name'
   and ea2.attribute_code = 'price'
"
36827,3386,Teradata Change format of Week Number,"SELECT CURRENT_DATE - ((CURRENT_DATE - DATE '0001-01-07) MOD 7) AS BOW;
"
29451,67310,selecting the most recent rows from database with multiple return set,"WITH myCTE
AS
(
    SELECT t1.*, 
        ROW_NUMBER() OVER (PARTITION BY t2.caseid ORDER BY LastSavedDate DESC) AS RowNumber
    FROM table1 t1 
        LEFT JOIN table2 t2 
            ON t1.propid = t2.propid
    WHERE t2.caseid in ('100','101') 
        AND t1.active = '1' AND b.doc_type_id = '404'
)
SELECT * 
FROM myCTE
WHERE RowNumber = 1;
"
2857,7326,How do I determine the column position in a compound key,"SELECT i.name AS IndexName,
   OBJECT_NAME (ic.OBJECT_ID) AS TableName,
   COL_NAME (ic.OBJECT_ID, ic.column_id) AS ColumnName,
   ic.Key_ordinal as ColumnOrder
FROM sys.indexes AS i
   INNER JOIN sys.index_columns AS ic
      ON i.OBJECT_ID = ic.OBJECT_ID AND i.index_id = ic.index_id
WHERE i.is_primary_key = 1
ORDER BY ic.OBJECT_ID, ic.Key_ordinal
"
28342,36181,How to select 2 distinct columns and count one of them,"SELECT t.Question,
       t.Answer,
       COUNT(*) AS 'Count'
FROM YourTable AS t
GROUP BY t.Question,
         t.Answer
"
32719,7962,SQL get 3 different values from separate table,"SELECT Games.GameDate AS Date,
    SiteSchool.SchoolName AS Site,
    HomeSchool.SchoolName AS Home,
    VisitorSchool.SchoolName AS Visitor
FROM Games
INNER JOIN Schools SiteSchool
    ON SiteSchool.SchoolId = Games.SiteId 
INNER JOIN Schools HomeSchool
    ON HomeSchool.SchoolId = Games.HomeId 
INNER JOIN Schools VisitorSchool
    ON VisitorSchool.SchoolId = Games.VisitorId 
WHERE Games.GameId = '1'
"
21737,64487,web2py - programmatically insert on one-to-many db,"person = db.person.insert(name=..., dob=..., ...)
opslist = db.opslist.insert(opid=..., dop=..., ...)
db.cardlist.insert(opid=opslist, name=person, ...)
"
36385,63443,How to insert a DataTable with existing Key to a SQL Server Table,"SET IDENTITY_INSERT [your table] ON
INSERT INTO [your table] (identityCol, col1,...) VALUES (identityCol, col1,...)
SET IDENTITY_INSERT [your table] OFF
"
24204,72033,append string to varchar2 field based on the value of another field,"update TAB1 set col1='OLD ' || nvl(COL1, '') where to_char(COL2, 'yyyy') < 2001;
"
23645,18770,Removing CONSTRAINT in SQL takes too long,"select * from sys.dm_tran_locks 
where resource_associated_entity_id = object_id('YourTable');
"
21766,58531,get the earliest date from several tables,"SELECT least(gps.time,
       cadence.added_on,
       `heart-rate`.added_on)
FROM   gps
       JOIN cadence
         ON cadence.rider_id = gps.rider_id
       JOIN `heart-rate`
         ON `heart-rate`.rider_id = gps.rider_id
ORDER  BY least(gps.time,
          cadence.added_on,
          `heart-rate`.added_on)
LIMIT 1
"
9035,58409,SQL (SQLite) count for null-fields over all columns,"SELECT (N * COUNT(*)) - (
    COUNT(COLUMN_1) 
  + COUNT(COLUMN_2) 
  + ... 
  + COUNT(COLUMN_N)
)
FROM DATAPOINTS;
"
25548,35227,How can I aggregate the # of seconds in a query result?,"SELECT COUNT(*) * 15
FROM your_table
"
22019,63636,use DISTINCT clause in WHERE clause in mssql,"select * from t1 
WHERE EXISTS( 
    SELECT null FROM t2 
    WHERE t1.make = t2.make
      AND t1.model = t2.model
      AND t1.catcode= t2.catcode
)
"
22055,6953,MySQL CONCAT returns NULL if any field contain NULL,"SELECT CONCAT(COALESCE(`affiliate_name`,''),'-',COALESCE(`model`,''),'-',COALESCE(`ip`,''),'-',COALESCE(`os_type`,''),'-',COALESCE(`os_version`,'')) AS device_name
FROM devices
"
25857,19008,How to query for request records that do not have response,"select t1.UniqueNumber
from mytable t1
left join mytable t2 on t2.UniqueNumber = t1.UniqueNumber
  and t2.type = 'Response'
where t1.type = 'Request'
and t2.type is null
"
30748,38859,Alternative of IN keyword of SQL in Siebel Server scripting for search spec?,"bc.SetSearchExpr(""[Id]='a' or [Id]='b' or [Id]='c'"");

bc.SetSearchSpec(""Id"", ""='a' OR ='b' OR ='c'"");
"
7054,49667,how to find SP Reference,"SELECT OBJECT_NAME(m.object_id), m.*
  FROM SYS.SQL_MODULES m
 WHERE m.definition LIKE N'%my_sp_name%'
"
24500,37068,How can I use a variable within a stored procedure,"DECLARE @productType INT = 1
DECLARE @table  NVARCHAR(MAX)
DECLARE @sql    NVARCHAR(MAX)

SELECT @table = 
    CASE @productType
        WHEN 1 THEN 'products1'
        WHEN 2 THEN 'products2'
    END

SELECT @sql = 'SELECT * FROM ' + QUOTENAME(@table);

EXEC(@sql)
"
30415,5652,count row in table with identical value of two column in sql server 2008,"SELECT
    receiver, caller, category, playfilename,
    COUNT(*) OVER (PARTITION BY receiver, category) AS CountPerReceivercategoryGroup
from tbl_record
"
22486,4859,Using IF or Case to determine what field to use in a WHERE statement,"SELECT * FROM TABLEA WHERE
20140630 < 
CASE WHEN RecvdDateID > GETDATE() THEN 
    EnteredDateID  
ELSE 
    RecvdDateID    
END
"
14979,58373,SQL join on equal plus cartesian of those which not equal,"WITH MatchedRows
AS
SELECT A.a, B.b FROM A a INNER JOIN B b ON A.a = B.b

SELECT MatchedRows.a, MatchedRows.b
FROM MatchedRows
UNION
SELECT A.a, B.b FROM A a, B b
WHERE A.a NOT IN (SELECT a FROM MatchedRows)
  AND B.b NOT IN (SELECT b FROM MatchedRows)
"
20325,70272,Counting most common word in SQL table with exclusions,"SELECT aWord, COUNT(*) AS WordOccuranceCount
FROM (SELECT SUBSTRING_INDEX(SUBSTRING_INDEX(concat(Text, ' '), ' ', aCnt), ' ', -1) AS aWord
FROM table
CROSS JOIN (
SELECT a.i+b.i*10+c.i*100 + 1 AS aCnt
FROM integers a, integers b, integers c) Sub1
WHERE (LENGTH(Body) + 1 - LENGTH(REPLACE(Text, ' ', ''))) >= aCnt) Sub2
WHERE Sub2.aWord != '' AND
      LENGTH(Sub2.aWord) >= 5
GROUP BY aWord
ORDER BY WordOccuranceCount DESC
LIMIT 10
"
26623,14717,TSQL MAX OF A SUM,";WITH MonthlyOrders AS
(
    SELECT PartNo, [Desc], CONVERT(VARCHAR(6),OrderDate,112) YearMonth, SUM(OrderQty) OrderQty
    FROM YourTable
    GROUP BY PartNo, [Desc], CONVERT(VARCHAR(6),OrderDate,112)
),MaxOrders AS
(
    SELECT *, ROW_NUMBER() OVER(PARTITION BY PartNo, [Desc] ORDER BY OrderQty DESC) RN
    FROM MonthlyOrders
)
SELECT PartNo, [Desc], OrderQty MaxSoldPerMonth, YearMonth
FROM MaxOrders
WHERE RN = 1;
"
20571,9800,Can I store patterns as values in SQL table and then try to match a value?,"select t.*
from t
where 'abc' like t.pattern;
"
38887,1402,Select based on whether a parameter is NULL or not,"select * 
from customer 
where 
    (@customerid is null OR customer_id = @customerid)
"
13909,33406,SQL - Is there an opposite but equivalent UNION function?,"SELECT * FROM Table2
EXCEPT
SELECT * FROM Table1
"
9869,43930,Getting Sum of MasterTable's amount which joins to DetailTable,"SELECT SUM(Amount) 
FROM Master M 
WHERE M.ID IN (
  SELECT DISTINCT MasterID
  FROM DETAIL
  WHERE PID IN (1,2,3) )
"
34667,44137,Vba built in function for holidays during a year?,"SELECT d.the_date
FROM
    [date-table] AS d
    LEFT JOIN statHolidaysTbl AS h
    ON d.the_date = h.Date
WHERE h.Date Is Null;
"
18998,72712,"MySQL - How do I to select data from a table, ordering by the difference between the values of two columns?","SELECT * FROM MyTable ORDER BY (ColumnA - ColumnB)
"
29420,53727,MySQL - LIKE with trailing wildcard vs range search,"where created >= STR_TO_DATE('2014-09-01','%Y-%m-%d') 
  and created < STR_TO_DATE('2014-10-01','%Y-%m-%d')
"
26650,55469,"Select multiple distinct fields, and summing another field","SELECT
    SUB_ACCT_NO_PAJ,
    CustomerType,
    POST_DTE_PAJ,
    IA_DateYear,
    ADJ_RSN_PAJ,
    SUM(POST_AMT_PAJ) AS POST_AMT_PAJ_total
    COUNT(*) AS [aCount]
INTO TempTable1
FROM All_Adjustments
GROUP BY
    SUB_ACCT_NO_PAJ,
    CustomerType,
    POST_DTE_PAJ,
    IA_DateYear,
    ADJ_RSN_PAJ
"
19252,45609,How to reference custom type row in trigger,"CREATE OR REPLACE TRIGGER UpdateLog
BEFORE UPDATE OF title ON TestTable
REFERENCING new as newrow old as oldrow
FOR EACH ROW
WHEN (newrow.title != oldrow.title)
BEGIN
  INSERT INTO LogTable VALUES(:oldrow.title, make_ref(TestTable, :newrow.object_id));
END UpdateLog;
/  
"
7435,36428,sql query to get data from two tables,"SELECT movie_name
FROM table1
JOIN table2 USING (movie_id)
WHERE movie_genre = 'some_genre'
"
14599,15317,Total execution time on Client Statistics for SQL Server Management,"CHECKPOINT;
GO
DBCC DROPCLEANBUFFERS;   --Clears query cache
GO  
DBCC FREEPROCCACHE;   --Clears execution plan cache
GO
"
37374,22525,How to I functionally access an SQL table's table name?,"CREATE TABLE combined_things WITH OIDS AS
(SELECT
thing1.name,
thing1.shape,
CAST('public.thing1_source_table' AS CHAR(100)) source_id
FROM
public.thing1_source_table

UNION

SELECT
thing2.name,
thing2.shape,
'public.thing2_source_table'
FROM
public.thing2_source_table);
"
8470,44883,Deleting row involving joining of tables,"DELETE po.*
FROM `Product ordered` po
INNER JOIN `User Info` ui
    ON ui.userID = po.userID
WHERE ui.userName = 'Tim'
"
9063,26260,Get documents with field that isn't a particular string,"db.col.find({""name"":{$ne: ""John""}})
"
11644,47328,SQL to retrieve first sentence from a block of text,"SELECT 
CASE CHARINDEX('.', @summary1)  -- determine if the sentence contains a full stop
    WHEN 0 THEN @summary1       -- if not return the whole sentence
    ELSE SUBSTRING(@summary1, 1, CHARINDEX('.', @summary1))  -- else first part
END AS sentence
"
12133,61384,SQL Select - Fetching two different values from another table based on two different IDs,"select t1.EmployeeId, t1.EmployeeCarModelID, t2emp.CarModelName as EmployeeCarModelName,
       t1.SpouseCarModelID, t2sp.CarModelName as SpouseCarModelName
from table1 t1 left join
     table2 t2emp
     on t1.EmployeeCarModelID = t2emp.CarModelId left join
     table2 t2sp
     on t1.SpouseCarModelId = t2sp.CarModelId;
"
8672,54926,Oracle multiple values in a single row,"INSERT INTO DOCUMENTATION (NAME, VALUE, QUERY, INSERTDATE) 
SELECT 'Datafile paths',
       LISTAGG(name, ', ') WITHIN GROUP (ORDER BY name), 
       'select name from V$DATAFILE', 
       SYSDATE 
FROM V$DATAFILE;
"
19543,69268,Query Hangs when NOT IN is used with a SUBQUERY which returns NULL,"--CTE:
WITH subq AS
(
SELECT xx FROM a
INNER JOIN aa ON a.col = aa.col

UNION
SELECT xx FROM b 
INNER JOIN bb on a.col = bb.col
)
SELECT x from d left join subq on subq.xx = d.x where subq.xx is null
"
5701,71348,Compare 2 values of different types inside of subquery,"(SELECT TOP 1 config.Signal FROM config,bases 
     WHERE config.ID = messages.ID AND bases.Name = messages.RecBy AND bases.NameNum = 
     config.RecBy Order By...)  
"
36758,25576,Selecting multiple columns in SQL,"select  column_name + ','
from    information_schema.columns
where   table_name = 'your table name'
        and column_name like 'nvarchar%'
"
39313,73454,Passing SQL function parameters,"Declare @parameter1 float, @parameter2 float, @parameter3 float, @parameter4 float

Select @parameter1 = name, @parameter2 = age, @parameter3 = postal, @parameter4 = weight
from TableValues where ID = 1234 

dbo.SqlFuntion(@parameter1, @parameter2, @parameter3, @parameter4)
"
35195,41925,Conditional filter in WHERE clause,"SELECT * FROM myTable WHERE Column1 = 'test' AND (@ID = -1 OR Column2 = @ID)
"
1174,46747,Get non repeating data from pivot table,"select * from video 
where video_id in 
(select video_id from video_category 
where category_id not in (list of meaninless ids))
"
13073,8788,SQL query to pull unique records,"SELECT DISTINCT  Cateogory, Subcategory 1, Subcategory 2
FROM your_table
"
17558,39681,Finding the rank or index of some name in an array returned by query,"SELECT t.*, 
       @rownum := @rownum + 1 AS rank
  FROM TABLE t, (SELECT @rownum := 0) r
"
6050,29505,Manually create @OneToMany script for MySQL,"CREATE TABLE attachments (
...
ticket_id INTEGER,
...
FOREIGN KEY (ticket_id) REFERENCES tickets(id) ON DELETE CASCADE ON UPDATE CASCADE
)
"
805,4378,SQL set index field based on date field,";with C as
(
  select DisplayIndex,
         row_number() over (partition by [Group] order by DateCreated desc) as rn
  from Product 
)
update C set
  DisplayIndex = rn
"
15174,251,INSERT statement with existing records,"insert into tbl(item_name, item_price) 
select item_name, item_price 
  from tbl 
 where id = 5
"
948,56870,How to select first row and update it in IBM DB2 9.7,"begin
 declare at_end sqlstate;
 declare name anchor emp.name;
 declare continue handler for not found
   set at_end = TRUE;
 declare c cursor for
   select tabname from emp
   for update;
 open c;
 fetch c into name;
 if at_end <> TRUE then 
  update emp
    set name = 'foo'
    where current of c;
 end if;
end@
"
10044,4588,Parsing multiple xml elements from an xmlstring in SQL server,"SELECT Pers.value('self::*', 'nchar(10)') as 'ID'
FROM
        @xmlUserId.nodes('/users/id') as EMP(Pers)
"
3928,59824,Group by week day,"SELECT  WEEK(FROM_UNIXTIME(time)) WeekNo,
        DATE_FORMAT(FROM_UNIXTIME(time),'%a') WeekName,
        COUNT(DISTINCT(session_id)) 
FROM    T 
GROUP   BY WEEK(FROM_UNIXTIME(time)),
           DATE_FORMAT(FROM_UNIXTIME(time),'%a')
"
26508,71978,How do you extract Median from MySQL within mixed data?,"SELECT x.value from form_data x, form_data y
WHERE x.form_id=1 and x.field_id=1 and y.form_id=and y.field_id=1
GROUP BY x.value
HAVING SUM(SIGN(1-SIGN(y.value-x.value))) = (COUNT(*)+1)/2;
"
20228,15491,postgresql join on max(date) and another index,"select t2.*, t1.restock_date,
       (t1.restock_date - t2.analysis_date) as diff
from table2 t2 left join lateral
     (select t1.*
      from table1 t1
      where t2.part = t1.part and t2.analysis_date <= t1.restock_date
      order by t1.restock_date
      limit 1
     ) t1;
"
10759,17746,Linq 2 SQL Syntax Help,"var DuplicatePages = 
    from a in DBContext.Pages
    join b in DBContext.Pages on a.MetaDescription equals b.MetaDescription
    where (a.PageID <> b.PageID) && (a.DomainID == ReportID) && 
    (b.DomainID == ReportID) && (a.MetaDescription.Trim().Length > 0) && 
    (a.URL < b.URL)
    orderby a.URL
    select new { Url = a.URL, DuplicateUrl = b.URL };
"
39979,64021,Add an iterator number to a column after the first 8 results,"SELECT 
    CASE 
        WHEN ROW_NUMBER() > 7 
    THEN 
        ROW_NUMBER()-7 
    ELSE 
        '' 
END AS Wosequence
, colum2, column3 
FROM dbo.abc [..]
"
29134,37547,How to group by string ID in sql server 2008,"SELECT LEFT(ID, 8) AS nID,
       SUM(Value) AS tot
FROM your_table
GROUP BY LEFT(ID, 8)
"
34510,52774,Concurrent access problem in mysql database,"select TaskId, ... from Tasks where State=""New"" limit 1;
update Tasks set State=""In Progress"" where TaskId=<from above> and State=""New"";
"
182,67040,Select @ before values,"declare @email varchar(100)
set @email='sample@gmail.com'
select substring(@email,1,charindex('@',@email)-1)
"
1356,69329,Mysql select unique value + first occurrence + last occurence,"SELECT address, min(timestamp), max(timestamp)
FROM ((SELECT address_from as address, timestamp 
       FROM transactions 
      )
      UNION ALL
      (SELECT address_to as address, timestamp
       FROM transactions
      )
     ) a
GROUP BY address;
"
29377,52862,Add days to Linq - Hard to indicate the correct number of days,"UserRank.trydato = System.DateTime.Today.AddDays(4).Date;
"
25277,73633,database questions in sql,"String query = ""SELECT r.reservation_no, f.flight_no, r.departure_date, f.departure_time, f.duration FROM flights f, reservations r WHERE f.flight_no=r.flight_no AND r.customer_ssn=""?"" "";

PreparedStatement ps = connection.prepareStatement(query);
ps.setString(1, customer_ssn);
result = ps.executeQuery();
"
16800,51368,How to Create a Row for Each Row from Another Table,"INSERT INTO Membership (Id, StartDateTime, EndDateTime, Frozen, MembershipType)
SELECT Id, GETDATE(), GETDATE(), 0, 'Free' FROM User
"
15770,18226,How to split a value into multiple rows on the newline char in PostgreSQL?,"select regexp_split_to_table('hello world', E'\\s+');

hello
world

(2 rows)
"
8680,28409,Query without Union operator SQL,"SELECT DISTINCT X1.col1
FROM X X1 INNER JOIN X X2 ON X1.col1=X2.col1
WHERE X1.col2=2 AND X2.col2=4
"
26079,12729,How to compare data between two different database of two different providers?,"(select * from a 
except select * openquery(LINKEDSERVER,'select * from a'))
Union
(select * openquery(LINKEDSERVER,'select * from a')
except 
select * from a)
"
39050,45151,SQL query sum unique records,"SELECT [Location Code], [Bill No_], SUM(Price) AS Price
FROM (SELECT  DISTINCT [Location Code], [Bill No_] , Price from [Item Ledger Entry] 
      WHERE [Location Code] = '0001' and [Document Date] = '01.04.2015') t
GROUP BY [Location Code], [Bill No_]
"
314,39706,How to split a single column values to multiple column values?,"SELECT CASE
         WHEN name LIKE '% %' THEN LEFT(name, Charindex(' ', name) - 1)
         ELSE name
       END,
       CASE
         WHEN name LIKE '% %' THEN RIGHT(name, Charindex(' ', Reverse(name)) - 1)
       END
FROM   YourTable 
"
26678,21927,Oracle reports to excel spreadsheet avoid scientific notation,"select 24534534534345353||chr(160) ""Really Long Number"" from dual;
"
11728,44794,Representing a rootless Tree/chart/hierarchy in a database,"NodeA   NodeB  Hops
------  ------ ----
tog171  tog171  0
tog171  abb521  1
abb521  tog171  1
tog171  tog226  2
tog226  tog171  2
tog171  tog218  3
tog218  tog171  3
"
12969,19994,SQLite query between two set of elements,"select * from Stations where lines IN 
(select distinct [column_name] from A) AND 
lines in (select distinct [column_name] from B) 
"
9964,33709,Selecting DISTINCT where not null in MySQL,"SELECT DISTINCT Name, ID FROM TestTable where Name <> ''
union all
SELECT Name, ID FROM TestTable where Name = ''
"
12325,32656,Alter table after keyword in Oracle,"alter table testTable
    add ( column1 number(1) default 0 not null )
"
15484,68475,MySQL query all distinct from column A where none of them has a specific value in column B,"SELECT DISTINCT A FROM MY_TABLE
WHERE A NOT IN (SELECT DISTINCT A FROM MY_TABLE WHERE B = 1)
"
11032,2014,How to query range of data in DB2 with highest performance?,"SELECT * FROM TABLE LIMIT 5 AND 20
"
28925,34787,How to use regular expression in Oracle SQL query,"select *
from  MYTABLE t 
WHERE REGEXP_LIKE (t.DESCRIPTION, '[a-z]', 'c')
"
8650,46915,MySQL: JOIN table B but return table A if no matches in table B,"select t1.*, t2.bar, t2.drink
from t1 left join 
     t2
     on t1.id = t2.id and t2.bar = 9
where t1.name = 'Frank';
"
6379,10030,concatenating multiple fields in one record sql,"SELECT user, month, GROUP_CONCAT(event), SUM(gross)
FROM xyz
GROUP BY month
"
7926,28777,"ADO.Net EF, Class Inheritance LINQ-SQL Query Syntax?","var games = from g in dataModel.MediaItems.OfType<Game>
            where g.LibraryItems.Any(item => item.LoanTo == 1)
            select g;
"
2366,20758,Fetch a CKReference object from a CKReference,"struct Shop {
  // other variables....
  var record : CKRecord?
  var commentRef : CKReference?
}

struct Comment {
  // other variables....
  var record : CKRecord?
  var clientRef : CKReference?
}

var shops : [Shop]
var comments : [Comment]

func commentsWithReference(ref: CKReference) -> [Comment] {
  let matchingComments = comments.filter {$0.record!.recordID == ref.recordID }
  return matchingComments
}

let shopComments = shops.map { commentsWithReference($0.commentRef!) }
"
22839,21348,SQLite3: Selecting N Minimum Values for all IDs,"SELECT r.*
FROM my_table r
WHERE r.Date IN (SELECT Date FROM my_table WHERE ID = r.ID ORDER BY Date LIMIT 5);
"
16777,73238,Return distinct on a table,"    SELECT p.ProductID, p.Title, MAX(pi.FileName) as FileName
      FROM [Ordering].[Products] p
INNER JOIN [Ordering].[ProductImages] pi ON p.ProductID =pi.FK_ProductID 
     WHERE p.Title like '%' + @Title +'%'
  GROUP BY p.ProductID, p.Title
  ORDER BY p.Title ASC
"
5994,48273,csv import from excel into phpmyadmin missing data,"CREATE TABLE Unavailability 
(Crew_ID varchar (9) NOT NULL,
Available text (3),
Licence_Number int (8),
CONSTRAINT pk11 primary key (Crew_ID));
"
28775,72310,SQL query to create ascending values within groups,"update the_table
   set pos = t.rn - 1
from (
   select id, 
          row_number() over (partition by fk_id) as rn
   from the_table
) t
where t.id = the_table.id;
"
30167,56846,COUNT results from SQL Query with a HAVING clause,"SELECT COUNT(*) FROM 
 (SELECT col_appid, min(col_payment_issued_date) as PayDate  
  FROM tbl_ui_paymentstubs  
  WHERE isnull(col_payment_amount,0) > 0  
  GROUP BY col_appid  
  HAVING
     min(col_payment_issued_date) >= '09/01/2010'
     and min(col_payment_issued_date) <= '09/30/2010') Claims
"
29244,26482,SQL two lookups into same fields on one table,"select
    messages.*,
    f.user_name as from_id,
    t.user_name as to_id
from messages
    join users f on f.user_id = messages.from_id
    join users t on t.user_id = messages.to_id
;
"
30553,39149,"Filter One Field to Exactly Match Multple Criteria (no ""OR"")","select A.person
from (SELECT DISTINCT person,product FROM yourtable) A
where A.product in ('phone','suitcase','wallet','chair')  
group by A.person 
having count(*) = 4
"
33236,61080,"SQL delete records with same ID, leaving 1","WITH    q AS
        (
        SELECT  *,
                ROW_NUMBER() OVER (PARTITION BY locationName ORDER BY id) rn
        FROM    tTable
        )
DELETE
FROM    q
WHERE   rn > 1
"
37666,46008,SELECT DISTINCT for data groups,"with groupings as (
select concat(data) groups
from Table1
group by ID
)
select groups, rownumber() over () from groupings
"
31074,61095,MS Access average after subtracting,"SELECT col3, Format(Avg([col2]-[col1]),""hh:mm:ss"") AS TimeDiff
FROM Table1
GROUP BY col3;
"
38159,41739,Simple SQL query to select a max,"select coalesce(maxtemptrans, maxtrans, 0)
from (select max(transid) maxtemptrans from tbltrans_temp) t, 
    (select max(transid) maxtrans from tbltrans ) t2 
"
31698,43729,Exiting prematurelly a FOR from an internal IF,"FOR I IN T_TITLE.FIRST.. T_TABLE.LAST LOOP
  IF T_TABLE(I).VAR_TITLE = PAR_TITLE THEN
    V_TITLE_ID = I;
    EXIT;
  END IF;
END LOOP;
"
32381,33421,How to remove duplicates and get the greatest value,"select max(id),value From foo
group by value
order by max(id) desc
"
36508,33365,Oracle SQL. Time between states,"select id,trunc(next_day - day) from 
(select id,day,lead(day) over (order by day) next_day
from date_test)
where id = '00';
"
39853,22092,How can I get the sum of one group of data,"with data as (
    select Code, substring(Code, 1, len(Code) - 1) as Prefix, Name, Total from T
)
select
    case when grouping(Name) = 1 then Prefix else min(Code) end as Code,
    case when grouping(Name) = 1 then '-' else Name end as Name,
    sum(Total) as Total
from data
group by grouping sets ( (Prefix, Name), (Prefix) )
order by Prefix, grouping(Name), Code
"
3266,64910,SQL: search for null date,"CREATE PROCEDURE dbo.SELECT_MEMBERS

    @ID int = NULL,
    @Name varchar(250)= NULL,
    @Deleted datetime =NULL

AS
BEGIN

 SET NOCOUNT ON;

    SELECT  ID, Name, Deleted 
    FROM dbo.Members 
    WHERE ID = ID
    AND ISNULL(@Name, '') = ISNULL(Name, '')
    AND ISNULL(@Deleted, '') = ISNULL(Deleted, '')


END
GO 
"
29825,22503,Is there any way to order the result set by what you want in SQL Server?,"SELECT b.*
FROM dbo.BRANCH b
JOIN (
    VALUES
        (1, 'C'),
        (2, 'D'),
        (3, 'A'),
        (4, 'F')
) c(ID, IDENTIFIER) ON c.IDENTIFIER = b.IDENTIFIER
ORDER BY c.ID
"
12438,55172,MySQL MAX() function to compare numeric values in an update?,"UPDATE person SET dollars = GREATEST(0, dollars-20) WHERE id=1
"
17959,28683,DB2 SQL - add order line number and total lines per order,"with dtl_cnt as (select det_orderno
                        , count(*) as tot_lines 
                 from detail
                 group by det_ordno)
select 
 hdr_orderno
 , row_number() over (partition by hdr_orderno) as Line_no
 , dc.tot_lines
 , d.item
from
  header 
    join dtl_count dc on hdr_orderno = dc.det_orderno
    join detail d on hdr_orderno = d.det_orderno
"
36927,25332,How to represent EAV in CSV?,"product, name_1, value_1, name_2, value_2
apple, size, small, color, green
apple, size, small, color, red
apple, size, large, color, green
apple, size, large, color, red
car, type, coupe, fuel, diesel
car, type, coupe, fuel, gas
car, type, sedan, fuel, diesel
car, type, sedan, fuel, gas
"
4813,65921,Mysql join inside of case,"SELECT * 
FROM invoice_headers A 
LEFT OUTER JOIN user_info B ON A.debtor_id = B.user_id AND A.debtor_user_type = 0 
LEFT OUTER JOIN company_info C ON A.debtor_id = C.company_id AND A.debtor_user_type <> 0 
"
34416,18738,Get Amount like Balance-Sheet in sql query,"select t.*,
       (select sum(t2.CourseFee + t2.AdditionalCharges - t2.ExpenseAmount)
        from onetable t2
        where t2.id <= t.id
       ) as NetAmount
from onetable t;
"
27365,7015,Find out which raw material made a manufactured product,"select i.item, m.material, m.begin_time
from items i join
     materials m
     on m.begin_time  between i.begin_time and i.end_time
union all
select item, material, begin_time
from (select i.item, m.material, m.begin_time,
             row_number() over (partition by i.item order by m.begin_time desc) as seqnum
      from items i join
           materials m
           on m.begin_time < i.begin_time 
     ) im
where seqnum <= 2;
"
23474,22474,Condition in where clause to return values that starts with letters?,"where LENGTH(TRIM(TRANSLATE(YourField, ' +-.0123456789', ' '))) is not null
"
11113,71112,DateTime on Where Clause Oracle,"Select
....
From
...
Where create_date = trunc( (TO_DATE('06/30/14 21:41:11', 'MM/DD/YY HH24:MI:SS') 
                          - TO_DATE('01/01/1970 00:00:00', 'MM/DD/YYYY HH24:MI:SS')
                           ) * 24 * 60 * 60
                         );
"
4992,12260,Selecting data from two mysql tables in one query,"SELECT
    property.ID, property.address, property.postcode, property.lease, landlords.firstName, landlords.lastName
FROM
    property
INNER JOIN
    landlords
ON 
    landlords.ID = property.landlord
WHERE
    landlords.firstName LIKE '%spina%'
    OR
    landlords.lastName LIKE '%spina%'
"
28284,17339,"MySQL, compare date is less then another when in format DD-MMM-YYYY","WHERE STR_TO_DATE(due, '%d-%b-%Y') < NOW()
"
34425,69720,Columns to Rows in SQL Server,"select location, month, value
from <yourquery here>
unpivot
(
  value
  for month in (January, February, March, April, May, June, July, August,
                September, October, November, December)
) unpiv
"
751,9721,Sorting the date in ascending order,"    SELECT DATE_FORMAT(AudiEvent.EventDate,'%d-%m-20%y') as Event_Date
    from AudiEvent
    ORDER BY AudiEvent.EventDate
"
1298,35672,Insert specific bounded numbers into a column in SQL Server,"DECLARE @id INT
SET @id = 100
WHILE (@id <= 300)
BEGIN
    insert into categories (categoryID) values (@id)
    SELECT @id = @id + 1
END
"
2880,35870,How to separate string output?,"select 
   substring(member_name, charindex('/', member_name) + 1, 1) as first_initial,
   left(member_name, charindex('/', member_name) - 1) as last_name
from
   member
"
16428,12355,Copy a table to another table with different structure,"insert into table1 (col1, col2, col3)
select cast(col1 as signed), col5, col7
from Table1_Temp
"
10506,50858,Using sql to find duplicate records and delete in same operation,"DELETE a FROM activities a 
   LEFT JOIN (SELECT MAX(id) AS id FROM activities GROUP BY name) uniqId 
   ON a.id=uniqId.id WHERE uniqId.id IS NULL;
"
37937,33332,Sql: How to properly check if a record exists,"select 1
from table
where key = value;

select count(1)
from table
where key = value;
"
27880,13921,hibernate.hbm2ddl.auto + custom sql-type in Oracle,"@Column(name=""BOOLEAN_COLUMN"", columnDefinition = ""varchar2(1)"")
@Type(type = ""yes_no"")
private Boolean booCol;
"
18619,28312,MySQL - How do I compare values in common between two tables,"SELECT
    f.*
FROM
    FRIENDS f
JOIN
    USERS u
    ON
    r.FRIEND_ID = u.USER_ID
WHERE
    f.FRIEND_ID = ...
"
32749,39645,ORACLE SQL Developer (Query),"SELECT AVG(NO_OF_SEATS) ""WEEKLY AVERAGE"", TRUNC(TRAVEL_DATE,'IW')
FROM RESER
GROUP BY TRUNC(TRAVEL_DATE,'IW');
"
25593,54458,selecting zip codes issue with SQL,"SELECT
  City, State, County,
  GROUP_CONCAT(Zipcode SEPARATOR ',') AS Zipcodes
FROM
  MyTable
WHERE
  <Whatever you have>
GROUP BY
  City, State
"
16032,9569,T-SQL creating a dynamic where statement?,"declare @sql nvarchar(max);
set @sql = N'select * from table where ' + quotename(@search) + N'=''1''';
exec sp_executesql @sql;
"
13987,65132,Complex Joins and Select Query,"select Fname,Lname,Pname, Employee.DepartNum E_DNUM,Project.DepNum P_DNUM
from Employee
join WorksOn on WorksOn.EmpSSN = Employee.SSN
join Project on WorksOn.ProjNum = Project.Pnumber
join Department on Project.DepNum = Department.Dnumber
where Employee.DepartNum <> Project.DepNum
"
9941,8807,How could I write select statement to these two columns?,"SELECT a1, MAX(a2) AS a2 FROM table GROUP BY a1
"
10653,13251,SQL group by subselect,"select distinct t1.title_id, t1.shared_task_id
from mytable t1 join mytable t2 on t1.shared_task_id = t2.shared_task_id 
and t1.title_id <> t2.title_id
"
26657,7753,Creating a view query and can't specify attributes,"SELECT
      TITLE_LOOK_UP.TITLE_NAME
    , STAFF.FIRST_NAME
    , STAFF.LAST_NAME
    , STAFF.DEPT_ID
  FROM STAFF, TITLE_LOOK_UP
  WHERE STAFF.POST_ID ='2' AND
    STAFF.TITLE_ID = TITLE_LOOK_UP.TITLE_ID
  ORDER BY STAFF.LAST_NAME ASC
"
31862,29949,How Sum value of multiple datetime?,"SELECT cs.EmployeeRun, min(cs.Date) as MinDate, max(cs.Date) as MaxDate,
       SUM(cs.Total) as SumTotal
FROM CusSalaryDay cs
WHERE cs.Date Between '2012-12-03' and '2012-12-05'
GROUP BY cs.EmployeeRun
Order By EmployeeRun
"
21345,51845,Mysql DISTINCT account_id and ORDER BY,"SELECT 
  r.* 
FROM
  `record_versions` r 
  JOIN 
    (SELECT 
      MAX(`datetime`) `datetime`,
      account_id 
    FROM
      record_versions 
    GROUP BY account_id) t 
    ON (
      r.account_id = t.account_id 
      AND r.datetime = t.datetime
    ) 
WHERE r.record_id = '26' 
"
32224,39200,Querying the sum for each value in column,"SELECT sub_id, SUM(ans1) FROM booktable
 WHERE book_id = 1 AND sub_id IN (4, 6)
Group by sub_id
"
37525,29778,MyBatis RowBounds doesn't limit query results,"<select
  id=""selectFoo""
  parameterType=""com.foo.bar.SettingsBean"">

select *
from foo
where rownum >= #{rowStart}
  and rownum < #{rowEnd}
</select>
"
24842,2811,Grant read and write to user for a table,"GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE TO USER;
"
32593,58816,Is this SQL query guaranteed to join correctly?,"SELECT qr.* FROM question_records qr
                 enrollments      e
                 questions        q
  WHERE e.id = qr.enrollment_id
    AND q.id = qr.question_id
    -- your original WHERE condition
    AND enrollments.id IN (10,20) 
    AND questions.id IN (500,600) 
    AND question_records.id not in (3000,4000))
"
24425,67556,SQL Find closest timestmaps when duplicates exists,"SELECT t1.*, MAX(t2.unixtimestamp as rj_time), t2.response_detail as rj_error 
FROM t1
  LEFT JOIN table2 as t2 ON t1.id=t2.personid AND t1.clientcode=t2.client
WHERE t1.clientcode='quouk' 
  AND (t1.language = 'en_GB') 
GROUP BY t1.id
ORDER BY t1.id
"
24246,30194,refresh materialized view every 26th of the month in oracle,"Create Materialized view temp_mv
refresh complete start with (sysdate) next (add_months(trunc(sysdate,'mm'),1)+25)+0.5/24 with rowid
as select * from temp;
"
31217,47146,Condition based where clause SQL Server stored procedure,"select * from employee where Department = @dept AND (@flag != 1 OR @sal < 10000)
"
26929,1738,Append a zero to value if necessary in SQL statement DB2,"SELECT ...
FROM TABLE_A AS A
JOIN TABLE_B AS B
  ON CAST(SUBSTR(DIGITS(A.STR_NBR),3,3)AS CHAR(4)) = B.LOCN_NO
"
6604,36907,Oracle NVL problem,"SELECT column1
  FROM (SELECT nvl(column1, 0) column1
          FROM table1)
 WHERE column1 <= 1
"
2144,46879,select unique values in one column and match with the criteria in another column,"WITH cte AS
(

SELECT id,code,
       ROW_NUMBER() OVER(PARTITION BY id ORDER BY code) as row
FROM tableName
)

SELECT id,code
FROM cte
WHERE row=1
"
7507,57721,Django models: Aggregate Sum over multiple foreign key field values,"from django.db.models import Sum
Entry.objects.all().values('author','target').annotate('sum__points'=Sum('points'))
"
7915,26797,How can I restrict LEFT JOIN?,"select a.mjor, a.course, b.grade 
from degree_plan as a
left join student_record as b on a.course_no=b.course_no and b.id=4455
where a.major='COE'
"
13929,69028,Matching two columns in MySQL,"select A.column1, B.column2 
from tablename as A, tablename as B 
where (A.id != B.id) and (SOUNDEX(A.column1) = SOUNDEX(B.column2))
"
37083,53657,Wrong design of my entity models or I am doing it wrong?,"var suppliers = dbContext.Suppliers.Include(s => s.PrimaryContact.Addresses);
"
730,29298,How to return only one result from sql table?,"SELECT SUM(Amount) 
FROM   mytable x
WHERE  Ident = 3 AND
       NOT EXISTS (SELECT *
                   FROM   mytable y
                   WHERE  x.OrderNr = y.OrderNr AND y.Ident = 14)
"
27436,38251,Select MIN of a function and create a virtual table,"select id, name, (x + y) as total,
       (case when (x + y) = min(x + y) over (partition by id)
             then 0 else 1
        end) as IsNotMinValue
from t;
"
1755,32052,How to properly use the Sql Server ROW_NUMBER function with ordered queries?,"SELECT * 
    FROM 
    (
        SELECT *,
        ROW_NUMBER() OVER (ORDER BY p.DtDistribuicao, p.Id) AS RowNumber
        FROM ProcessoInstanciaFonte as p
    ) AS q     
WHERE q.RowNumber BETWEEN 1 AND 20;
ORDER BY q.RowNumber

SELECT TOP 20 *
FROM dbo.ProcessoInstanciaFonte AS p
ORDER BY p.DtDistribuicao, p.Id
"
3671,50299,How to calculate sum of the years into a new column for Current to previouse years,"select cs.*,
       sum(cs.ActiveEachYear) over (order by cs.[year]) as TotalActiveInSystem
from CurrentScenario cs
order by cs.[year] desc;
"
28046,34066,Equivalent of defining local variables in SQL,"SELECT stddev_pop(C) 
FROM
(
   SELECT B, C
   FROM   table1
   WHERE  B < (SELECT AVG(B) FROM table1 )
) s
"
16616,18129,ORDER BY changed column with same name,"SELECT
  CASE
    WHEN UPPER(name) LIKE 'THE %' THEN CONCAT(RIGHT(name, length(name)-4),', THE')
    ELSE name
  END AS name 
FROM artist
ORDER BY name
"
36095,11242,Returning multiple values in a CASE expression,"CASE
  WHEN (org.org_misc_data = 'PAC') THEN 'pac|' ELSE '' END
  + CASE 
    WHEN (org.dues_category = 'PART') THEN 'partner_member'
    WHEN (org.dues_category = 'FREE' AND org.org_status_flag = 'P') THEN 'associate_member'
    ELSE 'non_member'
END AS org_status
"
32364,32516,Filter GROUP BY results with another GROUP BY to trim down,"SELECT (case when substr(locationPostcode, 2, 1) between 'A' and 'Z'
             then left(`locationPostcode`, 2)
             else left(locationPostcode, 1)
        end) as postcode_prefix, count(`locationPostcode`) as `locationCount`
FROM `locations`
WHERE `locationPostcode` IS NOT NULL AND `locationPostcode` <> ''
GROUP BY postcode_prefix
ORDER BY `locationCount` DESC;
"
13350,46061,Convert float to DateTime in Oracle DB,"select to_date('12/30/1899', 'MM/DD/YYYY') + 40676.2641666667 from dual;
"
29648,12311,MySQL finding unique product ids from 2 tables,"SELECT COUNT(1) 
FROM (SELECT distinct ProductId
      from Sales
     UNION -- instead of union all to ensure that only distinct values are taken
      SELECT distinct ProductId
      from Links) products
"
25761,75361,Alter column with default constraint in Oracle,"ALTER TABLE HS_HR_PEA_EMPLOYEE MODIFY JS_PICKED_TIME DATE DEFAULT SYSDATE
"
31893,69618,Get first record when all fields are identical except ID and Timestamp?,"SELECT  distinct(*)
FROM    HS_IHE_ATNA_Repository.Aggregation a
WHERE   EventType = 'Retrieve Document Set'
AND     TimeStamp = (select min(b.TimeStamp) from from HS_IHE_ATNA_Repository.Aggregation b 
                      WHERE b.tid = a.tid)
ORDER BY ID asc
"
19984,8256,How to check values in column in Select query," select
 ..
 Agent,
 case when coalesce(MiddleName, '') = '' then FirstName + ' ' + LastName 
      else FirstName + ' ' + MiddleName + ' ' + LastName 
 end as Name,
 ...
 from tbSystemUser 
"
32086,31325,Outer Join based on 3 tables,"SELECT skills.id, IF(IS NULL user_skills.skill_id, 'Yes', 'No')
FROM skills
LEFT JOIN user_skills ON (
    skills.id = user_skills.skill_id AND 
    user_skills.user_id = 1234
)
"
22408,26272,mysqldump with --where clause is not working,"mysqldump -t -u root -p  mytestdb mytable --where=""datetime LIKE '2014-09%'""
"
31521,35316,how to add two rows and minus one row in same table?,"SELECT
  id,
  SUM(CASE WHEN event IN ('end', 'prog') THEN viewtime
           WHEN event = 'rew' THEN -viewtime END) AS viewtime
FROM tablename
GROUP BY id
"
3182,7301,how to display a number without decimal using sql,"SELECT distance, floor(distance / 12) AS Feet, distance mod 12 as Inches
from
products
"
30317,28185,Search all Fields VB6 Listview,"""... where ProductName+ProductNumber+GenericName like '%"" & txtSearch & ""%'""
"
28158,22566,"How to remove and replace "")"" space?","  replace(
    regexp_replace(
      regexp_replace(
        regexp_replace(
           string, 
           '\s([a-zA-Z]+($|\W))', chr(0)||'\1'
        ), 
        '((^|\W)[a-zA-Z]+)\s', '\1'||chr(0)
      ),
    '\s'),
  chr(0), ' ')
"
33396,34870,Order by number of selections found," select entity_name, count(*) count
   from (
         select e.entity_name, t.tag
           from tag t
           join entity e on (t.entity_id = e.entity_id)
          where t.tag in ('tag', 'tag', 'tag')
         )x
  group by entity_name
  order by count desc
"
407,68531,database column int limit,"CREATE TABLE tab (
    id tinynot null CHECK (id BETWEEN 0 AND 9), 
    value INT not null CHECK (id BETWEEN 1000000000 AND 9999999999)
);
"
2985,37149,Select products where the category belongs to any category in the hierarchy,"SELECT * FROM products 
   INNER JOIN categories ON categories.id = products.category_id 
WHERE categories.lft > 2 and categories.rgt < 11
"
25439,73279,MySql Field Substrings,"...
SET @currText = textToExpolde;
SET @sepLen   = LENGTH( separator );

WHILE @currText != '' DO

  SET @word     = SUBSTRING_INDEX(@currText, separator, 1);
  SET @currText = SUBSTRING(@currText, LENGTH(@word) + 1 + @sepLen);

  INSERT INTO extractor_words SET word = @word;

END WHILE;
...
"
21645,38338,Is there a way I can make the CASE WHEN test one of the results rather than running it twice?,"select
    orderid,
    case when maxprice is null then 0 else maxprice end as maxprice
from (
    select
        orderid = o.id,
        maxprice = (select MAX(price) from orderlines ol 
                    where ol.orderid = o.id)
    from orders o
) sub
"
23385,3163,Using 'OR' between HAVING and WHERE clause in MySQL?,"SELECT [some fields]
FROM
  SELECT firstname, lastname, CONCAT(firstname, ' ', lastname) as fullname
  FROM people) AS tmp
WHERE firstname LIKE '%user_submitted_data%'
OR lastname LIKE '%user_submitted_data%'
OR fullname LIKE '%user_submitted_data%'
"
9646,50274,Update entire table based on parameter of another table in a matching field,"UPDATE Geo_location AS g 
JOIN users_data AS u ON u.member_num = g.member_num 
SET g.public = ud.acceptinClients
"
36734,44653,Using CASE to select a field in SQL?,"SELECT LastName, 
    CASE FirstName WHEN 'Ian' THEN JobNo ELSE -1 END
FROM Employees
"
17422,34707,How to split a string into two new attributes,"UPDATE all_event_details 
    SET venue_city = split_part(venue_city_state, ',', 1), 
        venue_state = split_part(venue_city_state, ',', 2)
"
19385,30173,Average date diff on MySQL,"select user_id, game_id,
       (case when count(*) > 1
             then timestampdiff(second, min(timestamp), max(timestamp)) / (count(*) - 1)
        end) as AvgDiffSeconds
from game_logs gl
where game_event_type_id = 3
group by user_id, game_id;
"
36870,18960,Is there any chance that the execution of two queries could interfere with each other,"select id
from table t
order by id desc
limit 1;
"
28224,24780,"Make SQL return one row for every WHERE clause, even if identical to previous one","SELECT german 
FROM translate_content 
WHERE german = ""A""
UNION ALL
SELECT german 
FROM translate_content 
WHERE german = ""B""
UNION ALL
SELECT german 
FROM translate_content 
WHERE german = ""C""
UNION ALL
SELECT german 
FROM translate_content 
WHERE german = ""A""
"
11826,53367,Using SELECT result in subselect IN(),"SELECT cat, dog, mouse, ids,
    (SELECT cheese
    FROM my_second_table AS a
    WHERE find_in_set(a.ids, ids)
    LIMIT 1) AS cheese
FROM my_first_table
"
33558,1042,PLSql return values,"   SELECT MAX(ltrim(sys_connect_by_path(flow_run_id, ','), ','))
   FROM
   (
    select flow_run_id, rownum rn
    from table
    where CREATED_DATE < sysdate - 32
    and rownum < 10
    order by 1 desc
   )
   START WITH rn = 1
   CONNECT BY PRIOR rn = rn - 1
"
17864,30293,"SQL unionall, null","SELECT CASE WHEN rnk = 1 THEN MAKER ELSE '' END AS Mkr, type, rnk 
FROM Table1
ORDER BY MAKER,RNK
"
8546,46772,SQL ORDER BY (sequence),"SELECT * 
FROM UserDB 
ORDER BY
  CASE Role WHEN 'Admin' THEN 0 
            WHEN 'User' THEN 1
            WHEN 'Guest' THEN 2
  END
"
38349,2306,how to replace a character by its ascii in SQL SELECT statement in Oracle,"SELECT REPLACE(text,CHR(26),otherChar) FROM .........
"
16157,26211,Require help to get access form to insert values into query,"INSERT INTO example_table ([month], field, field, field)
SELECT
    Forms!YourForm!txtSecondMonth AS [month],
    field,
    field, 
    field
FROM example_table
WHERE [month] = Forms!YourForm!txtFirstMonth;
"
10622,26118,Selecting distinct values where input is in another column,"SELECT DISTINCT id
FROM myTable
WHERE @myInput IN (rColumn, sColumn);
"
12369,42588,Prior Month for Prior Year,"DECLARE @FirstDayofPrevMonthPriorYear datetime  
DECLARE @LastDayofPrevMonthPriorYear datetime  
SET @FirstDayofPrevMonthPriorYear = DATEADD(year,-1,@FirstDayofPrevMonth)
SET @LastDayofPrevMonthPriorYear = DATEADD(year,-1,@LastDayofPrevMonth)
"
25858,58665,SQL matching columns between rows,"SELECT
  CR.ID,
  CR.Name,
  Folder.Name AS FolderName
FROM
  CR
  /* First join CR to VM */
  INNER JOIN VM ON CR.ID = VM.ObjectID
  /* Then join VM to itself aliased as VMLoc, mapping Location to ObjectID */
  INNER JOIN VM AS VMLoc ON VM.Location = VMLoc.ObjectID
  /* Finally join the second ObjectID to Folder to get Folder.Name */
  INNER JOIN Folder ON Folder.ID = VMLoc.ObjectID
"
9117,26485,MySQL Join Query confuse,"select A.product_desc,
       (select sum(B.qty) from product_sales_branch_a B where B.product_id = A.product_id),
       (select sum(C.qty) from product_sales_branch_b C where C.product_id = A.product_id) 
from product A 
where A.product_id = 'ABC'
"
35544,32096,SQL Select Convention,"SELECT Id, Name
    FROM Table1
    JOIN Table2 
        ON Table2.FK1 = Table2.FK1
"
31100,47835,mysql query to pick up distinct values for users and related table,"select * from questions 
where id NOT IN (
select distinct round1 
from questions 
where user1 in (1,2) OR user2 in (1,2)

UNION

select distinct round2 
from questions 
where user1 in (1,2) OR user2 in (1,2)

UNION

select distinct round3 
from questions 
where user1 in (1,2) OR user2 in (1,2)
)
"
4078,39876,Add column from different table to SQL query (if it finds the id in a list),"SELECT s.name, s.email, l.link FROM subscribers s, links l WHERE s.id IN ('.$subscribers.') AND FIND_IN_SET(s.id, l.id_of_user_that_clicked)
"
13224,5999,Update multiple records in SQL,"UPDATE records
   SET name =
     CASE
       WHEN id = 3 THEN 'abc'
       WHEN id = 1 THEN 'def'
       ELSE name
     END
"
3418,72705,sorting search results in custom criteria,"order by case
    when price between @priceMin and @priceMax 
        and location = @location then 1
    when price between @priceMin and @priceMax 
        and district_id = @districtid then 2
    when no_of_bedrooms = @no_of_bedrooms 
        and districtid = @districtid then 3
    when price between @priceMin and @priceMax 
        and no_of_bedrooms = @no_of_bedrooms 
        and property_area = @property_area and districtid <> @districtid then 4
    else 5
end, price desc
"
5906,54295,if/case statement in where clause,"where BUSINESS_UNIT=1227 and b.year_audit=2016 and taggable='YES'
and (
      (
        (select count(*) from #tempdept) > 0 and fix_asset.department in (select item from #tempdept) 
      )
      or
      (select count(*) from #tempdept) = 0
    )
"
697,66447,"Assign a counter in SQL Server to records with sequential dates, and only increment when dates not sequential","WITH cte AS (
  SELECT CustomerID, Date, 
    DATEADD(DAY, 
            -ROW_NUMBER() OVER (PARTITION BY CustomerID ORDER BY Date), 
            Date) dt
  FROM trips
)
SELECT CustomerID, Date, 
  DENSE_RANK() OVER (PARTITION BY CustomerID ORDER BY dt)
FROM cte;
"
28603,26980,Updating a foreign key only when primary key exists,"WITH find_rec AS
  (SELECT id3 FROM s.t2 WHERE id4 = 'hello3')
UPDATE s.t1
SET id2 = find_rec.id3
WHERE id1 = 2
  AND EXISTS (SELECT 1 FROM find_rec);
"
30985,45640,Count and group by on multiple coulmns,"select st.version as version, count(st.version) as total sys_ids,count(a),count(b),count(c) from
(
    SELECT sys_id,version,state,
    MAX(DECODE(state,'A',state)) as a,
    MAX(DECODE(state,'B',state)) as b,
    MAX(DECODE(state,'C',state)) as c
    FROM SYSTEM st
    group by sys_id,version,state
) group by version;  
"
32160,44617,Trying to convert my relation into BCNF (3.5NF),"{ (Author, Date) (Author, URL) (Content) }
"
34041,72739,"sql, return only the max version of a record from a table",";WITH PricesCTE AS
(
  SELECT *,
         ROW_NUMBER()OVER(PARTITION BY companyid,product ORDER BY version DESC) AS rn
  FROM   prices
  WHERE  GETDATE() BETWEEN [start] AND [end]
)
SELECT * 
FROM   PricesCTE 
WHERE  rn = 1
"
31061,64513,Unable to add DOUBLE and VARCHAR columns with CAST(),"SELECT CONCAT_WS("""", ""$"", FORMAT(COALESCE(db.billing.cost_per_month, 0.00), 2)) AS ""Monthly Cost"",
  CONCAT_WS("""", ""$"", FORMAT(COALESCE(db.billing.additional_cost, 0.00),  2)) AS ""Additional Cost"",
  CONCAT_WS("""", ""$"", FORMAT(COALESCE(db.billing.cost_per_month, 0.00) AS DECIMAL(60, 2)) + COALESCE(db.billing.additional_cost, 0.00), 2)) AS ""Total Cost""
  FROM db.billing;
"
27977,38695,SQL find the same column in different tables,"select name from syscolumns sc1 where id = object_id('table1') and exists(select 1 from syscolumns sc2 where sc2.name = sc1.name and sc2.id = object_id('table2'))
"
20991,39851,Save Metadata about columns of a table when creating It in SQL Server,"EXEC sys.sp_addextendedproperty @name=N'PersianName', @value=N' ''کارکنان'' ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Personnel'


EXEC sys.sp_addextendedproperty @name=N'PersianColumnName', @value=N' ''شناسه''' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Personnel', @level2type=N'COLUMN',@level2name=N'Name'
"
35466,16783,Number of times a record shows up : SQL Server,"select Numbers, count(*) as Count
from MyTable
group by Numbers
"
5976,44576,Mysql: Count records (including zero) per month,"SELECT
   YEAR(time) AS year
   MONTH(time) AS month,
   COUNT(myTable.year) AS cnt, 
FROM months
LEFT JOIN myTable 
    ON months.year = myTable.year
    AND months.month = myTable.month
GROUP BY months.year, months.month
ORDER BY months.year, months.month
"
3534,31012,Determine if month of date falls on a quarter of date,"(mod(EXTRACT(MONTH FROM SYSDATE()), 3)) = (mod(EXTRACT(MONTH FROM <input date>), 3))
"
26253,65434,SQL group dates as week date,"SELECT DAYOFWEEK('2007-02-03');
"
10846,21230,Mysql customise order by with group by,"ORDER BY FIELD(color, 49, 2) DESC
"
6558,35699,Slow IN() MySQL query optimization,"SELECT
    p.name AS personName,
    p.slug AS personSlug,
    COUNT(p.slug) AS personCount
FROM
    person AS p
INNER JOIN
    person AS p2
ON
    p.checksum = p2.checksum
WHERE
    p2.slug = 'john-doe'
    AND p.slug <> 'john-doe'
GROUP BY personName
ORDER BY personCount DESC
"
35542,56781,SQL: Query integer column in specific format,"select right('000' + convert(varchar(3), intcolumn), 3) from yourtable
"
17911,37472,mySQL database structure to represent one user following another?,"select pst.userid, pic.title
    from pictures pic
      inner join posted_by pst on pic.title = pst.title
      left join followers flw on pst.userid = flw.userid
where pst.userid = <userid> or flw.followerid = <userid>
"
16307,12068,How do I move a database from one server to another in PgSQL?,"pg_dump -h 172.26.76.100 -p 5432 -U username your_db | psql -h localhost -p 5432 -U username your_db 
"
11497,5661,fetch Single column from two table,"SELECT  a.Price
FROM    SalesReturnDetails a
        INNER JOIN 
        (
            SELECT  DISTINCT Bill_number
            FROM    SalesReturn
            WHERE   Session='12-13'
        ) b ON a.Bill_number = b.Bill_number
"
14893,73825,Select case statement not working in oracle,"select decode(kpi_def_id,NULL,'N',
       case when instr(ini||curr||downtime||manual,'N',1) = 0 
       then status else 'N' end)
from ex_6
"
10863,15075,"SQL, Multiple if statements, then, or else?","Select personid,lastname,firstname,age,
       Case when age between 26 and 27 then 'post graduate'
            when age between 28 and 30 then 'working and single' 
            when age between 31 and 33 then ' middle level manager and married' 
            Else 'Nil'
       End comments 
from persons
"
26393,7042,How to update an SQL table with a unique number within a range,"WITH CTE AS (
    SELECT 1 N
    UNION ALL
    SELECT N + 1 FROM CTE WHERE N < 5
)
UPDATE MyTable
SET MyNumber = (
    SELECT TOP 1 N FROM CTE
    WHERE NOT EXISTS (SELECT * FROM MyTable WHERE MyNumber = N)
)
WHERE PrimaryKey = 2
"
37231,64722,Easiest way to validate user in stored procedure?,"CREATE STORED PROCEDURE CheckPassword
    @username VARCHAR(20),
    @password varchar(20)
AS
BEGIN

SET NOCOUNT ON

IF EXISTS(SELECT * FROM usertable WHERE username = @username AND password = @password)
    SELECT 'true' AS UserExists
ELSE
    SELECT 'false' AS UserExists

END
"
24784,28502,How do I combine these three MySQL data queries into one query with multiple columns?,"SELECT   phonenumber,
         dataplan AS currentplan,
         SUM(datamb) AS value_sum
FROM     maindata
GROUP BY phonenumber, dataplan;
"
24694,14407,How to get the AutoNumber generated by an SQL insert,"Dim db As DAO.Database
Dim strInsert As String

Set db = CurrentDb
strInsert = ""INSERT INTO [table1]([field 1], [field 2])"" & vbCrLf & _
    ""VALUES ('value 1', 'value 2')""
db.Execute strInsert, dbFailOnError

TempVars.Add ""itemNum"", db.OpenRecordset(""SELECT @@identity"")(0).Value
MsgBox ""TempVars!itemNum: "" & TempVars!itemNum
"
19919,69963,Additional Autonumber in an SQL table that has an identity,"SELECT *, ROW_NUMBER() OVER (ORDER BY somefield) rownum
FROM table;
"
7605,40406,Reverse wildcard query in mysql (Can the wildcard reside in database?),"select ut.*
from URITable ut
where @MYURL like ut.URIPattern;
"
20683,28118,Multiple outer joins that can include empty subset,"FROM Objects o 
LEFT OUTER JOIN Attributes aa 
ON (o.Id = aa.ObjectId) and (aa.AttributeTypeId = 1)
"
36760,72921,MS Access: Finding the top of each group in an SQL query,"SELECT p.* 
FROM   players p 
       INNER JOIN (SELECT age, 
                          Max(score) as mScore 
                   FROM   players 
                   GROUP  BY age) AS mp 
               ON p.age = mp.age 
                  AND p.score = mp.mscore 
"
17003,54989,SQL Server : rank data based on minimum distance,"select t1.*, t2.*
from table1 t1 cross apply
     (select top 1 t2.*
      from table2 t2
      order by distance(t1, t2)  -- put your appropriate function here
     ) t2;
"
30362,16258,comments as normal nodes in database,"NODE
id

NODE_POST
id pk fk node(id)
title
body

NODE_COMMENT 
id pk fk node(id) 
body 
post_id fk node_post(id) 
parent_comment_id fk node_comment(id)
"
13766,8532,"SQL Query NOT IN, EXIST","SELECT 
    a.stagename,
    a.realname
FROM
    Actor a
LEFT JOIN
    ActedIn b ON a.stagename = b.stagename
LEFT JOIN
    Movie c ON b.title = c.title 
    AND a.year = b.year 
    AND c.earnings >= c.budget
WHERE 
    c.title IS NULL
GROUP BY
    a.stagename,
    a.realname
"
27359,28451,Delete empty rows in one-to-many relationship (postgresql),"with dv as (
    delete from book_version
    where version_id = 2
    returning book_id, version_id
)
delete from book b
using dv
where
    b.book_id = dv.book_id
    and
    not exists (
        select version_id
        from book_version
        where
            book_id = dv.book_id
            and
            version_id != dv.version_id
    )
"
19476,33209,Count specific rows to match the query,"select id, students, sub1, sub2, sub3, sub4, sub5, sub6,
       ((sub1 < 40) + (sub2 < 40) + (sub3 < 40) + (sub4 < 40) + (sub5 < 40) + (sub6 < 40)
       ) as FailedIn 
from table t;
"
38343,33163,"SQL Help (Join, transpose?)","select m.month,
       sum(case when c.regionid = 1 then 1 else 0 end) as north,
       sum(case when c.regionid = 2 then 1 else 0 end) as south,
       sum(case when c.regionid = 3 then 1 else 0 end) as east,
       sum(case when c.regionid = 4 then 1 else 0 end) as west
from region r
cross join month m
left join customer c on c.regionid = r.regionid and c.monthid = m.monthid
group by m.monthid, m.month
"
31328,48060,How can I write a sql query to check if a particular table exists in a database?,"USE USERS;
SELECT * FROM INFORMATION_SCHEMA.TABLES
WHERE TABLE_NAME = 'MEMBERS'
"
3998,38118,Eliminate records using a JOIN instead of NOT IN,"select * from subscribers ls join emailopens eo
    on ls.subscriberid=eo.subscriberid left join subscribers ls2
    on ls.emailaddress=ls2.emailaddress and ls2.listid = 1384
    where ls.listid=1381 
    and opentime  > 1458864000
    and ls2.emailaddress is null
"
20422,18511,Calculate difference of the records in a same column,"CASE WHEN KPI IN (1, 4) THEN ACTUAL
     WHEN KPI = 2 THEN KPI / MIN(CASE WHEN KPI = 1 AND KPI <> 0 THEN ACTUAL END) 
                             OVER (PARTITION BY DATE, DIVISION)
     WHEN KPI = 3 THEN KPI / MIN(CASE WHEN KPI = 3 AND KPI <> 0 THEN ACTUAL END) 
                             OVER (PARTITION BY DATE, DIVISION)
END
"
2643,1262,Summing 1 Column As Two Separate Values Depending on Another Value in the Row,"Select  Sum(Case When Z = 1 Then A Else 0 End) As B,
        Sum(Case When Z = 2 Then A Else 0 End) As C
From    TableName
"
29676,15938,MySQL - Index on suffix of string,"alter table t add column domain varchar(255);

update t
    set domain = substring_index(email, '@', -1);

create index idx_t_domain on t(domain);
"
22719,59891,SQL Grouping by predefined date range,"SELECT 
    WEEK(created),
    SUM(case WHEN status = 1 then 1 else 0 end) Status1,
    SUM(case WHEN status = 2 then 1 else 0 end) Status2,
    SUM(case WHEN status = 3 then 1 else 0 end) Status3,
    SUM(case WHEN status = 4 then 1 else 0 end) Status4,
    SUM(case WHEN status = 5 then 1 else 0 end) Status5
FROM contacts
GROUP BY WEEK(created), YEAR(created);
"
34099,44371,SQL select rows conditionally using CASE expression,"SELECT *
FROM emp
WHERE (CASE WHEN (sal+comm) > 1700 THEN 1
            ELSE 0
       END) = 1
"
6560,34639,Help with optimising SQL query,"select ID_DISH, sum(ID_INGREDIENT not in (2, 4)) stillMissing 
from x
group by ID_DISH
having stillMissing != count(*)
order by stillMissing 
"
32314,42398,MS Access 2010 Linking count results to individual records,"Private Sub TotalMonthlyEnquiries_Click()

    DoCmd.OpenForm ""frmQuery2"", acFormDS

    Forms!frmQuery2.Filter = ""Format([DateOfEnquiry], """"mmmm"""") = '"" & Me![Month] & ""'""
    Forms!frmQuery2.FilterOn = True

End Sub
"
11675,11480,How to transpose a table from columns to rows in Oracle sql,"SELECT ID, DATE, 'TEST_1' AS TEST, TEST_1 AS SCORE
FROM TABLE
UNION ALL
SELECT ID, DATE, 'TEST_2' AS TEST, TEST_2 AS SCORE
FROM TABLE
UNION ALL
SELECT ID, DATE, 'TEST_3' AS TEST, TEST_3 AS SCORE
FROM TABLE
"
28901,35425,Filter on second left join - SQL,"SELECT * FROM Customer
LEFT JOIN Product ON Customer.CustID=Product.CustID
WHERE Item = 'Toaster'
AND Customer.CustID NOT IN ( 
    Select CustID FROM Product Where Item = 'Breadbox'
)
AND (SELECT COUNT(*) FROM Returns WHERE Customer.CustId = Returns.CustID) <= 1
"
9475,58585,SELECT Top (OuterQuery.Amount) * FROM ,"SELECT *
FROM X
INNER JOIN
(
    SELECT ROW_NUMBER() OVER (ORDER BY SomeVal) as rn, *
    FROM Y
) AS Z ON X.ID = Z.X_ID
WHERE
   Z.rn <= X.IntegerAmount)
"
21314,55225,SQL Server 2005 T-SQL remap columns,"INSERT INTO prod_users (user_id, first_name, last_name)
SELECT ID, FIRST_NAME, LAST_NAME
FROM test_users
"
33913,51275,How do I get 1 year data in Jaspersoft SQL query,"Select
 ... date_sub($(Start_Date), interval 1 year)... ,
 ...date_sub($(end_date ), interval 1 year)... 
from ...
; 
"
1214,55097,How to rewrite SQL queries who give better performance in MySQL,"EXPLAIN SELECT foo,bar from glurch WHERE baz > 1 ORDER BY foo;
"
5565,8670,PostgreSQL:select value after update,"with cte as (
update mytable set val1 = 'Foo' where val13=1234 and val12=12 returning *
) 
select * from cte where val14=(select max(val14) from mytable )
"
7185,63643,Filter query result based on earliest date for subset of query,";WITH CTE AS
(
   SELECT *,
          RN = ROW_NUMBER() OVER(PARTITION BY Name ORDER BY [Date])
   FROM (...Your query here...) T
)
SELECT *
FROM CTE 
WHERE RN > 1;
"
6905,53578,"SQL SELECT ... WHERE IN with separate LIMIT,OFFSET clause","select *
from (
    select *,
        row_number() over(
            partition by user_id
            order by createdat desc, rating desc
        ) as rn
    from t1 
    where
        status = 1 and some_field not in (?, ?, ..., ?)
        and user_id in (1,2,3)
) s
where rn <= 10
order by user_id, rn
"
20308,47539,"Using the ""AND"" operator in with linq","from a in objcxt.tableA
join b in objcxt.tableB
on
    new { a.fld1, a.fld2 }
equals
    new { b.fld1, b.fld2 }
into b_join from b in b_join.DefaultIfEmpty()
"
30922,18903,Oracle SQL Query with Additional Summation Columns,"select
    user_id
    sum(amount) total,
    sum(least(amount,0)) total_negs,
    sum(greatest(amount,0)) total_pos
from
    my_table
group by
    user_id
"
4934,56906,SQL trigger for expiration date,"CREATE TABLE my_table (
    col1 VARCHAR(10),
    col2 VARCHAR(20),
    expiration_date DATE,
    is_expired AS CASE WHEN expiration_date > GETDATE() THEN 1 ELSE 0 END
);
"
18675,39702,Script SQL Login and User Mappings,"USE master
GO
CREATE LOGIN SomeLogin --FROM WINDOWS?
GRANT CONNECT SQL TO SomeLogin
GO
USE MYDB
GO
CREATE USER SomeUser FOR LOGIN SomeLogin
GRANT CONNECT TO SomeUser 
GO
CREATE ROLE SomeRole AUTHORIZATION [dbo]
GO
EXEC sp_addrolemember 'SomeRole', 'SomeUser'
GO
"
3941,58399,Getting a singular projection from a select query with multiple attributes,"select top 1 email_id from update_winnerslist
 where item_index = 10 order by bid_amount desc
"
29589,22597,SQL - Identifying source table from UNION query,"$sql = ""
SELECT Title, 1 FROM table1
UNION 
SELECT Title, 2 FROM table2
UNION 
SELECT Title, 3 FROM table3"";
"
22230,47988,"How to convert Oracle ""TIME"" to JDBC Time in query?","String sql = ""Select to_date('1970-01-01 ' || ? ,'YYYY-MM-DD HH24:MI:SS) as MY_TIME from dual"";
Connection conn = null; //get Connection from somewhere
PreparedStatement stmt = conn.prepareStatement(sql);
stmt.setString(1, ""16:31:59"");
ResultSet rs = stmt.executeQuery();
rs.next(); //get to first element of result set;
java.sql.Time myTime = rs.getTime(1);
"
23662,68557,SQL Query involving aggregate functions,"select u.User_ID 
from 
    users u
    left join reviews r
        on r.user_id = u.user_id
where r.review_id is null
"
11815,28768,Convert row to columns SQL dynamically,"select * from TableName
unpivot(v for xyz in([Atest],[Btest],[Ctest]))u
pivot(max(v) for yyyymmdd in([20150525],[20150526],[20150527]))p
"
37915,64004,Extract multiple decimal numbers from string in T-SQL,"select
  cast(left(r, charindex('%', r) - 1) AS float) as minVal,
  cast(replace(right(r, charindex('-', r) - 1), '%', '') as float) AS maxVal
from ( select '22.45% - 42.32%' as r ) as tableStub
"
10501,12509,How do I get rid of an orphaned default constraint in T-SQL?,"CREATE TABLE Table (
    col DATETIMEOFFSET  DEFAULT GETUTCDATE()
)
GO
"
12972,74752,"SQL syntax issue using ""IN"" keyword with dynamic data","IN (SELECT myField from #myTable)
"
27776,66058,VBA / Visual Basic. Simple String SQL,"update [Table1] SET [Vote] = Vote + 1 WHERE ID = 1
"
17566,58985,Mysql query to convert a record in one table to number of records in other table based on number fo field values,"INSERT INTO table2 (id, AddressNumber, Address)
SELECT id, 
       AddressNumber,
       CASE AddressNumber 
          WHEN 1 THEN Address1
          WHEN 2 THEN Address2
          WHEN 3 THEN Address3
          WHEN 4 THEN Address4
       END Address
  FROM table1 t CROSS JOIN
(
  SELECT 1 AddressNumber UNION ALL
  SELECT 2 UNION ALL
  SELECT 3 UNION ALL
  SELECT 4 
) i
HAVING Address IS NOT NULL
 ORDER BY id, AddressNumber;
"
22630,9146,"how to insert data into table from stored proc, manual values together in a single insert statement","DECLARE @TBL TABLE(
    	C1 INT,
    	C2 INT
)

INSERT INTO @TBL (C1, C2) EXEC sptemp

SELECT *, 34 FROM @TBL
"
22631,28,To calculate sum() two alias named columns - in sql,";WITH sums AS 
(
   SELECT
      m1, m2, 
      SUM(m1) + SUM(m2) as Total,
      SUM(m1) + SUM(m2) as Total1 
   FROM
      dbo.stud 
   GROUP BY
      m1, m2
)
SELECT 
   m1, m2, 
   total, total1, 
   total+total1 AS 'GrandTotal' 
FROM 
   sums
"
30650,26431,Add a row number to result set of a SQL query,"SELECT t.A, t.B, t.C, number = ROW_NUMBER() OVER (ORDER BY t.A)
  FROM dbo.tableZ AS t
  ORDER BY t.A;
"
22819,41239,Relationship with two table,"CREATE TABLE `member_images` (
  `image_id` BIGINT(20) UNSIGNED NOT NULL auto_increment,
  `member_id` BIGINT(20) UNSIGNED NOT NULL DEFAULT 0,
  `image_path` VARCHAR(255) NOT NULL DEFAULT '',
  PRIMARY KEY(`image_id`),
  KEY (`member_id`)
);
"
31469,72042,Is it possible to write a query that categorize sum(amount) in 2 columns?,"SELECT
    SUM(CASE WHEN type = 1 THEN amount ELSE 0 END) amount1,
    SUM(CASE WHEN type = 2 THEN amount ELSE 0 END) amount2
FROM MyTbl
"
2289,31451,How to increment a column value in a table automatically without identity and primary key in SQLServer,"CREATE TABLE #foo (
    IDColumn int  NOT NULL IDENTITY(1,1),
    PayLoad varchar(100) NOT NULL,
    TheRealKey AS CONCAT('SLN', RIGHT(CONCAT('00000', IDColumn), 6)) PERSISTED PRIMARY KEY
    )
GO
INSERT #foo (PayLoad) VALUES ('Row 1'), ('Row 2')
GO
SELECT * FROM #foo f
"
13837,71445,How to find multiple values from one table?,"SELECT (CASE WHEN COUNT(*) = 3 THEN 'ALL PRESENT' ELSE 'MISSING FIELD' END)
FROM `engine4_user_fields_values`
WHERE (field_id = 3 AND value = 'test7') OR 
      (field_id = 4 AND value = 'test7') OR 
      (field_id = 13 AND value = 'Hemraj')
"
5881,38645,Update column with another value from the same table?,"UPDATE sh
   SET sh.Col2 = (SELECT TOP 1 sh_inner.Col2
                 FROM Temp.dbo.Sheet4 sh_inner
                WHERE sh_inner.Col2 IS NOT NULL 
             ORDER BY ABS(sh.Col1 - sh_inner.Col1))
FROM Temp.dbo.Sheet4 sh
WHERE sh.Col2 IS NULL
"
31736,20814,how to call StoredProcedure or Functions from a MySQL Trigger?,"mysql> delimiter //  
mysql> CREATE TRIGGER upd_check BEFORE UPDATE ON account  
    -> FOR EACH ROW  
    -> BEGIN  
    ->     IF NEW.amount < 0 THEN  
    ->         SET NEW.amount = 0;  
    ->     ELSEIF NEW.amount > 100 THEN  
    ->         SET NEW.amount = 100;  
    ->     END IF;  
    -> END;//  
mysql> delimiter;  
"
27607,22066,SQL row insert into a table + keys into its linking table within one statement (many-to-many relationship),"CREATE PROC MyInsertM2M(@fieldname1 int, @fieldname2 varchar(20), @Key1 int, @Key2 int etc)
AS
BEGIN

INSERT INTO MyMainTable(fieldname1, fieldname2...)
VALUES(@fieldname1, @fieldname2...)

INSERT INTO MyResolverTable(KeyField1, Keyfield2)
VALUES (@Key1, Key2)

END
"
31880,31681,Select columns in 3 tables if it is null or not,"SELECT (CASE WHEN a.column1 is NULL
         THEN 'Active'
         ELSE 'Inactive'
         END) as Status_Define_Resources, <<some columns>>,

   (CASE WHEN b.column1 is NULL
         THEN 'ACTIVE'
         ELSE 'INACTIVE'
         END) as STATUS_USER, <<some columns>>,

    c.LASTNAME||','||c.FIRSTNAME||','||c.MIDDLENAME as ""Complete Name""

FROM table1 a, table2 b, table3 c
"
11154,17420,How to select the total number of logins by date?,"select year, month, day, sum(loginCount) 
  from user 
 group by year, month, day
"
7358,54374,How can I select the count of a field multiple times for a different value in Transact-SQL?,"transform 
    count(*) as CountOfReceipts
select
    Month(x.[Receipt Date]) as Month
from
    the_table x
where
    Department = 'marketing'
group by
    Month(x.[Receipt Date])
pivot
    x.Type;
"
445,21529,Getting the date from DATETIME. mySQL,"WHERE DATE(MyDate) = '2013-07-08'
"
9995,61998,Displaying a date Short Format,"textBox1.DataBindings.Add(new System.Windows.Forms.Binding(""Text"", n.ADataSet, ""Table.date"", true, System.Windows.Forms.DataSourceUpdateMode.OnValidation, null, ""yyyy-MM-dd""));
"
37404,18645,How to get all rows that has same ID but diffrent value in other column?,"select * 
from A t 
where exists (
  select 1
  from A
  where id = t.id
  having count(distinct partid) > 1)
"
6035,8252,Transforming shape of a SQL Table using Pivot,"SELECT BatchID, 
   MAX(CASE WHEN EntityChanged = 'ABC' THEN ChangeValue END) 'ABC',
   MAX(CASE WHEN EntityChanged = 'ABCD' THEN ChangeValue END) 'ABCD',
   MAX(CASE WHEN EntityChanged = 'Something' THEN ChangeValue END) 'Something',
   MAX(CASE WHEN EntityChanged = 'SomethingMore' THEN ChangeValue END) 'SomethingMore'
FROM YourTable t 
GROUP BY BatchID
"
16784,73474,SQL JOIN get details from two tables,"SELECT u.user_id,
       u.name,
       b.billing,
       s.stocks
FROM user_details u
LEFT JOIN billing_details b on b.user_id = u.user_id
LEFT JOIN stock_details s on s.user_id = u.user_id
"
28723,16376,Add per row the total value in SQL,"SELECT 
    t1.id, t1.Game, t1.Points, SUM(t2.Points) [Points (Add)]
FROM 
    yourTable t1 JOIN
    yourTable t2 ON t1.Game = t2.Game AND t1.id >= t2.id
GROUP BY 
    t1.id, t1.Game, t1.Points
"
11775,57509,What is the best way to write the date in mm-mm-yyyy in SQL," select convert(varchar(8), getdate(),120)
      + convert(varchar(3),datename(month,getdate()))
"
12934,13484,Select non distinct rows from two columns,"select A, B, C
from (select t.*, count(*) over (partition by A, B) as cnt
      from t
     ) t
where cnt > 1;
"
25694,39567,How to insert records by updating two fields?,"insert into table (col1,col2,col3,col4,col5) select null,col2,col3,col4,col5 from table where col2 = 'anyvalue' and more conditions... ;
"
27832,69307,Including Parenthisis inside a VBA db.Execute String,"db.Execute ""SQL DB"", ""INSERT INTO ABPCahirMIS.dbo.TESTDB (TEST) VALUES(1)""
"
25790,1071,Regarding JOIN query in Mysql,"SELECT mshiptype_name, timeslot_name, timetable_name
FROM mshiptypes ST
INNER JOIN paymentoption PO ON ST.mshiptype_id = PO.mshiptype_id
INNER JOIN membertopaymentoption  MPO ON PO.paymopt_Id = MPO.paymopt_Id
INNER JOIN timetables TT ON ST.timetable_id = TT.timetable_id
INNER JOIN timeslottotimetables TTT ON TT.timetable_id = TTT.timetable_id
INNER JOIN timeslotss TS ON TTT.timeslot_id = TS.timeslot_id
WHERE  MPO.member_id = <members_id>
"
38957,31516,performant query using analytic function to select records with 2 date columns,"select *
  from ( select a.*
              , rank() over ( partition by fname, lname, accountid 
                      order by creation_date desc
                              , update_date desc ) as rnk
           from my_table a )
 where rnk = 1
"
37526,37553,Convert DateTime SQL," SELECT ImpFile, DATEADD(hh, DATEDIFF(hh, 0, ImpDate), 0)
 FROM nol_artikula_izmaina
"
33877,38229,Select one value from the groups created by group by,"select substring_index(group_concat(bill_id order by date, bill_id desc desc), ',', 1) as bill_id,
       max(date) as date,
       substring_idnex(group-concat(bill_amount order by date, bill_id desc), ',', 1) as bill_amount
from bills
group by year(date), month(date)
"
29943,15879,How to I grab the alternate object than the one I am searching with this inner join,"SELECT
    rec.id, rec.username
FROM
    users send
    JOIN messages ON (messages.send_id = send.id)
    JOIN users rec ON (messages.receive_id = rec.id)
WHERE
    send.id = SOMEUSERID
"
12115,44225,"SQL, count in multiple columns then group by","SELECT x.f1,Count(x.f1) FROM
(SELECT p1 As F1 FROM table
 UNION ALL
 SELECT p2 As F1 FROM table
 UNION ALL
 SELECT p3 As F1 FROM table) x
GROUP BY x.f1
"
6993,57061,Selecting rows distinctively,"SELECT   items, MAX(weight)
FROM     mytable
GROUP BY items
ORDER BY MAX(weight) DESC
"
21830,13949,MySQL - Search and replace table1.field's contents with contents of table2.otherfield,"update players, teams set players.team = teams.id where players.team = teams.name
"
11591,68796,Update multiple rows replacing a character in certain position in mysql,"UPDATE test SET name = INSERT(name, LENGTH(name), 0, '_');
"
24249,32297,SQLite regular Expressions regex get exact word by number,"^(\S+\s+){5}151
"
29133,8053,Selecting top values without limit,"SELECT poverty
FROM (SELECT COUNT(language) as langnum, country,
             RANK() OVER (ORDER BY COUNT(language) DESC) as ranking
      FROM ""Language""
      GROUP BY country
     ) conto JOIN ""Economy"" AS E
     ON E.country=conto.country
WHERE conto.ranking = 1
ORDER BY conto.langnum DESC;
"
27490,61730,oracle to_date function manipulation,"select to_char(to_date(TMS,'YYYY-MM-DD')+3,'YYYY-MM-DD') from city;
"
32200,19737,How do I create an If-Then-Else in T-SQL,"Select
    Case When [Value] < 0 Then 0 Else [Value] End
From 
    Example
"
13051,18200,SQL dateformat while creating table,"select date_format(begin_datum, '%e-%b-%y')
"
18753,54952,WordPress DB Query to count number of users registered per day,"select 
count(*) as total_users ,
date(user_registered) as reg_date 
from wp_users 
group by reg_date 
having total_users > 0 
"
6306,4569,SQL - Select rows from two different tables,"select itemID, itemTitle, deleted, userID
FROM(
SELECT i.id_itemID, i.itemTitle, M.deleted, M.userID
FROM
    MyList M
    right OUTER JOIN Items I ON I.itemID= M.itemID
) as MyTableItems
where itemID = 3 or itemID is null
"
20446,71981,Postgresql: select unique pairs order by other field,"select date_start, date_finish
from some
group by date_start, date_finish
order by max(id) desc
"
22054,51018,SQL STR() function equality,"select 1 from tblMessage where '210' = STR(210,3)
"
26588,5846,"Return the first iteration of the set of values even if they repeat,","select *  
from 
(
SELECT *,
       LAG(Group, 1,0) OVER (ORDER BY BeginDate) AS PreviousGroup
FROM table 
)
where PreviousGroup is null or PreviousGroup  <> group 
"
25101,44662,How to find the lowest value and the corresponding date SQL-Server 2014,"SELECT username, value1, uploaded_date
FROM   (SELECT username, value1, uploaded_date,
               RANK() OVER (PARTITION BY username ORDER BY value1 ASC) AS rk
        FROM   test) t
WHERE  rk = 1
"
25446,62657,Possible to run oracle package from sql plus without compiling it into a database?,"DECLARE

  FUNCTION your_fnc() RETURN ... AS ...

BEGIN

  SELECT your_fnc()
    FROM DUAL;

END;
"
6839,65587,Selecting Data from Same Table that Doesn't Match,"SELECT DISTINCT a.* 
FROM Vehicle AS a
INNER JOIN Vehicle AS b
ON a.License = b.License
WHERE a.VIN != b.VIN 
AND a.Region != b.Region 
AND (a.Region = 1 OR b.Region = 1)
"
27180,53631,Set variable equal to exact column and row,"SELECT @username = user 
FROM MyTable
WHERE id = @id;
"
361,32175,How do I find which tables have foreign keys on my table?,"SELECT dc.constraint_name, dc.constraint_type, dc.owner, dc.table_name
FROM dba_cons_columns dcc 
JOIN dba_constraints dc ON (dcc.constraint_name = dc.r_constraint_name and dc.owner = dcc.owner)
WHERE dcc.owner = 'OWNER_NAME' and dcc.table_name = 'TABLE_NAME';
"
7484,7862,mysql query doesn't stop running,"select t1.id from t1 where t1.id not in (select t2.id from t2)
"
24230,72371,Regex to match a string only if a string does not exist,"^(?!.*going to.*$)
"
36690,14870,SQL Server - Selecting columns with two matching other columns,"select columna
from your_table 
where columnb = 1

intersect

select columna
from your_table
where columnb = 3
"
39063,7521,How do I count how many of these columns have a value in SQL?,"SELECT
  Id,
  SUM(
    CASE WHEN Item1 is NULL THEN 0 ELSE 1 END
    +
    CASE WHEN Item2 is NULL THEN 0 ELSE 1 END
    +
    CASE WHEN Item3 is NULL THEN 0 ELSE 1 END
    +
    CASE WHEN Item4 is NULL THEN 0 ELSE 1 END
    +
    CASE WHEN Item5 is NULL THEN 0 ELSE 1 END
    ) 'Count'
FROM 
   tableName
GROUP BY 
   Id
"
22714,65322,SQL parent child n-th level recursion,"select *
from employee 
where level <= 5
connect by prior id = .manager
start with username = 'abc'
"
39614,14825,SQL Stored Procedure to return results with multiple parameters,"CREATE PROCEDURE [dbo].[viewSimilarRecords]
 @recordType varchar(25),
 @recordSource varchar(25)

 AS 
SELECT * FROM myTableName 
WHERE
(recordtype  =@recordType   OR @recordType IS NULL) AND --<<change to OR??
(recordsource=@recordSource OR @recordSource IS NULL)
                          --^^^^^^^^^^^^^^^^^^^^^^^^
 GO
"
26251,68682,SQL - Multiple Group By statements with counts,"select t.A
from mytable as t
group by t.A
having min(t.B) = max(t.B);
"
38334,64483,Making a Database search engine like Google,"SELECT *
FROM table_name
WHERE 
Name LIKE '%query%'
OR Tel.No LIKE '%query%'
OR City LIKE '%query%'
OR State LIKE '%query%'
OR Address LIKE '%query%'
"
23467,21953,How To find Exact string match within a String in Oracle,"with testData as
(
  select 'Read Only, Write, read only, Admin' test from dual union all
  select 'Read, Write, read only, Admin'  test from dual union all
  select 'Admin, Read Only (no), read only(see mgr), Admin' test from dual
)
select * from testData
where lower(test)||',' like '%read only,%';
"
23742,67415,Oracle SQL nested max function,"select power(max(prod_year) - min(prod_year), 2)
from mediaitems mi;
"
17502,6899,SQL Join Statement,"SELECT bar_id, bar_name, town_name, advert_text      
FROM bar b
inner join towns t on t.town_id = b.town_id_fk 
left outer join baradverts ba on t.town_id = ba.town_id_fk 
    AND b.bar_id = ba.bar_id_fk 
"
39174,37761,Selecting count(*) while checking for a value in the results,"SELECT 
    COUNT(*) as Count, 
    sum(sch.HomeTeamID = 34) AS Hawaii_home_count
...
"
17881,23475,SQL date number,"Select username,
       select min(date) over (partition by username) as firstDate,
       date,
       row_number() over (partition by username order by date) as date_sequence
from data as outer;
"
39907,65744,Query using Avg order by date,"SELECT AVG(Value)
FROM
(
  SELECT TOP (10) Value
  FROM YourTable
  WHERE ...
  ORDER BY DateColumn DESC
) AS s
;
"
4069,49123,how to update the product description in a specified category?,"update catalog_product_entity_text
  set value = ""the product's name test hah test.""
  where attribute_id = 66 and
        entity_id IN (select product_id from catalog_category_product
                    where category_id = 40);
"
11073,66442,Find last day of a month in Hive,"Example:
SELECT last_day('2003-03-15 01:22:33') FROM src LIMIT 1;
2003-03-31 00:00:00
"
8572,20337,SQL where or having in,"select ID, Name
from sometable a
group by id, name
having count(id) > 2
    or max(cast(a.[appointment date] as date)) > cast(GETDATE() - 5 as date)
"
6947,35853,how to filter a table that having exactly the specified values in tsql,"SELECT [group_ID]
FROM Table1 T
WHERE [tax_Id] in (2,3,4)
And not exists
( select 1 from Table1 E
Where T.group_id = E.group_id
And tax_id not in (2,3,4)
)
Group by group_id
Having count(distinct tax_id) =3
"
1419,35709,Show products from database that are egal or smaller dotay date,"SELECT * FROM products
WHERE date_available > CURDATE()
"
23797,57470,SQL: is my syntax correct?,"declare @money_sum decimal
declare @days_count  int

set @money_sum = SELECT SUM(MONEY) FROM table_name
set @days_count = SELECT COUNT(DISTINCT date) FROM table_name

return @money_sum/ @days_count
"
9175,22854,SQl query to get date difference in select row,"SELECT *
FROM 
   TableA
WHERE 
   DATEDIFF(DAY, ExpirationDate, GETDATE()) = 7 
   OR DATEDIFF(DAY, ExpirationDate, GETDATE()) = 24
"
4977,71894,sqlite return as day of week,"select _id, busnum, 
  case cast (strftime('%w', servdate) as integer)
  when 0 then 'Sunday'
  when 1 then 'Monday'
  when 2 then 'Tuesday'
  when 3 then 'Wednesday'
  when 4 then 'Thursday'
  when 5 then 'Friday'
  else 'Saturday' end as servdayofweek
from tb1
where ...
"
36945,47089,Comparing values from both tables inside a subquery,"update table1 t1 join
       table2 t2
       on t1.f2 = f2.e2
    set f2 = 'foo',
        f3 = 'bar';
"
21800,19294,Bit parameter with Null value in Stored Procedure,"WHERE (Sub = @SubscriberState OR (@SubscriberState IS NULL AND Sub IS NULL))
"
37688,8381,Trigger to insert percentage value in a table based on the values of two different fields,"...
SET NEW.attendance_percent = (NEW.class_attended/NEW.class_total)
...
"
23721,26669,SQL query with week days,"WITH LastDays (calc_date)
AS
(SELECT DATEADD(DAY, DATEDIFF(DAY, 0, CURRENT_TIMESTAMP) - 6, 0)
UNION ALL
SELECT DATEADD(DAY, 1, calc_date)
FROM LastDays
WHERE DATEADD(DAY, 1, calc_date) < CURRENT_TIMESTAMP)
SELECT ...
FROM LastDays l LEFT JOIN (YourQuery) t ON (l.cal_date = t.YourDateColumn);
"
2858,51186,How go group same kind rows in sql,"select ROW_NUMBER() over (order by (select 0)) as ID,count(*) as count,kind1 as new1,kind2 as new2,kind3 as new3
from yourtable
group by kind1,kind2,kind3
"
5243,52390,Mysql: Execute query for each date,"SELECT date,SUM(rainmm) FROM weather WHERE MOD(minute(time),60)=0
GROUP BY date
ORDER BY date;
"
17183,70163,Obtain a value but only when the latest (datetime) of all rows containing that value does not equal x,"SELECT
    YourTable.PK, 
    YourTable.[Date],
    YourTable.[Status],
    YourTable.Serial
FROM
    (
    SELECT
        Serial, 
        MAX([Date]) AS [MaxDate]
    FROM
        YourTable
    GROUP BY
        Serial
    ) DerivedMaxDateBySerial
    LEFT OUTER JOIN YourTable ON DerivedMaxDateBySerial.Serial = YourTable.Serial AND DerivedMaxDateBySerial.[MaxDate] = YourTable.[Date]
WHERE
    YourTable.[Status] != 8
"
28367,32663,Capturing SQL Statistics Time In A Variable,"SELECT *
FROM sys.dm_exec_query_stats AS qs
CROSS APPLY sys.dm_exec_sql_text(qs.sql_handle) AS st
where st.text = 'Your Query Here'
"
16705,55731,Update column based on sysdate,"CREATE PROCEDURE update_value( p_value IN varchar2 )
AS
  l_month_num integer :=  to_number( to_char( sysdate, 'mm' )) ;
BEGIN
  IF( l_month_num = 1 )
  THEN
    UPDATE report
       SET jan = p_value;
  ELSIF( l_month_num = 2 )
  THEN
    UPDATE report
       SET feb = p_alue;
  ELSIF 
  ...
  END IF;
END;
"
17792,66689,How to select data based on special condition?,"WITH cte AS
(
SELECT *
 ,[dec] = COUNT(CASE WHEN STATUS = 'DECLINE' THEN 1 END) OVER (PARTITION BY ID)
 ,[app] = COUNT(CASE WHEN STATUS = 'APPROVE' THEN 1 END) OVER (PARTITION BY ID)
FROM #Audit
)
SELECT ID, STATUS, [TIME]
FROM cte
WHERE NOT ([dec] >= 1 AND [app] >= 1 AND [STATUS] = 'DECLINE');
"
34780,45529,"How to identify the operation type(insert,update,delete) in SQL Server trigger","DECLARE @event_type varchar(42)
IF EXISTS(SELECT * FROM inserted)
  IF EXISTS(SELECT * FROM deleted)
    SELECT @event_type = 'update'
ELSE
    SELECT @event_type = 'insert'
ELSE
  IF EXISTS(SELECT * FROM deleted)
    SELECT @event_type = 'delete'
  ELSE
    --no rows affected - cannot determine event
    SELECT @event_type = 'unknown'
"
11183,63724,execution time of a stored procedure,"time dbaccess <dbname> file.sql
"
12742,57348,grails displaying values from two tables using primary and foreign keys,"class TestExecQueue {
    static mapping = {
        scenario column:'test_scenario_id'
    }

    TestScenario scenario
}
"
13199,67114,"sql select to display posts in pairs, with classic asp","<ul>
<% dim irecordcount
irecordcount=1
%>

<li>

<% do until rs.eof %>

<img src=""<%=rs(""big_image"")%>"" />
<!--Im only displaying 30 images and here I write the </li><li> if it an even row, and also I dont write the last </li><li>-->
<%if irecordcount mod 2=0 and irecordcount <>30 then%>
</li>
<li>
<% end if
irecordcount=irecordcount+1
rs.movenext
loop%>
 </li>          
</ul>
"
7321,39573,Insert into with case statement,"UPDATE FACTBUDGET
    SET BUDGETAMOUNT = @JAN
    WHERE BUDGETDATEID > 20141231 AND BUDGETDATEID < 20150201 AND MISCID = 0 ;
"
36804,44993,Explain COUNT and GROUP BY,"SELECT eteam.teamname 'Team Name', COUNT(goal.teamid) 'Total Goals'
  FROM eteam JOIN goal ON eteam.id=goal.teamid
  GROUP BY goal.teamid
  ORDER BY eteam.teamname
"
36112,29934,many-to-many query mysql,"SELECT name, file FROM users,userfiles, files WHERE users.id = userfiles.usrid AND usersfiles.fileid = files.id;
"
17490,30985,How would you solve this tricky SQL problem?,"select courseid as cid,
if ( select count(*) from instructor where courseid = cid ) > 2 
   then 'Committee' 
else 
   list(name order by name) 
endif as profs
from instructor
group by courseid
order by cid
"
30084,17253,Get a percentage of all in Access SQL,"SELECT 
    MyTable.team AS team, 
    MyTable.rel AS rel,
    AVG(iif(Testable,1,0)) AS result
FROM MyTable 
WHERE 
    MyTable.team IN (1,2) 
    AND MyTable.rel IN (1,2,3) 
GROUP BY 
    MyTable.rel, 
    MyTable.team 
ORDER BY 
    MyTable.team, 
    MyTable.rel
"
22104,2458,Get first row in Oracle Sql,"select * from (
SELECT DISTINCT name, age
 FROM donates, persons
 WHERE name = donor 
 AND name IN (SELECT receiver FROM donates)
 ORDER BY age DESC
) where ROWNUM <= 1;
"
29367,34954,How to put Flag on a column?,"select case when isnull(price, 0) <= 0 then 0 else 1 end as validprice
"
10343,38786,Oracle Apex get first part of Postcode,"with t as (
  select 'L10 1TY' as postcode from dual
  union all select 'WF2 5TG' from dual
  union all select 'W7 5RR' from dual
)
select postcode, regexp_substr(postcode, '^[[:alpha:]]+', 1, 1) as region
from t;

POSTCODE REGION 
-------- -------
L10 1TY  L       
WF2 5TG  WF      
W7 5RR   W       
"
15474,4941,Hiding Repeated Row Values in Sql,"select 
    case when RNum=1 then UserName else '' end UserName,
    case when RNum=1 then Fee else '' end Fee,
    ReferenceName,
    Billed 
from(
    select 
        *, 
        ROW_NUMBER() over (partition by UserName order by UserName) RNum 
    from tbl
)x
"
14703,36267,Compued Column FOR XML RAW HASHBYTES,"HASHBYTES('SHA1', ISNULL(CONVERT(varchar(20),[EmployeeID]),'') + '|' + ISNULL(CONVERT(varchar(20),[ClientID]),''))
"
35018,62086,how to achieve the start time of another variable as the end time of the variable coming before it?,"SELECT LAG(TimeEnd, 1) OVER (ORDER BY PhaseID) TimeStart
"
11091,70302,Count ID numbers,"SELECT o.`name` , COUNT(o.id) `count`  FROM 
computers c
LEFT JOIN operatingsystems o ON (c.operatingSystemId  =o.id)
GROUP BY o.id
"
11478,57260,SQL DECODE optimisation,"NVL(NULLIF(
  ALIMENTATION_COD_ACT_MCH(ta.CA_DDE_TYP_DDE,tb.COD_SECVTE,tb.NUM_FOU1,ta.CA_COD_ENSCIAL),
  'N'), '')
"
13503,44764,Combine a column in select statement if multiple data is present,"decode(count(distinct prl.suggested_vendor_name) over (partition by prh.requisition_header_id),1,prl.suggested_vendor_name,0,null,'MULTIPLE')
vendor
"
37839,73896,select statement oracle sql,"SELECT    e.name AS name, m.name AS manager_name
FROM      emp e
LEFT JOIN emp m ON e.mgr_id = m.emp_id
"
5673,14891,"SQL - need to merge text from duplicate entries, eliminate the duplicates","SELECT [DocumentNo], ConcatRelated(""[Description]"",""[TableName]"",""[DocumentNo] = "" & [DocumentNo]) AS [Description] FROM [TableName];
"
7494,37158,chaining statements in dynamic sql in oracle,"select 'quote here: ''' , 'double quote'from dual union all
select q'@quote here: ''@', 'q syntax, double quote means two quotes' from dual union all
select q'@quote here: '@', 'q syntax, no need fou double quotes' from dual union all
select 'two quotes here: ''''', 'same thing to have two quotes' from dual union all
select q'@two quotes here: ''@', 'and two quotes with q syntax ' from dual union all
select q'@this is the delimiter char: @.@', 'the delimiter character can be used wherever in the string' from dual union all
select q'@@delimiter is in the beginning and in the end@@', 'you have to double the delimiter if you want it in the end or beginning' from dual
"
29613,68099,postgresql aggregate of aggregate (sum of sum),"select d.name, sum(s.amount)
from sales s
join department_employees de on de.worker_id = s.worker_id
join departments d on d.id = de.department_id
group by d.name
"
31897,24245,Repeat a result row multiple times by value in row,"select Item , ItemName ,  Quantity
from yourtable A
cross join (select num from numbers) b
where a.Quantity <= b.num
"
2626,28218,relational division - MySql - Get value name,"SELECT fld_name
FROM (tbl_product_colors JOIN tbl_product 
ON tbl_product_colors.fk_prod_id = tbl_product.fld_id) JOIN 
tbl_colors ON tbl_product_colors.fk_color_id = tbl_colors.fld_id
"
32516,47359,Update comma-separated column in SQL Server 2008,"update yourtable
set col = substring(col, 1, charindex(',', col)-1)
where charindex(',', col) > 0  -- only update the rows with a comma
"
10075,15354,get row number of record in resultset sql server,";WITH CTE AS
(
    SELECT
        docid,
        writing,
        submissionDate,
        ROW_NUMBER() OVER (ORDER BY submissionDate) AS position
    FROM
        My_Table
)
SELECT
    docid,
    writing,
    submissionDate,
    position
FROM
    CTE
WHERE
    docid = 34
"
10894,13396,column to row in sql server?,"SELECT col, value
FROM 
   (SELECT CAST(col1 AS VARCHAR) AS col1, CAST(col2 AS VARCHAR) AS col2,
        CAST(col3 AS VARCHAR) AS col3, CAST(col4 AS VARCHAR) AS col4
   FROM Table1) p
UNPIVOT
   (value FOR col IN 
      (col1, col2, col3, col4)
) AS unpvt;
"
8086,11099,Custom query in Oracle SQL,"SELECT SUBSTR (355560, 2, SUBSTR (355560, 1, 1))
  FROM DUAL;
"
26836,45023,Return union query into multiple columns,"select 
max(case when csv not in(select orderid from mg_orders) then csv end) as csv1,
max(case when csv not in(select orderid from lab_orders) then csv end) as csv2,
max(case when csv not in(select orderid from pcg_pharmacogenetics) then csv end) as csv3,
max(case when csv not in(select orderid from well_wellness) then csv end) as csv4
from csvdata
"
27019,12879,database query help wanted,"create view newest123 as ( -- this gets the newest review for member_id 123
  select * 
   from reviews 
   where member_id = 123 
   order by date desc limit 1
)

select * 
from (
  select * from newest123
  union
  select *                    -- all the reviews that aren't for member_id 123
    from reviews 
    where member_id != 123) filtered
order by date desc limit 10   -- sort 'em and take the top 10
"
23297,27996,SELECT TOP record for each year,"select top (1) with ties
  C.CompanyName,
  Year(O.OrderDate) as Yr,
  sum(OD.Quantity) as Total
from Orders as O
join Customers as C on C.CustomerID = O.CustomerID
join ""Order Details"" as OD on OD.OrderID = O.OrderID
group by C.CompanyName, Year(O.OrderDate)
order by 
  row_number() over (
    partition by Year(O.OrderDate)
    order by sum(OD.Quantity) desc
  );
"
6601,48776,Avoid repetitive calculations in columns? SQL Server query,";WITH cte AS
(
   SELECT (t1.Amount / t1.Tax * t1.Extra) AS [CalculatedValue],
          t1.Option1,
          t1.Option2,
          t1.Option3
   FROM t1
)
SELECT cte.[CalculatedValue] + Option1 AS [Value1],
       cte.[CalculatedValue] + Option2 AS [Value2],
       cte.[CalculatedValue] + Option3 AS [Value3],
"
4498,32853,How to trim leading single quote and leading zeros from sql query,"case
    when cast(isnull(f.routingnum, 0) as bigint) 
        <> cast(isnull(replace(t.routingnum, '''', ''), 0) as bigint)
        then 'do not match'
    else
        'match'
end
"
35092,11929,"MySql, How to display data that was entered in the last 3 hours?","SELECT *
FROM tableName
where Date >= DATE_SUB(NOW(),INTERVAL 3 HOUR); 
"
3362,16944,PostGIS geometry database query,"SELECT a.gid, a.the_geom FROM pointsTable a
LEFT JOIN river_100_1k b 
ON ST_Intersects(a.the_geom, b.the_geom)
LEFT JOIN 
river_200_1k c
ON NOT ST_Intersects(a.the_geom, c.the_geom) -- Not Intersects
LEFT JOIN
river_1000_1k d 
ON NOT ST_Intersects(a.the_geom, d.the_geom) -- Not Intersects
WHERE 
AND c.gid IS NULL AND d.gid IS NULL AND b.gid=2 AND c.gid=2 AND d.gid=2 ; 
"
38398,32536,How to display literal strings in SQL query results?,"concat(concat(INITCAP(lastname), INITCAP (firstname)), '~~~~~')
"
9307,38578,SQL Comparing values in two rows,"SELECT 
    a.category, 
    CASE WHEN a.salesVolumes < b.salesVolumes THEN 'TRUE' ELSE 'FALSE' END AS salesIncreasing
FROM MyTable a
INNER JOIN MyTable b ON a.category = b.category
WHERE a.year = 2002
AND b.year = 2003
"
37779,63819,Why would someone use WHERE 1=1 AND <conditions> in a SQL clause?,"and <condition>
"
39719,74802,Find duplicated rows that are not exactly same,"SELECT A, B FROM MyTable
WHERE A IN
(
    SELECT A FROM MyTable GROUP BY A HAVING COUNT(*)>1
)
"
31327,70070,mysql Join table,"SELECT table1.name, table2.name2 , table3.name3 
from table3 
left join table2 
on table3.table2Id = table2.table2Id
left join table1 
on table2.table1Id = table1.table1Id
"
39073,62959,Join tables to query for a random row,"SELECT * FROM tableOne 
WHERE (SELECT COUNT(*) FROM tableTwo WHERE tableTwo.data_id = tableOne.data_id) = 0
ORDER BY RAND()
LIMIT 1
"
8497,15995,How to put data from one columm in the empty row of another columm - Microsoft SQL server 2008,"   UPDATE table
SET col1 = CASE WHEN col1 ='--' THEN col2 
                 ELSE col1 END,
    col2 = CASE WHEN col2='--' THEN col1
                  ELSE col2 END
WHERE col2='--'
  OR col1 ='--';
"
6034,17080,How can I determine if a string is numeric in SQL?,"SELECT 1 FROM DUAL
WHERE REGEXP_LIKE('23.9', '^\d+(\.\d+)?$', '') 
"
5186,29535,SQLite -> finding two closest points to two different points,"ORDER BY d1, d2
"
13779,51774,Selecting non-group field from query with aggregate function,"SELECT id, tbl.dateof dateof
FROM tbl 
INNER JOIN
 (SELECT fk, MAX(dateof) dateof 
  FROM tbl 
  GROUP BY fk) temp
ON tbl.fk = temp.fk AND tbl.dateof = temp.dateof
"
14040,61140,greatest n per group needed in compound Mysql join sql,"SELECT a.number, max(c.quantity) as qty, max(c.retail_price) as price 
FROM catalog.product `a` 
JOIN catalog.product_variation `b` ON a.id = b.product_id 
JOIN catalog.price_regular `c` ON b.id = c.product_variation_id 
WHERE c.retail_price BETWEEN 5 AND 6 
AND a.status_id = 1 
GROUP BY a.number;
"
30218,24465,SQL Server Chain Query,"SELECT t.*
FROM t
ORDER BY (CASE WHEN A < B THEN A ELSE B END),
         (CASE WHEN A < B THEN B ELSE A END),
         A;
"
4455,71145,Set the column width when outputting to HTML using SQLPLUS?,"SET PAGESIZE 50000
SET MARKUP HTML ON TABLE ""class=detail cellspacing=0"" ENTMAP OFF
column colA heading ""<p style='width:800px'>800SetColA</p>"" format a40

column colB heading ""<p style='width:10px'>10SetColB</p>"" format a40

spool test.html

select level cola, level-5 colb from dual connect by level <10 ;

spool off
"
27230,28744,PostgreSQL INSERT FROM SELECT with additional column,"INSERT INTO T1
(c1, c_additional) -- here
SELECT 
        C1,
        'needed_value' -- just select a constant here
FROM dblink(
    'hostaddr=127.0.0.1 port=5432 dbname=DB2 user=postgres password=postgres', 
    'SELECT * FROM T2')
AS T2_row(C1 integer) 
"
34852,62658,Selecting Stored Procedure Value in Query in MySQL,"drop procedure if exists sp_test;

delimiter #

create procedure sp_test(
in p_facility_id int unsigned, -- p prefix = parameter
in p_start_date date,
in p_end_date date
)
begin

declare v_facility_name varchar(255) default null; -- v prefix = variable

select f.facility_name into v_facility_name from facilities f where
 f.facility_id = p_facility_id limit 1;

select f.*, upper(v_facility_name) as facility_name from facilities f;

end#

delimiter ;

call sp_test (1, curdate() - interval 1 month, curdate());
"
15538,17960,Insert records in another table using trigger,"CREATE TRIGGER trig_Insert_Stock
ON [Product]
FOR INSERT
AS
Begin
    Insert into Stock (ProductId, Stock) 
    Select Distinct i.ProductId, 0 
    from Inserted i
End
"
470,34298,How to remove -journal file without compromising the database?,"sqlite3 test.sqlite2 vacuum
"
26889,24411,SQL Query - Grouping with multiple tables,"SELECT t1.TimeStamp, t2.State, t1.OtherData
FROM Table1 t1
inner join Table2 t2 
    on t1.SpecialNumber = t2.SpecialNumber
inner join (SELECT MAX(time stamp) maxts, state
            FROM table1 inner join table2
            ON table1.specialnumber = table2.specialnumber
            GROUP BY state) t3
    on t2.State = t3.State and t1.TimeStamp = t3.maxts
"
13423,75419,How to update and order by using ms sql,"UPDATE  messages SET status=10 WHERE ID in (SELECT TOP (10) Id FROM Table WHERE status=0 ORDER BY priority DESC);
"
23702,24852,I would like to make a field part of a many to many relationship,"store_id    zip
1           11111
1           12222
2           12222
2           22222
"
30726,47892,Combining 2 views into one in PostgreSQL,"select col1,col2
from table
union all
select col1,col2
from some_other_table
union all
select col1,col2
from yet_another_table;
"
27594,1505,Table aliases in H2 SQL Delete,"create table closure(parent int, child int);
insert into closure values(1, 10), (10, 100);

delete from closure where exists(
  select * from closure p, closure c
  where p.parent = closure.parent
  and c.child = closure.child
  and p.child=10
  and c.parent=1);
"
30692,53401,Allocated Cost Calculation in Oracle PL SQL Query [logical],"select 
BusinessUnit, CustomerID, ProductFamily , Revenue
, (table1.Cost * table2.Revenue ) 
  / (SUM(Revenue) over(partition by table1.BusinessUnit, table1.ProductFamily )) 
                 AS  Allocated_Cost
from 
    table1 
    INNER JOIN table2 ON ( table1.BusinessUnit =  table2.BusinessUnit
                          AND table1.ProductFamily = table2.ProductFamily )
;
"
30717,52678,combining two sql queries into one?,"create temporary table tmp1
Select flatpos from archdetails
where version='1.3' AND compname IN (
    select distinct compname from svn3 where revno='r270294'
)

create temporary table tmp2
select count(distinct compname) as c,
    sum(CASE WHEN inFlat=1 THEN 1 ELSE 0 END) as s,
    min(flatLoopIndex) as m
from archdetails
where version='1.3'
AND compname IN (
    select distinct compname from svn3 where revno='r270294'
)

select * from tmp1

select tmp2.c, tmp2.s, tmp2.m from tmp1, tmp2
"
20195,69698,i am trying to use an input from the user as part of a connection string to a SQL database,"Dim str As String = ""Data Source=DESKTOP; uid="" & ID & ""; pwd="" & PASS & "";database=DB"" 
"
30159,51899,Implementing multiple ordering and limits in one query,"SELECT o.*, max(e.status) AS org_status
FROM   organization o
JOIN   event e ON e.organiszation_id = o.organization_id
GROUP  BY o.organization_id
ORDER  BY org_status DESC, o.rank DESC, o.name;
"
14600,57379,Update multiple row values to same row and different columns,";with cte (rn, id, inst_id, person_name, email) as (
    select row_number() over (partition by inst_id order by id) rn, * 
    from person
    )

update f
set 
  person1 = cte1.person_name, 
  email1  = cte1.email, 
  person2 = cte2.person_name, 
  email2  = cte2.email
from firm f
left join cte cte1 on f.inst_id = cte1.inst_id and cte1.rn = 1
left join cte cte2 on f.inst_id = cte2.inst_id and cte2.rn = 2
"
11451,41025,MySQL having trouble sorting a query correctly,"SELECT ft.thread_id, ft.thread_title, fp.*, pmin.postcount
FROM forums_threads AS ft
JOIN (
      SELECT post_thread_id, MAX(post_date), COUNT(post_id) AS postcount
      FROM forums_posts
      GROUP BY post_thread_id
     ) AS pmin ON ft.thread_id=pmin.post_thread_id
JOIN forums_posts AS fp ON fp.post_thread_id=pmin.post_thread_id AND fp.post_date = pmin.post_date
WHERE ft.thread_forum_id=84
ORDER BY ft.thread_date DESC
"
39542,40898,"How to select only one full row per group in a ""group by"" query?","select id,b,c from tablename 
inner join
(
select id, count(A) as CountDuplicates
from TableName as base group by A,id having (count(A) > 1) 
)d on tablename.id= d.id
"
30725,56197,Selecting rows that don't exist when joining two tables,"select *
from table_2
where not exists (select 1
                  from table_1
                  where table_1.emp_id = table_2.emp_id);
"
37057,20467,Include Caller_id if all corresponding rows doesn't match certain condition,"select `Caller_id`
from `CallTable`
group by `Caller_id`
having sum(`Is_picked` = 'yes') = 0
"
17140,14497,db: find table name by id,"SELECT a.*,b.type 
FROM article a 
INNER JOIN 
    (SELECT id,'news' AS type 
    FROM news 
    UNION 
    SELECT id,'courses' AS type 
    FROM courses) b 
ON a.id=b.id;
"
27477,54093,Avoiding a for loop in SQL,"SELECT base.packageID, servers.server, 
             (SELECT count(*) 
                FROM base AS b1
               WHERE b1.packageId = base.packageId
                 AND b1.server    = servers.server) deployed
  FROM base, servers
 WHERE base.server = 'baseline'
   AND deployed = 0;
"
18593,13471,Insert into a destination table if the source value is not there in destination table sql,"MERGE table2 AS target
USING table1 AS source
    ON (target.email = source.email)  
WHEN NOT MATCHED BY TARGET 
    THEN INSERT (
        email, 
        country, 
        Phone
    ) VALUES (
        source.email, 
        source.country, 
        source.phone
    );
"
10097,46072,How can i do this in my SQL statement,"SELECT
ct.*, t.*
FROM
exp_channel_titles as ct
LEFT JOIN
transactions as t on (ct.entry_id = t.restaurant_id)
WHERE
t.cardid > 0 and t.restaurant_id=0
order by t.created DESC
"
37651,985,Android SQLite not selecting date,"    SELECT COUNT(id_sale) AS total_transactions,sold_to,
CAST(strftime('%m', sale_date) AS INTEGER) month, 
    CAST(strftime('%Y', sale_date) AS INTEGER) year,
    sale_date FROM sales  WHERE  month=5
"
609,26853,update sql column with same data but with a little modifications to it,"update YourTable
set YourCol =  '00' + STUFF( YourCol,6,0,'00')
WHERE YourCol LIKE '[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9][0-9][0-9]'
"
31611,3535,Create oracle trigger that will update a new column with the concatenated values of the updated columns,"
  create or replace trigger pick_a_name
   before insert or update
   on mytable
   for each row
 begin
    :new.full_name := :new.firstName ||' '|| :new.lastName;
 end pick_a_name;
"
10748,18719,sql group by nested,"with rank_query as (
SELECT section, name, score,
       RANK() OVER (PARTITION BY section ORDER BY score) score_rank
FROM   myTable
)

select * from rank_query where score_rank <= 10;
"
21299,5852,Access SQL query using iff statement,"SELECT sno, 
iif(Len([Code])<=5,[Code],iif(ASCII([Code])>57,Right([Code],Len([Code])-1),Mid([Code],3)))
AS Codeno FROM table1
"
16819,35299,"What could be a select query to search records By ""Last Week"", ""Last Month"" and ""Last Year""?","SELECT * FROM my_table WHERE createdate BETWEEN DATE_SUB(NOW(), INTERVAL 1 week) AND NOW();    
SELECT * FROM my_table WHERE createdate BETWEEN DATE_SUB(NOW(), INTERVAL 1 month) AND NOW() ;   
SELECT * FROM my_table WHERE createdate BETWEEN DATE_SUB(NOW(), INTERVAL 1 year) AND NOW();
"
29526,27585,Simple outer join between two tables not working,"select distinct a.a_id, b.b_id, a.a_value, b.b_value
from b
full join a on b.b_id = a.a_id
and a.a_cnt_id = 849
and b.b_cnt_id = 848;
"
38001,32009,"Filter Blood Pressure for Hypertension Categories, While Returning Higher Category","CASE 
    WHEN BP_Systolic >= '160' OR BP_Diastolic >= '100' THEN 'Stage 2 Hypertension'
    WHEN BP_Systolic BETWEEN '140' AND '159' OR BP_Diastolic BETWEEN '90' AND '99' THEN 'Stage 1 Hypertension'
    WHEN BP_Systolic BETWEEN '120' AND '139' OR BP_Diastolic BETWEEN '80' AND '89' THEN 'Prehypertension'
    WHEN BP_Systolic < '120' AND BP_Diastolic < '80' THEN 'Normal'
END AS BP_Category
"
36397,17277,3 boolean fiels or 1 field with 3 values - Relational Model DB,"-- UserType table
-- UserTypeID INT -- PK
-- Type NVARCHAR(50)
"
12319,74712,Result set to be displayed in multiple textfields,"if (rs.next()) {
     String option = rs.getString(""options"");
     jAnswerA.setText(option);
};

if (rs.next()) {
     String optionB = rs.getString(""options"");
     jAnswerB.setText(optionB);
};
"
38761,1945,Copying user roles and permission from one database to another,"USE [new_db_name]
GO
IF  EXISTS (SELECT * FROM sys.database_principals WHERE name = N'login_name')
DROP USER [login_name]
GO
CREATE USER [login_name] FOR LOGIN [login_name]
GO
EXEC sp_addrolemember N'My_StoredProcs', N'login_name'
GO
EXEC sp_addrolemember N'db_datareader', N'login_name'
GO
EXEC sp_addrolemember N'db_datawriter', N'login_name'
GO
"
26823,44059,MS ACCESS VBA ORDER BY CASE When,"SELECT id, Status, DeliveryDate, PromiseDate
FROM CustomerOrderT
WHERE Status > 2 and Status <7 
ORDER BY IIF(DeliveryDate > PromiseDate, PromiseDate, DeliveryDate);
"
2214,14022,Convert from nvarchar to DateTime with am pm?,"declare @date datetime
set @date='07/11/2013 11:22:07'

SELECT cast(convert(varchar(20),substring(convert(nvarchar(20),@date, 9), 0, 21) 
+ ' ' + substring(convert(nvarchar(30), @date, 9), 25, 2),105) as datetime)
"
33416,65848,Sql. Use like with In operand,"select PersonID from Person p inner join
(select value as AName from dbo.fnSplit('David;John;Kevin', ';')) Names
on p.Name LIKE '%' + Names.Value + '%'
"
16545,12088,MySQL joining tables gives unexpected output,"SELECT 
  table_A.*,
  table_B.*,
  table_C.*,
  table_D.*
FROM table_A
  INNER JOIN table_B ON
    table_A.my_field = table_B.my_field
  LEFT JOIN table_C ON
    table_B.my_field = table_C.my_field and table_B.complete ='1'
  LEFT JOIN table_D ON
    table_C.my_field = table_D.my_field 
"
21808,40514,MySQL: Sorting rows from 2 (or more) tables by their columns,"SELECT id, name, time
FROM
(
    SELECT book_id id, book_name name, book_time time FROM books
    UNION
    SELECT movie_id id, movie_name name, movie_time time FROM movies
) booksandmovies
ORDER BY time DESC;
"
18861,58229,"In Oracle, how do I declare a unique constraint over a pair of values AND it's reverse pair","CREATE UNIQUE INDEX unique_cd0_cd1
      ON VARIANTCOMBINATIONRULE (least(VARRECID0, VARRECID1), greatest(VARRECID0, VARRECID1));
"
20699,39564,Conditionally displaying a value in upper case,"SELECT 
case when conditional = 1 then 'MAIN'
when conditional <> 1 and conditional < 2 then UPPER(Title)
else Title end as Title
, COUNT(Title) AS NumberOfTitles
FROM Table 
GROUP BY case when conditional = 1 then 'MAIN'
         when conditional <> 1 and conditional < 2 then UPPER(Title)
         else Title end
ORDER BY case when conditional = 1 then 'MAIN'
         when conditional <> 1 and conditional < 2 then UPPER(Title)
         else Title end
"
33991,1313,How to make this join with a TSQL query?,"SELECT     GROUPS.*, USERS.*
FROM       GROUPS 
           LEFT OUTER JOIN
           USERS 
           ON GROUPS.ID = USERS.GROUPID AND USERS.ISDELETED = 'F'
"
11746,51253,How to pick the 1 st and last element of each group in a table during group by operation in SQL,"select s.DateAdded, s.Souring, s.Inake, s.placement, s.PreviousSunday, CONCAT(s.DateAdded, ' => ', e.DateEnd) as DateStartEnd
from table_name as s 
inner join (select MAX(DateAdded) as DateEnd, PreviousSunday from table_name group by PreviousSunday) as e on s.PreviousSunday = e.PreviousSunday
group by e.DateEnd
order by s.DateAdded
"
35723,7222,Between .. and clause in sql server?,"WHERE posteddate BETWEEN DATEADD(dd, -30, GETDATE())
                     AND GETDATE()
"
6572,19309,Are there problems with this 'Soft Delete' solution using EAV tables?,"create table mytable(
   col_1 int
  ,col_2 varchar(100)
  ,col_3 date 
  ,primary key(col_1)
)

create table mytable_deleted(
   delete_id  int      not null auto_increment
  ,delete_dtm datetime not null
-- All of the original columns
  ,col_1 int
  ,col_2 varchar(100)
  ,col_3 date 
  ,index(col_1)
  ,primary key(delete_id)
)
"
4028,53535,How to select specific changes using windowing functions in postgres,"SELECT ""from"", ""to"", timestamp
FROM
(
    SELECT
        ""from"",
        ""to"",
        timestamp,
        LAG((""from"", ""to"")) OVER (ORDER BY timestamp) AS prev
    FROM Table1
) T1
WHERE (""from"", ""to"") IS DISTINCT FROM prev
"
37448,59593,SQL exclude certain records in subquery,"SELECT Item FROM
(
(SELECT Item, Count(*) Cnt FROM 

(SELECT Item FROM Received1
UNION ALL
SELECT Item FROM Received2
UNION ALL
SELECT Item FROM Received3
UNION ALL
SELECT Item FROM Recovered1
UNION ALL
SELECT Item FROM Recovered2
UNION ALL
SELECT Item FROM Recovered3)A  GROUP BY Item)B
WHERE Cnt%2 = 0 --checks for multiples of 2
"
34719,37788,SSRS 2008/2012 - ADDING AGGREGATION FIELDS,"SELECT 
      CASE WHEN Count(Account)=0 THEN (Sum(Amount))/(Count(Account)) END AS New_field
FROM TableName
"
18499,67143,displaying Oracle table's column names,"SELECT COLUMN_NAME FROM USER_TAB_COLUMNS WHERE TABLE_NAME='TABLE_NAME'
"
18610,59123,sql - select row from group based on multiple values,"WITH
  sorted
AS
(
  SELECT
    *,
    ROW_NUMBER() OVER (PARTITION BY substring(id,1,3) ORDER BY val, id) AS sequence_id
  FROM
    yourTable
)
SELECT
  *
FROM
  sorted
WHERE
  sequence_id = 1
"
14841,24096,Count records that start with specific letters,"Select COUNT(*),SUBSTRING(column_name,1,2) FROM table_name GROUP BY SUBSTRING(column_name,1,2)
"
33318,40886,Do not return any records if one value exist in a field?,"SELECT id, first, last, category FROM names WHERE
ID NOT IN (SELECT id FROM names where category = 'Tutor')
"
4274,54843,SQL query to loop on a given data,"SELECT
    ID,
    Description
FROM(
    SELECT 
        ID+1-ROW_NUMBER() OVER (ORDER BY ID) Col,
        * 
    FROM YourTable
    WHERE ID>=83633
)x WHERE Col=83633
"
20496,58153,SQL Query pulling same field with different values,"SELECT 
  e1.firstName AS violatorFirstName,
  e1.lastName AS violatorLastName,
  e2.firstName AS supervisorFirstName,
  e2.lastName AS supervisorLastName
FROM violator v
LEFT JOIN employee e1 ON v.violatorId = e1.id
LEFT JOIN employee e2 ON v. supervisorId = e2.id
"
23083,30957,getting a property associate with the result of an aggregate function,";WITH cte As
(
SELECT array_id, [date], comment,
ROW_NUMBER() OVER (PARTITION BY array_id ORDER BY [date] DESC) AS RN
FROM my_table
WHERE master_frame = 1
)

SELECT array_id, [date], comment
FROM cte 
WHERE RN=1;
"
35707,37309,Wordpress add custom column,"$myPosts = $wpdb->get_row(""SELECT * FROM wp_posts"");
//Add column if not present.
if(!isset($myPosts->my_custom_posts_column)){
    $wpdb->query(""ALTER TABLE wp_posts ADD my_custom_posts_column INT(1)"");
}
"
37536,3545,PowerBuilder application login,"n_cst_String lnv_String

ltr_NewConnect.DBMS = SQLCA.DBMS
ltr_NewConnect.AutoCommit = SQLCA.AutoCommit
ltr_NewConnect.DBParm = lnv_String.of_GlobalReplace (SQLCA.DBParm, ""mytestdb"", ""myotherdb"")
"
25343,59629,IF/ELSE-IF depending on quarter doesnt work for the last quarter,"BEGIN
DECLARE @mth int
SET @mth = DATEPART(MONTH, GETDATE())
IF @mth BETWEEN '1' AND '3'
print '1'
-- SELECT-Statement
ELSE IF @mth BETWEEN '4' AND '6'
print '2'
-- SELECT-Statement
ELSE IF @mth BETWEEN '7' AND '9'
print '3'
-- SELECT-Statement
ELSE IF @mth BETWEEN '10' AND '12'
print '4'
-- SELECT-Statement
END
"
5513,70862,Oracle SQL query performance improvement: minus vs where not exists,"Select 
   t1.column1, t1.column2 
From
   table1 t1, table2 t2
Where 
   t1.id = t2.id
   and t1.some_column = t2.some_column
   and not exists (select 1 from table3 t3 where t1.id = t3.id)
"
31559,4181,How can I assign a multi-line value to a bind variable?,"begin 
:test :=  q'<
many many lines
many many lines
>' ;
end; 
/
"
485,59506,SQL counting values and selecting Column Name as result,"select 'A', sum(A) from table
union
select 'B', sum(B) from table
"
14003,5131,Right way to use MySQL to assign tasks to worker processes,"BEGIN TRANSACTION;
SELECT DISTINCT url FROM urls WHERE task_assigned is NULL ORDER BY id LIMIT 100 FOR UPDATE;
UPDATE urls SET task_assigned = NOW() WHERE url IN [list of URLs] COLLATE utf8_bin;
COMMIT;
"
33819,49438,"MySQL SELECT DISTINCT multiple columns, with the first result on some cols","SELECT a,b FROM my_table GROUP BY a
"
39510,36011,"MySQL, Confused w/ query / Error Code: 1111. Invalid use of group function.","SELECT  id,
        viewcount +
        (
        SELECT  COUNT(*)
        FROM    likes l
        WHERE   l.video = v.id
        ) AS points
FROM    video v
WHERE   location = 30
ORDER BY
        points DESC, id
LIMIT 4
"
15454,43111,T-sql script to replace first 2 numbers in a string,"UPDATE mytable
SET field = '88' + SUBSTRING(field, 3)
WHERE SUBSTRING(field, 1, 2) = '99'
"
17333,49200,SQL Server 2012 - Pagination without Order Clause,"SELECT First Name + ' ' + Last Name 
FROM Employees 
ORDER BY 1 OFFSET 10 ROWS; 
"
14490,45638,Reading MS Access mdb files in Delphi (for free)?,"    DataSource := 'Provider=Microsoft.Jet.OLEDB.4.0;Data Source=' + Filename +
    ';Persist Security Info=False';

  ADOConnection1.ConnectionString := DataSource;
  ADOConnection1.LoginPrompt := False;
  ADOConnection1.Connected := true;

  // ADOConnection1.GetTableNames(listbox1.items);

  AdoTable1.Connection := ADOConnection1;
  AdoTable1.ReadOnly := false; //if u want to make changes
  ADOTable1.active := false;
  ADOTable1.TableName := 'B2777'; //table name
  ADOTable1.active := true;
"
10395,35218,Selecting more than one value,"SELECT Name, Composer, REPLACE(Composer,'/',',') AS Make
FROM tracks
"
6940,53380,SQL group per class and rate,"SELECT 
job_class, 
sum(case when finalrate like 'A%' then 1 else 0 end) as AA,
sum(case when finalrate like 'B%' then 1 else 0 end) as B,
sum(case when finalrate like 'C%' then 1 else 0 end) as C
FROM t 
GROUP by job_class
"
37161,30568,mysql query very slow,"mysql_query(""UPDATE scan_list2 SET sl_scanned = '1' WHERE sl_scanned = '0' ORDER BY sl_id LIMIT 40"");

$sql3 =  mysql_query(""SELECT * FROM config LIMIT 1"");
$row3 = mysql_fetch_assoc($sql3);

$log=$row3['con_log'];

$sql2 = mysql_query(""SELECT sl_start,sl_id FROM scan_list2 WHERE sl_scanned = '1' ORDER BY sl_id DESC LIMIT 40"");

while($row2 = mysql_fetch_assoc($sql2)){
    echo ""crk|"".$row2['sl_start'].""|"".$log.""-"";
}
"
4547,47450,SQL - managing character vs. numerical values in a single variable,"WHERE
  CAST(CASE
    WHEN a.variable = 'X' THEN '10'
    ELSE a.variable
  END AS int) >= 2
"
33910,16075,How to insert result of stored procedure into a table with extra nullable columns,"INSERT #Table (Column1, Column2, Column3)
EXEC SP1;
"
8503,13144,PL/SQL time segment calculation,"select extract(hour from numtodsinterval(to_date('14:00:00','HH24:MI:SS') - to_date('13:15:00','HH24:MI:SS'),'DAY'))
||':'|| extract(minute from numtodsinterval(to_date('14:00:00','HH24:MI:SS') - to_date('13:15:00','HH24:MI:SS'),'DAY')) diff
from dual
/

DIFF
------------------

0:45
"
24591,58055,MySql Query question last time record found in database,"  select device, count(*) as cnt, max(time) <-- same as latest time
    from database.table 
group by device
  having cnt>1
order by device;
"
13617,30583,Query/Database Optimization: How to optimize this? (and should I use a materialized view?),"select distinct computerId
from groupMemberships m1
join groupMemberships m2 on m2.groupId=m1.groupId
  and (m2.isSharing or m2.userId=m1.userId)
join computers c on c.userId=m2.userId
where m1.userId=?
"
34845,48293,DB2 - optimized query - apply function to current date or db column?,"select *
from mytable mt
where mycol in (timestamp(current date - 100 days, '00:00:00'),
                timestamp(current date - 200 days, '00:00:00')
               );
"
7416,72454,combine tables related to each other by a linking table and not to worry if the linking table is missing some data,"SELECT p.Alias, p.Name, g.Group
FROM Person AS p
LEFT OUTER JOIN Group AS s ON p.Alias=l.Alias
LEFT OUTER JOIN CGLink AS l ON l.Type=s.Type
ORDER BY p.Alias, p.Name;
"
21075,67287,MySQL: Is it possible to do this with a single query?,"SELECT 
       user, 
        SUM(points) AS points,
        SUM(case  
            when date_achieved >= (CURRENT_DATE - INTERVAL 1 MONTH) 
            THEN points 
             else 0 END) points_last_Month
FROM myTable
GROUP BY user
"
10932,44668,how to change a macro variable to a simple data,"proc sql;
create table toto (col1 varchar(8));
update toto set col1=""nvar&&pays&l"";
quit;
"
11709,51551,"how to add days to a date column from an Integer column, by SQL","CREATE TABLE #test(DateColumn DATETIME, IntColumn INT);
INSERT INTO #test VALUES
 ({ts'2016-01-01 00:00:00'},1)
,({ts'2016-01-10 11:30:00'},-2)
,(GETDATE(),3);

SELECT DateColumn AS A
      ,IntColumn AS B
      ,DATEADD(DAY,IntColumn,DateColumn) AS C
FROM #test;

DROP TABLE #test;
"
25773,49379,"Checking conditions (date, time) with MySQL","WHERE timestamp(start_date, start_time) <= timestamp(currdate, currtime)
  AND timestamp(end_date, end_time) >= timestamp(currdate, currtime)
"
36079,68277,Selecting NULL as a value in a JOIN if there is no matching record,"SELECT e.language_name,
ecc.language_animal_code,
a.animal_code
FROM language_animal_codes ecc
INNER JOIN languages e
ON e.language_id = ecc.language_id
LEFT OUTER JOIN animals a
ON ecc.animal_id = a.animal_id
"
39119,34676,Find the tables affected by SQL injection,"SELECT TABLE_NAME, COLUMN_NAME
FROM sysindexes AS i 
INNER JOIN sysobjects AS o 
ON i.id=o.id 
INNER JOIN INFORMATION_SCHEMA.COLUMNS 
ON o.NAME=TABLE_NAME 
WHERE(indid=0 or indid=1) 
and DATA_TYPE like '%varchar' 
and(CHARACTER_MAXIMUM_LENGTH=-1 or CHARACTER_MAXIMUM_LENGTH=2147483647);
"
15573,25177,SQL AVG (average) returns lots of digits,"SELECT cast(AVG(Price) as decimal(6, 2))
FROM Product
WHERE ProductName = 'Shoe';
"
9749,24115,How to sum based on multiple tables,"SELECT u.clan_id,
       sum(case when cv.type = 3 then cv.value else 0 end) as totalTime,
       sum(case when cv.type = 1 then cv.value else 0 end) as totalMass
FROM users u
INNER JOIN clan_values cv
 ON(u.id = cv.user_id)
GROUP BY u.clan_id
"
22511,17429,SQl: Case within Count while Group By,"Select mappingid, formTypeId as ""Form Type"", abbreviation,
case when count(formtypeid) >= 2 then 2 else Count(formTypeID) end as ""Chart Count""
From tables.dbo.forms
where questions = answered and formtypeid = 3
group by mappingid, formtypeid, abbreviation;
"
16517,4340,Limiting integer data type field lengths,"delimiter //
CREATE TRIGGER trigger_check BEFORE INSERT ON your_table
FOR EACH ROW 
BEGIN 
    IF NEW.NUM > 99999 THEN 
        SET NEW.NUM = 0; 
    END IF; 
END
//
"
19437,42232,Need to select rows from the table with a version column which match the latest version,"SELECT *
FROM (
   SELECT id, 
          value1, 
          value2, 
          version,
          max(version) over (partition by id) as max_version
    FROM T
    WHERE id IN (1, 2, 3, ... 10)
) t2
WHERE version = max_version
"
32250,65656,How to generate conditionally Numeric column in select statement,"select col1,col2, row_number() over (partition by col1 order by col1) as _KEYCOL
from align1
"
4548,16912,TSQL - Max or Top Date on an unnormalized table,"SELECT Userid, User, Max(UserUpdate) AS MaxDate
FROM myTable
GROUP BY Userid, User
"
29746,30630,Spring inject xml values to properties-config.xml then to a bean,"<property name=""insertSql"" value=""${sql.accountdao.insert}"" />
<property name=""selectSql"" value=""${sql.accountdao.select}"" />
"
35259,18576,Microsoft Access SQL to query a date range ignoring the year,"SELECT * FROM user 
WHERE (month(birthday) * 100) + day(birthday) between 0131 and 1231
"
14493,10588,"Multiple LIKE, OR MySql Queries Match","$sql = ""SELECT `id`, `name` FROM `records` 
WHERE `name` LIKE '%"".mysql_real_escape_string($q).""%'"";
"
20066,74013,Return stored procedure result from a second stored procedure?,"CREATE TABLE #Proc1TempResults
(
    ColA INT, --OR WHATEVER DATA TYPE
    ColB INT,
    ColC INT
)

INSERT INTO #Proc1TempResults (ColA, ColB, ColC)
EXEC Proc1 @ID, 0

SELECT ColA, ColB
FROM #Proc1TempResults
"
9333,68071,cannot access a data table located in another server from a stored procedure in one server of SQL server 2008 R2 management studio,"sp_addlinkedsrvlogin [ @rmtsrvname = ] 'rmtsrvname' 
 [ , [ @useself = ] 'TRUE' | 'FALSE' | NULL ] 
 [ , [ @locallogin = ] 'locallogin' ] 
 [ , [ @rmtuser = ] 'rmtuser' ] 
 [ , [ @rmtpassword = ] 'rmtpassword' ] 
"
13446,39634,need to trim first 11 characters off a string in SQL,"SELECT STUFF(SomeString,1,11,'')
"
21614,74353,Statictis/aggregation queries: full scan or index or partitioning?,"select id, one_column, another_column
  from two_hundred_mb_table
 where id = 1

select sum(one_column) / sum(another_column) 
  from two_hundred_mb_table
"
16072,61137,WPF toolkit datagrid,"Grid grd = new Grid();
XpsDocumentWriter wrt = new XpsDocumentWriter();
//Bunch of code to manipulate your grid here

//Now we calculate the scaling required:
double ScaleX = PageWidth / grd.Width; //The page width must be in Device Independent Units
double ScaleY = ScaleX;

grd.RenderTransform = new ScaleTransform(ScaleX, ScaleY);

wrt.Write(grd);
"
26274,53753,How to get Member count from each group along with group details?,"SELECT users.user_id,groups.group_id,(SELECT COUNT(*) FROM user_group WHERE user_group.group_id=groups.group_id) FROM groups INNER JOIN user_group ON groups.group_id=user_group.group_id INNER JOIN users ON user_group.user_id=users.user_id ORDER BY users.user_id,groups.group_id ASC
"
16688,68129,Return a string from a sub query,"SELECT 
    CASE 
        WHEN Committed_Date >= '01/04/2011' THEN 'Y' 
        ELSE 'N' 
    END AS Current_YTD
FROM YourTable
"
28064,27530,how can oracle SQL return 6 count(columns) from one,"SELECT country_code
     , COUNT(emission_class) AS total
     , SUM(CASE WHEN emission_class = 'E0' THEN 1 ELSE 0 END) AS EURO0
     , SUM(CASE WHEN emission_class = 'E?' THEN 1 ELSE 0 END) AS EURO?
     , ...
FROM DB.CUSTOMER_VEHICLE
GROUP BY country_code;
"
10391,48391,Relational Model vs EAV,"PostgresQL: 250 - 1600 depending on column types
MySQL: upto 4096, depending on row size
Oracle: 1000
IBM DB2: 1012
Mycrosoft SQL Server: 1024 - 30000
Sybase: 45000
"
37402,43519,"""There is already an object named XXXX in the database"" after creating New database","CREATE DATABASE PROJECT
GO

USE PROJECT
GO

CREATE TABLE Courses 
(
  CourseID INT NOT NULL PRIMARY KEY,
  Name VARCHAR(64) NOT NULL UNIQUE,
  Code CHAR(4) NOT NULL UNIQUE
)
GO
"
38845,61288,Find common substrings in a column using SQL,"declare @keywords table
(
    word varchar(100)
)
insert into @keywords values ('catching')
insert into @keywords values ('unicorns')

select kw.word, count(*) as NumMessages
from your_table t
inner join @keywords kw on t.comment like '%' + kw.word + '%'
group by kw.word
order by NumMessages
"
4997,25517,filter the data in grid view by using select query,"SELECT * 
FROM bUser 
WHERE (  (id+'' LIKE @id) and (name LIKE '%'+@name+'%') AND (email LIKE '%'+@email+'%') )
"
28380,8718,Select a single row with a given date using SQL Server 2014,"declare @t1 as table (id int,date datetime)
insert into @t1 select 1,'2016/1/05'
insert into @t1 select 2,'2012/5/09'
insert into @t1 select 3,'2010/6/23'
insert into @t1 select 4,'2009/7/18'
insert into @t1 select 5,'2002/2/13'

declare @inputDate datetime = '2003/2/12'
select top 1.id from @t1 order by abs(datediff(dd,date,@inputDate))

set @inputDate = '2016/1/02'
select top 1.id from @t1 order by abs(datediff(dd,date,@inputDate))
"
37480,11800,Use result of query in a function (postgres 8.3),"select char_length((select text_field from table where key = 1));
"
1687,50526,Oracle spatial functions without Oracle spatial extensions,"SQL> describe sdo_geometry
"
11248,36488,sql query to get new data across tables,"SELECT name, code 
FROM new n
WHERE NOT EXISTS(SELECT * FROM current c 
                 WHERE c.name = n.name OR c.code = n.code)
"
27583,72960,How to get entries from SQL that only appear in certain value?,"select distinct(DeviceID) from YourTable
WHERE Transmission = 'Inventory'
and DeviceID not in
( select distinct(DeviceID) from YourTable
  WHERE Transmission in('Starting', 'Stopping')
);
"
15953,6266,SQL: Seeking an advise for tables structure etc,"SELECT DISTINCT msgID, msgSubject, msgBody -- and so on
FROM messages m
LEFT JOIN small_group_visibility sg
  ON sg.msg_id = m.msg_id
LEFT JOIN big_group_visibility bg
  ON bg.msg_id = m.msg_id
WHERE
  sg.group_id IN (1, 2, 3) OR
  bg.group_id IN (10, 20);
"
14376,17134,MAke New Table in SQL with same Schema,"create table W_UK as 
select *
  from W_US
 where 1 = 2;
"
12407,28089,Special Group by & SUM,"Select id, SUM(CASE W = w1 THEN S ELSE 0 END) over(Partition by id order by 1) total, W from yourtable
"
38010,68591,MySQL NATURAL JOIN 3 tables related to a parent table with a contraint on the parent table,"SELECT model, price FROM Product NATURAL JOIN PC WHERE maker = 'B' UNION ALL
SELECT model, price FROM Product NATURAL JOIN Laptop WHERE maker = 'B' UNION ALL
SELECT model, price FROM Product NATURAL JOIN Printer WHERE maker = 'B';
"
29128,11336,IBM Informix SQL Syntax assistance,"SELECT ...
       (SELECT ... ) AS 'Current - 1',
       (SELECT ... ) AS 'Current - 2',
       ...
  FROM ...
"
1308,32535,How to inspect SQL Server database during a transaction?,"SELECT * FROM dbo.Table WITH (NOLOCK)
"
28192,43607,Select Most Recent date,"SELECT     dbo.Team.ID, dbo.Team.Comment, MAX(dbo.Team.Date) LatestDate, dbo.TeamName.Name, dbo.Contacts.ContactName 
FROM       dbo.Team 
INNER JOIN dbo.TeamName ON dbo.Team.ID = dbo.TeamName.id 
INNER JOIN dbo.Contacts ON dbo.Team.ContactID = dbo.Contacts.ContactID   
WHERE      dbo.TeamName.idstatus = 'Active'
GROUP BY   dbo.Team.ID, dbo.Team.Comment, dbo.TeamName.Name, dbo.Contacts.ContactName 
"
2929,56827,Database design - How can I have a foreign key of the primary key in the same table?,"CREATE TABLE Departments 
(
    ID integer primary key, 
    Description varchar(255), 
    HeadOfDepartment varchar(255), 
    ParentDepartment integer references Departments(ID)
);
"
30119,33367,UPDATE a column with a subquery,"UPDATE tbUser
SET username = LEFT(username, CHARINDEX('@', username) - 1)
WHERE username LIKE '%@%'
"
5717,16178,New column with rowtotals,"SELECT id, 
       nr, 
       cost, 
       A.subtotal AS TOTAL 
FROM   table1 
       INNER JOIN (SELECT nr, 
                          Sum(cost) AS subTotal 
                   FROM   table1 
                   GROUP  BY nr) AS A 
               ON table1.nr = A.nr 
"
19324,69109,"How Do I Query for ""Per Day"" results for a given date range in MS SQL?","select count(*),
       datepart(year,created) as [year],
       datepart(month,created) as [month],
       datepart(day,created) as [day]
from table
where created >= '8/1/2009'
      and created < '9/1/2009'
      and datepart(hour,created) >= 8
      and datepart(hour,created) <= 17
group by datepart(year,created), datepart(month,created), datepart(day,created)
"
34220,25001,SQL maximum matching entries,"SELECT activity,GROUP_CONCAT(userID,' ') AS Groups
FROM Activity
GROUP BY activity
ORDER BY activity DESC;
"
39315,48338,"How to UNION ALL multiple SELECT queries in VBA, without typing SQL in VBA?","dim i as integer

for i = 1 to 7
    docmd.runsql ""insert into temp table select * from qry_Input_"" + CStr(i)
next i
"
35391,8177,mySQL - Correct Way to Do this?," select bank_id OldBankId ,bank_name OldBankName, bank_interest OldBankInterest ,
 bank_fees OldBankFees, bank_pic_url as BankPic from bank
 where bank_Id =(select bank_id from bank where bank_id= $user_id)
"
14631,62428,How can I use a parameterized query to search on a column by its name?,"db.Query(fmt.Sprintf(""SELECT * FROM mytable WHERE %s = ?"", col), searchStr)
"
7160,70389,"How do I lock table so that a user cannot perform Insert, Update, delete operations on it (Only triggers can)","CREATE TRIGGER Trig_INS_Test ON Test
INSTEAD OF INSERT
AS
BEGIN
SET NOCOUNT ON

   INSERT INTO Test (CommaSeperatedString)
      SELECT CommaSeperatedString
      FROM inserted

END
"
26037,62507,SQL max() over(partition) returning multiple results,"select *, max(mt.version) over (partition by mt.partitiongroup)
from mytable mt
where mt.id = 'some uuid';
"
7956,70092,Oracle PLSQL - Commit only database link,"create or replace procedure proc_1 ( i IN number )
as
  PRAGMA AUTONOMOUS_TRANSACTION;
BEGIN
    INSERT INTO test_table@remote_sid (id, description)
    VALUES (i, 'Description for ' || i);
  COMMIT;
END;
/

create or replace procedure proc_base ( i IN number )
as
begin
  insert into local_tab (id) values (i);
  proc_1( i );
  rollback;
end;
/
"
2103,27026,UPDATE and SELECT to/from the same table,"UPDATE a
SET a.IDT2 = c.ID
FROM Table2 a
JOIN Table1 b
  ON a.BRID = b.BRID
JOIN TAble2 c 
  ON b.HQID = c.BRID
"
637,11760,display table data in a list box (access form),"Me.List_history.RowSource = ""SELECT [Date] "" & _
  ""FROM Leaves "" & _
  ""WHERE CodePersonali = '"" & Nz(Me.CodePersonali.Value) & ""'""
"
1476,46960,"How to create SQL Query with like item1, item2, item3 format at Delphi?","Select * from emp where group in (item1, item2, item3)
"
9879,59176,MySQL Query to find customers who have ordered two specific products,"SELECT COUNT(DISTINCT t1.userid) AS user_count
  FROM TRANSACTIONS t1
  JOIN TRANSACTIONS t2 USING (userid)
 WHERE t1.product_id = 'prod1' 
   AND t2.product_id = 'prod2';
"
839,59429,Optimising search on primary key for large table,"SELECT films.film_name
FROM `films`
JOIN popular_films
  ON popular_films.film_id = films.film_id;
"
8500,52382,Query not returning values for NULL,"WHERE ISNULL(Assetclass, 'Anything but Bond') <> 'Bond'
"
6605,30512,Extract Data Between Parenthesis That's Always Different Lengths,"SELECT 
  SUBSTR(text, ip_start, ip_len) AS ip_addr
FROM
(
  SELECT text,
    (LOCATE('(', text) + 1) AS ip_start,
    (LOCATE(')', text) - (LOCATE('(', text) + 1)) AS ip_len
  FROM test
) temp;
"
4447,54111,SubQuery inner join with condition,"SELECT MAX(CASE WHEN rd.REPNUMBER BETWEEN 11000000 and 11099999 
           THEN rd.REPNUMBER END) + 1 as REPNUMBER, 
       MAX(ri.REPITEM) + 1 as REPITEM 
FROM  REPORTDETAILS rd 
       INNER JOIN REPORTITEMS ri ON rd.REPNUMBER = ri.REPNUMBER  
"
6799,41616,284: A subquery has returned not exactly one row,"update newLocations nl
set description=
             (select MAX(l.description) 
              from locations l
              where nl.id_location=l.id_location )
where exists
(select 1 
from locations l2
where nl.id_location=l2.id_location);
"
9330,29146,Finding rows matching positive and negative,"SELECT x1.<cols>, x2.<cols> 
FROM dbo.YourTable AS x1
INNER JOIN dbo.YourTable AS x2
  ON x1.Vendor_Code    = x2.Vendor_Code
 AND x1.Invoice_Number = x2.Invoice_Number
 AND x1.Check_Number   = x2.Check_Number
 AND x1.Payment_Amount = -x2.Payment_Amount;
"
10499,52879,How to remove not null constraint in sql server using query," ALTER TABLE YourTable ALTER COLUMN YourColumn columnType NULL
"
13245,26869,How to compare two tables column by column in oracle,"select *
from 
(
( select * from TableInSchema1
  minus 
  select * from TableInSchema2)
union all
( select * from TableInSchema2
  minus
  select * from TableInSchema1)
)
"
19791,62044,mySQL query - #1054 - Unknown column 3,"SELECT c.id, c.name, p.name the_default_printer, c.description
   FROM computers c
   INNER JOIN groups g  ON g.id = c.guid
   INNER JOIN printers p
     ON g.default_printer = p.id OR c.default_printer = p.id
  WHERE p.name LIKE 'mfd%'
"
15957,22142,SQL Server OR statement with AND,"select * 
from MyTable
where @Param is null or case when @Param is not null and FieldCode = 'Whatever' 
then case when FieldValue like '%' + @Param + '%' then 1 end end = 1
"
18978,53686,"Execute store procedure like a ""table"" for SELECT operator (MS SQL SERVER)","create proc proc1 as
select 1 as one, 2 as two

declare @result table (one int, two int)

insert into @result
exec proc1

select one from @result
"
19558,39708,SQL - When to use update or join,"UPDATE Projects
SET Projects.Is_Ready = ALL_PROJECTS.Is_Ready
FROM Projects, ALL_PROJECTS
WHERE Projects.ProjectID = ALL_PROJECTS.ProjectCode;
"
21384,16591,Join Duplicate Rows Into One Row in SQL Server,"update prof
set counter = counterSum
from prof join
(select name, number, sum(counter) counterSum
from prof
where whatever
group by name, number) temp on prof.name = temp.name and prf.number = temp.number
where whatever
"
28431,68772,Finding N Largest elements in a column,"SELECT   *
FROM     city
ORDER BY population DESC
LIMIT    5 -- or any other N
"
23751,73482,Increment a column value in Oracle,"SELECT deptno, ename (your_counter-1) new_counter FROM 
 ( SELECT deptno, ename
       , ROW_NUMBER() OVER (PARTITION BY deptno ORDER BY deptno, ename) your_counter
FROM scott.emp
);

10  CLARK   0
10  KING    1
10  MILLER  2
20  ADAMS   0
20  FORD    1
20  JONES   2
20  SCOTT   3
....
"
5132,22983,"Datamapper ""first"" method is querying the whole relation","class Device
  include DataMapper::Resource
  property :id, Serial
  has n, :locations # You probably want :order => [:time.desc] here too
  has 1, :latest_location, :class_name => Location, :order => [:time.desc]

  def lat
    latest_location.lat
  end
end
"
37752,56520,Import and automatically update table from external website to sql,"from bs4 import BeautifulSoup as soup
 table = soup.find(id=""top-player-stats-summary-grid"")
"
39531,32667,Composite primary key limit?," INTEGER PRIMARY KEY AUTOINCREMENT
"
22690,15842,How to Find ALL Most Common Values in SQL?,"SELECT NAME, COUNT(*) AS POPULARITY 
FROM CATTWO 
GROUP BY NAME 
HAVING COUNT(*) = 
        (
            SELECT COUNT(*) AS MAX_POPULARITY 
            FROM CATTWO 
            GROUP BY NAME
            ORDER BY MAX_POPULARITY DESC
            LIMIT 1
        );
"
21432,42098,organize sql heirarchy,"SELECT 
   id,
   son, 
   technology,
   ISNULL((select id from table t2 where t2.id = t1.son), 0) AS father,
   ROW_NUMBER() OVER (ORDER BY technology, father, son) AS RowNumber
FROM 
   table t1 
ORDER BY 
   RowNumber ASC
"
33706,1184,Dependend Constraint in MySQL,"CREATE UNIQUE INDEX idx_order_unique ON foo (parent, ordering);
"
37411,69198,adding count( ) column on each row,"select SQL_CALC_FOUND_ROWS ID, Title, Author
from yourtable
limit 0, 10;
SELECT FOUND_ROWS();
"
6706,66910,Is there a similar count method in SQL like mysql_num_row,"SELECT COUNT(*) FROM tablename
"
23963,620,SQL Parameters - where does expansion happens,"command.CommandText = string.Format(""DELETE FROM {0}"", tableName);
"
14692,9142,How to calculate interval between datetime in MySQL?,"mysql> select abs(datediff('2009-09-18 00:00:00', '2009-10-17 00:00:00'));
+-------------------------------------------------------------+
| abs(datediff('2009-09-18 00:00:00', '2009-10-17 00:00:00')) |
+-------------------------------------------------------------+
|                                                          29 |
+-------------------------------------------------------------+
1 row in set (0.00 sec)
"
8985,5507,looping for every row in a table in t-sql,"UPDATE WorkOrder 
SET name2=name1+' '+name2
"
14142,28645,Update datetime field randomly according known datetime,"UPDATE training SET finalized = complete_date + INTERVAL FLOOR(1 + (RAND() * 3)) DAY
"
18762,19593,Multiple update from multiple conditions," UPDATE table_spec_data SET coverage=33 WHERE 
     (specification_id = 247 AND data_id = 1)
     OR (specification_id = 248 AND data_id = 2)
     OR (specification_id = 249 AND data_id = 3)
"
34644,49884,INNER JOIN Query three tables,"SELECT m.member_first_name, cr.c_id 
FROM classregistration cr
  INNER JOIN clases c ON cr.c_id = c.class_id
  INNER JOIN members m ON m.member_id = cr.m_id
WHERE cr.c_id = 1
"
10500,71193,How to perform bitwise OR operation between two rows in same SQL table?,"declare @t table (Name varchar(17) not null,Value bit not null)
insert into @t(Name,Value) values
('Val1',1),
('Val2',1),
('Val3',0),
('Val4',0),
('Val1',0),
('Val2',0),
('Val3',0),
('Val4',1)

select Name,CONVERT(bit,MAX(CONVERT(int,Value))) as Value
from @t group by Name
"
12723,158,SQL COUNT between dates in two different column,"SELECT COUNT(Student)
FROM YourTable
WHERE Start >= @Start 
    AND End <= @End
"
12585,4244,Empty composite field based on 3 columns when 1 column is empty,"CASE 
   WHEN adres.CD_land = 'NL' THEN street 
   ELSE upper(COALESCE(postalcode + ' ', '') + street) 
END as Street
"
5302,70907,Stored Procedure slower than query in SSMS,"SELECT *
FROM MyTable WITH (INDEX(IndexName))
WHERE MyIndexedColumn = 0
"
19989,66109,Optimizing dynamic SQL query,"List cats = sess.createCriteria(Cat.class)
    .add( Restrictions.like(""name"", ""Fritz%"") )
    .add( Restrictions.or(
        Restrictions.eq( ""age"", new Integer(0) ),
        Restrictions.isNull(""age"")
    ) )
    .list();
"
27710,33667,Schema: two-way relationships? which table/entity should own 'preference'?,"Profiles
   |  |
   |  +-----> PreferredPicture
   |  +----->
   |  |
  \|/ |
ProfilePictures
"
29990,69765,get week number of a date," SELECT  strftime('%W','2013-05-04')-strftime('%W','2013-05-01') +1;
"
26611,64481,Filter data based on date provided by user,"SELECT *
FROM dbo.NGPTimesheetsPosition
WHERE ProjectNO = '12169-01-c' 
      AND CreditorEmployeeID <> 'E0000' 
      AND DocType = 'Time Sheet'
      AND TransactionDate <= @MyDateParameter -- ADDED!
"
27615,61544,Netezza aggregation issue (pivot),"SELECT 
    GROUP_NAME,
    GROUP_ID,
    SUM(CASE WHEN PASS_FAIL = 'PASS' THEN 1 ELSE 0 END) as PASS,
    SUM(CASE WHEN PASS_FAIL = 'FAIL' THEN 1 ELSE 0 END) as FAIL
FROM 
    log a
    join group b 
    on a.group_id=b.group_id
GROUP BY 
    b.group_name,
    a.group_id
"
83,35756,joining tables while keeping the Null values,"Select
  u.first_name,
  u.last_name,
  n.status
From users u
Left Join networks n On (    ( n.user_id = 1 And n.friend_id = u.id )
                          Or ( n.friend_id = 1 And n.user_id = u.id )
Where u.id <> 1
"
3107,24414,SQL - Insert if the number of rows is greater than,"DECLARE @cnt INT

SELECT @cnt = COUNT(*) FROM LinkedServer.database.schemaname.tablename

IF @cnt > 40

INSERT INTO table1 VALUES(col1, col2, col3 .....)
"
30830,50194,Table Types in DB2,"SELECT * FROM SYSCAT.COLUMNS WHERE TABNAME=
(SELECT BASE_TABNAME FROM SYSCAT.TABLES WHERE TABNAME = 'Table')
"
13921,48650,"""Where Not In"" in LINQ to EF4","var q = from p in ProductReport
        where !ClientProduct.Any(c => 
           c.ClientId == new Guid(""06ae6be1-ca94-44c9-bd30-f1d4f3ac3264"") && 
           p.ProductId == c.ProductId)
        select p.ProductId;
"
31133,53998,Oracle SQL: How do I concatenate results into one column (with delimiters) and also rename the column?,"select column_1||', '||column_2 as ""Concatenated_Result""
     , column_3
from   table
"
1830,35485,sql : fusion of lines from one table,"SELECT * FROM mytable t1 
INNER JOIN  mytable t2 ON t1.idA = t2.idB AND t1.idB = t2.ida AND t1.ida<t1.idb
"
17802,17081,Teradata : Transpose columns to rows,"SELECT 'Job1', job1 FROM TAB 
UNION ALL 
SELECT 'Job2', job2 FROM TAB
"
19285,18838,how can we know by column data whether is Single or double bytes by using sql server,"SELECT DATALENGTH(inputstring); 
"
31954,62805,Sysdate function in SQL Insert query,"int j=st.executeUpdate(""insert into mtc (entryDate) values (SYSDATE())"");
"
35579,41566,How would I write this SQL in DQL?,"$rsm = new ResultSetMapping;
$rsm->addEntityResult('Player', 'p');
$rsm->addFieldResult('p', 'id', 'player_id');
$rsm->addFieldResult('p', 'name', 'name');

$sql = "" 
    SELECT p.*
      FROM players p
     WHERE CONCAT(p.first_name, ' ', p.last_name) = ?
"";

$query = $this->getEntityManager()->createNativeQuery($sql, $rsm);
$query->setParameter(1, $name);
"
25938,43602,Accessing Key:Value pairs in Matlab,"setdbprefs('datareturnformat','structure');
result = fetch(conn,sql_query);
result.(name)

ans =
   ...
"
934,53035,ORACLE sql hours between two timestamps format,"SELECT  extract( hour from x) hours FROM
(SELECT (date1 - date2)x FROM B)
"
24439,48009,Doing a count() in an update in mysql?,"UPDATE items
SET score= 'a', count = (SELECT COUNT(votes.id)
    FROM votes WHERE votes.uri = items.uri)
WHERE items.id = 'b'
"
12895,21997,Using group by for a SQL to filter with datetime,"with CTE
as 
(select
 accesses,
 computer,
 dt,
 row_number() over (partition by computer order by accesses desc) rn
 from
 table1
 )

select
* 
from
CTE
where
rn = 1
"
23901,60262,Populate parent field based on child values,"select p.id, 
       p.name, 
       case 
            when min(c.classificationid) = max(c.classificationid) 
            then max(c.classificationid) 
            else -1
        end CalculatedClassification
from parent p 
    join child c on p.id = c.parentrow
group by p.id, p.name
"
7438,12781,mysql select query issue,"SELECT j.id job_id ,sum(case when amount is null then 0 else amount end)
FROM jobs j LEFT JOIN payments p ON j.id=p.job_id
GROUP BY j.id
HAVING sum(case when amount is null then 0 else amount end) < 1000;
"
16902,61328,SQL Server: Join Three Tables and Return With Null Records,"SELECT Games.Title, Genres.Name
FROM Games
LEFT JOIN GameGenres ON Games.Id = GameGenres.GameId
LEFT JOIN Genres ON GameGenres.GenreId = Genres.Id
"
22860,58632,oracle sql - join with having with and group by?,"SELECT Users.Name, Users.userid AS users,video_id 
FROM watching_list 
    JOIN Users
        ON Users.UserID = watching_list.UserID
GROUP BY Users.userid , video_id, Users.Name
HAVING COUNT(*) > 1;
"
11133,51081,"SQL replace value in a field in a row if it exists, else create a row and populate that value","INSERT INTO Comments ( A, B, C, D, Comment )
SELECT DISTINCT C.A, C.B, C.C, C.D, C.comment_value_insert
FROM Core AS C INNER JOIN Comments as C1 ON C.A = C1.A and C.B = C1.B and C.C = C1.C
WHERE NOT EXISTS (SELECT * FROM Comments AS O WHERE O.Comment = ""Critical"" AND O.A = C.A AND O.B = C.B AND O.C = C.C);
"
27696,66312,SQL - compare a non related table,"SELECT a.name, a.salary, b.salary_grade
FROM a JOIN b 
ON a.salary BETWEEN b.lower_bound AND b.upper_bound
"
20623,33640,SQL statement 4 table connect," LEFT OUTER JOIN tbl_advisor AS d 
 ON d.id = c.advisor_id
"
9204,58606,SQL query optimisation,"SELECT * FROM a WHERE (status = 'x' AND a_date < NOW()) OR (status = 'y')
ORDER BY status ASC, a_date ASC LIMIT 1;
"
14649,6943,"If this month has 28 days, find all customers with a bill date of 29, 30, or 31","SELECT customer_name
  FROM customer_billing
 WHERE   LEAST(bill_day, EXTRACT(DAY FROM LAST_DAY(SYSDATE)))
       = EXTRACT(DAY FROM SYSDATE);
"
4877,61303,"UPDATE row ON UPDATE trigger, multi table condition","DELIMITER $$
CREATE TRIGGER tr_au_s_articles_details AFTER UPDATE ON s_articles_details
FOR EACH ROW
BEGIN
   -- Here you can access the id of the updated article New.id
   -- update/insert depending on the condition of the newvalue.
   -- Check if id corresponds to a main_detail_id in the s_articles table
   -- Here an int : select count(id) from s_articles where main_detail_id = new.id
END;
DELIMITER ;
"
36660,31456,Select Items that don't have matching Items in another table,"SELECT * 
FROM items
LEFT JOIN   //left join
readStatus
ON  items.itemId = readStatus.itemId
WHERE (readStatus.status != 1 OR readStatus.status IS NULL);
"
8678,37837,Order by a field containing Numbers and Letters,"SELECT id, CAST('0' + id AS INTEGER) A 
FROM ""my.db"" 
ORDER BY A, id
"
32654,24634,join and select operation on two tables,"SELECT
  t1.*
FROM
  table1 t1
  inner join table2 t2 on (t1.sku = t2.sku)
WHERE
     t1.sku = 'TERM'
  or t2.alt_sku = 'TERM'
"
16484,49692,DELETE query slow on MySql,"DELETE T1
FROM Terms t1
JOIN 
(
    SELECT TermID
    FROM TermOccurrences
    GROUP BY TermID
    HAVING SUM(Counter) <=2
) T2 on T1.TermID = T2.TermID
"
34063,4318,MySql - Find values that occur EXACTLY two times without using aggregate function,"select distinct c1.city_name
from city c1
  join city c2 
    on c2.city_name = c1.city_name 
   and c1.state_name <> c2.state_name
where not exists (select 1
                from city c3
                where c3.city_name = c1.city_name 
                  and c3.state_name not in (c1.state_name, c2.state_name));   
"
24183,21928,How do I reference a value from a list box in Column(0) on click?,"strSource = ""SELECT [Product Code],[Stock Level],[Description] "" & _
""FROM [products/stock] "" & _
""WHERE Mid([Product Code],1,5) = '"" & Me.listSource & ""';""
"
18460,29030,Run a query based on output of another query,"SELECT   XX,  
     CASE 
     WHEN Y =  1 THEN (Select X from table2 where xx= )
     WHEN Y = 2 THEN  (Select X from table3 where xx=)
  END 
   FROM table1
"
4422,69950,SQL-Server Count(1) separated by column,"SELECT P.[MONTH]
      ,P.[Nationality] 
      , COUNT(*) AS Total
FROM #PAXS P 
GROUP BY P.[MONTH]
      ,  P.[Nationality] 
"
6188,71934,MS SQL listing out data,"SELECT DISTINCT category FROM mytable
"
26002,48781,Why MySQL isn't using my FULLTEXT indexes?,"glean2_saves(username, ses_id, save_status, id)
"
3166,30653,Delete Duplicate SQL Records,"delete 
   t1 
from 
   tTable t1, tTable t2 
where 
   t1.locationName = t2.locationName and  
   t1.id > t2.id
"
24030,59900,How do I import an Excel spreadsheet into SQL Server 2008R2 database?,"SELECT * INTO XLImport4 FROM OPENROWSET('Microsoft.Jet.OLEDB.4.0',
'Excel 8.0;Database=C:\test\xltest.xls', [Customers$])
"
12710,34621,How to create database structure for two column in phpmyadmin?,"CREATE TABLE User (
    user_id INT(10) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    fname VARCHAR(100) NOT NULL,
    lname VARCHAR(100) NOT NULL,
    email VARCHAR(100),
    mobile VARCHAR(15),
    city VARCHAR(100),
    demo_id INT(1) NOT NULL
)
"
21204,63334,Do I need a temporary table?,"where . . .
having distance < 10
order by distance;
"
466,35196,"an SQL query from a 3 tables, can't get the results required","SELECT 
    items.title, items.artist, orders.order_date, orders.ship_date
FROM 
    items 
JOIN 
    orderline ON orderline.item_id = items.item_id 
JOIN 
    orders ON orders.order_id = orderline.order_id
"
24435,6028,Having two tables of users id and the link between them,"SELECT u2.name as id_name, u1.name as linked_id_name
FROM link_view_user l
join panel_user u1 on u1.id = l.linked_id
join panel_user u2 on u2.id = l.id
"
35371,55707,SQL Select date from second table if id matches,"select s.Security_id, nvl(c.odate, s.Maturity_date) as Maturity_date
from Security s
left join
Callput c
on
s.Security_id = c.Security_id
"
26863,28961,Mysql custom where condition,"SELECT student_id, course_id, result FROM tbl WHERE result = 0 
AND student_id NOT IN (SELECT student_id FROM table WHERE result =1 
                                      and course_id = tbl.course_id )
"
9671,24024,mysql replace string + next one char,"SELECT *,IF(LOCATE('14_',B)+3<=Length(B),
         INSERT(B,LOCATE('14_',B),4,''),B) C
FROM
(
  SELECT *,IF(LOCATE('14_',A)+3<=Length(A),
           INSERT(A,LOCATE('14_',A),4,''),A) B
  FROM (
    SELECT *,IF(LOCATE('14_',x)+3<=Length(X),
             INSERT(X,LOCATE('14_',x),4,''),X) A
    FROM X
  ) Q1
) Q2
"
31594,8835,Select year/month format in a given interval of years,"SELECT d = REPLACE(CONVERT(CHAR(7), d, 121), '-', '/')
FROM 
(
  SELECT DISTINCT 
    d = DATEADD(MONTH, DATEDIFF(MONTH, '19000101', colDate), '19000101')
    FROM dbo.MyTable
    WHERE colDate >= '20120101'
    AND colDate < '20140101'
) AS x
ORDER BY d;
"
24069,33434,How to get a simple field with grouped by field?,"SELECT * FROM table t
WHERE NOT EXISTS 
 (SELECT * FROM table WHERE t.id_number = id_number AND date > t.date) 
"
1117,51939,Creating random string of characters only in TSQL,"DECLARE @NewId nvarchar(45)
set @NewId = newid()

SELECT replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(@NewId, 1, 'A'), 2, 'B'), 3, 'C'), 4, 'D'), 5, 'E'), 6, 'F'), 7, 'G'), 8, 'H'), 9, 'I'), 0, 'L'), '-', 'M')
"
11180,73677,SQL Server: Select all rows where if any one of the 4 columns has a value of 'N',"select * from your_table
where 'N' in (webLoad, transmitted, transmissionRcvd, ackRcvd)
"
38203,17998,Sql sub query with addition,"SELECT * FROM ActivityLog WHERE id in 
(
  SELECT id + 1 FROM ActivityLog 
  WHERE activityAt >= '2015-01-23 00:00:00' 
   AND module LIKE 'Api' AND data LIKE '%""status"":false%' 
   AND ( action LIKE 'DeviceSignUp' OR  action LIKE 'UniversityStudentSignUp' )
)
"
28093,55935,SQLAlchemy: Selecting one row for each distinct value of a column,"session.query( TestModel).group_by( TestModel.col1).all()
"
39779,67338,MySQL - order by string date,"SELECT p.*, s.meta_value
FROM posts p 
LEFT JOIN storage_varchars s ON p.id = s.post_id 
WHERE parent_id = 20 AND STR_TO_DATE(s.meta_value, '%d-%m-%Y') >= CURRENT_DATE() 
ORDER BY STR_TO_DATE(s.meta_value, '%d-%m-%Y') ASC;
"
39611,66980,How can I optimize this SQL query with nested SELECT's?,"SELECT photo.src_big, photo.created, photo.modified, photo.owner, photo.aid, 
photo.caption FROM photo 
inner join album on album.aid = photo.aid 
inner join  friend on album.owner = friend.uid2 
WHERE uid1=me() or uid2 = me()
order by modified desc,created DESC LIMIT 30
"
11424,70338,Showing all rows from a column even if count value is NULL,"SELECT
    ISNULL(COUNT(e.CODE), 0) AS OK,
    t.ORG AS ORG
FROM(
    SELECT DISTINCT ORG FROM EVENTS
)t
LEFT JOIN EVENTS e
    ON e.ORG = t.ORG
    AND e.TYPE = 'A'
    AND e.DATE BETWEEN '2015-07-06' AND '2015-07-12'
GROUP BY t.ORG
"
35192,61488,mysql left join max value on all rows,"SELECT     id, max_value
FROM       scores
CROSS JOIN (SELECT MAX(value) AS max_value 
            FROM scores) m
"
20944,35465,simplify an existing query (with clause with subselect from dual),"
SELECT COUNT(*) AS SumAll,
       SUM( DEPARTMENT1 ) AS Sum1,
       SUM( DEPARTMENT2 ) AS Sum2,
       SUM( DEPARTMENT3 ) AS Sum3,
       SUM( DEPARTMENT4 ) AS Sum4,
       SUM( DEPARTMENT5 ) AS Sum5,
       SUM( DEPARTMENT6 ) AS Sum6,
       SUM( DEPARTMENT7 ) AS Sum7,
       SUM( DEPARTMENT8 ) AS Sum8
FROM   RECLAMATION
WHERE  EXTRACT( YEAR FROM RECLAMATIONDATE ) = 2015
"
5474,64834,"Exists, or Within","SELECT personTbl.*
  FROM personTbl
  LEFT
 OUTER
  JOIN ( SELECT DISTINCT filterValue
           FROM filterTable
          WHERE filterType = 'name'
       ) filter
    ON 1 = 1
 WHERE filter.filterValue = personTbl.name
    OR filter.filterValue IS NULL
;
"
8861,24575,REPLACE empty string,"declare @value varchar(10);
set @value = '';
SELECT COALESCE(NULLIF(@value,''), '0')
"
14749,62512,find duplicate pairs in sql table and update values for 1 of each duplicate pair,"update
  a
set
  phoneNumber = b.phoneNumber
from
  TheTable a
  inner join TheTable b on b.contactFirstName = a.contactFirstName and b.contactLastName = a.contactLastName and b.statusID = 2
where
  a.statusID = 10 and a.phoneNumber is null
"
12293,43835,Specify foreign key on one column and the value of another column,"CREATE TABLE CURRENCIES (
   ...
   CONSTRAINT c_asset_from CHECK(exists(select 1 from ASSETS a where a.id = from and a.type = 'CURRENCY'))
);
"
22740,15072,How to get name from another table when using a key in SELECT?,"SELECT A.name, A.regionID, b.Name
FROM countries A
   Join regions B 
      on B.id = A.RegionId
ORDER BY A.name ASC
"
28357,5790,"SQL, only if matching all foreign key values to return the record?","SELECT
  TableA.type_uid
FROM
  TableA
INNER JOIN
  TableB
    ON TableA.allowed_type_uid = TableB.type_uid
GROUP BY
  TableA.type_uid
HAVING
  COUNT(distinct TableB.type_uid) = (SELECT COUNT(distinct type_uid) FROM TableB)
"
16045,46510,SQL to get count by date,"select DATE(date),count(1)
from videos_videoview
group by DATE(date);
"
5033,26387,Left outer join on two columns performance issue,"SELECT col1, col2
FROM table1, table2
WHERE table1.person_uid = table2.person_uid (+)
AND table1.period = table2.period (+)
"
12679,52766,Insert and update simultaneously,"insert into table (ColumnA, ColumnB)
select ColumnA, 'c'
from table
where columnA = 'a' and columnB = 'b'
"
14764,35590,using PARSENAME to find the last item in a list,"select right(@string2, charindex('.', reverse(@string2), 1) - 1)
"
36166,71535,How can I create a sequential SQL creation script for Oracle?,"create table Area(
ID int primary key,
Name nvarchar2(200)
);

create table Employee(
ID int primary key,
Name nvarchar2(200),
IDArea int references Area(ID)
);
"
12096,27137,Choosing indexes for a complex query,"Table1 Index:
col1 and col2 (2-way index)
col5
"
37474,23897,How do I allow all SQL users to read from a view,"GRANT SELECT ON dbo.vwconfirmEmailSent TO PUBLIC;
"
39069,45712,Filtering multiple dates in row with optional to and from parameters,"WHERE 
   (Date1 >= ISNULL(@DateFrom,'17531231')
    AND Date1 <= ISNULL(@dateTo,'20991231'))
OR
 (Date2 >= ISNULL(@DateFrom,'1753-12-31')
    AND Date2 <= ISNULL(@dateTo,'20991231'))
OR
 (Date3 >= ISNULL(@DateFrom,'1753-12-31')
    AND Date3 <= ISNULL(@dateTo,'20991231'))
"
8656,26528,how to use left outer join with like/or like,"SELECT *
  FROM pharmacy_items
  LEFT
 OUTER
  JOIN pharmacy_quantity_types
    ON pharmacy_items.quantity_type = pharmacy_quantity_types.id
 WHERE pharmacy_items.name LIKE '%query_here%'
    OR pharmacy_items.description LIKE '%query_here%'
"
24674,59904,MySQL JOIN ON the one of two columns that doesn't match variable,"SELECT coalesce(u1.name, u2.name) as name
FROM matches m LEFT JOIN
     users u1
     ON u.userId = m.userId1 AND m.userId2 = '1' LEFT JOIN
     users u2 
     ON u.userId = m.userId2 AND m.userId1 = '1'
WHERE '1' in (m.userId1, m.userId2);
"
2931,57550,"SQL: Any straightforward way to order results FIRST, THEN group by another column?","Select a,b from (select a,b from table order by b) as c group by a;
"
29991,23496,SQL Percentage of Occurrences,"SELECT Fact_Stream.Free_Stream,
   100.0 * COUNT(*)        -- count per bit
   / SUM(COUNT(*)) OVER () -- sum of those counts = count of all rows
   As ""Percentage of Streams""
FROM Fact_Stream
GROUP BY Free_Stream
"
13981,37114,Foxpro SQL Query for > 24 Criteria,"Create Table Criteria  (
                        UserSessionId ...
                        , KeyValue ....
                        )


Select ...
From MyMainTable
    Join Criteria
        On Criteria.KeyValue = MyMainTable.col
            And Criteria.UserSessionId = ...
"
32464,53398,Search in table where search phrase is stored in two separate rows,"select s1.id as id1, s2.id as id2
from sentences s1 join
     sentences s2
     on s1.creator_id = s2.creator_id and
        s1.order = s2.order - 1
where s1.text like '%first part%' and
      s2.text like '%second part%';
"
9642,39641,Google App Engine fetching based on values in list,"# assume userIdList is a list of ints that are entity key ids
user_keys = [ndb.Key('User', k) for k in userIdList]
users = ndb.get_multi(user_keys)
"
22765,7330,PL/SQL Dynamic Where Clause - Single Quote Around Dynamic String?,"l_cur_string := 'SELECT ex1, ex2FROM exTable WHERE col1= '''|| vTest || '''';
"
23034,20230,SQL - How can I find the average of an SQL statement with a LIMIT?,"SELECT avg(value)
FROM (select value
      from que
      LIMIT 10
     ) q;
"
8378,75312,Add Zero to the left in a field and concatenate Oracle,"select to_char(d, '99') || ' ' || to_char(h, '00') || ':'  || to_char(m, '00') || ':00'
"
13849,2669,SQL Server CHECK Constraint - Ensure no duplicates on text,"ALTER TABLE MyTable ADD CONSTRAINT UK_MyUniqueConstraint UNIQUE (MyColumn)
"
25290,32312,ACCESS 2007: Determine maximum value per row across multiple columns,"select
  EmployeeColumn,
  iff(iif(Date1 > Date2, Date1, Date2) > Date3, iif(Date1 > Date2, Date1, Date2), Date3)
from yourTable
"
22509,74689,unable to create 2 tables with same mapping in hibernate due to possible table name collision,"@JoinTable(name= ""ticket_to_collectors"")
@ManyToMany
private List<Person> collectors;
"
5560,10450,returning select query with row count,"select  row_number() over (order by FLD_A,FLD_B) as POS,
        FLD_A,
        FLD_B 
    from My_Tbl 
    where FLD_C='p'
"
24410,30036,percentage using SQL,"DECLARE @totalCount AS INT
SET @totalCount = (SELECT COUNT(p.Id) from players p 
                   inner join players_group pg on p.Id=pg.player_id)

Select count(p.Id)/@totalCount * 100 as nb_play ,pg.group
 from players p 
 inner join players_group pg on p.Id=pg.player_id

 group by pg.group

 order by pg.group;
"
8978,33118,SQL Negative query,"SELECT Cust_Name FROM Customer_dim WHERE Cust_Id NOT IN (
    SELECT c.Cust_Id FROM Product_dim p
    CROSS JOIN Customer_dim c 
    LEFT JOIN Orders_fact o ON o.Prod_Id = p.Prod_Id AND c.Cust_Id = o.Cust_Id
    WHERE Ord_Id IS NULL
)
"
9241,50799,Oracle SQL: Count number of rows with specific value,"SELECT 
 ID, COUNT(ID)
FROM table
WHERE Age = 25
GROUP BY ID
HAVING COUNT(ID) > 1
"
18330,64641,Different types of correlation query,"SELECT customerID, sum(sumOfLines)
FROM
    (
        SELECT header.CustomerID, 
            (SELECT sum(Detail.LineTotal) FROM Sales.SalesOrderDetail.LineTotal as Detail WHERE Detail.SalesOrderID = header.SalesOrderID) as sumOfLines
        FROM Sales.SalesOrderHeader.CustomerID as header
    ) sub
GROUP BY customerID
"
13035,20786,"is it possible create a sql view from ""horizontal"" to ""vertical""","SELECT period, value, category
FROM 
   (SELECT VendorID, charcge,nocharge
   FROM Table) p
UNPIVOT
   (value FOR category IN 
      (charge,nocharge)
)AS unpvt;
"
21404,43709,Return null or zero when no value is found,"SELECT @t2.id, @t1.name from @t2 LEFT OUTER JOIN @t1 ON @t1.ID = @t2.ID
"
13753,31603,Patindex in SQL Server 2008 R2,"Select substring(Data, PatIndex('%[0-9]%', Data), 1)
from(
    select 'Charged Hourly Fee for 3 CR for BCP202DL Personal Development II' as Data
)x
"
17277,28404,Modifying a view to modify a base relation to which I don't have permissions,"create view v as select * from Student where major like '%Engineering%' with check option;
"
17398,1958,Query not working as expected in stored procedure,"Select *  From callforwarding 
Where  Mastercode in (select SRFID from @SRFTable)
    and ApproverNo = @empID
    and ForwardDate in 
               (Select max(ForwardDate) from CallForwarding
                where Mastercode in (select SRFID from @SRFTable)
                and ApproverNo = @empID
                group by Mastercode)
"
4221,26201,How to store results of dynamic SQL into a variable,"DECLARE 
    @TableName NVARCHAR(512),
    @sql NVARCHAR(MAX),
    @xml NVARCHAR(MAX);

SET @TableName = N'dbo.Feeds';

SET @sql = N'SELECT @xml = CONVERT(NVARCHAR(MAX), (
    SELECT * FROM ' + @TableName + ' FOR XML AUTO, ELEMENTS));';

EXEC sp_executesql @sql, N'@xml NVARCHAR(MAX) OUTPUT', @xml OUTPUT;

SELECT @xml;
"
32789,52045,mysql filtering same name with multiple records(different states),"SELECT r.* 
FROM `records` r 
LEFT JOIN `records` r3
ON r.name = r3.name
  AND r3.state=3
WHERE r3.state IS NULL
"
7782,19690,Convert VARCHAR2 into Number,"SELECT NUMTODSINTERVAL (SUM (total_secs), 'second')
  FROM (SELECT   SUBSTR (duration, 1, 2) * 3600
               + SUBSTR (duration, 4, 2) * 60
               + SUBSTR (duration, 7, 2) total_secs
          FROM user_tab);
"
9485,34234,How to get total count result for following table?,"SELECT  col1, COUNT(*) totalCount
FROM    tableName
GROUP   BY col1
"
3824,19716,How to construct query which compares two sets in M:N relationship?,"select uf.user, count(*) as FeaturesInCommon
from user_features uf join
     user_features uf2
     on uf.feature = uf2.feature
where uf2.user = $user
group by uf.user
order by FeaturesInCommon desc;
"
3239,63823,"GROUP BY, show MIN","SELECT title, MIN(date)
FROM financials
GROUP BY title
ORDER BY title
"
1207,55473,return values within the last 365 counting from newest date ORACLE SQL,"SELECT *
FROM (SELECT et.*,
             MAX(TIMESTAMP_DATE) OVER (PARTITION BY EMPLOYEE_ID) as MAX_TIMESTAMP_DATE
      FROM EMPLOYEE_TIMESTAMPS
     ) et
WHERE TIMESTAMP_DATE >= MAX_TIMESTAMP_DATE - 365;
"
12876,74098,Select query and unknow predicate value,"SELECT * FROM resources AS r WHERE r.type =
(SELECT type FROM resources s  where s.culture= 'sk' and s.key= 'test')
"
20998,53305,how to grant user privilege on specific schema?,"select 'grant select on A.'||table_name||' to B' 
from dba_Tables 
where owner = 'A';
"
31149,44230,Creating Tables,"create table person_organization
( ssn number(9)
, org_code varchar2(60)
, constraint person_organization_pk primary key (ssn, org_code)
, constraint person_organization_ssn_fk foreign key ( ssn )
    references person ( ssn )
, constraint person_organization_oc_fk foreign key ( org_code )
    references organization ( org_code )
 );
"
26472,5555,How can I find the ratio?,"   select 
     name, 
     total,
     total/(select sum(total) from counts)*100 as percentage
   from counts
"
28420,9863,Is there a way to return each value as a row in SQL,"select 'Draft' as Enum
union
select 'Submitted' as Enum
union
select 'Cancelled' as Enum
union
select 'Accepted' as Enum
union
select 'Accepted and Modified' as Enum
union
select 'Open' as Enum
union
select 'Pending' as Enum
union
select 'Seller Reject' as Enum
"
14183,37576,How to include sid and port into an oracle connection string?,"return String.Format(""SERVER=(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST={0})(PORT={1}))(CONNECT_DATA=(SID={2})));uid={3};pwd={4};"", host, port, sid, user, pass);
"
8514,47662,GROUP BY clause in SQL code,"SELECT hostel_num, sum(num_of_stud) as total_students 
FROM HOSTELS 
GROUP BY hostel_num
ORDER BY hostel_num;
"
25621,51824,how to get the sum of the rows before the current row in MYSQL?,"select
      PreAgg.ID,
      PreAgg.Amount,
      @PrevBal := @PrevBal + PreAgg.Amount as Total
   from 
      ( select
              YT.id,
              YT.amount
           from
              YourTable YT
           order by
              YT.id ) as PreAgg,
      ( select @PrevBal := 0.00 ) as SqlVars
"
30794,18158,Extract Delimited values and create columns with T-SQL,"select *,  
SUBSTRING(Result,2,2) as VF021,  
SUBSTRING(Result,5,2) as VF02b,  
SUBSTRING(Result,8,2) as VF02c,  
SUBSTRING(Result,11,2) as VF05b  
from DQS_RAW
"
24551,35255,TNSNames.ora entries,"NAMES.DEFAULT_DOMAIN = world
"
17168,13986,SQL - Outer join one table onto two others,"SELECT * FROM order_header
INNER JOIN order_line ON order_header.header_id = order_line.header_id
LEFT OUTER JOIN inventory ON order_line.product = inventory.product AND order_header.location = inventory.location
WHERE order_header.header_id = xxx
"
28151,42750,Calculating numbers from fields in a database,"ROUND(Value, 0) + (10 * (Value - ROUND(Value, 0)) / 3)
"
19176,60798,Get the Column Names of a Stored Procedure when using BCP QueryOut,"SELECT 'col1', 'col2'
UNION ALL
SELECT Name1, MAX(Name) OVER (PARTITION BY Name)
FROM table
"
17905,60364,why these is a question mark at the end of string," 'www.myweb.com?q=id%3D'+convert(varchar(20),@id) +'%26action%3go​'
"
15779,45720,Sum comma separated values in Oracle SQL,"create or replace function calc(i_str in varchar2)
  return number is l_result number;
begin
  execute immediate 'select ' || i_str || ' from dual'
    into l_result;
  return l_result;
exception
  when others then
    return null;
end;

select calc(replace('0,4,2,88,6', ',', '+')) from dual
--> 100
"
10931,43081,Cannot update a table column with uppercase values,"UPPER(CONVERT('value' USING latin1))
"
38821,69016,Upserting a row into an hsqldb table using the MERGE SQL statement,"CREATE TABLE B(ID INT UNIQUE, A_ID INT);

MERGE INTO B 
  USING (VALUES 2, 3) I (ID, A_ID) 
  ON (B.ID=I.ID)
  WHEN MATCHED THEN UPDATE SET B.A_ID = I.A_ID
  WHEN NOT MATCHED THEN INSERT (ID, A_ID) VALUES (I.ID, I.A_ID)
"
32839,52978,Teradata SQL to group by hour interval out of a TIMESTAMP(6),"EXTRACT(HOUR FROM timestampcol)
"
38596,7932,Use select result for WHERE clause,"select * from mytable where date > (select date from mytable where id = {id})
"
22452,40888,"SQL : Comparing email-addresses in row, and retrieve not found rows","SELECT * FROM table_name WHERE email_address NOT IN ('email1', 'email2', 'email3')
"
21706,20263,SQL Self Join Query Help,"SELECT A.clientid, A.EventNumber, B.City AS CityTo, A.EndDateTime AS MoveDateTime
  FROM MyTable A INNER JOIN MyTable B
       ON A.clientid = B.clientid
      AND A.EventNumber = B.EventNumber
      AND A.EndDateTime = B.StartDateTime
WHERE A.City = 'Chester'
"
4644,10996,Counting Distinct Values of Combined Attributes,"select . . ., count(distinct concat(key, ':', source)) as numcombos
"
7731,23824,SQL Ordering and Selecting One Nearest Value,";WITH Vals AS (
        SELECT  *,
                ROW_NUMBER() (PARTITION BY Path ORDER BY Minute) RowID
        FROM    Table
)
SELECT  *
FROM    Vals
WHERE   RowID = 1
"
24832,27560,how can I get sum of duration in days which is having multiple rows?,"SELECT ID, duty, SUM(DATEDIFF(dd, startDate, endDate)) as duration 
FROM [Table] 
GROUP BY ID, duty
"
19461,45760,Query mongo on timestamp,"db.Books.find({""timestamp"":{$gte: ""2016-03-07 11:33:48"", $lt: ""2016-03-07 11:34:48""}})
"
4173,23240,Working with IF/ELSE and inserting into temp tables,"DECLARE @contentID int, @contenttype varchar
SET @contentid = 28861
SET @contenttype = 'resource'
SELECT @contenttype 
"
31799,1955,"Change the middle value of numbers to ""xxxx""","UPDATE foo SET bar = INSERT(bar, (LENGTH(bar) - 4) / 2 + 1, 4, 'xxxx');
"
31550,11686,SQL How to remove duplicates within select query?," SELECT MAX(owner_name), 
        --floored to the second
        dateadd(second,datediff(second,'2000-01-01',start_date),'2000-01-01') AS StartDate
 From   MyTable
 GROUP BY dateadd(second,datediff(second,'2000-01-01',start_date),'2000-01-01')
"
10329,50558,Work around SQL array?,"CREATE Table #Foo 
   (fooID INT NOT NULL Identity (1,1), 
    field1 varchar(20), 
    field2 varchar(20), 
    field3 varchar(20), 
    field4 varchar(20), 
    field5 varchar(20))
"
34083,22538,"Search query - Postcode, Company name or Location","select distinct c.*
from company c
join postcode_areas p on p.company_id = c.company_id
where c.name like <input>
or c.location like <input>
or p.postcode like <input>
"
24841,17861,Select multiple columns in same table,"SELECT Sum(libromayor.debe) AS IngresosGlobal,
sum(IF(ear(libromayor.fechaevento) = Year(CurDate()), libromayor.debe, 0)) AS IngresosGlobal2
FROM libromayor
"
29095,12740,Can you sort the output of SHOW COLUMNS or DESC?,"SELECT column_name
FROM information_schema.columns
WHERE table_name = 'table_name' ORDER BY column_name
"
30337,743,Number of logins per user per day in a date range,"select userId,
       sum(date(timeOfLogin) = date(@day1)) as NumLogins_0,
       sum(date(timeOfLogin) = date(date(@day1) + 1)) as NumLogins_1,
       sum(date(timeOfLogin) = date(date(@day1) + 2)) as NumLogins_2,
       sum(date(timeOfLogin) = date(date(@day1) + 3)) as NumLogins_3,
       sum(date(timeOfLogin) = date(date(@day1) + 4)) as NumLogins_4
from table t
group by userId;
"
12052,29796,mysql max() without being able to group,"select  foo.id,
        foo.val,
        (select MAX(bar.val) from bar where bar.val < foo.val) as barval
from foo
"
39000,13147,Calculating the sum of rows that have been grouped in SQL,"SELECT substring(Code,1,6) as Code,
       SUM(Number) AS [Sum] -- Add this line

From Table

Group by substring(Code,1,6)

Order By Code
"
4191,29787,Update SELECT query using CASE statement,"SELECT [Date]
     , CASE WHEN [Co] = 'XYZ' THEN 'Client'
            WHEN [Co] = 'PQR' THEN 'Partner'
            ELSE [Co] 
       END AS [Co]  
FROM [Table1]
"
28432,5925,Reverse engineer the structure of a database based on queries that are used,"DB: there is no name of DB
Table: sensor_readings (directly after from)
Column: READING_SENSOR_TEMP (AVG function take column as an argument) 
"
14834,16330,Selecting several sums in SQL,"select TimeStamp,sum(electricity) from
the_table
where SiteId in(98,100)
group by TimeStamp
"
2080,56747,Help for a nested query,"Select U.userid, U.username
    , Count(TM.ticket_id) As tot_ticket
From users As U
    Left Join ticket_master As TM
        On U.userid = TM.assignedto_user
Group By U.userid, U.username
"
1901,10392,SQL: Choose from an array of items in a like clause with AND condition," Select * from [Members]
 where [Expire] >= #"" & Me.Text168 & ""# 
 And [MembType] IN ('A' , 'B', 'C' , 'D') And  [MembType] <> 'E'
"
1893,36477,How to copy or update from one table to another table,"   -- 1) Insert new record

        INSERT INTO old_table(id, column)
        SELECT n.id, n.column
        FROM new_table n
        LEFT JOIN old_table o ON n.id = o.id
        WHERE o.id IS NULL

   -- 2) Update existed record

        UPDATE o
        SET column = n.column
        FROM old_table o
        JOIN new_table n ON n.id = o.id
"
9246,34336,Update and append unless empty,"update myTable 
set  Prefixes = 
           case 
               when Prefixes is null or Prefixes = ''
               then 'abc'
               else convert(nvarchar(max),Prefixes) + ', abc' 
            end
where MyCol='xyz' and (Prefixes not like '%abc%' or Prefixes is null)
"
38681,37803,Schedule a SQL INSERT from a live table to another table with a group function in Oracle,"TO_DATE(TO_CHAR(s.starttm, 'YYYY-MM-DD HH24:')||TRUNC(TO_NUMBER(TO_CHAR(s.starttm,'MI'))/30,0)*30||':00', 'YYYY-MM-DD HH24:MI:SS') 
"
17007,74539,SQL - Find all related tags?,"select tag_id, Count(*) as TagCount
from relation
where tag_id <> 1
group by tag_id
order by Count(*) desc
"
35121,53935,SQL Server *= operator,"*= (LEFT JOIN)

=* (RIGHT JOIN)
"
36629,42253,"Query with more than one like condition, with order by LIKE","SELECT p.productName 
FROM products p
WHERE p.productName LIKE '%sun%' 
   OR p.productName LIKE '%screen%'
   OR p.productName LIKE '%sun screen%' 
ORDER BY CASE
   WHEN p.productName LIKE '%sun screen%' THEN 1
   ELSE 2
END
"
31072,70236,PostgreSQL: Selecting distinct values on single column while sorting on another,"select (case when parent_id != -1 then parent_id else id end) as mid, max(create_dte )
from messages 
group by case when parent_id != -1 then parent_id else id end
order by max(create_dte) desc;
"
16566,20951,SQL Missing record issues,"    SELECT A.AnswerID AS Answer, UA.AnswerID AS UserAnswer FROM quizanswers AS A LEFT JOIN useranswers UA ON UA.QuestionID = A.QuestionD WHERE A.CorrectAnswer = TRUE AND A.QuestionID = X
"
9515,21384,how to drop unnamed primary key constraint,"alter table studenttbl drop primary key;
"
6312,65002,"Daylightsavings return 1 if select statment is empty, otherwise return 2","DECLARE @Count INT
SET @Count = (  SELECT COUNT(*)
                FROM
                dbo.DaylightSavings
                WHERE @time between Timestart AND Timeend)

IF @Count > 0   
    SELECT DATEADD(HH, 2, @time)
ELSE IF @Count = 0
    SELECT DATEADD(HH, 1, @time)
"
31342,13173,MySQL Redundant indexes alternative?,"SELECT
    invoice_line.item_id,
    invoice_line.amount,
    invoices.customer_name
FROM db.invoice_line
INNER JOIN db.invoices
    ON invoice_line.invoice_id = invoices.id_invoices
WHERE invoices.customer = 'zzzz'
AND invoices.transaction_date > DATE_SUB(CURRENT_DATE, INTERVAL 6 MONTH)
AND invoices.sales_rep = 'aaa'
AND (invoice_line.item_id = 'xxx' OR invoice_line.item_id = 'yyy')
ORDER BY invoice_line.item_id;
"
29661,64264,how to select a column value as number or vice versa,"select case when col = 'yes'
            then 1
            else 0
       end as new_col_value
from your_table
"
37989,15337,Find more than three columns having equal value in mysql,"SELECT DISTINCT id 
FROM   (SELECT id,col1 AS col from Yourtable
        UNION ALL 
        SELECT id,col2  from Yourtable
        UNION ALL 
        SELECT id,col3  from Yourtable
        UNION ALL 
        SELECT id,col4  from Yourtable
        Union ALL
        .......) A 
GROUP  BY id,col 
HAVING Count(1) > 3 
"
4573,67680,mass update from join,"UPDATE movies
SET votes = (select value
             from info
             where info.movie_id=movies.id and info_type=3)
WHERE EXISTS 
            (select *
             from info
             where info.movie_id=movies.id and info_type=3)
"
37545,54255,SQL Query - Combined rows with selective columns [MySQL],"SELECT
  players.Game AS Game,
  players.Name AS Name,
  'W' AS Result,
  'F' as Stage
FROM
  MyTable stage
  JOIN MyTable players
    ON stage.Game = players.Game
WHERE
  stage.stage = 'F'
  AND players.result = 'W'
"
21466,61342,Count all rows by status and day,"SELECT t.created,
       COUNT(CASE WHEN t.status = '1' THEN 1 END) as cnt_status1,
       COUNT(CASE WHEN t.status = '2' THEN 1 END) as cnt_status2,
       COUNT(CASE WHEN t.status = '3' THEN 1 END) as cnt_status3,
       COUNT(CASE WHEN t.status = '4' THEN 1 END) as cnt_status4
FROM ticket t
GROUP BY t.created
"
354,14526,How can I simplify this statement using regular expressions?,"SELECT
REGEXP_REPLACE(
 REGEXP_REPLACE(
  'UPDATE PLUTO SET FIELD1='''',FIELD2='''',FIELD3=''TIGER'',FIELD4='''',FIELD5=''SCOTT'',FIELD9='''';',
  '(FIELD[0-9]+=(?'''',*))','') ,
  '[, ]+;',';')
from dual
"
11161,11798,LINQ to SQL With the where with case statement,"var drs = from DataRow dr in Mytable.Rows
            where   
            (col_Con == 'G' ? col_Val : 30) <= (col_Con == 'L' ? 30 : col_Val)
            select dr;
"
4948,39398,SQL OR within WHEN (in CASE)," case when x = val1 or y = val2 or z in (val3, val4, val5) then result1 
      else defaultResult end
"
33323,37094,Help with SQL statement (JOIN),"SELECT  COUNT(cs.student_id)
FROM    Course c INNER JOIN
        course_student cs ON c.id = cs.course_id
WHERE   c.course_name = 'Database Design'
"
12023,33815,alias on the left side of my avg result,"SELECT 
    'Average Is:' AS GRADE_TYPE_CODE,
    AVG(GRADE) AS GRADE
FROM
(
    SELECT AVG(NUMERIC_GRADE) AS GRADE
FROM GRADE
WHERE STUDENT_ID = 5 AND SECTION_ID = 17
GROUP BY GRADE_TYPE_CODE
) myInnerTable;
"
23964,61680,SQL for calculated column that chooses from value in own row,"select c.*,
       coalesce([DL-No], [SS-No], [State-ID-No]) as calculated
from citizens c
"
37841,52349,Sql query to sort data on one column only but not change the others columns,"SELECT t2.ID, t1.NAME
FROM
    (SELECT ROW_NUMBER() OVER(ORDER BY ID DESC) AS rownumber,
           Name
    FROM MyTable) as t1
    INNER JOIN
        (SELECT ROW_NUMBER() OVER(ORDER BY ID ASC) AS rownumber,
                ID
         FROM MyTable) as t2
ON t1.rownumber = t2.rownumber
"
20448,52983,How to check a procedure/view/table exists or not before dropping it in db2 9.1?,"SELECT DISTINCT ROUTINENAME, RESULT_SETS, REMARKS 
FROM SYSIBM.SYSROUTINES 
WHERE ROUTINESCHEMA='<schema>' AND FUNCTION_TYPE NOT IN ('S', 'T')
"
34488,10591,Decomposing a GROUP BY statement,"SELECT id
FROM SomeTable
INNER JOIN SomeTableGrouped ON
    (SomeTable.Column1 = SomeTableGrouped.Column1) AND
    (SomeTable.Column2 = SomeTableGrouped.Column2) AND
    (SomeTable.Column3 = SomeTableGrouped.Column3) 
WHERE SomeTableGrouped.id = ...
"
38947,28544,mapping a relationship on an ER diagram if it won't be used in practice?,"      Product-Enquiries
=============================
P_ID-E_ID  PK, int, AUTO_INCR 
P_ID       FK, int
E_ID       FK, int
"
2309,4310,Multiple aggregate sums from different conditions in one sql query,"select g.dte, coalesce(sum(dt.minutes), 0) as minutes
from generate_series('2016-02-07'::timestamp, '2016-03-20'::timestamp, interval '7 day') g(dte) left join
     downtime dt
     on dt.timestamp >= g.dte and dt.timestamp < g.dte + interval '7 day'
group by g.dte
order by g.dte;
"
33813,38183,Determining an Oracle SQL MERGE statement result,"when matched update set .... merge_status = 'U'
when not matched insert ( ...., merge_status, ... ) values ( ...., 'I', .... )
"
30737,31506,Sqlite check if number is integer,"select 
   ""("" + DatabaseOpenHelper.KEY_ROW_ID + "" - 1)/4 + 1"" as field
from 
   table
where 
   field not like '%.%'
"
16081,30922,SQL Server 2008 display city name from knowing zip code,"SELECT
  allCustomer.customerName,
  allCity.cityName
FROM Customer finder
  JOIN City finderCity
   ON finder.zipCode = finderCity.ZipCode
  JOIN City allCity
    ON finderCity.CityName = allCity.CityName
    AND finderCity.StateCode = allCity.StateCode
  JOIN Customer allCustomer
    ON allCity.ZipCode = allCustomer.ZipCode
WHERE finder.customerName = 'William'
  and allCustomer.customerName != 'William'
"
34129,11219,sql combine two columns that might have null values,"select 'All'= LTRIM(ISNULL(Name+' ','')+ISNULL(City+' ','')+ISNULL(CAST(Age as varchar(50))+' ','')  from zPerson)
"
35641,56032,Get missing rows from two tables without matching indexes,"select code from tbl1
minus
select code from tbl2;
"
14046,19297,SQL count variables and write into another table,"update smf_members a, 
    (select user_id,
    sum(if(karma_action='+',1,0)) karma_good,
    sum(if(karma_action='-',1,0)) karma_bad
    from phpbb_karma
    group by user_id) b
set a.karma_good=b.karma_good, a.karma_bad = b.karma_bad
where a.id_member = b.user_id;
"
6469,49198,A One To Many relationship model where the data on the right side can be quite variable?,"Table Student_Teacher_Mapping

   Id (Int)
   TeacherId(Int)  // foreign key for teacher table  
   StudentId(Int)  // foreign key for student table
"
38583,66089,"SQL Server - Select Rows, Remove Duplicates But Keep row with highest date",";WITH Actions AS
(
   SELECT 
       ActionID, ActionType, ActionDate, UserID, ContentID,
       RowNum = ROW_NUMBER() OVER(PARTITION BY ContentID, ActionType ORDER BY ActionDate DESC)
   FROM 
       dbo.YourTable
   WHERE
      ......
)
SELECT 
   ActionID, ActionType, ActionDate, UserID, ContentID,
FROM 
   Actions
WHERE
   RowNum = 1
ORDER BY 
   ActionDate DESC
"
31214,39316,Postgres crosstab query,"SELECT 
    SUM(CASE WHEN pid = 2 THEN area ELSE 0 END) As ""2"",
    SUM(CASE WHEN pid = 4 THEN area ELSE 0 END) As ""4"",
    SUM(CASE WHEN pid = 9 THEN area ELSE 0 END) As ""9"",
    SUM(CASE WHEN pid = 11 THEN area ELSE 0 END) As ""11""
FROM t
GROUP BY class
ORDER BY class
"
38788,35156,Rails 3 join only certain rows from relationship,"user.conversations.includes{messages}.group{id}.having{messages.id == max(messages.id)}
"
33935,75272,"Convert minutes into amount of working days, hours and minutes","SELECT trunc(minutes/600)||' working days, '||trunc(mod(minutes,600)/60)||' working hours and '||mod(minutes,60)||' minutes'
FROM (SELECT 1000 as minutes FROM dual)
"
29610,43456,"(My)SQL: SELECT first number not taken in series of numbers, similar to MAX()","SELECT t1.id + 1
FROM tbl t1
LEFT JOIN tbl t2
    ON t1.id + 1 = t2.id
WHERE t2.id IS NULL
ORDER BY t1.id ASC
LIMIT 1
"
31236,44564,How to convert String date into another date format in SQL server?,"SET DATEFORMAT dmy;
GO
UPDATE #Test
   SET new_CHQ_DATE = CONVERT(VARCHAR(20), CHQ_DATE, 105)
WHERE
   ISDATE(CHQ_DATE) = 1;

--reset DATEFORMAT back to whatever it was
"
12450,70623,Looping Through Dates in strSQL in Access VBA,"CurveID = 15

Dim i As Integer    
For i = 0 to 76
    MaxOfMarkAsofDate = #7/22/2015# - i

    'Your inner code here '
Next i

End Sub
"
2456,23543,SQL auto incremental with condition,"
TABLE: Transaction
       idTransaction  INT NOT NULL AUTO_INCREMENT PRIMARY KEY

TABLE: TransactionWorker
       fkTransaction  INT NOT NULL
       fkWorker       INT NOT NULL

TABLE: Worker
       idWorker       INT NOT NULL PRIMARY KEY
"
34972,5658,Append string to the query result,"SELECT a = 'rajat' + tableB.a
FROM dbo.b tableB
WHERE tableB.b >= (SELECT TOP 1 c FROM d ORDER BY e DESC)
"
1580,29866,TSQL: Update values by using With statement?,"UPDATE myTable 
SET description = newdesc
FROM Pieces
WHERE Pieces.id = myTable.itemid
"
2020,59311,How can I convert a Sql Server 2008 DateTimeOffset to a DateTime,"declare @createdon datetimeoffset
set @createdon = '2008-12-19 17:30:09.1234567 +11:00'

select CONVERT(datetime2, @createdon, 1)
--Output: 2008-12-19 06:30:09.12

select convert(datetimeoffset,CONVERT(datetime2, @createdon, 1))
--Output: 2008-12-19 06:30:09.1234567 +00:00
"
23720,37652,SQL loop through an array and run a query multiple times,"select firstname, lastname
FROM (
  SELECT firstname, 
         lastname, 
         row_number() over (partition by status_id order by random()) as rn
  FROM calls 
  WHERE status_id = ANY (ARRAY [1,2,3,4,5])
) t
where rn <= 50;
"
37345,55129,"Using Oracle to fetch last ten days of sales, even if day has none","SELECT 
    count(sales.for_Date) 
FROM 
   (SELECT 
       Trunc(current_date) - (LEVEL - 1) as d
   FROM 
       Dual CONNECT BY Level <= 10) as DateRangeTbl
LEFT JOIN
    sales 
ON
    Sales.for_Date = DateRangeTbl.d
GROUP BY
    DateRangeTbl.d
"
39925,62625,Creating SQL users and restricting their permissions,"
--Replace db with your database name
USE db

--Create a database role
CREATE ROLE db_execonly

--Grant EXEC permissions to the role
GRANT EXECUTE TO db_execonly

--Add users to the new role
EXEC sp_addrolemember 'db_execonly', 'user1'
EXEC sp_addrolemember 'db_execonly', 'user2'

--Deny permissions to specific objects for user2
DENY EXEC ON OBJECT::dbo.usp_sproc1 TO user2
DENY EXEC ON OBJECT::dbo.usp_sproc2 TO user2
"
31691,17539,How I select record that not appear in another table,"SELECT Movies.* FROM Movies LEFT JOIN Rating ON Movies.mID = Rating.mID WHERE Rating.mID IS NULL
"
13323,72466,how to add a table to sql and define it to existing table,"ALTER table phpbb_topics
ADD poll_show_votes TINYINT(2) UNSIGNED NOT NULL DEFAULT 0
"
34988,45294,Sequential scan in postgres is taking surprisingly long. How do I determine the hardware bottleneck?,"51sec * 120MB/sec ~ 6GB
"
9041,35981,SQL Select exact matches to multiple items with duplicate ID's,"SELECT PERSON
FROM SPEAKS
WHERE LANG IN( 'French', 'Russian', 'Italian')
GROUP BY PERSON
HAVING COUNT(DISTINCT LANG) = 3
"
11629,18600,Copy data from one existing row to another,"INSERT INTO table (comment, otherCol1, otherCol2, otherCol3)
SELECT 'Some comment', otherCol1, otherCol2, otherCol3 FROM table
WHERE id=existingRowId;
"
10377,38807,Report Parameter validation in ssrs report,"Function CheckDateParameters(StartDate as Date, EndDate as Date) as Integer
Dim msg as String
     msg = """"
     If (StartDate > EndDate)  Then
 msg=""Start Date should not be later than End Date""
     End If
     If msg <> """" Then 
 MsgBox(msg, 16, ""Report Validation"")
 Err.Raise(6,Report)                    'Raise an overflow
     End If
End Function
"
13178,48174,How to select the row with highest value from the result of an existing query?,"SELECT fcategory,sum(fquantity*fprice) AS qty FROM items GROUP BY fcategory 
order by qty desc limit 1
"
21011,59751,Combine Table Results in a Relational Database,"SELECT tt.TOKENTYPE_NAME, t.TOKEN_NAME 
FROM TOKENS AS t
JOIN TOKENTYPES AS tt
    ON tt.TOKENTYPE_ID = t.TOKENTYPE_ID
"
37787,22805,Simple Joining SQL on two fields,"select b.name, 
    b.date, 
    sum(case when product='Apple' then qty end) Apples,
    sum(case when product='Banana' then qty end) Bananas
from buyers b
    join purchases p on b.name = p.name and b.date = p.date
group by b.name, 
    b.date
"
30381,23343,MySQL LEFT JOIN with optional value in second table,"  SELECT Projects.*, 
          UserLicenses.* 
     FROM Projects 
LEFT JOIN UserLicenses 
       ON Projects.id = UserLicenses.project_id 
          and UserLicenses.user_id = 12 
          and UserLicences.Question = '6*7'
          and UserLicences.Answer = 42
 ORDER BY name ASC
"
38102,61510,MySQL query to update list counts,"UPDATE lists l
JOIN   (SELECT   listid, COUNT(*) AS cnt 
        FROM     list_items 
        GROUP BY listid) li ON l.listid = li.listid
SET    l.subscribecount = cnt
"
39196,39280,Optimizing query still takes a bit long time,"SELECT DISTINCT A.MBLNR
FROM MKPF A LEFT JOIN
     MSEG B
     ON B.SMBLN = A.MBLNR AND AND B.XBLNR_MKPF = '0150525913'
WHERE A.XBLNR = '0150525913' and A.MANDT='368' and B.SMBLN is null;
"
11716,67136,Replacing the last characters of a string value with the id of the table,"UPDATE accounts
SET account_id=CONCAT(LEFT(account_id,9), LPAD(id, 4, '0'))
"
25547,25849,Oracle SQL Adding IF statement,"UPDATE PS_Z_TREND_NOW_TBL a 
  SET STATUS = ( CASE WHEN COUNT(SEC.IS_AW_AUTH_NAME)  > 0 then 'M'
                 ELSE null END )
FROM PS_IS_AW_SECURITY sec 
WHERE sec.IS_AW_AUTH_NAME LIKE '%Manager%'
"
31863,47594,Remove double join results from query,"select *
from tblTagGlass ttg
inner join tblTagGlass ttgC ON
ttg.JobID = ttgC.JobID
AND ttg.PartCode = ttgC.PartCode
where (ttg.TagHeight != ttgC.TagHeight OR ttg.TagWidth != ttgC.TagWidth)
AND ((ttg.TagHeight >= ttgC.TagHeight AND ttg.TagWidth >= ttgC.TagWidth) 
    OR (ttg.TagHeight > ttgC.TagHeight AND ttg.TagWidth < ttgC.TagWidth))
order by ttg.PartCode
"
11373,12407,SQL Server 2005 UDF to make a table data-type of self referencing table data,"CREATE FUNCTION GetEmployees  
(  
  @EmployeeId int
)
RETURNS TABLE 
AS
RETURN 
(
  WITH yourcte AS
  (
    SELECT EmployeeId, ManagerID, Name
    FROM Employees
    WHERE EmployeeId = @EmployeeId
    UNION ALL
    SELECT e.EmployeeId, e.ManagerID, e.Name
    FROM Employees e
    JOIN yourcte y ON e.ManagerID = y.EmployeeId
  )
SELECT EmployeeId, ManagerID, Name
FROM yourcte
)
"
21028,10516,Inserting a new indicator column to tell if a given row maximizes another column in SQL,"Select PRODUCT_ID_1, PRODUCT_ID_2 ,SCORE,
(Case when b.Score=
(Select Max(a.Score) from TableName a where  a.PRODUCT_ID_1=b. PRODUCT_ID_1) 
then 1 else 0 End) as IS_MAX_SCORE_FOR_ID_1 
 from TableName b
"
13860,23546,"SQL Query, Selecting 5 most recent in each group","SELECT c1.*
FROM codes c1
LEFT OUTER JOIN codes c2
  ON (c1.language_id = c2.language_id AND c1.time_posted < c2.time_posted)
GROUP BY c1.id
HAVING COUNT(*) < 5;
"
29375,41091,SQL count the number of foods supplied by each supplier even if they did not supply anything,"SELECT 
    a.supplier_id ,
    b.supplier_name ,
    count(a.supplier_id) AS ""number of foods"" 
FROM  
    l_suppliers b , 
    LEFT JOIN  l_foods a ON  a.supplier_id = b.supplier_id  
    GROUP BY  b.supplier_id ,b.supplier_name 
    ORDER BY  b.supplier_id
"
32184,74272,Access - Report Formating and Display,"TRANSFORM iif(Count(*)>0,""Y"",""N"") AS Val
SELECT Year(YourDate) AS Y, Month(YourDate) AS M
FROM YourTable
GROUP BY Year(YourDate), Month(YourDate)
PIVOT Day(YourDate) In (""01"",""02"",""03"",""04"",""05"",""06"",""07"",""08"",""09"",""10"",""11"",""12"",""13"",""14"",""15"",""16"",""17"",""18"",""19"",""20"",""21"",""22"",""23"",""24"",""25"",""26"",""27"",""28"",""29"",""30"",""31"");
"
20692,28649,SQL Update - Multiple Columns,"update tbl1
set col1 = a.col1, col2 = a.col2, col3 = a.col3
from tbl2 a
where tbl1.Id = 'someid'
and a.Id = 'differentid'
"
39419,19761,Using a select case statement to compare field values,"select isnull(.. Massive subquery here..., FirstName)
"
31651,12554,Can this simple select be improved using GROUP BY or HAVING?,"SELECT COUNT(DISTINCT store_code), supplier_code
FROM myTable
GROUP BY supplier_code
HAVING COUNT(DISTINCT store_code) >= 4
ORDER BY 2
"
16695,1193,Categories datatype,"UserID      FirstName       
1           Bob
2           John

HobbyID     HobbyName       
1           Golf
2           Photography     

UserHobbyID UserID  HobbyID 
1           1       1   
2           1       2
3           2       2
"
24648,35780,Oracle SQL: Need help updating a record based on a sum of values in child tables,"update crates cr set cr.total_pieces = 
(
    select sum(bu.pieces) pieces from crates cr
    join boxes bo on bo.crate_id = cr.id
    join buckets bu on bu.box_id = box.id
    where crate.id = cr.id
    group by crate.id
);
"
30098,67873,Inaccurate results with MySql query,"SELECT i.imports, e.exports, s.size
    FROM size AS s
    LEFT JOIN (SELECT size_id,sum(weight) AS imports FROM import_size GROUP BY size_id) AS i ON s.id=i.size_id
    LEFT JOIN (SELECT size_id,sum(weight) AS exports FROM export_size GROUP BY size_id) AS e ON s.id=e.size_id
"
326,39618,How do I return rows with a specific value first?,"SELECT *
FROM `Users`
ORDER BY (`city` = 'New York') DESC, `city`
"
25092,41515,Select all users with one role and one role only - many 2 many relationship,"SELECT users.*, COUNT(*) AS role_count, 
       SUM(case roles.name when 'user' then 1 else 0 end) AS IsUser
FROM users
JOIN roles_users
 ON users.id = roles_users.user_id
JOIN roles
 ON roles_users.role_id = roles.id
GROUP BY users.id
HAVING COUNT(*) = 1
AND SUM(case roles.name when 'user' then 1 else 0 end) = 1
"
26309,27478,Using Aggregate to sum rows SQL,"select con, min(line_no), sum(wgt), pallet
from dwd_temp 
group by con, pallet
"
37487,43208,How to avoid using a subquery,"SELECT A,B FROM table_name
WHERE NOT (A = 'EF' AND B = 'RUI')
"
32350,52886,Average of Average in one row,"SELECT avg( col1 + col2 + col3)/3.0 FROM tbl
"
17203,13659,Two columns in subquery in where clause,"SELECT s.period, s.year, s.amount 
FROM salaries s
where (s.year, s.period) in (select year, period from periods)
"
2409,55587,What Does The String '{?District}' evaluate to in SQL,"select '{?District}'
"
17288,7657,"Can I create in a view an atribute for each tuple, enumerating it?","CREATE VIEW vw_table1
AS
SELECT rownum a , b, c, d
  FROM table1
"
22056,19147,evaluation function in oracle sql,"select (case when 1>2 then 1 else 0 end)
from dual
"
36797,20707,please help me rewrite a simple sql into a NHibernate Criteria,"var loginNames = session
    .CreateCriteria<SimpleUsers>()
    .Add(Restrictions.In(""loginName"", new[] { ""admin"", ""oscar"", ""stig"" }))
    .SetProjection(Projections.Property(""loginName""))
    .List<string>();
"
39412,63442,SQL 2 Inserts based on return of first,"declare @countryid int

Insert into country (Name) values('canada');
SELECT @countryid = SCOPE_IDENTITY()

Insert into provinces (CountryId, Name) values (@countryid,'ontario'); 
"
32676,20231,select from unpopulated table - IS NULL does not work,"where 
Sp.sprite_change_ind is null
and sh.TRAN_REQUEST_DATE between sysdate-1 and sysdate
and (sf.stcr_term_code = '201401' or sf.stcr_term_code = '201402')
AND SV.RSTS_ENRL = 'Y'
and trim(NL.DGMR_DEGS_CODE) is null
"
12209,67059,Grouping by Fiscal Year (Oracle),"select 'FY'||TRUNC(date + 83, 'YYYY') as FY, Site, count(*)
from mytable
group by 'FY'||TRUNC(date + 83, 'YYYY'), site
"
12100,67282,Postgresql trigger run non stop?,"CREATE TRIGGER updateTotalsalary 
AFTER INSERT OR UPDATE 
ON salary 
FOR EACH ROW
WHEN (pg_trigger_depth() = 0)
EXECUTE PROCEDURE reCount();
"
33968,55110,Grabbing date records that are exactly a month or more away,"SELECT COUNT(*)
FROM subscriptions
WHERE DAYOFMONTH(created_at) = DAYOFMONTH(NOW())
"
8315,38090,SQL query that combines 3 tables,"select StaffId, fName, lName, sum(Quantity) 
from DeliveryStaff ds, Orders o, OrderItems oi 
where StaffId = DeliveryStaffId 
  and o.OrderId = oi.OrderId 
group by StaffId, fName, lName
"
25989,20519,MySQL Like function only works on some tables,"SELECT name FROM table WHERE name LIKE '%'
"
28762,39958,How to get a value in a row when searching in a Database in delphi?,"var Query : TQuery;
    PIN   : string;

begin
  Query.Sql.Text := 'SELECT pin FROM table WHERE id = value'
  Query.Open;
  PIN :+ Query.FieldByName('pin').AsString;
  Query.Close
end;
"
31796,59302,Insert into SELECT with composite primary key failing SQL Server 2008,"    with    drg as (SELECT DISTINCT patientID, admissionDate, dischargeDate, drgCode from largeTable)
    update  s
    set     s.drgCode = l.drgCode
    from    smallTable s join drg l on 
                s.patientId = l.patientId and
                s.admissionDate = l.admissionDate and
                s.dischargeDate  = l.dischargeDate
"
30551,7616,Grouping & Aggregation about Character linking[in SQL HANA DATABASE]," ddply(tab, .(time, id), summarise, product = paste(product, collapse=""&""))
"
36598,51991,How do I manipulate data out of a variable in powershell,"write-host $DBname.""Channel Database Name""
"
10935,27114,Optimizing MySQL Join Table Query (HABTM Object Relationship),"SELECT *
  FROM categories_widgets cw
  JOIN widgets w  ON w.id = cw.widgets_id
 WHERE cw.category_id = $my_cat_id
 ORDER BY w.id DESC
 LIMIT 0,10
"
10323,10059,create a table from another and a literal,"CREATE TABLE TEST(ID INT, NAME VARCHAR);
INSERT INTO TEST VALUES(1, '10');
CREATE TABLE TEST2 AS 
SELECT CAST(ID AS VARCHAR) A, CAST(NAME AS INT) X FROM TEST;
"
1446,58633,Is there a way to SELECT by a part of a date in SQL?,"SELECT * FROM table WHERE datetime LIKE '2007-05%'
"
38411,74980,Why am I getting duplicate records for this query? I am performing a Left Outer Join,"SELECT distinct  
    T0.CardCode
    ,T1.CardName
    ,T0.State

FROM CRD1 T0 LEFT OUTER JOIN OCRD T1 ON T0.CardCode=T1.CardCode
"
10534,15762,Using User Defined Functions and performance?,"CREATE TABLE #tempTable (Value int primary key);
INSERT INTO #tempTable 
SELECT DISTINCT Value 
FROM dbo.func_ConvertListToTable('4,6,5,1,2,3,9,222',',')
"
23176,60511,SQL select sum from other table as a column via junction table,"SELECT E.EmployeeName, COUNT(T.TaskID) AS [Number of Tasks], SUM(T.Duration) as [Time Spent]
FROM Employee E, EmployeeTasks ET, Tasks T
WHERE ET.EmployeeID = E.EmployeeID AND ET.TaskID = T.TaskID
GROUP BY E.EmployeeName
"
2483,53252,SQL select row dependent on time last chosen,"select * 
from Table t
where lastRanAt < dateadd(mi, (t.refreshTime * -1), getdate())
"
31235,59651,Join two tables only if a value is null or a specific number,"...
from product
     left join provider ON product.provider_id = provider.id  
     left join product_attribute on product.id = product_attribute.product_id
               and product_attribute.attribute_id = 8
where `product`.`active` = '1' 
and `product`.`url` IS NOT NULL  
and `product`.`provider_id` = '7' 
...
"
38481,6747,"SQL Sort table place ""Do not use"" records at bottom","select *
from yourtable
order by case when comment = 'Do not use' then 1 else 0 end, comment, cp_code
"
14362,21377,using order by for month with year,"select Column1
from YourTable
order by convert(datetime, left(Column1, 3)+' 01, '+right(Column1, 4), 107)
"
38647,49703,Finding the total amount for my query,"Select ID, OrderID, Item, Price from customerOrders
Where [Order] = 1
UNION ALL
Select NULL, NULL, NULL, SUM(Price) from customerOrders
Where [Order] = 1
ORDER BY CASE WHEN ID IS NULL THEN 2 ELSE 1 END, ID;
"
26574,51491,Slow Update When Using Oracle PL/SQL Table,"UPDATE aTable 
SET aColumn = 1 
WHERE id IN (SELECT /*+ cardinality( pt 10 ) */ 
                     COLUMN_VALUE 
              FROM   TABLE (pTable) pt ); 
"
35958,36732,Zend_Db order by field Value,"$name = 'John';
$order = new Zend_Db_Expr($this->getAdapter()->quoteInto(""name = ?"", $name) ."" DESC, `name`"");
$select = $this->select();
$select->order($order);
return $this->fetchAll($select);
"
13973,64408,Is there a quick way to change the keys and foreign keys of my database during the development stage with script,"ALTER TABLE x ADD COLUMN y uniqueIdentifier null
GO
UPDATE TABLE x SET y = NEWID() --Or NEWSEQUENTIALID() if its safe
GO
ALTER TABLE x ALTER COLUMN y uniqueIdentifier NOT NULL
GO
ALTER TABLE x DROP CONSTRAINT PK_PrimaryKeyConstraintName
GO
ALTER TABLE x DROP COLUMN PrimaryKeyColumn
GO
ALTER TABLE x ADD CONSTRAINT PK_NewPrimaryKeyConstraint PRIMARY KEY CLUSTERED 
( 
    y ASC 
)
GO
"
9719,6453,Ruby dbi select statement returning BigDecimal?,"1.9.3-p194 :014 > numberOfAccounts
=> [[#<BigDecimal:119cd90,'0.123E3',9(36)>], [#<BigDecimal:119cd18,'0.456E3',9(36)>]] 
1.9.3-p194 :015 > numberOfAccounts.flatten!.collect!(&:to_i)
=> [123, 456] 
1.9.3-p194 :016 > numberOfAccounts
=> [123, 456] 
"
11949,49547,Zend merge 2 SQL statements in nested array,"$jsonArray = array();
foreach ( $results as $result ) {
    $jsonArray[] = array( 'personal_data' => array(
        'id' => $result->id,
        'name' => $result->name,
        'street' => $result->street,
        ...
    ));
}

return $jsonArray;
"
32999,49941,Counting rows from table,"SELECT hg.name,
(SELECT COUNT(*)
FROM HOSTS h
WHERE h.hostgroup_id = hg.id)
FROM HOSTGROUPS hg
"
31393,73934,MySQL filter out self-references,"SELECT e.*
FROM `event` e            # 'e' from 'event'
  LEFT JOIN `event` d     # 'd' from 'derived'; `LEFT JOIN` gets ALL entries from `e`
    ON e.id = d.derivedfrom_id    # match an event `e` with all those `d` derived from it
WHERE d.id IS NULL        # keep only events `e` without derived events `d`
;
"
7919,3358,How do I consolidate/combine data when using a SQL join?,"SELECT events.title, 
       events.id, 
       events.location, 
       events.date, 
       Sum(active_quote_items.cost) 
FROM   active_quote_items 
       LEFT JOIN events 
              ON active_quote_items.event_id = events.id 
GROUP  BY events.title, 
          events.id, 
          events.location, 
          events.date 
"
26,25331,Stored procedure for counting file types,"SELECT Filetype,
       COUNT(*) AS TypeCount
FROM tbl_Uploads
GROUP BY Filetype
"
1517,66864,Calculate Interval based on Identifiers,"select id,cat,max(realtime)-min(realtime) as interval
from table
group by 1,2;
"
37117,50163,PostgreSQL to OracleSQL query convertion help needed,"select sum(length(REGEXP_SUBSTR(word, '^[A-Z]*'))) as capitalized_sum from mytable;
"
37461,29685,How to use ROWNUM for a maximum and another minimum ordering in ORACLE?,"Select * 
from  (MY SELECT STATEMENT order by A desc, B) 
where ROWNUM = 1;
"
24721,24029,sort within category and limit 5 for this hive table,"select USER,collect_set(ITEM) from (
    select USER, ITEM,row_number () over (partition by USER order by SCORE desc) RN 
    from A
) t1
where RN <= 5
group by USER;
"
39225,747,getting one to one result from one to many relationship,"select * 
from order
where order_number in
    (select order_number
     from order_details
     group by order_number
     having count(*) = 1)
"
12332,5502,SQL Query Join Issue,"with userCTE as (
    select
        u.userId ,
            c.columnId
    from tblUsers as u
        cross join tblColumns as c
)

select 
    u.* ,
    Coalesce(cd.ColumnDatacontent, 'N/A') AS columnDataContent
from userCTE as u
    left join tblColumnData as cd
        on u.columnId = cd.columnId and u.userID = cd.userId
"
34376,56474,dynamic update table from csv on multiple columns,"MERGE PermanentT AS [TARGET]
USING #TempT AS [SOURCE]
ON [TARGET].PrimId = [SOURCE].PrimId
    AND [TARGET].MyDates = [SOURCE].MyDates
WHEN MATCHED AND [TARGET].PRICE <> [SOURCE].PRICE
THEN UPDATE SET [TARGET].PRICE = [SOURCE].PRICE
WHEN NOT MATCHED
THEN INSERT (PrimID, myDate, myPrice) 
VALUES (SOURCE.PrimID, SOURCE.myDate, SOURCE.myPrice);
"
7989,62712,Accessing Data from Stored Procedure using CallableStatement,"   cstmt = conn.getNewCallableStatement(""{call MY_PLSQL_PACKAGE.MY_PROC(?,?,?)}"");
           cstmt.setString(1, stringOutput1);
           cstmt.setString(2, stringOutput2);
           cstmt.registerOutParameter(3, OracleTypes.CURSOR);
           cstmt.execute;
"
12025,21583,SQL: count the number of values two distinct entries have,"select t1.name as name1, t2.name as name2, count(*)
from table t1 inner join
     table t2
     on t1.Lived_in = t2.Lived_in
     and t1.name > t2.name
group by t1.name,t2.name
"
11218,39152,SQL Select From 2 different tables,"SELECT a.request_id,
a.request_date,
a.customer_id,
a.request_type,
a.target_customer,
a.customer_id,
a.agent_number,
a.merchant_number,
a.bill_reference,
d.loan_id,
a.amount
 FROM requests a left join  loans d on a.loan_id=d.loan_id
  where d.loan_status=12
"
20354,1085,sql modifying entries by adding a space,"Update
   table 
Set
   mydata = '$ ' + Right(mydata, Len(mydata)-1)
Where
   mydata Not Like '$ %'
"
11983,55496,SQL: Join table onto itself,"SELECT T1.Org, T1.Dest, T1.Amount, T2.Org, T2.Dest, T2.Amount, T3.Org, T3.Dest, T3.Amount
FROM dbo.RateTable T1 JOIN
     dbo.RateTable T2
     ON T1.Org = T2.Org JOIN
     dbo.RateTable T3 
     ON T1.Dest = T3.Dest AND T2.Dest = T3.Org
----------------------------------------^
WHERE T1.Amount > (T2.Amount + T3.Amount);
"
30684,19049,SQL question conjunction,"select account
from tbl
where item in ('apples','pears')
group by account
having count(distinct item) = 2
"
2277,62954,Transpose data with MS Access SQL,"select year, quarter, 'P1' as value, p1
from table1
union all
select year, quarter, 'P2' as value, p2
from table1;
"
26832,875,How to detect ranges of IDs with the same number of records inside them,"WITH
  sequenced
AS
(
  SELECT
    ROW_NUMBER() OVER (ORDER BY running_id) - 1 AS sequence_id,
    *
  FROM
    RUNNING_COLA_IS_AFRICA
)
SELECT
  sequence_id / 50     AS group_id,
  MIN(running_id)      AS running_id_first,
  MAX(running_id)      AS running_id_last,
  COUNT(*)             AS size_of_group
FROM
  sequenced
GROUP BY
  sequence_id / 50
"
31022,2071,Selecting all info from nodes with the same name,"SELECT 
    X.value('.','int') as 'TextResult'
FROM Answers as 'a'
     CROSS APPLY a.answer.nodes('/DocumentElement/Screening/TextResult') as answers(X)
"
15566,58350,SQL Query Joins,"SELECT *
FROM (
    SELECT 
        week,name,effort 
    FROM [Group$]
) as s
PIVOT
(
    SUM(effort)
    FOR [name] IN ('quentin','joe','tracy')
)AS pvt
"
32199,28957,"Query SQL distinct field with max date, returning all fields from table","SELECT a.columns
FROM table a
WHERE a.ID IN
(SELECT TOP 1 b.id FROM table b WHERE b.Name = a.Name ORDER BY b.Date DESC)
"
26084,51087,Tag all rows with the same values in Redshift SQL,"d1, i1, f1
d1, i2, f2
d2, i2, f3,
d3, i3, f3
"
30907,17334,Cut some part of a cell,"select CONTACTNAME, SUBSTRING (EMAIL,CHARINDEX('@',EMAIL,0)+1,LEN(EMAIL)) as Email
from CONTACTS result
"
3823,25161,Database column type change causes formatting issues,"SELECT CONVERT(VARCHAR(50), getdate(), 121) 
"
33825,64836,SQL Query: LIKE x%,"WHERE ColA LIKE '%2[%]%' 
"
19578,21896,Structuring a Daily Sales Database,"# On Jan 5, 2011, Provider A makes $500 total off of its products
SELECT prov.*, SUM(sales.price)
FROM
    provider AS prov
INNER JOIN
    sales_transaction AS sales on sales.provider_id = prov.id
WHERE
    provider.name = 'Provider A'
AND
    sales.created_at BETWEEN '2012-01-05 00:00:00' AND '2012-01-05 23:59:59'
GROUP BY
    prov.id
"
23325,44349,generate random 0 or 1 - Oracle,"select round(DBMS_RANDOM.VALUE (0, 1)) from dual
"
13943,33000,Why I cannot select from some selected results?,"select * from
(
select * from dbo.[sometable]
) as X 
"
14157,30550,SQL - how to query by item_id and last_updated date when updated_date is null in many cases?,"select item_id , item_name, update_date, from items order by update_date desc , item_id  desc;
"
32149,52569,MYSQL add row and count from diffrent table,"select users.user, users.id, count (species.name)
from users left join species 
on users.id = species.user
group by users.user, users.id
order by count (species.name) desc
"
18958,43958,"rails 3 - SQL pass variable to ""order""","[code].order(""SUM((prices.price * #{params[:prod_id].to_i}) + profiles.shippingCost)"").all
"
3129,10509,How can I achieve IF ELSE under clause of WHERE?,"select * from some_table
   where 
    record_valid_flg = 1 
    and CASE
      WHEN user_param = '1' THEN age > 20
      ELSE name like 'Mr%'
     END;
"
32143,53023,Is there an alternative to the MULTISET operator that avoids sub-queries?,"select employee_id, 
       cast(collect(sale_type(product_id, sale_amount)) as sales_type)
from employee_sales
group by employee_id
"
5630,10489,sql join four tables and calculate average,"SELECT Table2.Years,Table1.TeamName,IFNULL(AVG(TeamWinCount), 0) AS TeamWinCount
FROM Table2
CROSS JOIN Table1
LEFT JOIN Table4 ON Table1.TeamId=Table4.TeamId AND Table2.YearsId=Table4.YearsId
GROUP BY Table2.Years,Table1.TeamName
"
913,67300,Subquery with multiple results combined into a single field?,"  SELECT i.name AS itemname,
         GROUP_CONCAT(s.id ORDER BY s.id) AS salesids,
         GROUP_CONCAT(s.date ORDER BY s.date) AS salesdates,
         GROUP_CONCAT(s.containerid ORDER BY s.containerid) AS containerids,
         GROUP_CONCAT(c.name ORDER BY c.name) AS containertypes
    FROM ITEMS i
    JOIN SALE s ON s.id = i.salesid
    JOIN CONTAINERS c ON c.id = s.containerid
GROUP BY i.name
"
1552,16168,Validate a value in sql using and if exists statement?,"IF NOT EXISTS (SELECT ...)
BEGIN
    -- do all the things
END
"
33740,22461,MySql - get user rank by result,"select count(*)+1
from table t
where score > SCORE_PARAMETER;
"
30400,59154,SQL Subtract Min And Max,"SELECT WSN, MAX(BASE) as MaxBase, MIN(TOP) as MinTop INTO memory FirstPass FROM PERFS GROUP BY WSN
;
SELECT (MaxBase - MinTop) as Calc FROM memory FirstPass
"
33517,67062,Access: Names of Indices,"drop index primarykey on bar
"
11358,67581,SQL Pivot Problem - multiple aggregates?,"select * 
from Example
unpivot 
(
numbers 
for type in (x,y,z)
) as p
pivot 
(
Max(numbers)
for site in ([A],[B],[C])
) as q
"
24974,10038,Constraint for bit value in TSQL,"CREATE VIEW dbo.DefaultBarcode
WITH SCHEMABINDING
AS
    SELECT StockID, Barcode
    FROM dbo.Barcode
    WHERE IsDefault = 1
GO
CREATE UNIQUE CLUSTERED INDEX UC_DefaultBarcode ON dbo.DefaultBarcode (StockID)
GO
"
17151,64050,Find number of joins by a reference table,"SELECT b.CODE as code, COUNT(a.id) AS a_count
FROM b LEFT JOIN (j JOIN a ON j.a_id = a.id) ON j.b_id = b.id
GROUP BY b.CODE ASC
"
28524,670,SQL Server - Select first row that meets criteria,";WITH CTE
AS (
    SELECT  B.objectIdA
           ,A.objectIdB
           ,ROW_NUMBER() OVER (PARTITION BY B.objectIdA ORDER BY A.objectIdB DESC) rn
    FROM TableA A 
    INNER JOIN TableB B ON A.objectIdA = B.objectIdA
   )
SELECT C.objectIdA
      ,C.objectIdB
FROM CTE 
WHERE rn = 1
"
29521,9903,"Binary ""OR"" operation on a SQL column",";with PowersOf2
as
(
    select 1 as Number
    union all
    select A.Number * 2 from PowersOf2 as A where A.Number < 64
)
select P.PERSON_NAME, sum(distinct P.PERSON_DAY & PowersOf2.Number)
from PERSON_DAYS as P
    left outer join PowersOf2 on PowersOf2.Number <= P.PERSON_DAY
where P.PERSON_ID = @myId
group by P.PERSON_NAME
"
15003,42655,Debug SQL in pgAdmin when SQL contains variables,"PREPARE test AS SELECT * FROM users WHERE first_name = $1;
EXECUTE test ('paul');
DEALLOCATE test;
"
22068,48963,concatenation in sql not working as expected,"select a.name, a.phone, b.mobile, b.relation,
case
    when a.phone<>'' and b.mobile<>'' then CONCAT(a.phone, ' ',  b.mobile)
    when a.phone<>'' and b.mobile='' then a.phone
    when a.phone='' and b.mobile<>'' then b.mobile
    else ''
end as phone
from abc a join bcdb where a.id=b.id and b.relation='a123'
"
21804,43241,SQL Server FOR EACH Loop,"with cte as
(select 1 i union all
 select i+1 i from cte where i < 5)
select dateadd(d, i-1, '2010-01-01') from cte
"
13071,74609,Check if connection to SQL Server is available with classic ASP,"<%
    set conn = CreateObject(""ADODB.Connection"")
    on error resume next
    conn.open ""remote connection string""
    if err.number <> 0 then
        response.write ""unable to connect, trying other""
        conn.open ""alternate connection string""
    end if
    on error goto 0
%>
"
2119,36694,SQL count occurrence of value by distinct id,"SELECT a1.FlightId, COUNT(a2.FlightId) 
FROM A a1 LEFT JOIN A a2 ON a1.id = a2.id
AND a2.Roles = 'Steward'
GROUP BY a1.FlightId;
"
974,68159,How to select the relative complement of a table B in a table A (A \ B) in an SQL-Query?,"select * from subjects where id not in (select subject.id from categories )
"
37,26767,SQL Join using Parallel Processing,"/*+ parallel(4) */
"
18864,51820,Join a MySQL table with itself,"SELECT t1.id as id,
    t1.text as english,
    t2.text as translated
FROM translation t1
    LEFT JOIN translation t2 on t1.id = t2.id
        and t2.locale = :locale
WHERE t1.locale = 'en_US'
ORDER BY translated
"
8485,39677,MySQL GROUP BY field with highest COUNT (based on JOIN),"( SELECT ... WHERE ... AND pattern.direction='inbound' ... LIMIT 1)
UNION ALL
( SELECT ... WHERE ... AND pattern.direction='outbound' ... LIMIT 1 );
"
32950,7506,Get all rows apart from first and last,"SELECT * FROM waypoint 
WHERE ID NOT IN(
    (SELECT MIN(ID) FROM waypoint WHERE booking_id=""1""), 
    (SELECT MAX(ID) FROM waypoint WHERE booking_id=""1"")
  )
AND booking_id=""1"";
"
4670,57749,SQL select is not picking other column's value in the same row as the aggregated row,"select 
((close-open)/open) as daychange,
 date 
from prices
order by daychange desc
limit 1
;
"
24229,16188,Counting twice within one query,"SELECT Department,
   COUNT(DISTINCT ID) AS total, 
   COUNT(DISTINCT CASE WHEN course LIKE 'AS%' THEN id END) Total_AS 
FROM schedule 
GROUP BY Department 
ORDER BY Department ASC 
"
37510,74991,"How to return a list of results in MySQL, WHERE only return one","select title from sakila.film f 
join sakila.film_actor fa on fa.film_id = f.film_id
where fa.actor_id = @id
"
26042,27291,Stored Procedure to Insert Data from one table to another with same column names,"CREATE PROCEDURE Schema.Proc
   (@C1 int)
AS
BEGIN
    INSERT INTO SmallTable(C1, C2, C3) --- Columns of smaller table
        SELECT C1, C2, C3 ---Columns of Master table
        FROM MasterTable
        WHERE C1 = @C1 --- Where value of C1 of Master table matches the value of @C1
END
"
33836,47421,How can I find the database path for iPhone/iPad device or iPhone/iPad simulator?,"NSString *databaseName = @""mainDB.sqlite"";
NSArray *documentPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *documentsDir = [documentPaths objectAtIndex:0];
databasePath = [documentsDir stringByAppendingPathComponent:databaseName];
"
2191,4185,Select TOP x records and return count,"select sum(impact)
from (select top 18 id, obsDate, impact
      from diseaseHits
      where diseaseID = 2 AND pCode = 3352 AND obsDate <= '2014/11/5 11:30:00 PM'
     ) t;
"
14759,42787,Is there an alternative to doing nested GROUP BYs?,"select id
from tbl 
group by id
having count(distinct loc) > 1;
"
33772,30299,Select rows from table where all columns in another are set,"SELECT t1.acr
FROM table1 t1
     LEFT JOIN table2 t2 on t2.ocd = t1.ocd AND t2.switch = 'Y'
GROUP BY t1.acr
HAVING COUNT(t2.ocd) = COUNT(t1.ocd)
"
31252,44218,Select from union tsql,"SELECT A
FROM
(
    SELECT A, B FROM TableA
    UNION
    SELECT A, B FROM TableB
) AS tbl
WHERE B > 'some value'
"
1758,4507,Getting highest primary key for specified column value,"SELECT id 
FROM   [QTRA410].[Admin].[qt_request] 
WHERE  id IN (SELECT Max(r1.id) 
              FROM   [QTRAX4619410].[QTRAXAdmin].[qt_request] r1
              join [QTRA410].[Admin].[qt_request]  r2 on r1.id = r2.id
       AND r2.requestcode = 'FOREMAN')
"
32226,15713,Grouping Mysql query contacts table by city,"SELECT  city, GROUP_CONCAT(name)
FROM    contacts
GROUP BY    city
"
23294,25330,SQL Listing multiple artists for a song,"SELECT `s`.`song_name`,
GROUP_CONCAT(`a`.`artist_name`) `artists`
FROM `assoc` 
JOIN `songs` s ON `s`.`song_id`=`assoc`.`song_id`
JOIN `artists` a ON `a`.`artist_id`=`assoc`.`artist_id`
GROUP BY `s`.`song_id`
"
27099,47596,Remove non-unique ids rows,"DELETE FROM myTable AS t1 
WHERE EXISTS (
    SELECT 1 FROM myTable AS t2 
    WHERE t1.ID=t2.ID AND t1.DateCreated<t2.DateCreated)
"
584,54396,Stop at first match in a sqlite query,"SELECT * FROM game WHERE id = 1 LIMIT 1;
"
32407,73869,Compare two tables and give the output record which does not exist in 1st table,"select T2.Name
from Table2 as T2
where not exists (select * from Table1 as T1 where T1.Name = T2.Name)
"
33301,47591,Need the more recent between two DATETIME's in SQL,"CASE
    WHEN COALESCE(@Date1, '1/1/1980') > COALESCE(@Date2, '1/1/1980')
    THEN @Date1...
    ELSE @Date2...
    END     
"
35058,37255,Combining data in sql,"select min(Id) as Id,max(job) as Job,max(FNAME) as FNAME,max(LName) as LNAME
from yourtable
"
3581,57444,"SQL statement to to find where items are of a type, contain a status, and are the most recent addition","SELECT ID, [Date Entered], Item, Status
FROM (SELECT *, ROW_NUMBER() OVER (PARTITION BY Item ORDER BY [Date Entered] DESC)'RowRank'
      FROM Table1
      WHERE Status = 'Ready'
      )sub
WHERE RowRank = 1
"
17424,17913,How to make 2 sql queries 1,"SELECT StatusReportID, 
       StatusReportTime, 
       CarNumber, 
       VehicleID, 
       DriverNumber, 
       DriverID, 
       VehicleStatus, 
       LocationX, 
       LocationY, 
       Speed, 
       Direction, 
       InvalidGPS 
FROM   dbo_VehicleStatusReport 
WHERE  StatusReportID > 
       ((SELECT max(StatusReportID) FROM dbo_VehicleStatusReport) - 3000)
"
35441,32024,order by in sql after subtracting column values,"SELECT t.id,
       t.start,
       t.end,
       t.start - t.end AS difference
  FROM TABLE t
ORDER BY difference DESC
"
7308,19271,"query that groups by a substring, returning the substring result and ordering by aggregates on the group","select SUBSTRING(TextData,1,25),
    count(*) as howMany,
    sum(Duration) as totalTime 
from [Tmp].[dbo].[tmp2] 
group by SUBSTRING(TextData,1,25)
order by 3 --3rd column
"
16615,23397,Sql Query - Selecting rows where user can be both friend and user,"select u.user_id, f1.status, f2.status
from user u left outer join friend f1 on f1.user_id = u.user_id and f1.user_friend_id = 1
            left outer join friend f2 on f2.user_friend_id = u.user_id and f2.user_id = 1
where u.name like '%'
"
16955,3056,SQL (MySQL): Match first letter of any word in a string?,"SELECT * FROM `articles` WHERE `body` REGEXP '[[:<:]][acgj]'
"
39545,51555,how to join these tables in sql,"SELECT 
    c.id 'client_id', g.Id 'group_id', ISNULL(cg.client_id)
FROM
    (client c 
    CROSS JOIN group g)
    LEFT JOIN client_group cg ON c.id = cg.client_id AND g.id = cg.group_id
"
27845,252,Running Individuals Reports,"  Select op_id
    ,count(op_id) as itemsOpened
    ,count(closed_by) as itemsClosed
  FROM dbo.Dealer_Track_Work 
  WHERE Date_Received between <cfqueryparam value=""10/13/2015"" /> 
    AND <cfqueryparam value=""10/26/2015"" />
    AND op_id IN (<cfqueryparam value=""192,229,123"" list=""true"">)
  GROUP BY op_id
  ORDER BY op_id ASC
"
7296,68114,How to add auto-increment to column in mysql database using phpmyadmin?,"ALTER TABLE your_table
MODIFY some_column INT NOT NULL AUTO_INCREMENT;
"
10160,14394,query that subtracts sum of one column from another,"SELECT x.*
     , x.a - SUM(y.b) 
  FROM my_table x 
  JOIN my_table y 
    ON y.date_created <= x.date_created 
 GROUP 
    BY x.id;
"
30288,21440,Entity Framkework 'like' statement query,"context.Table.Where(k => k.TURKCE_ADI.ToLower().Contains(""lpg"")).ToList();
"
17364,74414,android sqlite how to order by time,"return db.query(DBHelper.TABLETRANSACTIONS, null, null, null, null, null, C_TAG_SCAN_TIME + "" DESC"");
"
21898,66435,MySQL Query Of Two Tables,"SELECT name, email
FROM   members
WHERE  id IN (SELECT id
              FROM   profilefields
              WHERE  field1 = 'X' and field2 = 'Y')
"
6313,16613,MSSQL Recursive dateadd,";with cte as (
    select M_ID, STEP, DateTo, AddDays
    from #t1
    where STEP = 1
    union all
    select t.M_ID, t.STEP, dateadd(dd, c.AddDays, c.DateTo), t.AddDays
    from #t1 t
    inner join cte c on t.M_ID = c.M_ID and t.STEP = c.STEP + 1
)

select *
from cte
"
16934,55121,SQL Server: put select result in variable,"DECLARE @Result nvarchar(max)
DECLARE @Xml xml = (select * from master..spt_values FOR XML PATH)
SELECT @Result = CAST(@Xml.query('string(.)') as nvarchar(max))
PRINT @Result
"
11668,72546,Why does datediff return 1 day less than the actual difference?,"Select DATEDIFF(dd, '2014-09-22 09:14:01.850','2014-09-24 17:14:53.243') + 1
"
8002,48247,Database manipulation,"update contacts set title =@title, firstName=@firstName, middleName=@middleName, lastName=@lastName where contactID=@ContactID
"
29044,52403,SQL: grouping by number of entries and entry date,"select event_date,
  sum(case when cnt between 0 and 2 then 1 else 0 end) as ""0-2"",
  sum(case when cnt = 3 then 1 else 0 end) as ""3"",
  sum(case when cnt between 4 and 99 then 1 else 0 end) as ""4-99""
from 
    (select cast(event_time as date) as event_date, 
      name,
      count(1) as cnt
    from log
    group by cast(event_time as date), name) baseCnt
group by event_date
order by event_date
"
2698,17734,ORACLE Select from 3 tables,"select s.name,
  m.mark,
  c.definition
from students s
inner join marks m
  on s.id = m.id
inner join classes c
  on m.code = c.code
"
35480,18674,using order by with union in inner select queries,"select colname,1 as OrderCol from table where <cond1> 
union select colname,2 as OrderCol  from table 
where <cond2>  
order by OrderCol
"
4053,10785,Counting the rows of multiple distinct columns,"SELECT COUNT(DISTINCT(STR(a) + ',' + STR(b)))
FROM @YourTable
"
14193,62419,How can you get high and low values across group using a group by in MySQL?,"SELECT string, MIN(low), MAX(high)
  FROM table
 GROUP BY string
"
35127,58989,Extract text between two text delimiters (tags),"'.*MYSTART2#(.+?)\~.*'
"
1126,19548,Oracle cold backup,"SQL> recover database until cancel using backup controlfile;
ORA-00279: change 6846169 generated at 01/20/2016 16:00:29 needed for thread 1
ORA-00289: suggestion : +DATA
ORA-00280: change 6846169 for thread 1 is in sequence #521


Specify log: {<RET>=suggested | filename | AUTO | CANCEL}
cancel
Media recovery cancelled.
SQL> alter database open resetlogs;

Database altered.
"
542,59588,Solution to a complicated SQL query,"select user_name, new_status, status_change_date as StartTime,
       lead(status_change_date) over (partition by user_name order by status_change_date) as EndTime
from app_users
"
21490,35982,mysql max(date) not working,"SELECT  *
FROM    History
WHERE   symbol = $symbol AND
        date = (SELECT MAX(date) FROM History)
"
7136,44138,Select one column as multiple column on other table,"SELECT md.Doc_no, md.Doc_date, md.Doc_type, 
       mp1.Product_Details Item_details1, md.Item_qty1, md.Item_price1, 
       mp2.Product_Details Item_details2, md.Item_qty2, md.Item_price2 
FROM master_document md 
INNER JOIN master_product_table mp1 ON md.Item_code1 = mp1.ID 
INNER JOIN master_product_table mp2 ON md.Item_code2 = mp2.ID ;
"
32855,61846,Getting only day and month from a date field,"select to_char(your_date_column, 'mon-dd') from your_table
"
16490,15629,SQL Group By equivalent,"select cupcake
  from cupcake_rating
 where delicious_rating in ('Super Delicious', 'Mouth Heaven')
 group by cupcake
having count(distinct delicious_rating) = 2
"
15491,73851,Select record value based on date range,"select table1.*, fyyear, fymonth
from table1 
    inner join table2 
    on convert(date,convert(varchar(4),table1.year)+'-'+convert(varchar(4),table1.month)+'-'+convert(varchar(4),table1.day),120)
    between table2.stdate and table2.eddate
"
6161,63980,How to extract matched line of a multiline record in Oracle?,"select 
  customer_id,
  regexp_substr(exp_comment,'.*'||chr(10)||'(.*Export)', 1, 1, 'n', 1) as export
from export_comments 
"
16733,19217,"How to pass number of lines in ""select level from dual connect by level < ""?","SELECT t1.number 
FROM t t1
JOIN (SELECT LEVEL FROM dual CONNECT BY LEVEL<=(SELECT MAX(number) FROM t)) t2 
ON t2.level<= t1.number;
"
36324,36078,How to create a view spliting one column to 2 or more using a regular expression?,"SELECT REGEXP_SUBSTR(text, '[:digit:]{5}', 1, 1) AS first_refid,
       REGEXP_SUBSTR(text, '[:digit:]{5}', 1, 2) AS second_refid
  FROM TABLE
"
7312,9052,SQL to make new column(mySQL),"SELECT tableA.username as userA
    tableB.username as userB
FROM tableA
CROSS JOIN table B
WHERE tableA.username='abc'
    AND tableB.username='abcd'
    AND tableB.password='abcd';
"
20403,23567,Does SQL*Plus natively allow queries to run from the shell itself?,"sqlplus  -S user/password << EOF | grep Primx
select * from emp;
EOF
"
28764,18449,Access Update Statement: update according to current value,"UPDATE Table1
  SET recordTime = FORMAT(MID(recordTime, 4, 2) + '/' + 
                          LEFT(recordTime, 2) + 
                          MID(recordTime, 6), 'yyyy-mm-dd hh:nn:ss')
 WHERE recordTime LIKE '##/##/####*'
"
7536,18099,Join multiple detail tables with different design to master table,"SELECT  M.ID,
        M.Value,
        D.ID DETAILID,
        D.Value DetailValue,
        D.Date
FROM TABLE_MASTER M
LEFT JOIN ( SELECT *
            FROM TABLE_DETAIL1
            UNION ALL
            SELECT *
            FROM TABLE_DETAIL2) D
    ON M.ID = D.MASTER_ID
"
12012,48839,how to group by a field that has both select and count,"create table C as(
select a.id, a.date_id, 
SUM(CASE WHEN b.hits >= '9' THEN 1 ELSE 0 END)/COUNT(b.hits) AS percent 
from A a join B b
on a.id = b.id
group by 1,2) with no data primary index(id);
"
31168,60805,How can i get any database structure into xml using one sql query?,"select 
'exdb' [@DataBaseName],

(select t.table_name [@TableName],

 (select c.COLUMN_NAME [@ColumnName] 
    from INFORMATION_SCHEMA.COLUMNS c
    where c.TABLE_NAME = t.TABLE_NAME
  for xml path('Column'), type)

 from INFORMATION_SCHEMA.TABLES t
for xml path('Table'), type)

for xml path('DataBase')
"
19842,6465,Prolog Database: Why is program only running once?,"display(N) :-
    w(Order,_,Word,Class),
    ( N > Order -> write(Word), write(' '), write(Class), nl ; true ),
    fail .
"
16134,36791,How do i merge a table columns data into another table columns data SQL,"SELECT
    t1.Name AS [Name]
FROM 
    Table1 AS t1
UNION
SELECT
    t2.FName as [Name]
FROM 
    Table2 AS t2
"
28941,1552,.net datatable alphanumerical,"Dim myadapter As New MySqlDataAdapter(""SELECT * FROM core WHERE F1 = '"" & strdocument &""'"", dbConn)
"
31163,34404,select id that occur the most,"SELECT *
FROM (SELECT USER_ID,COUNT(comp_id) as numberr
      FROM COMPETITION
      GROUP BY USER_ID
      ORDER BY COUNT(comp_id) DESC) T1
WHERE rownum=1;
"
32478,6501,SQL where field like ■,"WHERE [value] like N'%■%'?
"
29782,19450,Detect unset $VARIABLE in query for trac report,"SELECT status, 
id AS ticket, summary, priority, keywords,  
datetime(changetime/1000000, 'unixepoch') AS last_updated, 
milestone AS __group__,
reporter, owner
FROM ticket t
WHERE status NOT IN ('closed', 'resolved') 
AND (CASE WHEN '$MILESTONE' != '' THEN (milestone='$MILESTONE') 
     ELSE (milestone in ('project1', 'project2', 'project3')) END)
ORDER by t.milestone ASC, p.value
"
32916,61637,What is the equivalent of 'go' in MySQL?,"INSERT INTO myTable (ID) values (5);
"
39307,53090,Modifying hyphenated data with r,"x <- c('11111-111-11', '11111-1111-1', '1111-1111-11')
y <- strsplit(x, '-')
myfun <- function(y) {
  first <- sprintf('%05d', as.integer(y[1]))
  second <- sprintf('%04d', as.integer(y[2]))
  third <- sprintf('%02d', as.integer(y[3]))

  paste(first, second, third, sep='-')
}

sapply(y, myfun)
# [1] ""11111-0111-11"" ""11111-1111-01"" ""01111-1111-11""
"
8123,68415,SQL User Transactions,"SELECT UserId, MAX(TIMESTAMP) 
FROM ACCTRANS
GROUP BY UserId
"
2958,58058,SQL - Select not repeated rows from 2 tables?,"Select * from Table1
   Except
     Select * from Table2
"
24047,3230,Inserting values into a third table by CROSS JOINing two tables,"INSERT INTO Table_C (SELECT null, Table_A.item, Table_B.color, null FROM 
Table_A CROSS JOIN Table_B);
"
10120,52233,change the size of datatype in sql,"alter table tablename modify 
( 
   column_name    varchar2(13)
);
"
6804,3675,Datetime and Integer functions on Varchar fields,"SELECT Column1, Column2
FROM Table
WHERE CONVERT(datetime, DateColumn, 3) BETWEEN @StartDate AND @EndDate
"
37765,24917,Return what was replaced in SQL,"UPDATE table
SET a = replace.....
OUTPUT DELETED.*
WHERE stuff
"
653,387,Oracle SQL MAX function not returning max on VARCHAR to NUMBER conversion,"select MAX(TO_NUMBER(REPLACE(SYSTEM_ID,'SYS',''))) from TABLE;
"
27531,50976,SQL - Best way to determine Operation Type in Trigger?,"SELECT @Action = CASE 
            WHEN EXISTS(SELECT 1 FROM INSERTED) 
             AND EXISTS(SELECT 1 FROM DELETED) THEN 'U'
            WHEN EXISTS(SELECT 1 FROM INSERTED) THEN 'I'
            ELSE 'D' END;
"
21793,31581,What is the most efficient way to store measurements with a variable number of fields in a database?,"create table measurements (
     id,
     seq integer, -- between 1 and 256
     ts timestamp, -- Timestamp of the measurement
     value decimal(...)
)
"
28982,41497,SQL Server query to join two tables,"select t2.ref, xx.Dates, xx.Status
from Table2 t2 join (
select filename, dates, status 
 from yt a where a.dates = (
 select max(dates)
 from yt b
 where a.filename = b.filename
)) xx on t2.filename = xx.filename;
"
29115,12816,SQL Average Group By,"SELECT NBAGameLog.Opp, AVG(NBAGameLog.Points)
FROM Players INNER JOIN
     NBAGameLog
     ON Players.Player_ID = NBAGameLog.Player_ID
WHERE (NBAGameLog.Date_Played Between Date()-15 And Date() AND
      Players.Position = ""C""
GROUP BY NBAGameLog.Opp;
"
2914,71668,Multiple table joins with aggregate (mssql / sql server),"select a.*, b.sumb
from ta a left join
     (select b.uid, sum(b.amount) as sumb
      from tb b
      group by b.uid
     ) b
     on a.uid=b.uid
where a.year = 'value';
"
1358,18765,Swap fields inside an Oracle record using couple separator * and elements separator |,"select 
  cola, 
  regexp_replace(cola, '([^*|]*)\|([^*|]*)(\*|$)','\2|\1\3') as swapped_col
from (
  select '3456|Abc*7890|Def*9430|Ghi*3534|Jkl' cola from dual
)
"
28217,23111,How to select only the characters appearing before a specific symbol in a SQL Select statement,"DECLARE @email VARCHAR(100)
SET @email = 'firstname.lastname@email.com/IMCLientName'

SELECT SUBSTRING(@email,0, CHARINDEX('@',@email))
"
14953,39465,select data based on a date column,"SQL> ALTER SESSION SET nls_date_format = 'dd/mm/yyyy hh24:mi:ss';

Session altered.

SQL> SELECT TO_DATE(SYSDATE) FROM DUAL;

TO_DATE(SYSDATE)
-------------------
28/05/2014 16:03:25

SQL> SELECT TRUNC(SYSDATE) FROM DUAL;

TRUNC(SYSDATE)
-------------------
28/05/2014 00:00:00
"
17547,17565,How can I find out the date of the last change on a table in Teradata?,"SELECT TABLENAME, LASTALTERTIMESTAMP 
FROM DBC.TABLES
WHERE DATABASENAME = 'My DB Name' -- OPTIONAL
ORDER BY LASTALTERTIMESTAMP DESC
"
20659,38453,Doing date range in mysql,"SELECT * FROM financials WHERE date >= NOW() - INTERVAL 30 DAY
"
24380,34769,DB2 Query issue - should I use Exists?,"select AS.USER_ID
from ACTION_SUMMARY AS
where AS.DATE between '2015-01-01' and '2015-07-07' and
      EXISTS (select 1
              from ACTION_DETAIL AD
              where AD.AS_id = AS.AS_ID and AD.ACTYP_ID in (45, 25, 11)
             );
"
11211,55093,Using git repository as a database backend,"│              │ Users │ Active users │ DB+edits │ DB only │
├──────────────┼───────┼──────────────┼──────────┼─────────┤
│ MusicBrainz  │  1.2M │     1K/week  │   30 GiB │  20 GiB │
│ en.wikipedia │ 21.5M │   133K/month │    3 TiB │  44 GiB │
│ OSM          │  1.7M │    21K/month │  726 GiB │ 480 GiB │
"
27894,247,SQL - get value from another table if column is null,"select X.From, [To] = COALESCE(Y.To, X.To)
from x
    left outer join y on
    x.To = Y.From
    and x.Exec_ID = y.Exec_ID
"
38444,29069,SQL for selecting only the last item from a versioned table,"SELECT distinct on (parent_id) 
    parent_id
  , version_id
FROM items
ORDER BY parent_id, version_id DESC
"
18222,67270,Sql query to search all the columns,"SELECT *
  FROM table
 WHERE name LIKE '%foo%'
    OR descr LIKE '%foo%'
"
28053,8600,"Creating a user, mapping to a database and assigning roles to that database using SQL scripts","CREATE USER [Username] FOR LOGIN [Domain\Username]
EXEC sp_addrolemember N'DatabaseRole', N'Username'
"
32637,27556,Calculating average spending (amount spent/person) in a particular month mysql,"SELECT SUM(i.price)/(SELECT COUNT(*) FROM customers)
FROM items i
LEFT JOIN orders o ON i.itemID = o.itemID
                  AND o.date BETWEEN '2013-03-01' AND '2013-03-31'
WHERE o.itemID IS NOT NULL
"
7838,59451,MySQL query to pull only the latest record,"SELECT M1.* FROM Messages M1 LEFT JOIN Messages M2 
ON M1.ReceiverID = M2.ReceiverID AND M1.Timestamp < M2.Timestamp
WHERE M2.ID IS NULL 
"
3237,42524,How to add time to a dateTime in sqlite?,"UPDATE tablename SET creationDate=DATETIME(creationDate, '+330 minutes');
"
16962,58811,"If I have two types of row in an SQL table, and I want to prefer one but accept the other","SELECT *
FROM directory
WHERE
    userType = 'employee'
    OR userID NOT IN (
        SELECT userID
        FROM directory
        WHERE userType = 'employee'
    )
"
3988,23407,How to get the value of max length in sql server,"SELECT TOP 1 t.value
FROM table AS t
ORDER BY LEN(t.value) DESC
"
20310,22197,SQL - Joining tables BUT not always,"SELECT
  p.PersonID, -- NOT NULL
  -- dl.PersonID, -- Can be null. Don't use this one.
  p.FirstName,
  p.LastName,
  a.City,
  a.Street,
  dl.ValidUntilDate
FROM
  Person p
  INNER JOIN Addresse a ON a.AddressID = p.HomeAddressID
  LEFT JOIN DrivingLicence dl ON dl.PersonId = p.PersonID
"
8730,56490,"MySQL: Why can't I ""column_name not in (null, 'foo')""?","True
False
Unknown
"
1934,8688,MySQL view count and sum and other operations from multiple tables,"select division_id, count(*), avg(scores.score), sum(scores.score) from
  user join 
  (select id as user_id, score from user
   UNION ALL
   select user_id, score from test_score
   UNION ALL
   select user_id, score from task_score
   UNION ALL
   select user_id, score from offline_score) as scores
  on user.id = scores.user_id
  group by division_id
"
7248,34311,Execute a set of stored procedures,"declare @SQL nvarchar(max) = ''

select @SQL = @SQL + 'EXEC ' + quotename(s.name) + '.' + quotename(b.name) + ';'
from sys.procedures b
join sys.schemas s on s.schema_id = b.schema_id
where s.name = 'IC'

select @SQL
--exec sp_executesql @SQL
"
32102,55735,Random numbers from database,"SELECT TOP 500
    CONVERT(INT, CONVERT(VARBINARY(16), NEWID()))
FROM
    dbo.MyTable
"
38077,14818,SQL: Select sum of each individual value of a column,"SELECT CLASS, COUNT (*)
FROM MYTABLE
GROUP BY CLASS
"
26556,63245,SQL Server 2012 - Running Total,"SELECT *
FROM (select id,
       somedate,
       somevalue,
       sum(somevalue) over(order by somedate) as runningtotal
      from TestTable
      )sub
WHERE somedate > '2009-02-20'
"
2527,26651,Show null counts with a condition of <= 2,"select disease.name, count(diagnosed.diseaseid) as timesdiagnosed
from disease
left join diagnosed on disease.diseaseid = diagnosed.diseaseid
group by disease.name
having count(diagnosed.diseaseid) <= 2
order by disease.name
"
33449,29382,Oracle 10g Table size after deletion of multiple rows,"alter table t1 shrink space;
"
32915,22663,What should I put in the Rails model definition for the index I just added to a MS SQL Server 2008R2 column?,"def up
  execute ""ALTER TABLE orders ADD UNIQUE ordering_date_ndx (ordering_date)""
end
"
6116,37398,Want to delete multiple row but not first row for same property in mysql?,"DELETE t1 FROM emailvalue t1
LEFT JOIN 
(
  SELECT email, value
  FROM emailvalue
  GROUP BY email
) t2 on t2.email = t1.email AND t2.value = t1.value
WHERE t2.value is null;
"
7419,43135,SQL: Group by minimum value in one field while selecting distinct rows,"SELECT mt.*,     
FROM MyTable mt INNER JOIN
    (
        SELECT ID, MIN(Record_Date) MinDate
        FROM MyTable
        GROUP BY ID
    ) t ON mt.ID = t.ID AND mt.Record_Date = t.MinDate
"
12356,5106,Run script multiple times using variable in constraint,"INSERT  Table2
        (Produce, Cust1_Totals, Cust2_Totals, Cust3_Totals)
SELECT  Fruit
,       SUM(case when Customer_ID = 1 then quantity end)
,       SUM(case when Customer_ID = 2 then quantity end)
,       SUM(case when Customer_ID = 3 then quantity end)
FROM    Table1
WHERE   Customer_ID IN (1,2,3)
GROUP BY 
        Fruit
"
16389,73356,Unique constraint that check two columns in MySQL,"CREATE TRIGGER tg_bi_mytable
BEFORE INSERT ON mytable
FOR EACH ROW
  SET NEW.address1 = IF(EXISTS
     (
       SELECT * 
        FROM mytable 
       WHERE address1 IN(NEW.address1, NEW.address2) 
          OR address2 IN(NEW.address1, NEW.address2)
     ), NULL, NEW.address1);
"
28343,157,DB2 - Ways to get multiple positions for character in a string,"SELECT Customers.CustomerNum, Reasons.ID
FROM Customers, Reasons
WHERE SUBSTR(Customers.Reasons, Reasons.ID, 1) = 'X'
"
28465,41534,How to set priority for search value,"SELECT `course`.`id`, `course`.`name` 
 FROM `course` 
 WHERE `name` LIKE 'TEB lorem ipsum' or 
       `name` LIKE '%TEB%' or 
       `name` LIKE '%lorem%' or 
       `name` LIKE '%ipsum%'
ORDER BY CASE WHEN `name`='TEB lorem ipsum' THEN 1 ELSE 2 END ASC
"
30364,6999,To get date from datetime in sql,"WHERE YEAR(datecreated) = YEAR(GETDATE())
  AND MONTH(datecreated) = MONTH(GETDATE())
  AND DAY(datecreated) = DAY(GETDATE())
"
9221,43538,Delete records depending on field when compared to another table,"delete from table2
    where not exists (select 1
                      from table1
                      where table1.id = table2.id and
                            table2.date between table1.""begin"" and table1.""end""
                     );
"
7303,32352,Get table names from a database,"SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE='BASE TABLE'
"
7268,25799,SQL Server sort column based on the same column itself,"SELECT display_order AS CurrentDisplayOrder, 
    ROW_NUMBER() OVER (ORDER BY display_order) AS NewDisplayOrder
FROM YourTable
ORDER BY display_order
"
26512,27266,SQL statement for value from multiple field,"Select .....
from ....
where (Status = @Status or @Status is null)
and (Created=@Created or @Created is null)
and (Release = @Release or @Release is null)
and (Date = @Date or @Date is null)
"
8559,26234,"Count, order desc and select top 5","select top 5 type, count(*) Total
from yourtable
group by type
order by total desc
"
34561,42847,SQL SELECT distinct rows from a table by multiple columns ignoring columns order (significance),"select FirstName,LastName from People where FirstName <= LastName
union
select LastName,FirstName from People where LastName < FirstName
"
10482,65231,Postgresql query for getting n-level parent-child relation stored in a single table,"with recursive rel_tree as (
   select rel_id, rel_name, rel_parent, 1 as level, array[rel_id] as path_info
   from relations 
   where rel_parent is null
   union all
   select c.rel_id, rpad(' ', p.level * 2) || c.rel_name, c.rel_parent, p.level + 1, p.path_info||c.rel_id
   from relations c
     join rel_tree p on c.rel_parent = p.rel_id
)
select rel_id, rel_name
from rel_tree
order by path_info;
"
25013,68110,How does one detect a non-contiguous number column in a MySQL query?,"SELECT t1.checkno,t1.id,
       IF(@lastCheckNo IS NULL OR @lastCheckNo = t1.checkno - 1,'','*') as outoforder,
       @lastCheckNo := t1.checkno
FROM (SELECT * FROM `table` ORDER BY checkno) t1,(SELECT @lastCheckNo := NULL)variable
"
12349,60388,Counting Distinct Columns Based on Count of third column,"SELECT job_id, cust_id, count(distinct a.skill_id)
FROM aaa.jp_job_skill_ref a INNER JOIN
     aaa.jp_cust_skill_ref b
     ON a.skill_id = b.skill_id
GROUP BY `job_id`, `cust_id`;
"
9755,40983,Concatenate XML variables in SQL Server,"DECLARE @x xml 
DECLARE @strXML varchar(MAX)
SET @x=N'<Employee><Name>Luftwaffe</Name></Employee>'
set @strXML = '<xml version=""1.0"" encoding=""ISO-8859-1""/>' + CONVERT(varchar(MAX),@x)
SELECT @strXML  
"
2987,34603,"constraining a table field -> not duplicate value, not a primary key","CREATE UNIQUE INDEX foo_idx1 ON foo (bar)
"
6330,16743,"Conditional join based on multiple attributes , optimization","SELECT 
 *
 FROM Employees E
 JOIN States S ON E.idEmployee = S.idEmployee
 LEFT JOIN Data1 D1 ON S.data1 = D1.data1 AND S.idStateType = 1
  AND D1.attribute1 = value
 LEFT JOIN Data2 D2 ON S.data2 = D2.data2 AND S.idStateType = 2
  and D2.attribute2 = value and D2.attribute3 = value
 LEFT JOIN Data3 D3 ON S.data3 = D3.data3 AND S.idStateType = 3
  and (D1.attribute1 = value or D3.attribute3 = value)
"
26680,2415,mysql - If 2 or more members picked the same team return the member which guessed closest to the score,"select * from picks where pick = '$winner' and
    abs(score-$winScore) = (select min(abs(score-$winScore)) from picks 
    where pick = '$winner');
"
30924,25088,Import an excel spreadsheet to oracle using Toad,"CREATE OR REPLACE TRIGGER trg_table_name_set_id
  BEFORE INSERT 
  ON table_name
  FOR EACH ROW
BEGIN

  SELECT table_seq.nextval INTO :new.id FROM DUAL; --id would be the id column in your table

--or, if you are on 11g, simply
--:new.id := table_seq.nextval;

END trg_table_name_set_id;
"
4122,1253,Insert military time into a datetime column,"CAST(DATEADD(MINUTE, 60 * FLOOR(StartTime/100) + StartTime % 100, CONVERT(char(12), ROW_DATE, 112)) AS DATETIME) AS DATE_TOME
"
7539,46227,Simple SQL Query framing,"select distinct on (r1.name)
    r1.name, r2.name, f(r1.m, r2.m)
from r1 cross join r2
order by r1.name, f(r1.m, r2.m)
"
31439,72339,Find time duration,"DECLARE @d1 datetime, @d2 datetime 

SELECT @d1 = '2008-06-09 10:18:00.000', @d2 = '2008-06-10 11:20:00.000'

SELECT
    CAST(DATEDIFF(hour, @d1, @d2) AS varchar(30)) + ' hours, ' +
    CAST(DATEDIFF(minute, @d1, @d2) % 60 AS varchar(30))  + ' minutes, ' +
    CAST(DATEDIFF(second, @d1, @d2) % 3600 % 60 AS varchar(30))  + ' seconds'
"
38469,29102,SQL select with listing based on selected values,"SELECT customers.name AS customer_name, item.name AS item_name FROM customers
INNER JOIN items ON items.customer_id=customers.id;
"
12194,69636,Counting empty or null fields in SQL,"WHERE 0 in (col1, col2)
  OR '' in (col3, col4)
"
38041,37048,t-sql: update in specific order determined by 'in' expression,";WITH rn (ID, rowNumber) AS
(
    SELECT st.ID, ROW_NUMBER() OVER (ORDER BY st.ID)
    FROM SomeTable st
    WHERE EXISTS (
        SELECT 1
        FROM MyTable mt
        WHERE mt.Some_ID = st.ID
    )   
)
UPDATE mt
SET MyField = rowNumber
FROM 
    MyTable mt 
    JOIN rn ON rn.ID = mt.Some_ID
"
7006,46791,sql query for unique set of record,"select name_1, dpid_clid, city 
from dts_master_dividend 
where upper(name_1) like upper('%') and dpid_clid like upper('IN30290243450560%')
group by name_1, dpid_clid ,city
"
32833,34388,check if two articles have a common tag in between,"SELECT 1 FROM your_table a
INNER JOIN your_table b ON a.tag = b.tag
WHERE a.article = 1 AND b.article = 2
"
17492,13774,Same Query MySQL User Defined Variables,"SELECT
  Total
FROM
  (SELECT (Some Really Taxing Calculation) AS Total, * FROM Purchases) AS Purchases
WHERE Total < 55 AND itemName = ""Bananas""
   OR Total > 90 AND itemName = ""Apples""
   OR Total = 30 AND itemName = ""Peaches""
ORDER BY
  Total
"
31997,50344,SQL performance on one column,"  ....
  WHERE isActive;
"
38188,50903,SQL query to get the firsts rows 24 hours apart from each other for a specific fields combination,"WITH x AS
(
    SELECT 
        eventDate, MAC, IP, eventCode, 
        rn = ROW_NUMBER() OVER
        (
            PARTITION BY DATEDIFF(DAY, 0, eventDate),
            MAC, IP, eventCode
            ORDER BY eventDate
        )
        FROM EventsLog
)
SELECT
    eventDate, MAC, IP, eventCode
FROM x
WHERE rn = 1
ORDER BY EventDate;
"
12616,65895,Show rows data into column format,"SELECT itemName,
       GROUP_CONCAT(CASE Date_format(`Date`,'%Y-%d-%m') WHEN '2012-01-12' THEN `isAvailable` ELSE NULL END) AS `2012-01-12`
      ,GROUP_CONCAT(CASE Date_format(`Date`,'%Y-%d-%m') WHEN '2012-02-12' THEN `isAvailable` ELSE NULL END) AS `2012-02-12`
      ,GROUP_CONCAT(CASE Date_format(`Date`,'%Y-%d-%m') WHEN '2012-03-12' THEN `isAvailable` ELSE NULL END) AS `2012-03-12`
FROM Table1
GROUP BY `itemName`;
"
39663,18606,SQLite: How to update order data in table?,"CREATE VIEW ordered_view AS
SELECT name, cost
FROM mytable
ORDER BY cost DESC;

SELECT name, cost FROM ordered_view;
"
29762,42807,Display positive result with a plus sign (+) in SQL,"SELECT 
  case 
     when CONVERT(DECIMAL(11,1),SUM(Column/1000*-1)) >= 0 
     then concat('+', CONVERT(DECIMAL(11,1),SUM(Column/1000*-1))) 
     else CONVERT(DECIMAL(11,1),SUM(Column/1000*-1)) 
  end AS NAME
FROM Table
"
14940,37582,Find last several dates by customer,"select t.Customer, t.ID, t.Cost, t.Date
from (select t.*,
             dense_rank() over (partition by Customer order by ""Date"" desc) as seqnum
      from t
     ) t
where seqnum <= 4;
"
10050,2909,Show Grouped By Items in Comma Separated Format,"SELECT ContinentID, CountryID,
      StateCode = 
        STUFF((SELECT ', ' + StateCode
           FROM Location b 
           WHERE b.ContinentID = a.ContinentID 
               and 
               b.CountryID = a.CountryID 
          FOR XML PATH('')), 1, 2, '')
FROM Location a
GROUP BY ContinentID, CountryID
"
16891,10197,Omitting the Milliseconds in a Date,"DECLARE @TheDate datetime, @Today datetime
SET @TheDate = GetDate()

SET @Today = DateAdd(dd, DateDiff(dd, 0, @TheDate), 0)
SELECT DateAdd(s, DateDiff(s, @Today, @TheDate), @Today)
"
14556,19013,"Increase row count in sql server after some count (say 25,000)","select Column1, 
       Column2,
       1 + ((row_number() over(order by Column3) - 1) / 5)
from YourTable
"
8527,48882,Get Columns Returned from SQL Statement,"set fmtonly on
go
insert into execution_log_table
([timestamp]
,user_id
,report_id)
values (CURRENT_TIMESTAMP
,1234
,5678)

select *
from (select column1
,column2
from another_table) tbl
"
28768,3406,Pivot results not working for me,"select
    t1.Name,  
    sum(t1.NbrOfAuthorizations) as NbrOfAuthorizations,
    avg(datediff(dd, t1.AuthDate, t1.AuthExpirationDate)) as AuthLenInDays
from #tmp1 as t1
    -- looks like you don't need join also, or there're multiple rows
    -- in #tmp2 for row in #tmp1
    -- left outer join #tmp2 as t2 on t2.AuthID = t1.AuthID 
where t1.mode = 'Preservation'
group by t1.Name
"
27000,71225,MySQL: Select Record If Every Search Criteria Is Found in One of the Child Records,"DECLARE p_Statement NVARCHAR(MAX)
SELECT p_Statement = 'SELECT id FROM hotels WHERE 1 = 1 '

for each p_catID in SelectedCatIds (loop) :
    SELECT p_Statement = p_Statement + 'AND id IN (SELECT hotel_id FROM hotel_category_infos WHERE cat_id = p_catID '
(end loop)

PREPARE stmt FROM p_Statement
EXECUTE stmt
"
12474,10377,Same LIKE condition applied to many columns,"WHERE t1.FullName LIKE '%sometext%' OR t1.Comment LIKE '%sometext%' OR
      t2.Name LIKE '%sometext%' OR t3.Description  LIKE '%sometext%'
"
25526,42877,JOIN; only one record please!,"SELECT bl.`blog_id`, count(DISTINCT CONCANT(bc.`blog_id`,bc.`author`,bc.`timestamp`) AS 'comment_count',...
"
21740,58704,How to calculate avarage value in mysql query?,"select name,v1,v2, (max(rate) + min(rate)) / 2 As `Average`
From messages m
INNER JOIN rates r
 ON r.id = m.rate_id
Group by name,v1,v2
"
28179,10344,Short way to keep all fields in mySQL?,"CREATE TABLE ts2 AS SELECT DISTINCT * FROM ts1;
"
11694,27151,MySQL UPDATE only if field in other table meets condition,"UPDATE links
SET link = '$link', rid = $rid, order = $order
WHERE lid = $lid
and (SELECT COUNT(*) 
    FROM resources 
    WHERE rid = $rid 
    AND (sid = $sid OR sid IS NULL) 
    AND types IS NULL) = 1;
"
22957,40895,Issues Joining Multiple Tables in Access,"INNER JOIN Inventory ON tbl_IMPORT.[Bill Date] = Inventory.[Bill Date]
INNER JOIN Device ON Inventory.[ID]=Device.[ID]
"
17512,20571,Where vs. Having with calculated field,"select count(*) as counts
from myTable
where datediff(yyyy,dob,admitdate) between 5 and 10
"
15115,8051,The most efficient way to schedule content on a website,"SELECT id, header, text, ... 
  FROM CONTENT
 WHERE online_at < current_timestamp
 MINUS
SELECT id, header, text, ... 
  FROM CONTENT
 WHERE offline_at < current_timestamp
"
37609,58091,inner-join mysql x3,"SELECT   
   c.cust_id, 
   c.forename, 
   c.surname, 
   p.prod_name, 
   s.Date_of_sale
FROM customers c
    INNER JOIN sales s ON c.cust_id = s.cust_id
    INNER JOIN products p ON s.product_id = p.product_id
ORDER BY s.Date_of_sale DESC
"
10718,3991,SQL debug print,"IF @debug = 1
BEGIN
print 'Something'
--or insert into a log table if you need the rows of a temp table 
--or the results of a calculation
END
"
4271,38351,INNER JOIN or STRAIGHT_JOIN,"SELECT t.id, t.transaction_date
FROM transactions t INNER JOIN
     users_transactions ut
     ON t.id = ut.transaction_id
WHERE ut.user_id = 71720
ORDER BY t.transaction_date DESC
LIMIT 25 OFFSET 0;
"
31158,42256,"MySQL: Count total ""value"" for each occurrence","SELECT Color,SUM(amount) as count FROM tablename
GROUP BY Color ORDER BY count DESC;
"
12491,30220,Mysql query to count number of days of login,"UPDATE users SET 
number_of_days = if (last_login = curdate(), number_of_days, number_of_days + 1),
last_login='date', number_of_login = number_of_login + 1
WHERE user_id='user_id'
"
31732,15464,Sybase Sql query not returning error,"CREATE TABLE #temp
(
    a INT NULL,
    b INT NULL
)

INSERT #temp 
SELECT 1, NULL
UNION 
SELECT 2, 2

DECLARE @b INt
SELECT @b = 2

SELECT * FROM #temp
WHERE 
b = isnull(@b,b)
"
27731,61801,Match a column from a column with concatenated values in sqlite,"SELECT ChildId,MainValues FROM CHILD INNER JOIN MASTER WHERE ','||[Values]||',' like '%,'||MainValues||',%'
"
18155,36296,Counting columns containing data,"select t.*,
       ((case when jan is not null then 1 else 0 end) +
        (case when feb is not null then 1 else 0 end) +
        (case when mar is not null then 1 else 0 end) +
        (case when apr is not null then 1 else 0 end) +
        (case when may is not null then 1 else 0 end)
       ) as MonthsWithData       
from t;
"
20778,9276,MYSQL: Two Table SELECT without common values,"( select a as FIRST_COL
  from table 1 
) 
union 
( select d as FIRST_COL
  from table2 
)
"
37124,66005,Best Practice - Convert SQL query to LINQ,"var query = (from employee in db.Employee
             from business in db.Business
             where employee.Administrator == 1 ||
                 (business.BusinessId == 1 &&
                  (employee.EmployeeId == business.Initiator ||
                   employee.EmployeeId == business.Owner))
             select employee.EmployeeId).Distinct();
"
11299,56299,Add a null value to a Varchar Value,"isnull(c.NAME_CONT +' ', '')+isnull(c.SURNAME_CONT,'')
"
39782,45381,SQL query to find out the number of tickets,"SELECT u.name, count(t.username) TicketsSubmitted
FROM Users u
INNER JOIN tickets t
    ON u.id = t.username
GROUP BY u.name
"
33444,48752,SQL Server: How to check if CLR is enabled?,"SELECT * FROM sys.configurations
WHERE name = 'clr enabled'
"
26409,2366,Permissions required to allow arbitrary sql to be executed safely,"ALTER ROLE <rolename> SET statement_timeout = '60000'
"
33586,48579,Get all from one table and COUNT from another,"SELECT categories.id, max(categories.slug), count(categories_questions.id) AS numberOfQuestions
FROM categories
LEFT JOIN categories_questions
ON categories.id = categories_questions.category_id
group by categories.id
"
28184,2389,Add date without exceeding a month,"SQL> select add_months(date '2008-01-31',1) from dual;

ADD_MONTHS(
-----------
29-FEB-2008

SQL> select add_months(date '2008-02-29',1) from dual;

ADD_MONTHS(
-----------
31-MAR-2008
"
20806,70232,How do I Handle Ties When Ranking Results in MySQL?,"   SELECT st.name,
          sc.grades,
          CASE 
            WHEN @grade = COALESCE(sc.grades, 0) THEN @rownum 
            ELSE @rownum := @rownum + 1 
          END AS rank,
          @grade := COALESCE(sc.grades, 0)
     FROM STUDENTS st
LEFT JOIN SCORES sc ON sc.student_id = st.id
     JOIN (SELECT @rownum := 0, @grade := NULL) r
 ORDER BY sc.grades DESC
"
14388,61964,People who ONLY go to a certain place. How would you create a query for this?,"SELECT * FROM FREQUENT
WHERE BAR = 'TAVERN' 
    AND DRINKER NOT IN (SELECT DRINKER FROM FREQUENT WHERE BAR <> 'TAVERN')
"
26962,24471,Access SQL Calculation in SELECT make not null,"SELECT id, ProductName,
       NZ(OnHand, 0) + NZ(SUM([OrderJoin.Quantity]), 0) AS QtyAfter
...
"
27092,58260,Multiple table JOIN issue,"SELECT a.id, a.name, 
       c.name as category, 
       group_concat(subcat.name) as subcategories
FROM accounts AS a
INNER JOIN account_has_subcategory AS ahs ON a.id = ahs.account_id
INNER JOIN subcategory AS subcat ON subcat.id = ahs.subcat_id
INNER JOIN category AS c ON a.category = c.id
GROUP BY a.id, a.name, c.name
ORDER BY a.id;
"
5830,70099,How to select persons which have unique full name,"select first_name, last_name, min(pin) as pin
from documents
group by first_name, last_name
having count(distinct pin) = 1;
"
16857,65167,How to only exclude two matching fields?,"SELECT * from table where 
          field1 = 1 AND field2 = 0 
            AND (
                  (field3 = 1 AND (field4 = 4 OR field4 = 5 OR field4 = 6))
                     OR 
                  (field3 = 0)
                )
"
18582,51397,how do I figure out provisional throughput for AWS DynamoDB table?,"capacity = (X * Y) / Z
"
26301,41991,Oracle SQL Syntax to Find Distinct Data over 24 Hour Time Period,"select distinct trunc(date_created), user_name
from login_history
order by trunc(date_created);
"
10407,5945,Is it possible to do a left outer join where something other than NULL fills the non-values?,"select a.*, (case when a.id is not null then coalesce(ans, -1) end) as ans
from b left join
     a
     on b.answerid = a.id;
"
7947,42998,How would I execute this query in MongoDB?,"{ ""perms"": { ""$elemMatch"": { ""user"": ""alex"", ""visible"": 0 } } }
"
13962,55119,Show a row for every result between 3 mySQL tables,"SELECT m.field1, v.vegName, f.fruitName
FROM test_main m
INNER JOIN dummy d 
  ON d.id < 3
LEFT JOIN test_veg v 
  ON v.mainID = m.mainID 
  and d.id = 1
LEFT JOIN test_fruit f 
  ON f.mainID = m.mainID 
  and d.id = 2
WHERE m.mainid=1
"
4140,45560,"Retrieve Data that do not exist in the primary table, exist in the secondary only","select a.* 
from tableA a
Left outer join TableB b
on a.id=b.id
where b.id is NULL
"
37659,7696,Oracle database row checkpoint,"SELECT *
  FROM( SELECT a.*,
               rownum rn
          FROM( SELECT *
                  FROM table_name
                 ORDER BY some_key ) a
         WHERE rownum <= MAX_ROW)
 WHERE rn >= MIN_ROW
"
36524,68621,How to create DB tables in this case?," 1. tbl_users(uid, uname, password, Name, ...)
 2. tbl_categories(cid, cname, parent_category_id ...) -- self join
 3. tbl_user_categories (uid, cid) -- Mapping table
"
35186,38593,Is there a method in PL/SQL to convert/encode text to XML compliant text?,"  outgoing_text := DBMS_XMLGEN.CONVERT(incoming_text)
"
33872,6715,Remove duplicates records on database SQL Server,";WITH cte AS 
(
    SELECT *, RowNum = ROW_NUMBER() OVER (PARTITION BY phone, name ORDER BY id)
    FROM tbl    
)
DELETE FROM cte
WHERE RowNum > 1
"
30117,68638,sql join on string = integer to work on any RDBMS,"CAST(a.numeric_Field AS CHAR(5))` = b.stringfield
"
5317,52408,Convert Row to Column,"  SELECT t.inv,
         MAX(CASE WHEN t.description = 'CHARGES' THEN t.amount ELSE NULL END) AS charges,
         MAX(CASE WHEN t.description = 'FREIGHT' THEN t.amount ELSE NULL END) AS freight,
         MAX(CASE WHEN t.description = 'INSURANCE' THEN t.amount ELSE NULL END) AS insurance
    FROM YOUR_TABLE t
GROUP BY t.inv
ORDER BY t.inv
"
22772,24739,Oracle select query on condition,"SELECT *
  FROM table_name
 WHERE name = 'F100'
"
2638,40196,sql query for a report,"select name,
       sum(case when rating > 1 then 1 else 0 end) as cnt1,
       sum(case when rating > 5 then 1 else 0 end) as cnt2
       /* ... repeat as many times as needed */
    from myview
    group by name
"
39255,22518,Numbering islands in SQL Server 2012,"select t.*,
       sum(case when datefrom = dateadd(day, 1, prev_dateto
                then 0 else 1
           end) over (order by itemId, datefrom)
from (select t.*,
             lag(dateto) over (partition by itemid order by datefrom) as prev_dateto
      from table t
     ) t;
"
10273,57606,Analyze log table - Oracle 11g,"select *
from (
    select lag(date_)over ( order by date_) as date_before_ko,
           date_ as date_after_ko,
           floor((date_ - lag(date_) over ( order by date_))*24*60) as minutes_passed  
    from HISTORY_LOG
)
where minutes_passed > 4
"
32261,68934,"MySQL most recent n entries, ascending?","Select * from
(SELECT owner_id,message,time 
FROM messages
WHERE thread_id = ? 
ORDER BY time DESC
LIMIT ?) test
Order by time ASC
"
5118,68824,Conditional SQL joins,"select a.*, b.*
from tablea a outer apply
     (select top 1 b.*
      from tableb b
      where b.id = a.id and
            b.date <= a.date
      order by b.date desc
     ) b;
"
35269,3825,how I can get log from database in oracle?,"SELECT object_name, last_ddl_time
FROM dba_objects
ORDER BY last_ddl_time DESC;
"
6164,63343,How to check whether a SELECT query is Successful?,"CREATE PROCEDURE myTest 
 @Result INT OUTPUT  
AS  
BEGIN  
  SET NOCOUNT ON;

  BEGIN TRY
     SELECT FirstName,LastName FROM Employees  
     SET @Result = 1;
  END TRY  

  BEGIN CATCH
     SET @Result = 0;
  END CATCH

END;  
"
35893,19395,Scaling values in a column,"$myColumnArray = /* load mysql values here */;   
// order numbers smallest to largest
$uniqueElements = sort(array_unique($myColumnArray));
// calculate increment
$incriment = count($uniqueElements);
// go thru elements in orig array and replace with weighted value
foreach($myColumnArray as &$val){
    // get position of element (i.e. ""4th largest"")
    $position = array_search ($val, $uniqueElements);
    // set it equal to weighted value
    $val = $position * $increment;
}
"
39704,30850,how to query access to select entire records given a distinct criteria,"SELECT
    c.*
FROM
    Customer  c 
    INNER JOIN 
    (

    SELECT 
        c.promo1,
        MIN(c.AutoID) AutoID
    FROM 
        Customer  c
    GROUP BY
        c.promo1) FirstCusomterWithPromo
    ON c.AutoID = FirstCusomterWithPromo.AutoID
"
34825,17849,Different results from executing a stored procedure using exec sp_executesql compared to EXEC,"SELECT top 40 
    @searchLatitude,
    @searchLongitude,
    l.Id as Id,
    l.Postcode as Postcode,
    l.latitude as Latitude,
    l.longitude as Longitude,
"
27245,49777,Assign values from same table,"UPDATE c
  SET c.Message = p.Message
FROM
  Categories c
  INNER JOIN Categories p ON c.ParentID = p.CategoryID
WHERE 
  c.ParentID IS NOT NULL
  AND c.DeptID = @DeptID
"
36713,5266,mysql group by and count rows problem,"SELECT COUNT(*) FROM
  (select x,y  
    from xx  
    group by y) sub;
"
27085,29514,How to create some kind of iterator (or artificial id) for a given set of rows?,"select *
from
(
  select col,
     row_number() over(order by col) rn
  from yourtable
) src
order by random()
"
7085,17573,Selecting the top 5 in a column with duplicates,"SELECT *
FROM (
    SELECT t1.Num, t1.Name, COUNT(DISTINCT t2.Num) AS seq
    FROM yourTable t1
        LEFT JOIN
        yourTable t2
        ON t1.Num <= t2.Num
    GROUP BY t1.Num, t1.Name) dt
WHERE (seq <= 5);
"
6644,2326,Query required for given output,"select field1
      , f2
      , f3
      , 'FLOW'||trim(to_char(rnk))
from 
     (select field1
      , f2
      , f3
      , sum(case when f3 = 1 then 1 else 0 end)
     over (order by field1, f3 range between unbounded preceding and current row) rnk
    from your_table )
"
37472,73784,How to count rows using group by,"select count(distinct block) as total_block from tablename
"
5423,53112,In MySQL: How to pass a table name as stored procedure and/or function argument?,"CREATE  PROCEDURE `test1`(IN tab_name VARCHAR(40) )
BEGIN
 SET @t1 =CONCAT('SELECT * FROM ',tab_name );
 PREPARE stmt3 FROM @t1;
 EXECUTE stmt3;
 DEALLOCATE PREPARE stmt3;
END $$
"
30087,13876,How to update two columns in IF statement in SQL Server,"if (update(columnA) or update(columnB))...
"
1564,50122,Convert output number format with a single query,"SELECT to_char(X)
  FROM TABLEX
 WHERE NAME LIKE 'Blablabla';
"
37544,28748,Oracle Using REPLACE with an IN statement,"WHERE INSTR('00235-3844-42-523-3DF44',str_to_find)!=0
"
32780,34906,Display Table Name in Query Results; SQL Server 2008,"create view v_LOAD_UNISTATS_ACCREDITATION as
    select lua.*, 2013 as year
    from LOAD_UNISTATS_2013_ACCREDITATION lua
    union all
    select lua.*, 2012 as year
    from LOAD_UNISTATS_2012_ACCREDITATION lua
    . . .;
"
36557,60010,Workaround for unsupported date format when it comes to BETWEEN?,"SELECT price
  FROM `table`
 WHERE STR_TO_DATE(`date`, '%d.%m.%y')
       BETWEEN STR_TO_DATE(...) AND STR_TO_DATE(...)
"
36747,16,Optimize Simple SQL SELECT,"CREATE INDEX IDX_CoveredIndex ON Table1 (id1, id2, id3)
"
12953,29878,Adding values from two table and storing into third table,"INSERT INTO Table1 (Amount, ContactName, State, City) 
values 
(
    (Select nvl(max(Amount),0) from Table2 where id=12)+
    (Select nvl(max(Amount),0) from Table3 where id=13),
    'Sam','Newyork','Newyork'
);
"
26263,32200,query for selecting count(*) and columns,"select tab.*, count(*) over () as totalcnt
from mytable tab
where tab.name = 'XYZ' and tab.type = 'TP'
"
5370,44298,Check Multiple Rows for a Value,"SELECT CASE
  WHEN EXISTS(SELECT * FROM Application WHERE ID=@id AND IsSubmitted=1) THEN 0
  ELSE 1  --or some other value
END
"
1791,47268,Need help with a complex SQL query - I think I need a two-stage inner join or something like that?,"select distinct d2.name
from term_data d1
join term_node n1 on d1.tid = n1.tid
join term_node n2 on n1.nid = n2.nid
join term_data d2 on n2.tid = d2.tid
where d1.name = 'A'
"
4818,61494,get extra rows for each group where date doesn't exist,"select 
  s.emp_name as Name
  ,s.Number as m 
  ,st.salestotal as Amount
from (
  select distinct emp_name, number
  from salestotals, numbers 
  where number between 1 and 12) s left join salestotals st on 
    s.emp_name = st.emp_name and s.number = month(st.yearmonth)
"
22894,161,Looking for Query for NEXT_DAY for Oracle to SQL server 2012 migration,"SELECT CASE WHEN DATENAME(WEEKDAY,OrderDate) = 'Wednesday' 
       THEN DATEADD(DAY,7,OrderDate)
       ELSE DATEADD(DAY,(18-(@@DATEFIRST+DATEPART(WEEKDAY,OrderDate)))%7,OrderDate)
       END
FROM Orders
"
16456,4483,Postgresql: INSERT INTO using SELECT and values,"INSERT INTO MyTable (character, number) SELECT character, '2' FROM MyTable WHERE number = 1
"
11021,57641,Oracle SQL: Joining at most one associated entity,"SELECT b.*
      ,(SELECT a.text
        FROM   addresses a
        WHERE  a.buildingid = b.id
        AND    ROWNUM=1) as atext
FROM   building b;
"
36579,5415,How to use update trigger to update another table?,"UPDATE table2
SET    table2.annualyear = inserted.intannualyear
FROM   table2
       JOIN inserted
         ON table2.id = inserted.id  
"
10270,11211,Apply name of the SP in the table,"  INSERT INTO table_name(column_proc_name)select name from sys.objects where type='p'
"
35326,30110,SELECTing user with earliest time and joining with other data,"SELECT  id,
        CASE WHEN value = 'xyz'
             THEN 'Pending'
             ELSE 'Not Pending'
        END AS status,
        time,
        FIRST_VALUE(user) OVER (PARTITION BY id ORDER BY time) AS first_user
FROM    table1
INNER JOIN
        ...
WHERE   subject IN (...) AND
        field = 'Status'
"
33283,39302,how many records have a column value longer than 400 characters?,"SELECT * FROM mytable WHERE LEN(MyField) > 400
"
14099,10396,getting maximum from two columns of two tables,"select max(maxId) from
(
    select max(id) as maxId from delT1
    union all
    select max(id) as maxId from t1
) maxes;
"
12307,33240,How would you find the 'GOOD' ID when cancellation is involved as well as the original ID that started it all?,"WITH ids AS (
  SELECT 
    ID,
    ID AS orig FROM Data d1 WHERE CXL IS NULL
  UNION ALL
  SELECT 
    d2.ID,
    orig
  FROM ids i
  INNER JOIN Data d2 ON d2.CXL = i.ID
)

SELECT 
  orig AS [Original Id],
  MAX(ID) AS [Latest Good Id]
FROM ids
GROUP BY orig
"
31763,74127,Postgres Array Prefix Matching,"create table users (id serial primary key, tags text[]);

insert into users (tags)
values
  ('{""fun"", ""day""}'),
  ('{""fun"", ""sun""}'),
  ('{""test""}'),
  ('{""fin""}');

select *
from users
where exists (select * from unnest(tags) as arr where arr like 'f%')
"
32699,38002,Mysql query check the blob column type in where clause,"Select * from Page where Page.page_title = 'AccessibleComputing'
"
21550,47132,OO program and SQL database,"class = > table
instance => row
attribute => column
"
18294,48874,Returning other columns of aggregate result,"SELECT
  *
FROM
  yourTable
INNER JOIN
  (SELECT col1, MAX(col2) as max_col2 FROM yourTable GROUP BY col1) AS lookup
    ON  yourtable.col1 = lookup.col1
    AND yourtable.col2 = lookup.col2
"
7843,2640,Oracle SQL Find and Replace,"UPDATE YOUR_TABLE t
SET T.COLUMN = REPLACE(T.COLUMN, 'FD>;', 'FD>;1')
"
13491,64846,Problems using GROUP BY and ORDER BY in SQL Oracle,"SELECT manager_id AS ""Manager ID"",
MIN(salary) AS ""Lowest Paid Salary""
FROM employees
WHERE manager_id IS NOT NULL
AND salary > 6000 
GROUP BY manager_id
ORDER BY min(salary) DESC;
"
38824,49072,How universal is the LIMIT statement in SQL?,"SET ROWCOUNT 1
SELECT %s FROM %s
"
11369,56203,How to Get Count of the Particular records in Oracle?,"SELECT case when Status in ('A','B') 
            then 'A&B'
            else Status
       end AS Status,
       COUNT(Status) AS StatusCount
FROM EMPLOYEE
GROUP BY case when Status in ('A','B') 
              then 'A&B'
              else Status
         end
"
32138,16682,Select For Update statement in PostgreSql,"UPDATE video  SET schedulingflag = true 
WHERE schedulingflag IS FALSE AND errorflag IS FALSE;
"
2176,3023,Looking for a particular substring in SQL string,"SELECT *
FROM   temp
WHERE  realName LIKE '% S_i%' 
"
27823,36534,Using GROUP BY for an non-uniqueness-warning column,"select 
  key, 
  min(value1) as ""a value1"", 
  min(value2) as ""a value2"", 
  max(value2) as ""another value2"", 
  count(distinct value2) ""number of value2""
FROM tbl
group by key
having count(distinct value2) > 1
"
27248,65341,SQL Server 2005 Conditionally Assigning Variables IN SP,"declare @docid bigint,
        @account varchar(30)

While @@fetch_status=0
BEGIN
   SET @docid = NULL

   SELECT @Docid = Docid
   FROM printdata 
   WHERE Account = @account

   IF @docid IS NULL  --  @Docid *WILL* be NULL now if nothing is found!
   BEGIN
     SELECT @Docid = Docid
     FROM printdata 
     WHERE balance = @balance
  END
"
23053,56196,Can I assign a unique ID to a button that I can get when it is clicked?,"Protected Sub Page_Load(ByVal sender As Object, ByVal e As EventArgs) 
   //create your button then assign the id       
   myButton.ID = ""123""
   // assign a generic event handler for all the buttons in the table.
   AddHandler myButton.Click, AddressOf myButtons_Clicked
End Sub

Protected Sub myButtons_Clicked(ByVal sender As Object, ByVal e As EventArgs)
  Button thebtn = CType(sender, Button)
  string btnID = thebtn.ID
  // pass of the ID to whatever method is doing your processing
End Sub
"
6143,5672,Removing duplicate rows that also have equal values in n-th column,"""DELETE x
 FROM $table x
 LEFT
 JOIN
 ( SELECT vendors
        , email
        , MIN(lead_id) min_lead_id
     FROM $table
    GROUP
       BY vendors
        , email
 ) y
ON y.vendors = x.vendors
AND y.email = x.email
AND y.min_lead_id = x.lead_id
WHERE x.vendors = $vendor
AND y.min_lead_id IS NULL;"";
"
26740,60478,LEFT JOIN - How to join tables and include extra row even if you have right match,"SELECT A.ID, A.ProductName, B.ID, B.Size
FROM A
INNER JOIN B
ON B.ProductID = A.ID
UNION ALL
SELECT A.ID, A.ProductName, NULL, NULL
FROM A
"
19316,57675,What order to join multiple (over 3) tables and where to put conditions?,"SELECT Block.name, Container.name, adminrole.name from 
Block
    LEFT JOIN container_block ON container_block.containerid = Block.id
    LEFT JOIN Container ON Container.id = container_block.containerid
    LEFT JOIN AdminACL ON AdminACL.objectid = Container.id
    RIGHT JOIN adminrole_admin ON adminrole_admin.adminid #there could be multiple roles
    LEFT JOIN adminrole ON adminrole.id = adminrole_admin.adminroleID
WHERE 
    AdminACL.ObjectType = ""Container""
    AND adminrole.name  not like 'hidden_%'; 
# shouldn't you have a `hidden` column on the table, instead of prefixing the name?
"
13532,140,Ordering by Time part of DateTime,"ORDER BY to_char(TIMEOFISSUE, 'hh24miss')
"
630,73037,SQL row to column transposing,"select t.Column1,
       (select column2 from t t2 where t2.column1 = 'Customer' and t2.id <= t.id order by t2.id desc limit 1
       ) as customer,
       (select column2 from t t2 where t2.column1 = 'Account' and t2.id <= t.id order by t2.id desc limit 1
       ) as transaction,
from t
where t.column1= 'Transaction'
"
27753,60664,MySQL query to select from multiple table and insert in one,"insert into a(email)
    select email
    from ((select email from c) union
          (select email from d) union
          (select email from e)
         ) cde
    where not exists (select 1 from b where b.email = cde.email);
"
14912,71527,Querying by a value in XML in SQL Server 2005,"WHERE xmlcolumn.value('(/path/to/tag)[1]', 'int') = @QueryValue
"
15223,21805,The issue with this SQL Statement,"UPDATE `main_table`
SET `count` = '$count'
WHERE userid='$someid'
"
38841,58678,MYSQL: Updating a column based on select statement with joins,"UPDATE  public_document_store a
        INNER JOIN public_document_store_talkback b
            ON b.document_id = a.document_id
SET     a.skin_id = 6
WHERE   b.is_released = 1 AND 
        b.is_rejected = 0 AND 
        a.section_id = 10
"
21904,32737,Lookahead regex in Oracle SQL - strip zeros after underscore,"result := REGEXP_REPLACE(subject, '_0+', '_', 1, 0, 'c');
"
10561,42112,Three consecutive rows that equal 1 SQL,"select name, min(time), max(time), count(*)
from (select t.*,
             (row_number() over (partition by name order by time) -
              row_number() over (partition by name, event order by time)
             ) as grp
      from t
     ) t
where event = 1
group by name, event, grp
having count(*) >= 3;
"
14205,42944,Roll back a entire database like I can with transactions,"----To create a snapshot
create database SrcDbSnapshot
on ( name = LogicalFileNameFromSrcDB, 
    filename = 'E:\SrcDB.ss')
AS SNAPSHOT OF SrcDB
go

----To roll back
--Kills all connections and performs the rollback
ALTER DATABASE [SrcDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE
RESTORE DATABASE [SrcDB] FROM DATABASE_SNAPSHOT = 'SrcDbSnapshot'
go

----To remove the snapshot
drop database SrcDbSnapshot
go
"
30695,31651,Select unique entries of column and filter these by unique entries of another one,"SELECT   GROUP_CONCAT(DISTINCT col_1) AS col_1, col_2
FROM     (SElECT   col_1, GROUP_CONCAT(DISTINCT col2) AS col_2
          FROM     my_table
          GROUP BY col_1) t
GROUP BY col2
"
29698,52153,Trouble with Select statement,"SELECT
  division, 
  division_name, 
  object_account, 
  account_description, 
  SUM(CASE WHEN vendor_type = 'PV' THEN value ELSE 0 END) as PreferedSpend,
  SUM(value) AS TotalSpend
FROM jde_dw.blanket_rpt 
WHERE division = 02 
AND month = 07 
AND year = 2013 
GROUP BY division, division_name, object_account, account_description 
ORDER BY division
"
19408,44938,Easiest way to populate a temp table with dates between and including 2 date parameters,";WITH cte AS (
SELECT CASE WHEN DATEPART(Day,@StartDate) = 1 THEN @StartDate 
            ELSE DATEADD(Month,DATEDIFF(Month,0,@StartDate)+1,0) END AS myDate
UNION ALL
SELECT DATEADD(Month,1,myDate)
FROM cte
WHERE DATEADD(Month,1,myDate) <=  @EndDate
)
SELECT myDate
FROM cte
OPTION (MAXRECURSION 0)
"
33775,66658,Can't get what I want using SQL subquery,"SELECT * FROM table1 T JOIN Table2 S ON
T.status_change_date <> max(S.enter_date) AND
T.user_id = S.user_id
WHERE S.status= 'closed'
"
9657,17813,SQL Only equal to day and month not year,"SELECT username FROM table_name 
WHERE MONTH(birthday)=MONTH('$birthday') 
AND DAY(birthday)=DAY('$birthday')
"
6292,1726,Calculating aggregated field,"HAVING EXTRACT(DAY FROM MAX(plans.updated_at) - MIN(plans.created_at)) > 0
"
22537,9497,Insert values returned from SQL query to another table,"INSERT INTO new_table (id, label)
<put select query here>
"
31706,62285,How to select the comparison of two columns as one column in Oracle,"select column1, column2, 
   case
      when column1 is NULL and column2 is NULL then 'true'  
      when column1=column2 then 'true' 
      else 'false' 
   end 
from table;
"
30622,1008,view duplicate data in sql statement,"Select *
From participants
Where nokp in
(
  Select nokp
  From participants
  Group by nokp
  Having count(*) > 1
 )
"
24314,13064,Check if a subset exists in SQL,"SELECT DISTINCT Order_ID 
FROM Orders T1 
WHERE NOT EXISTS (
    SELECT Product_ID 
    FROM Orders 
    WHERE Order_ID = 2
  EXCEPT
    SELECT Product_ID 
    FROM Orders 
    WHERE Order_ID = T1.Order_ID);
"
33450,66450,MS Access: Selecting the first item according to a rank,"select
  r.employee, d.description
from
  table1 as d
  inner join (select min(rank) as rank, employee
              from
                 table1
              group by employee) r on d.rank = r.rank
                                      and d.employee = r.employee
"
26047,28685,Get all rows from table whose key isn't matched in another table,"SELECT product_description.* 
FROM `product_description` left outer join product
      on product_description.product_id = product.product_id
where product.product_id is null
"
26062,59327,Can I avoid doing this Row by Row,"SELECT 
    us.UsersShiftsId,
    us.UserId,
    us.ShiftStart,
    us.ShiftEnd,
    MIN(fs.ScannedTime) ActualStart,
    MAX(fs.ScannedTime) ActualEnd
FROM UsersShifts us
LEFT JOIN FingerprintScan fs
    ON us.UserId = fs.UserId
    AND fs.ScannedTime BETWEEN us.ShiftStart AND us.ShiftEnd 
GROUP BY
    us.UsersShiftsId,
    us.UserId,
    us.ShiftStart,
    us.ShiftEnd
"
39088,8518,SQL - Split query data stream into 2 separate tables [Theoretical Optimisation],"Select * from ShipsTable where  ShipType = ""Barge"" into Barges
Run Menu Command 311
"
31968,7583,oracle duplicate columns to comma seperated string,"SELECT username 
  ,LISTAGG(colour , ',') WITHIN GROUP (ORDER BY colour ) AS colour 
  ,age
  FROM   t
  GROUP  BY
  username,age ;
"
30399,7489,Viewing a very large CSV file?,"/* the columns in this table are the same as the columns in your csv: */
create table if not exists my_csv (
  some_field text, ...
);

/* COPY appends, so truncate the table if loading fresh data again: */
truncate table my_csv;

/* 
you need to be a postgres superuser to use COPY 
use psql \copy if you can't be superuser 
put the csv file in /srv/vendor-name/
*/

copy 
  my_csv 
from 
  '/srv/vendor-name/my.csv'
with (
  format csv
);
"
9859,11654,how to delete one of the two duplicate records in db2 database,"sql [ctx] C1 = { SELECT * FROM MyTable ORDER BY dup_column };

sql {  FETCH C1 INTO row  };
while ( !C1.endFetch() )  {
    if ( row.dup_column = prevrow.dup_column ) {
        sql [ctx] { DELETE FROM MyTable
                     WHERE CURRENT OF C1  };
    }

    prevrow.dup_column = row.dup_column;

    sql { FETCH C1 INTO ...     };
}
C1.close();
"
10372,480,"Avoiding insertion of duplicate rows where ""duplicate"" is non-trivial","insert into perm (a,b,c,d,e,f)
select
t.*
from
temp t left outer join
(
select
p.*
from
perm p inner join
(
select a, b, max(c) as max_c
from perm
group by a,b) mx on
p.a = mx.a and
p.b = mx.b and
p.c = max_c
  ) p on
t.a = p.a and
t.b = p.b and
t.c > p.c and
t.d = p.d and
t.e = p.e and
t.f = p.f
where
    p.a is null
"
287,29408,SQL: Executing a query to dynamic remote server,"SET @Sql = 'SELECT * FROM [' + @RemoteServer + '].dbname.schema.tblCustomers'
EXEC @Sql
"
9102,17822,SQL IN Clause - Possibility of Empty Set,"SELECT * FROM tbl 
WHERE col IN(SELECT col1 FROM tbl1)
   OR NOT EXISTS(SELECT 1 FROM tbl1)
"
30653,55494,join tables that are on different DB instance inside a stored procedure,"select * from [lnkDB].[DB2].[dbo].[SystemInfo]
"
9701,20208,sales of last month in mysql,"select company, sum(netSales) as netSales,
sum(case when month(CURDATE()) - 1 = month(`date`) 
       then netSales else 0 end) as lastMonthSales
from your_table_name
group by company;
"
37268,42636,Copy Query Result to another mysql table,"INSERT INTO anothertable (list, of , column, names, to, give, values, for)
SELECT list, of, column, names, of, compatible, column, types
FROM bigimportedtable
WHERE possibly you want a predicate or maybe not;
"
23303,22599,Find column Value by dividing with sum of a column,"select Id,
       field1,
       (sum(field1) over() / field1) as field2
from YourTable
"
15328,27018,How to filter a column in Oracle Sql Developer,"like '%JUL%'
"
2539,24717,"Add "" SI or NO"" in a Boolean field","insert into sales(code, sold) 
 (SELECT '001',CASE 
             WHEN 'FILLHERE' ='SI' THEN 1
             ELSE 0 END
  );
"
33565,18823,Help with insert query which replaces an original id with different value in sql?,"INESRT INTO InsertTable (ReplacementID, [Name])
SELECT R.ReplacementID, O.[Name]
FROM OriginalTable O
INNER JOIN Employee E ON E.EmployeeID = O.EmployeeID
INNER JOIN ReplacementEmployee R ON E.SerialNo = R.SerialNo
"
34865,2034,MS SQL query - 2 tables same field - decide whitch to use,"SELECT COALESCE(PriceDiscount, Price) AS Price FROM mytable
"
20469,42885,Multiple aggregate functions in HAVING clause,"GROUP BY meetingID
HAVING COUNT(caseID) < 4 AND COUNT(caseID) > 2
"
1141,69217,How to find by a relative path in jcrQuery (Sql2),"Select * from [mgnl:news] as t where name(t) = '3265'
"
19373,40531,mysql fallback WHERE statement,"SELECT *  
FROM t  
WHERE field2 = '2019@162440'

UNION ALL

SELECT *  
FROM t   
WHERE FOUND_ROWS() = 0 
      AND field2 LIKE '%%2019@%%'
"
39400,39987,Db Date Partition Change,"alter table orders enable row movement;
"
25438,14525,mysql left join results in 4 records instead of 1,"select ForgeRock.id1
     , ForgeRock.id2
     , group_concat(ForgeRock.productName)
from TClock
left join ForgeRock on TClock.id1 = ForgeRock.id1 and 
                       TClock.id2 = ForgeRock.id2
where colour = 'red'
group by ForgeRock.id1
       , ForgeRock.id2
"
20237,72532,20 hour query from hell,";WITH cte As
(
SELECT ROW_NUMBER() OVER (PARTITION BY name, compound, rowid ORDER BY rid) AS RN
FROM qvalues
)
DELETE FROM cte WHERE RN > 1
"
25232,26510,How do I use Non-ASCII characters in SQL?,"SELECT yr, subject, winner
FROM nobel
WHERE winner LIKE ""%Grünberg%""
"
26131,37776,"How to query a neighbor vertex, which has certain attributes?","create class User extends V
create property User.username string
create property User.password string

create class UserGroup extends V
create property UserGroup.id string

create class user_group extends E


create vertex User set username = 'foo', password = 'bar'
create vertex UserGroup set id = 'group1'

create edge user_group from (select from User where username = 'foo') to (select from UserGroup where id = 'group1')


select expand(in('user_group')[username='foo'][password='bar']) 
from UserGroup
where id = 'group1'
"
7686,41877,I need to find and replace \n in a mysql field,"UPDATE data set `value` = REPLACE(`value`,'\\n', CHAR(10)) WHERE `key`='shipping_address';
"
37605,2867,Android: parse.com query,"ParseQuery<ParseObject> query = ParseQuery.getQuery(""Data_db"");                 
query.whereEqualTo(""username"", edittext_user.getText().toString());
query.getFirstInBackground(...);
"
20432,8385,Selective join for two tables (SQL Server),"SELECT t1.docnum, t1.doctype, t1.code, t2.invnum
FROM 
(
    select *, row_number() over (partition by docnum ORDER BY docnum, poline) as ordinal
    from table1
) t1
LEFT JOIN 
(
    select *, row_number() over (parition by docnum ORDER BY docnum, invseq) as ordinal
) t2 ON t2.docnum = t1.docnum and t2.ordinal = t1.ordinal
"
10313,53233,Get all unique character of String in sql,"SELECT DISTINCT LOWER(SUBSTR(firstName,1,1)) firstChars
FROM your_table
WHERE LOWER(SUBSTR(firstName,1,1)) IN
 ('a','b','c','d','e','f','g','h','i','j',
  'k','l','m','n','o','p','q','r','s','t',
  'u','v','w','x','y','z')
ORDER BY firstChars
"
35889,11545,Update Datime null value to not null,"declare @SomeDate datetime = GETDATE()

update Testingset 
set SomeDate = @SomeDate  
where  SomeDate  is null
or SomeDate  <> @SomeDate 
"
260,64378,How to know that MERGE operation was INSERT or UPDATE?,"DECLARE @SummaryOfChanges TABLE(Change VARCHAR(20));

MERGE tblTarget AS Target
USING (SELECT Col1,Col2 FROM tblSource) 
    AS Source
ON (Target.Col1 = Source.Col1)
WHEN MATCHED THEN 
    UPDATE SET target.Col2 = source.Col2 -- Need to get affected rows here
WHEN NOT MATCHED BY TARGET THEN
    INSERT (Col1,Col2) VALUES (Col1,Col2); -- Need to get affected rows here
OUTPUT $action INTO @SummaryOfChanges;

SELECT Change, COUNT(*) AS CountPerChange
FROM @SummaryOfChanges
GROUP BY Change;
"
39888,57059,MySQL get minimum from function,"SELECT D.id 
FROM (SELECT id , DISTANCE_BETWEEN (Latitude,Longitude,43.2560997009,-2.9078400135) AS distance FROM Locations) AS D
ORDER BY distance
LIMIT 1
"
4370,23956,SQL Query help finding missing pair,"SELECT MIN(user_id) user_id,
       MIN(friend_id) friend_id
  FROM Table1
 GROUP BY LEAST(user_id, friend_id),
          GREATEST(user_id, friend_id)
HAVING COUNT(*) = 1
"
15995,17886,See what sp_execute is doing,"select text
    from sys.dm_exec_requests
    cross apply sys.dm_exec_sql_text(plan_handle)
    where session_id = <SPID FROM PROFILER>
"
39324,21433,Oracle PL/SQL: What's missing in this trigger?,"if (:OLD.LOGGED_IN = 1) then
  if (:NEW.LOGGED_IN = 0) then   
     UPDATE SESSION_LOGGING AS current_session SET DAUER = (sysdate-ZEITSTEMPEL) 
     WHERE DAUER IS NULL AND SECURE_IDENTIFIER = :NEW.SECURE_IDENTIFIER;
  end if;
end if;
"
25620,6872,SQL Combine two tables with two parameters,"SELECT id, date, state_on_date,
(
  SELECT TOP 1 year_quantity
    FROM table2
   WHERE id = t.id
     AND date >= t.date
   ORDER BY date
) AS year_quantity
  FROM table1 t
"
17470,17561,Table Pivot in SQL Server,"SELECT person_id, [1] Num_1,[2] Num_2,[3] Num_3,[4] Num_4,[5] Num_5
FROM Table1
PIVOT(MAX(number) FOR row_count IN ([1],[2],[3],[4],[5]))pvt
"
29432,13614,Getting highest column value from joined table,"select 
  environments.envcode,
  logs.type 
from environments
left join session on environments.envcode = session.envcode
left join logs on session.sessionid = logs.sessionid
where not exists
(
  select *
  from sessions later_session
  join logs later_log on later_log.sessionid = later_session.sessionid
  where later_session.envcode = session.envcode
  and later_log.created > logs.created
);
"
25426,12836,How to get data out of a database where the saved date is greater than another date + 1 week,"SELECT * FROM foo WHERE update_date > DATE_ADD(publish_date, INTERVAL 1 WEEK)
"
3090,28617,Mysql Order results if a certain condition is met,"SELECT * FROM posts LEFT JOIN customfields 
      ON post_id=posts.id AND custom_key='featured' 
ORDER BY custom_value=1 DESC, id DESC;
"
26008,50646,Constraint primary key,"ALTER TABLE yourTable RENAME CONSTRAINT SYS006321 TO yourNewName;
"
9791,65048,SQL design for notification of new registered users,"SELECT * 
FROM Notification
inner join User on (
    User.Date >= Notification.Date and
    (Notification.Gender is null or Notification.Gender = User.Gender) and
    (Notification.HairColor is null or Notification.HairColor = User.HairColor) and
    (Notification.EyeColor is null Notification.EyeColor = User.EyeColor) and
    (Notification.Company is null or Notification.Company = User.Company)
)
"
32294,14273,"SQL Partial primary key, composite key","CREATE TABLE ""Author/Title"" (
    author_name VARCHAR(50),
    isbn VARCHAR(13) REFERENCES ""Item Details"",
    PRIMARY KEY (author_name, isbn)
)
"
22212,31187,Filter rows based on a value of a column,"SELECT * 
FROM Table1 
WHERE Name='ABC' OR Party<>'IND';
"
715,44954,SQL Get Delimited Results for All Columns,"SELECT * INTO OUTFILE 'filename'
FIELDS TERMINATED BY '|'
LINES TERMINATED BY '\n'
FROM yourtable;
"
1080,44276,Retrieve multiple records based on multiple AND WHERE conditions,"SELECT ... WHERE ...
UNION
SELECT ... WHERE ...
UNION
SELECT ... WHERE ...
"
12212,2768,SQL grouping same names,"select HotelName
from your_table
group by HotelName
having count(HotelID) >= 5
"
14135,2383,Compound SQL Join?,"SELECT *
  FROM t3 INNER JOIN t2 ON (t3.fkeyT2 = t2.key)
          INNER JOIN t1 ON (t2.fkeyT1 = t1.key)
 WHERE t1.name = 'Foo'
"
20190,27222,order by case in sql 2005 server,"ORDER BY CASE 
when Symbol like '%FUT' then 1 
when Symbol like '%CE' then 2 
when Symbol like '%PE' then 3 
else 4 end, Symbol asc  
"
10320,42626,How to get previous row data?,"SELECT MAX(id) FROM status WHERE id < 5
"
1610,63222,How do I get the highest currently used ID number in a table with LINQ?,"DataContext db = new DataContext();
var nameCount = db.Names.Count();

var nameCount = db.Names.Select(n => n.Id).Max();
"
24161,7661,How To find the Changes happened to the SQL Server since last Migration,"SELECT
    modify_date
        ,type_desc
        ,name
    FROM sys.objects
    WHERE is_ms_shipped=0
        --AND modify_date>='yyyy/mm/dd'  <--optionally put in your date here
    ORDER BY 1 DESC
"
23985,9066,SQL query for mutual friends,"SELECT user.uid
FROM user
WHERE EXISTS(
    SELECT TOP 1 1 
    FROM Friends 
    WHERE Friends.fuid = @friend1 AND Friends.fapproved = 1 
      AND Friends.fuid2 = User.uid
  )
  AND EXISTS(
    SELECT TOP 1 1 
    FROM Friends 
    WHERE Friends.fuid = @friend2 AND Friends.fapproved = 1 
      AND Friends.fuid2 = User.uid
  )
"
786,5312,Batch Delete from tableA based on data on tableB,"DELETE tableA
FROM tableB 
WHERE tableA.ID = tableB.ID
"
457,8883,SQL table self-comparison: how to eliminate duplicates,"SELECT item1.id as id1, item2.id as id2
FROM   item item1, item item2
WHERE  item1.value = item2.value
AND    item1.id < item2.id
"
22614,60609,sql server: Is this nesting in a transcation sufficient for getting a unique number from the database?,"declare @Result int
EXEC @Result =
sp_getapplock @Resource = 'holdit1', @LockMode = 'Exclusive', @LockTimeout = 10000 --Time to wait for the lock
IF @Result < 0
BEGIN
ROLLBACK TRAN
RAISERROR('Procedure Already Running for holdit1 - Concurrent execution is not supported.',16,9)
RETURN(-1)
END
"
26348,45209,"How to calculate 90th Percentile, SD, Mean for data in SQL","SELECT DISTINCT
            [Month],
            Mean   = AVG(Score) OVER (PARTITION BY [Month]),
            StdDev = STDEV(Score) OVER (PARTITION BY [Month]),
            P90    = PERCENTILE_CONT(0.9) WITHIN GROUP (ORDER BY Score) OVER (PARTITION BY [Month])
FROM        my_table
"
34061,25495,Aggregate function on DATEDIFF result,"select top 1 s.*
from schedules s
where username = 'username' and CAST('2008-12-20 10:00' AS DATETIME) >= startdate 
order by startdate;
"
34938,37525,Removing space in Insert,"CommandText = ""Insert into FileMaster(Subject,FileID) Values('"" & obj.Subject & ""','"" & obj.FileID & ""')
"
15882,32289,Recursive t-sql query," WITH CTE (NodePath, ID) AS (
    SELECT
        '/' + CAST(NodeName AS NVARCHAR(MAX)) AS NodePath,
        ID
    FROM TABLE
    WHERE NodeName = 'Root'

    UNION ALL

    SELECT
        CTE.NodePath + '/' + CAST(NodeName AS NVARCHAR(MAX)) AS NodePath,
        TABLE.ID
    FROM CTE
    INNER JOIN TABLE ON TABLE.ParentId = CTE.ID
)

SELECT
    NodeName,
    ID
FROM CTE
"
12467,72281,Get records that doesn't have connection,"SELECT Products.* FROM 
Products RIGHT OUTER JOIN Join_Table 
  ON Products.ID = Join_Table.Product_ID
  AND Join_Table.Property_ID = 2
WHERE Products.ID IS NULL
"
38284,48841,Wordpress mysql Query,"SELECT post_title, post_content, meta_value 
FROM wp_posts
LEFT JOIN
wp_postmeta ON ID = post_id
and meta_key = '_wp_attached_file'
"
986,68113,How can I fill my table?,"  INSERT INTO TableE (E_ID , E_NAME)
  SELECT b.B_ID ,d.D_ID FROM TableA a 
  INNER JOIN TableB b ON b.FROM_A = a.A_ID
  INNER JOIN TableC c ON c.C_ID  = a.A_TYPE
  INNER JOIN TableD d ON  d.D_NAME = c.C_NAME
"
16459,60427,use a function with trim in a select with the exact number of digits after the comma,"select
    a, 
    b, 
    c, 
    left(case when t.b > t.c then t.b else isnull(t.c, t.b) end + @f, 10) as d
from
    #myTable t
order by
    someCriteria
"
13918,66771,Select data from SQL with out returning the column headers,"Worksheets(""Sheet3"").Cells(2, 1).CopyFromRecordset rs
"
12028,23980,Substraction between 2 Time columns in MySQL,"floor(time_to_sec(time1) - time_to_sec(time2) / 60) as MinutesDiff
"
31057,11829,Can you increase the salary for 2 different job ID's in the same select statement?,"case when job_id like '%VP%' then 1.3 else 1.2 end * salary
"
9238,37643,Issue with Sum Calculation for multiple different IDs,"SELECT SUM(Units) 
FROM TableIH AS F WHERE F.Fund = S.Fund AND F.Number = S.Number 
AND F.Date >= (SELECT MIN(Date) FROM TableIH AS D 
        WHERE D.Fund= F.Fund AND D.Number = F.Number AND D.Entry = 'Tax'
"
16051,51387,perform operation on return value,"SELECT measuremententry * 1000 AS measuremententry 
  FROM log
"
1242,25751,Unique Constraint on condition in SQL Server,"create unique index idx_supplier_shop_name on supplier(shop, name)
"
22445,54328,Take substring out of string,"select substring(empno, 6,
                 charindex('E', empno, 6) - 6)
from (select 'Empl:9998 Earn Code:7704 Seq:1' as empno) t;
"
1699,48762,SQL - Getting category name from SQL table,"SELECT DISTINCT CategoryName 
FROM YourTable
"
20605,56065,Best way to sql query a table based on a list of emails,"SELECT *
FROM `MY_TABLE` 
WHERE field_1 = 'something' AND
      created BETWEEN '2014-06-01 00:00:00' AND '2014-06-30 23:59:59' AND 
      email IN ('emaillist1@email.com', 'emaillist2@email.com', 'emaillist3@email.com');
"
32502,24871,SQL: return string describing user category based on a field,"select
  user_id,
  case when age < 18 then 'under18'
       when age <=65 then 'normal'
       when age > 65 then 'over65'
       else null end as category
from
  Users
"
25500,12530,How to find doubles in master-child table?,"DECLARE @vkey int = 1
;WITH cte_test AS ( 
SELECT keyA,(SELECT ','+fieldb FROM tableB t1 WHERE t1.keyA = t.keyA FOR XML path('')) AS rslt
from   tableB t
GROUP BY t.keyA)
SELECT  t2.*
FROM    cte_test t1
    INNER JOIN cte_test t2 ON t1.[rslt] = t2.[rslt] AND t2.[keyA] <> t1.[keyA]
WHERE   t1.[keyA] = @vkey
"
32071,3361,"Latest date from date, month, year","select * from your_table
order by year, month, `date` desc
limit 1
"
24618,188,Access SQL query: find the row with the most recent date for each distinct entry in a table,"SELECT ID, Value,As_of 
from yourTable a inner join 
          (SELECT ID, MAX(As_of) as As_of 
          from yourTable group by ID) b 
on a.ID=b.ID and a.As_of = b.As_of
"
11624,26543,assigning results of sql query to local variables,"select @address = address , 
       @serialNumber = serialNumber 
from dummyTable where id = 10
"
37738,37526,Mysql add column from different table,"select u._id,u.id,u.name,u.email,u.country,
case when s.subscribe is not null then 1 else 0 end as subscribe 
from user u 
left join subscribe s on (u._id = s.user and s.subscribe ='$sub')
where u._id='$user' 
"
4108,2594,Sql query to fetch the next token number,"DECLARE @TempTable TABLE
(
    TableID  int PRIMARY KEY IDENTITY,
    TokenId int
)
Insert Into @TempTable 
    Select tt.TokenId from XLBDataPoint tt where tt.TokenId= 1
DECLARE @RowCount INT
SET @RowCount = (SELECT COUNT(*) FROM @TempTable ) 

(SELECT 
Top 1 t.TokenId + @RowCount 
FROM TokenData  t
Where t.TokenId+ @RowCount  NOT in
(select t2.TokenId FROM TokenData t2)
"
17143,11348,Displaying a sorted dataset from two tables,"SELECT  ItemID
        ,Price
FROM    ACTIVE
UNION
SELECT  ItemID
        ,Price
FROM    ARCHIVE AA
WHERE   AA.ArchiveDate = (SELECT MAX(ArchiveDate) FROM ARCHIVE AA1 WHERE AA1.ItemID = AA.ItemID)
AND     NOT EXISTS (SELECT 1 FROM ACTIVE A WHERE A.ItemID = AA.ItemID)
"
38395,14573,How do I ignore the primary record if any of the secondary record is matching in Oracle?,"with sqf as (SELECT *
              FROM PRODUCT A, PRODUCT_RELATION B 
              WHERE A.ROW_ID = B.PROD_ID 
              AND A.NAME = 'Zinc' )
select * 
from sqf
where sqf.row_id not in (select x.row_id
                         from sqf x
                         where x.START_DATE < SYSDATE)
"
21956,73995,ORACLE TIMEOUTS - how can i set a longer timeout using this connection string?,"return ""User Id=USER;Password=pass;Data Source=(DESCRIPTION="" +
            ""(ADDRESS=(PROTOCOL=TCP)(HOST=14.12.7.20)(PORT=1139))"" +
            ""(CONNECT_DATA=(SID=QCTRP1)));Connection Timeout=60;"";
"
18277,21719,SQL time query from 6pm at night to 6am,"SELECT COUNT(barcode)
FROM table1
WHERE timestamp >= DATEADD(HOUR,18,CONVERT(VARCHAR(10), GETDATE(),110))
  AND timestamp <= DATEADD(HOUR,6,CONVERT(VARCHAR(10), GETDATE()+1,110))
"
3127,41903,How to design a database where I can add unsettled number of items," USERS(ID_USER, NAME, NICK, REGISTER_DATE)

 ITEMS(ID_ITEM, DESCRIPTION, PRICE)

 PURCHASES(ID_PURCHASE, ID_USER, ID_ITEM, PRICE, PURCHASE_DATE)
"
12878,17238,Batch replacing values in multiple SQL tables,"Update Table
Set Reference = map.NewReference
From ReferenceMap map
Where reference = map.OldReference
"
36738,27808,SQL query to select from two tables with if condition,"  SELECT    * 
    FROM    Notification n
            LEFT OUTER JOIN Acknowledgment a ON a.parent_id = n.id
  WHERE     (a.parent_id IS NULL OR a.status = @somevalue)
"
32081,46084,How to cache data in a MVC application,"    public string[] GetNames()
    {
      string[] names = Cache[""names""] as string[];
      if(names == null) //not in cache
      {
        names = DB.GetNames();
        Cache[""names""] = names;
      }
      return names;
    }
"
33931,49208,identify insert stored proc,"SELECT OBJECT_NAME(m.object_id), m.*
  FROM SYS.SQL_MODULES m
 WHERE m.definition like N'%INSERT INTO my_table_name%'
"
19466,53008,SQLite How do I match one column from multiple tables then return only one of those tables and add missing column only,"SELECT item, amount, price, bought, NULL sold, slot
FROM Buying
WHERE slot = 0
UNION
SELECT item, amount, price, NULL bought, sold, slot
FROM Selling
WHERE slot = 0
"
7684,19807,Does DBIx::Class do unions?,"my $rs1 = $rs->search({ foo => 'bar' });  
my $rs2 = $rs->search({ baz => 'biff' });  
for ($rs1->union($rs2)->all) { ... }
"
35134,8253,I cant figure out a inner join in this case,"SELECT C.names
FROM C
    INNER JOIN B ON C.B_ID = B.B_ID
    INNER JOIN A ON B.A_ID = A.A_ID
WHERE A.A_ID = 3
"
22346,66239,insert new values without overwriting previous values sql,"insert into table_name (order, firstname, lastname, email, contacttypeid) 
values (1284480, 'joe'...);
"
19440,19926,Selecting only the highest value for a specific record with other unique columns?,"select fc.* 
from fruits_cities fc
where fc.cityId = (select max(CityId)
                   from fruits_cities fc2
                   where fc2.fruit_id = fc.fruit_id
                  );
"
20082,73910,How do I assign a number to a set of results but re-start the numbering at the start of a new unique ID?,"select cust_id, date,
       row_number() over (partition by cust_id order by date) as assigned_value
from table t;
"
34382,54088,Flattening a hierarchial data set in Oracle,"... beginning of your query ...
START WITH A.TREE_Name = 'MDA_GRN_KK'
connect by nocycle prior  A.TREE_NODE = A.PARENT_NODE_NAME
"
36756,74676,MySQL Special Sorting,"select inv_number from yourtable order by substring(inv_number, 5, 2), substring(inv_number, 1, 3)
"
6130,56891,How can I tell if an Oracle Package is natively compiled?,"SELECT param_value 
  FROM user_stored_settings 
 WHERE param_name = 'PLSQL_COMPILER_FLAGS'
   AND object_name = 'MY_PACKAGE';
"
29159,16935,How can i see SQLite Database (No emulator)?,"adb shell
"
12071,24568,Converted Pages in Books,"select * from Book as b
where not exists
 ( select * from BookPage as bp
   where b.Id = bp.BookId
     and bp.Text is null
 )
"
21878,23903,Convert multi-rows values into Collection(List) in LINQ,"var user_address= from _user in users 
                  select new userDetails{
                  userid=_user.userid,
                  Address=(from _address in address
                           where _user.userid=_address.userid
                           select _address.:address
                           ).ToList()
};
"
8587,59544,MYSQL match csv keywords column,"SELECT  *
FROM    user
WHERE   FIND_IN_SET('10', keywords) > 0 OR
        FIND_IN_SET('20', keywords) > 0 
"
19212,14621,Get SQL Table Info,"SELECT * FROM  MYLINKEDSERVER.MYDATABASE.INFORMATION_SCHEMA.COLUMNS
WHERE TABLE_NAME = 'Address'
"
30246,12716,Sql Server WHERE IN with CASE,"WHERE (ProductLine = 'TVs' AND @ProductType = 1)
   OR (ProductLine IN ('Handsets', 'Mobiles') AND @ProductType = 2)
   OR (ProductLine = 'Books' AND @ProductType NOT IN (1, 2))
"
29647,676,Codeigniter generate simple array from database,"$query = $this->db->query('SELECT val FROM table')->result_array();

$array = array();

foreach ( $query as $key => $val )
{
    $temp = array_values($val);
    $array[] = $temp[0];
}
"
36752,19691,How to count empty tables in database?,"SELECT * FROM
(
 SELECT 
  [TableName] = so.name, 
  [RowCount] = MAX(si.rows) 
 FROM 
  sysobjects so, 
  sysindexes si 
 WHERE 
  so.xtype = 'U' 
  AND 
  si.id = OBJECT_ID(so.name) 
 GROUP BY 
  so.name 
) sub
WHERE sub.[RowCount] = 0
"
15108,69103,Query to Find Double-Header,"select team, day, count(*) as numgames
from ((select id, homeid as team, date(start_date) as day
       from t
      ) union all
      (select id, awayid as team, date(start_date)
       from t
      )
     ) t
group by team, day
having numgames > 1;
"
37825,32222,Alphabet Series Generation in SQL Server,"DECLARE @Funding TABLE (FundingDetailID INT,FundingID INT, DetailDescription VARCHAR(50))
INSERT INTO @Funding VALUES (1,107,'Desc 1')
INSERT INTO @Funding VALUES (1,107,'Desc 2')
INSERT INTO @Funding VALUES (1,107,'Desc 3')

SELECT CHAR (CAST (96+ROW_NUMBER() OVER (Order BY FundingDetailID) AS VARCHAR)) + ') ' + DetailDescription
FROM @Funding



-----------------------------------------------------
a) Desc 1
b) Desc 2
c) Desc 3
"
9900,18476,Simple MS SQL count question,"SELECT
      [Referer], Count([Referer]) as RefCount
  FROM [tblSequence]
WHERE [Referer] IS NOT NULL AND [Referer] NOT LIKE @url AND siteID = 15
GROUP BY [Referer]
"
28045,59290,How do we add a column to resultset to show count in PostgreSQL?,"SELECT ch.name,
   date(msg.date_created),
   SUM(CASE WHEN msg.status = 'SENT' THEN 1 ELSE 0 END) as SENT,
   ... -- same for other statuses
FROM message msg,
 channel ch
WHERE msg.status !='TRANSFORMED'
AND msg.channel_id = ch.id
AND msg.date_created BETWEEN to_date('2015-01-10', 'YYYY-MM-DD') AND to_date('2015-01-11', 'YYYY-MM-DD')
GROUP BY ch.name, date(msg.date_created);
"
24781,65189,Time taken for operation MongoDB,"> setVerboseShell(true)

> db.testing.update({}, {$set: { deleteme: true }}, { multi:true })
Updated 100 existing record(s) in 1ms
WriteResult({ ""nMatched"" : 100, ""nUpserted"" : 0, ""nModified"" : 100 })

> db.testing.remove({ deleteme:true })
Removed 100 record(s) in 1ms
WriteResult({ ""nRemoved"" : 100 })
"
11474,54542,why nr ∗ bs + br for block transfer in worst case Nested-Loop Join?,"Total blocks of R = B(R)
Total tuples in R = N(R)
Total blocks of S = B(S)

R X S is done.
"
30153,70088,mysql query with count," SELECT comment_post_ID, count(like_ID)
 from (select distinct comment_post_ID,like_ID 
       from comments_like cl , comments c
 where cl.comment_ID= c.comment_ID ) as iq
 group by comment_post_ID
"
4625,31444,populate null columns in database,"UPDATE table_name 
SET new_value = (original_value * amount) 
WHERE new_value IS NULL
"
18449,19565,"Outer Join - Not Working, wont show null rows","SELECT activeteams.divisionid, teams.teamname, res.wins
FROM activeteams
INNER JOIN teams ON activeteams.teamid = teams.teamid
LEFT JOIN (
    SELECT 
        COALESCE(SUM(CASE WHEN result =  'w' THEN 1 ELSE 0 END ), 0) AS wins, 
        teamid
    FROM results
    GROUP BY teamid
  ) res ON teams.teamid = res.teamid
WHERE activeteams.divisionid = 1
"
14643,41370,How to count in Grails/Hibernate: Message.countBy,"Message.executeQuery('select count(m) from Message m where SIZE(m.body) < 25')
"
21132,1404,Text search of a many-to-many data relation,"With maxCategories AS
 (select book_id, max(category_id) as category_id from BookCategory group by book_id)
select Books.book_id, Books.Title, Categories.category_id, Categories.name
from Books 
inner join maxCategories on (Books.book_id = maxCategories.book_id)
inner join Categories on (Categories.category_id = maxCategories.category_id)
where Books.title like '%treasure island%'
"
31486,18535,How to avoid manually writing/managing SQL,"create table t as select * from raw_data; 

or 

insert into t (x,y,z) select x,y,z from raw_data;
"
26288,73440,Drop 0 value in decimal places,"select cast(cast([Percent] as decimal(9,2)) AS FLOAT) as [Percent]
"
14370,46056,SQL server for each distinct different sum,"Select Country,
       SUM([Number of Manager]) AS 'Number of Parts Staff/Manager',
       Count([Name]) AS 'Number of Test'
From Test
GROUP BY Country
"
37134,33438,SQL query where clause," WHERE client = $id
    AND ((isinvoiced = 0) OR (isinvoiced = 1 and isrecurring = 1))
"
14380,9007,Exploding Array of Struct using HiveQL,"SELECT  * FROM (select user_id, prod_and_ts.product_id as product_id,
regex_replace(prod_and_ts.timestamps, ""#\\d*"", """")  as timestamps FROM table2 LATERAL VIEW
explode(purchased_item) exploded_table as prod_and_ts) prod_and_ts;
"
15509,12874,Joining multiple records into one with PIVOT,"SELECT
  WeekDate = Monday,

  DayDateMonday   = MAX(CASE Day WHEN 'Monday' THEN DayDate   END),
  TimeEntryMonday = MAX(CASE Day WHEN 'Monday' THEN TimeEntry END),
  TimeOutMonday   = MAX(CASE Day WHEN 'Monday' THEN TimeOut   END),
  RestMonday      = MAX(CASE Day WHEN 'Monday' THEN Rest      END),

  DayDateTuesday   = MAX(CASE Day WHEN 'Tuesday' THEN DayDate   END),
  TimeEntryTuesday = ...  -- and so on

FROM timetable
GROUP BY
  Monday
;
"
30069,3750,CASE expressions on datetime columns,"select CASE 
    when next_action_date between GETDATE() and GETDATE()+7 then 'Incoming'
    when next_action_date < GETDATE() THEN 'Overdue'
    else 'fine' end as Condition
from(
    select GETDATE()+6 next_action_date
)x
"
8790,54899,MySQL Nested Sets adding node above selected node,"LOCK TABLE `categories` WRITE;

SELECT @myLeft := `lft` FROM `categories`
WHERE `id` = '. $where .';

UPDATE `categories` SET `rght` = `rght` + 2 WHERE `rght` > @myLeft;
UPDATE `categories` SET `lft` = `lft` + 2 WHERE `lft` > @myLeft OR `lft` = @myLeft;

INSERT INTO `categories`(`name`, `lft`, `rght`) VALUES(""'. $name .'"", @myLeft, @myLeft + 1);

UNLOCK TABLES;
"
15552,65387,Am I using update correctly?,"update WebCatalog.Published.DemoTracking
set Purchased = 1
where Purchased = 0 and RCompanyLink in (select Link as RCompanyLink from WebCatalog.Published.RCompany where RC.Expiration >= GETDATE() and RC.DemoLicense = 0)
"
19010,5938,Advanced Mysql over Wordpress Custom Fields,"SELECT * from wp_posts where ID IN ( (SELECT post_id from wp_postmeta where meta_key='list_price' and meta_value BETWEEN 1 and 1229000 ) ) and id in (SELECT post_id from wp_postmeta where meta_key='weight' and meta_value BETWEEN 20 and 200 ) 
"
8243,53292,"how can i get the date in ""Month Year"" format?","SELECT DATENAME(month, getdate()) + ' ' + DATENAME(year, getdate()) 
"
35496,39050,Mysql: insert a new row in a child table with new values except for foreign key column which is obtained from parent table,"INSERT INTO
    BOOKING
    (CUSTOMER_CODE, BOOKING_DATE)
SELECT
    CUSTOMER_CODE, $booking_date
FROM
    CUSTOMER
WHERE
    CUSTOMER.email=$email
"
34882,30494,Display a resultset where each cell is based on different condition using stored procedure,"Declare @vQuery nvarchar(max),
        @vWhereClasue varchar(500)

SET @vQuery = 'Select top 7 col1,col2 ....col16 from ... where ' + @vWhereClasue
exec sp_executesql @vQuery
"
4311,11518,How to query and compare values of two tables?,"UPDATE TimeRequestedTable
INNER JOIN BlockTimesTable ON BlockTimesTable.EmpID = TimeRequestedTable.EmpID
SET AppointTime = ""inputed by user""
WHERE AppointTime BETWEEN startTime and EndTime
"
32860,54718,getting sum from two diffrent tables sql,"SELECT
  (SELECT SUM(units) FROM stock_in WHERE itemid = 7) -
  (SELECT SUM(units) FROM stock_out WHERE itemid = 7)
  AS difference;
"
17187,33466,How to update data for each row using function and data from another table?,"CREATE OR REPLACE FUNCTION updateTsvector () RETURNS void AS $$
  UPDATE acrticles_pl_vector
    SET locale = 'pl', vector = to_tsvector('polish', ot.title || ot.content
    FROM otherTable ot
    WHERE id = ot.id;
$$ LANGUAGE sql;
"
39648,47407,How can I create a table with a column with 3 only possible given values?,"CREATE TABLE sizes (
    name ENUM('small', 'medium', 'large')
);
"
15470,66651,Counting groups of data in SQL,"SELECT 
 CodeField, 
 COUNT(CodeField) 
FROM table 
GROUP BY CodeField 
HAVING COUNT(CodeField) < 12
"
32559,10478,Remove Varying levels of empty XML tags in SQL Server,"/Whatever/*//*[empty(.//text() | .//attribute())]
"
27177,17278,SQL Server : TOP 10 query by occurrence without using group by,";WITH Top10Distinct AS
(
    SELECT DISTINCT TOP 10 YourColumn
    FROM dbo.YourTable
    ORDER BY YourColumn DESC
)
SELECT *
FROM dbo.YourTable tbl
INNER JOIN Top10Distinct cte ON tbl.YourColumn = cte.YourColumn
"
331,73153,How enable all CONSTRAINT?,"ALTER TABLE sales CHECK CONSTRAINT ALL;
"
28161,28895,How to join a table with multiple foreign keys from the same table?,"SELECT 
    m1.ModeName,
    m2.ModeName,
    m3.ModeName,
    m4.ModeName,
    m5.ModeName
FROM Modes m
LEFT JOIN Ref m1 on m1.ModeID = m.Mode1
LEFT JOIN Ref m2 on m2.ModeID = m.Mode2
LEFT JOIN Ref m3 on m3.ModeID = m.Mode3
LEFT JOIN Ref m4 on m4.ModeID = m.Mode4
LEFT JOIN Ref m5 on m5.ModeID = m.Mode5
"
25124,27672,MySQL time delay a trigger,"SELECT SLEEP(600);
"
31407,38213,In SQL Server change column of type int to type text,"ALTER TABLE foo ADD COLUMN tempbar text;
UPDATE foo SET tempbar = cast(cast(bar as varchar) as text);
ALTER TABLE foo DROP COLUMN bar;
ALTER TABLE foo ADD COLUMN bar text;
UPDATE foo SET bar = tempbar;
ALTER TABLE foo DROP COLUMN tempbar;
"
14021,47463,How to update a field of a table with some percentage of its value in SQL?,"update Mytable set Sal=1.05*sal where departmentId=xxx
"
35378,32713,avoid joining a table 100 times with itself,"SELECT a.datatime
    , sum(case when a.tagname = 'grp1_tagA' then a.interesting else NULL end) as tagA
    , sum(case when a.tagname = 'grp1_tagB' then a.interesting else NULL end) as tagB
    , sum(case when a.tagname = 'grp1_tagC' then a.interesting else NULL end) as tagC
FROM everything AS a
WHERE a.datatime >= '2013-12-04'
GROUP BY a.datatime
;
"
9992,69259,Join three tables with counts,"select s.s_id,
       p.p_id, 
       count(d.Did_Something) as Count_D_Did_Something, -- nulls won't be counted 
       sum(CASE WHEN d.Did_Something = 1 THEN 1 ELSE 0 END) as Count_D_Did_Something_is_one
from   Soknad as s 
       left join Prognose as p on p.P_S_ID = s.s_id
       left join Did as d on d.D_S_ID = s.s_id
"
7298,71251,SQL Complex Query with count,"select id
     , sum(octSecAndthrd1 + octSecAndthrd2 + octSecAndthrd3 + octSecAndthrd4) col1
     , sum(octSecAndthrd5 + octSecAndthrd6 + octSecAndthrd7 + octSecAndthrd8) col2
  from ...
"
21126,32962,Anything faster than count(1) from tableA to find row counts?,"IF EXISTS(SELECT * FROM YourTable)
"
4599,15932,SELECT result in one table depeding of another SELECT in the same table,"SELECT
  *
FROM
  team_by_membre
WHERE
  id_team IN (
    SELECT
      id_team
    FROM
      team_by_membre
    WHERE
      id_membre = ?
    AND
      level = 1
  );
"
3528,53100,SQL Cumulative Count,"WITH Base AS
(
    SELECT ROW_NUMBER() OVER (ORDER BY [Count] DESC) RowNum,
    [Dept],
    [Count]
    FROM SR
)
SELECT SR.Dept, SR.Count, SUM(SR2.[Count]) Total
FROM Base SR
INNER JOIN Base SR2
    ON SR2.RowNum <= SR.RowNum
GROUP BY SR.Dept, SR.Count
ORDER BY SR.[Count] DESC
"
15944,66677,Select values of a column into one row - SQL Server,";with cte as(select *, row_number() over(partition by studentid, songid 
                        order by solutiondate, solutiontime) rn from tablename)

select studentid,
       songid,
       max(case when rn = 1 then solutiontime end) as timea,
       max(case when rn = 2 then solutiontime end) as timeb,
       max(case when rn = 3 then solutiontime end) as timec
from cte
group by studentid, songid
"
8792,8575,ORA-00933 before update query,"CREATE TABLE PATIENT_ACCOUNT
(
    ID         NUMBER
,   PATIENT_ID NUMBER
,   ACCOUNT_ID NUMBER
);

INSERT INTO PATIENT_ACCOUNT VALUES(1, 11, 22);

UPDATE  PATIENT_ACCOUNT
SET     PATIENT_ID = 1
AND     ACCOUNT_ID = 2
WHERE   ID = 3;
-- ORA-00933: SQL command not properly ended

UPDATE  PATIENT_ACCOUNT
SET     PATIENT_ID = 33
,       ACCOUNT_ID = 44
WHERE   ID = 1;
-- 1 rows updated.
"
16881,19806,SQL distinct on Date and ignore Time,"SELECT DATE_FORMAT(Date, '%Y-%m-%d') AS Timestamp, AVG(value)
FROM abc
GROUP BY DATE(Date)
"
17584,25420,Puzzle: Alternate SQL Syntax,"Update c
Set pid =   Case
                When course_name = ? Then ?
                Else pid
                End
"
38213,7843,How to do a sql conditionnal joining on multiples tables?,"    Select [...], request.Id
From [Action] inner join [other tables on ...] inner join
    Person on Action.PersonId = Person.Id left JOIN 
request as r on r.PersonId = Person.Id left JOIN
Subject as s on s.SubjectId = r.SubjectId left JOIN
TypeRequest tr on tr.IDSujet = s.SubjectId **and typeRequest = 'MOVE'**
Where 
([already existing conditions])
"
39884,46979,How to drop my Foreign key in database?,"alter table t1 drop FOREIGN KEY FKA126572FF5D5DSE;
ALTER TABLE t1 DROP INDEX FKA126572FF5D5DSE;
"
34943,40079,Reusing part of already selected SQL query result - aka do not repeat itself,"with cte as (
SELECT Product.ID, Product.No 
FROM Product WITH(NOLOCK)
WHERE Product.Type = 1
)
SELECT ID
FROM cte
WHERE No = '123456789'

UNION

SELECT Description.ID
FROM Description WITH(NOLOCK)
WHERE Description.Opis LIKE '%hello%'
  AND Description.ID IN (SELECT ID from cte)
"
16865,67747,How to delete rows on table when date column is already past 2 days?,"DELETE o
FROM orders o
WHERE date_received <= date_sub(current_date, interval 2 day) and
      status = 0;
"
28057,49910,To add a white character between the leading word,"select regexp_replace('..agsb', '^(\.+)([^. ])', '\1 \2') as output
from dual;
"
9713,68416,"Using ""case"" with ""or"" in a where clause","select Nom
from tab
where (
    libelle != ''
    and (
        Nom like Nom1
        or Nom like Nom2
    )
)
or (
    libelle = ''
    and Nom like Nom3
)
"
1165,9098,"Non linear, three way sum of table data","select user_name, id, min(status), sum (calls)
from yourtable
where status in  ('BadAD', 'Lead', 'DNC')
group by user_name, id
"
12597,6723,ACCESS VBA - Run query from FORM with variable,"Adapt the code
Private Sub Command_Click()

Dim top_num As Long
Dim SQL As String

top_num = Top_number.Value

sSQL = _
""SELECT week, SUM(price1/price2 * turnover)/SUM(turnover) AS [PriceIndex]"" & _
""FROM Table1 AS F INNER JOIN TopTable AS T ON F.code=T.code"" & _
""WHERE F.code IN ( "" & _
""***SELECT TOP "" & top_num & "" code"" & _
""FROM TopTable)"" & _
""GROUP BY week;""

' Add This :
Me!subform1.Form.RecordSource = sSQL


End Sub
"
9558,23261,Determining when there are new versions in core data model,"- (BOOL)modelChanged
{
    NSError *error;
    NSURL * sourceURL = [[self applicationDocumentsDirectory] URLByAppendingPathComponent:@""db.sqlite""];
    NSDictionary *sourceMetadata = [NSPersistentStoreCoordinator metadataForPersistentStoreOfType:NSSQLiteStoreType URL:sourceURL error:&error];
    BOOL isCompatible = [[self managedObjectModel] isConfiguration:nil compatibleWithStoreMetadata:sourceMetadata];

    return isCompatible;

}
"
20404,23448,With MySQL how to distinguish between a NULL value and a non-existent value,"SELECT
    m.Id, m.column1,
    CASE WHEN s.Id IS NULL 
             THEN 'Not Exists'
         WHEN s.column2 IS NULL
             THEN 'Null Value'
         ELSE s.column2
    END AS column2
FROM 
    mainTable AS m
  LEFT JOIN
    secondTable As s
      ON s.Id = m.Id ;
"
5080,37613,Calculate Total Value of Products,"select sum(price*quantity) as yoursum from yourtable
"
25649,23288,T-SQL Script to copy data from one server to another?,"Insert into Server2.Database2.dbo.MapTable1 select * from table1
"
31411,48628,Taking only 1 row from a group of rows sharing the same field value,"SELECT t1.* 
FROM YourTable t1
    JOIN 
    (SELECT MIN(Col1) AS FirstId 
     FROM YourTable GROUP BY Col2) x ON t1.Col1 = x.FirstId
"
22992,50561,MySQL DISTINCT ignored in SELECT displays duplicate,"SELECT FirstName, LastName, r.Email, min(ListingID) as ListingID, ListingFirmID
    FROM sancap_Residential_Property e 
    JOIN sancap_Agent r ON e.ListingAgentID = r.AgentID
    JOIN sancap_Office d ON e.ListingFirmID = d.firmID
    WHERE ListingFirmID != 'BrokerC'
GROUP BY FirstName, LastName, r.Email, ListingFirmID
"
34278,5163,Is there any term like 'DOT(.) notation' used in SQL joins?,"on a.userid = n.userid
"
8795,62391,How do I subtract from the same table sql,"select mprev.hips - m.hips as hips,
       mprev.wrist - m.wrist  as wrist,
       mprev.abs - m.abs as abs,
       mprev.weight - m.weight as weight
from measurements m join
     measurements mprev
     on me.week = mprev.week + 1;
"
38386,64743,Set trigger to change column value based on another column,"CREATE TRIGGER upd_check BEFORE UPDATE ON account
FOR EACH ROW
BEGIN
     IF NEW.amount is NULL THEN
         SET NEW.item = 0;        
     END IF;
 END;
"
10673,34808,How to calculate aggregate function SUM on an alias column?,"SELECT a.question_id, 
       a.level, 
       COUNT(a.question_id) AS rank, 
       SUM(SELECT(rank)) AS total 
FROM   logs AS a, 
       question AS b 
WHERE  a.question_id = b.q_id 
       AND a.level = '2' 
GROUP  BY a.question_id 
ORDER  BY rank DESC 
"
36997,20289,Transaction with One SQL Statement,"CREATE TRIGGER myPostsTrigger AFTER INSERT
ON posts
FOR EACH ROW
BEGIN
    UPDATE categories SET count = count + 1 WHERE id = NEW.category_id
END
"
17921,547,sqlplus gets ORA-12504 when using EZCONNECT syntax,"C:\>sqlplus sys@\""localhost:1521/orcl12\"" as sysdba

SQL*Plus: Release 12.1.0.2.0 Production on Fri Sep 18 13:10:19 2015

Copyright (c) 1982, 2014, Oracle.  All rights reserved.

Enter password:

Connected to:
Oracle Database 12c Enterprise Edition Release 12.1.0.2.0 - 64bit Production
With the Partitioning, OLAP, Advanced Analytics and Real Application Testing options

SQL>
"
38480,37672,"How to map data from a raw sql query to Model properties, in ASP.NET MVC?","public DbSet<art> arts { get; set; }
"
26225,62058,SQL results to string with wildcard,"DECLARE @sql NVARCHAR(max)='SELECT '
DECLARE @TableName NVARCHAR(max) = 'Table_Name' -- <-- Set the target table name here

SELECT @sql=@sql+N'ISNULL(CAST(' + name +' as NVARCHAR(max)), '''')+'',''+'
FROM sys.columns
WHERE object_id=OBJECT_ID(@TableName)

SELECT @sql=SUBSTRING(@sql,1,LEN(@sql)-5)+N' FROM ' + @TableName
--SELECT @sql -- uncomment to see the query string

EXEC sp_executesql @sql
"
9397,3697,How to update a column when the same column in another table is changed ?(postgresql),"CREATE VIEW balance_amount AS
    SELECT la.creditid, la.credit_type, amount 
              - COALESCE(SUM(pay),0) balance
    FROM loan_amount la
    LEFT JOIN pay_the_loan pl
      ON la.creditid = pl.creditid 
     AND la.credit_type = pl.credit_type
     AND pl.status = 'OK'
    GROUP BY la.creditid, la.credit_type, la.amount;
"
30681,56124,Updating value in a column SQL Server,"update patient set security_level = '2' 
where security_level = '1';
"
1480,36499,View to show/hide row values based on another table in SQL,"SELECT c.cust_id,
    nvl2( q.tel_no, null, c.tel_no ) tel_no,
    nvl2( q.email, null, c.email ) email
FROM contact_data c
LEFT JOIN (
  SELECT cust_id,
      min(case channel when 'tel_no' then 1 end) tel_no,
      min(case channel when 'email' then 1 end) email
  FROM opt
  GROUP BY cust_id 
) q
ON c.cust_id = q.cust_id
ORDER BY c.cust_id
"
15726,7171,Update records based on inserted IDs and another non source column in SQL,"INSERT INTO @MyTableVar(id, EmployeeId)
SELECT id, EmployeeId 
FROM (
    MERGE dbo.target TGT
    USING dbo.source SRC
    ON TGT.employee = SRC.employee
    WHEN NOT MATCHED THEN
       INSERT (employee)
       VALUES (src.employee)
    OUTPUT inserted.id, SRC.EmployeeId)
AS out(id, EmployeeId);;
"
38447,17885,How to call sql table' info into asp.net?,"select tab.name, col.name, typ.name, col.max_length, * from sys.columns col
join sys.tables tab on col.object_id = tab.object_id
join sys.types typ on col.system_type_id = typ.system_type_id
where tab.name = 'Test'
"
11592,10707,Get data origin after a UNION,"SELECT * 
FROM ( 
  (SELECT name, 'man' as source FROM man) 
  UNION ALL
  (SELECT name, 'woman' FROM woman ) 
) AS my_table 
ORDER BY name 
"
3401,20396,Get some set of records in table in SQL Server,"WITH temp AS
( SELECT *,    ROW_NUMBER() OVER (ORDER BY name) AS 'RowNumber'
   FROM sometable 
) 
SELECT * FROM temp WHERE RowNumber BETWEEN 40 AND 60
"
3747,20550,How to Count total Medal of Sports,"SELECT      STATE,
            SUM(Point) AS MEDAL,
            SUM(CASE WHEN Point = 7 THEN 1 ELSE 0 END) AS GoldCount,
            SUM(CASE WHEN Point = 5 THEN 1 ELSE 0 END) AS SilverCount,
            SUM(CASE WHEN Point = 4 THEN 1 ELSE 0 END) AS BronzeCount

FROM        [Sheet2$]

GROUP BY    STATE 

ORDER BY    SUM(Point) DESC
"
2196,66948,#1109 - Unknown table '...' in field list,"REPLACE INTO `cf_cal_events`(`model_id`)
SELECT `id`
FROM `cal_events_`
"
5624,59964,Postgresql JPA incrementing field,"CREATE SEQUENCE myid_seq;
ALTER TABLE mytable ADD COLUMN myid bigint NOT NULL DEFAULT nextval('myid_seq');
"
30498,39367,How to group by to get rid of duplicates rows,"select min(pk), a, b, c 
from @dummy 
group by a, b, c
"
25429,11627,Get list of all possible dates based on particular days [oracle 11g]," and
  a.day = trim(to_char(A.PRESENTATIONDATESTART+delta, 'Day'))
"
3578,53101,Compare field with value and return bool,"SELECT 
    (CASE WHEN password = 'WrittenPassword' THEN 1 ELSE 0 END) AS is_equal
FROM
    users
WHERE
    username = 'someuser'
"
19295,38779,Return first character SQL Derby,"select substr(table.column,1,1) 
from table
order by table.column
"
2872,71387,how to get Unique data from one table and the other,"JOIN
    conf_log t ON x.date_changed = t.date_changed
    And x.Order_Number = t.Order_number
"
6217,44385,get top most result of one of the table in join,"select *
from TABLE1 MS JOIN
     TABLE2 TM
     ON MS.CID = TM.CID JOIN
     (SELECT TA.*, ROW_NUMBER() OVER (PARTITION BY EID ORDER BY STATUS DESC) as seqnum
      FROM TABLE3 TA
     ) TA
     ON TM.EID = TA.EID AND seqnum = 1;
"
14391,51616,T SQL Group column with accumulating data in one record,"Select 
  sales_ref_no,
  STUFF((
  SELECT ' | ' + B.Description
   FROM YOUR_TABLE B
   WHERE (B.sales_ref_no = A.sales_ref_no) 
   FOR XML PATH(''),TYPE).value('(./text())[1]','VARCHAR(MAX)')
  ,1,2,'') AS Description
From YOUR_TABLE A
Group By sales_ref_no
"
1985,67634,Showing records within a time of day inside a date range,"(@shift = 'Nights' 
    AND DATEPART(hh,[PostingDate]) NOT BETWEEN 6 and 17)
or (@shift = 'Days' 
    AND DATEPART(hh,[PostingDate]) BETWEEN 6 and 17)
"
11854,64552,SQL query for finding a value in multiple ranges,"select case 
        when date '2010-12-05' between range1_from and range1_to then range1_rate
        when date '2010-12-05' between range2_from and range2_to then range2_rate
        when date '2010-12-05' between range3_from and range3_to then range3_rate
       end as rate
  from events
 where date '2010-12-05' between range1_from and range1_to
    or date '2010-12-05' between range2_from and range2_to
    or date '2010-12-05' between range3_from and range3_to;
"
39188,24278,Is it possible to use the same table twice in a select query?,"1 1
1 2
1 3
2 1
2 2
2 3
3 1
3 2
3 3
"
6244,18134,More efficient SQL statement to eliminate my n^2 algorithm?,"SELECT *
FROM Customer c
WHERE
    NOT EXISTS(
        SELECT 1
        FROM GroupCustomer
        WHERE
            CustomerID = c.CustomerID
            AND GroupID = @selectedGroupParameter
    )
"
37464,53332,SELECT… INSERT with NOT NULL fields,"insert ignore into table2
(description)
select t.description from table1 t
join 
(
select distinct description from table1
) t1 on (t.description=t1.description);
"
26332,863,"Count by day, count by week, in a grouped select statement","SELECT dbo.Clients.Town AS Town, 
count(*) AS wkTotal, 
sum(CASE WHEN datepart(dayofyear, status_date) = DATEPART(dayofyear, getdate()) THEN 1 ELSE 0 END) AS dayTotal
FROM dbo.Clients 
WHERE dbo.Clients.Status LIKE 'Status 1%' AND 
datepart(week, GETDATE()) = datepart(week, dbo.Clients.Status_date)
AND YEAR(GETDATE())= YEAR(dbo.Clients.Status_date)
GROUP BY dbo.Clients.Town 
ORDER BY dbo.Clients.Town
"
15090,64556,How to fetch records in pages in Android,"tmpCol.query(Tablename, columns, ""WHERE Clause LIMIT xx OFFSET yy"",
                                selectionArgs[], having, orderBy);
"
4044,73636,Recognise if row is Valid based on combination of conditions in another table,"select distinct Inbound.*
from Inbound
inner join Rules on
    Inbound.campaign_id = Rules.campaign_id
where -- or adding these conditions to the INNER JOIN would be the same
    Inbound.Entry_status = Rules.Entry_status and
    Inbound.Error_code = Rules.Error_code;
"
9462,1149,Truncate (not round) decimal places in SQL Server,"select round(123.456, 2, 1)
"
15653,6823,Most efficient/succinct way of combining queries with a filter?,"SELECT dc.content, dc.state
FROM destination_content dc
INNER JOIN properties p ON  ( dc.state = p.state AND dc.content = p.content )
WHERE p.active = 1
"
30254,58265,Get orders from 12 hours ago SQL Server,"WHERE   dbo.[Order].WebsiteID IN (1, 2, 8, 12) 
        AND dbo.[Order].OrderStatusID = 1 
        AND OrderDate >=  DateAdd(Hour, DateDiff(Hour, 0, GetDate())-12, 0)
        AND OrderDate <   DateAdd(Hour, DateDiff(Hour, 0, GetDate())-11, 0)
"
25111,39351,Import XML file to SQL table?,"DECLARE @XML XML = ' <reservation>
    <reservationNo>9833591189</reservationNo>
    <securityCode>ad4badfd56</securityCode></reservation>'

SELECT
    reservationNo = Events.value('(reservationNo)[1]', 'varchar(100)'),
    securityCode = Events.value('(securityCode)[1]', 'varchar(100)')
FROM
    @XML.nodes('/reservation') AS XTbl(Events)
"
11120,28327,Building a hierarchical tree with a single SQL query,"WITH RECURSIVE tree (id, par, name) AS (
    SELECT id, par, name 
    FROM the_table
    WHERE name = 'Nicole'

    UNION ALL

    SELECT id, par, name 
    FROM the_table tt
      JOIN tree tr ON tr.id = tt.par
)
SELECT *
FROM tree
"
33524,950,How to write group by query returning results based on two different conditions on same column?,"SELECT item, count(*) as num_rows,
       sum(quantity > 20)  as count_over_20, 
       sum(quantity <= 20) count_20_or_lower
FROM Sales
GROUP BY item;
"
30688,25217,CPanel WHM setup website locally and download database,">>ssh user@your_website.com
>>Enter password: your_password
>>mysqldump -u [uname] -p[pass] [dbname] > [backupfile.sql]    
"
37710,2850,SQL - Select multiple users from a table asoiciated with multiple options AKA Relations division,"SELECT `user`
FROM tablename 
WHERE `option` in ('A', 'D')
GROUP BY `user`
HAVING COUNT(DISTINCT `option`) = 2;
"
30558,41470,SQL question regarding searching for data from multiple tables,"SELECT DISTINCT d.* FROM ticket_data d 
LEFT OUTER JOIN ticket_comment c on c.tid = d.id WHERE
  (
   d.subject LIKE '%test%' OR
   d.message LIKE '%test%' OR
   c.comment LIKE '%test%'
  )
"
16087,58165,MySQL Slow Query Optimisation,"SELECT e.id AS id, e.name AS name, e.url AS url, p.action AS action, gk.key AS `key`
FROM event AS e
    LEFT JOIN participation AS p ON (p.event=e.id AND p.person='139160')
    LEFT JOIN goldenkey AS gk ON gk.issuedto=p.person
"
33753,57299,Best database structure for ecommerce website,"1.table products_id (master table)
     1.id- Primary Key
     2.id_product_size- References size.id (FK)
     3.id_product_color- References color.id (FK)

 2. table product_name
     1.product_id- References product_id.id(FK)
     2.name
     3.parents

 3.table size 
     1.id- Primary Key
     2.size_name
     3.quantity

 4.table color 
     1.id- Primary Key
     2.colors
     3.quantity
"
18532,36126,Exclude a row after returning it from a subquery mysql,"SELECT 
    E.Name,E.Salary 
FROM E 
WHERE 
    E.DepWorking IN (SELECT DepWorking FROM E WHERE Name = 'Mike')
    AND E.Name <> 'Mike'
;
"
22089,73944,Using value of one cell in a select statement (running with sqlcmd),"DECLARE @variableName int
SELECT @variableName = productID FROM mproducts WHERE .. 

SELECT ProductVersionID
FROM cb_mproductversions
WHERE ProductID = @variableName
"
1774,71357,null values in mySQL,"ALTER TABLE `table` ALTER `field` SET DEFAULT 'value'
"
11782,10815,How to get initials easily out of text field using Postgres,"select full_name, string_agg(substr(initials, 1,1)||'.', ' ') initials
from (
    select full_name, unnest(string_to_array(full_name,' ')) initials
    from my_table
    ) sub
group by 1;

       full_name        |  initials   
------------------------+-------------
 Phil Smith             | P. S.
 Joe Blow               | J. B.
 Jose Maria Allan Pride | J. M. A. P.
 Eric A. Korver         | E. A. K.
(4 rows)
"
37749,50519,basic sql query,"select q.question_id,count(student_id)*100/
(select count(distinct student_id)from student_answers ) 
       as ""Percentage Student Fail Rate""
from student_answers s,questions q
where q.question_id=s.question_id 
    and correct_answer<>student_answer
group by q.question_id
having count(student_id)*100/(select count(distinct student_id)from student_answers ) > 30
"
11508,3537,Combining two count queries from same source,"SELECT
  service_type,
  COUNT(service_type) AS GrandTotal,
  COUNT(CASE WHEN created_on BETWEEN '2013-01-01' AND '2013-06-30' THEN 1 END) AS FirstHalf2013
FROM qba_customers
GROUP BY service_type
ORDER BY GrandTotal
"
2580,46253,Query conditionally return only one row per distinct id,"SELECT distinct on (p.id) p.id as postid,
       (CASE WHEN user_id = 1 THEN true ELSE false END) as upvoted
FROM post p LEFT OUTER JOIN
     upvoted u
     ON u.post_id = p.id
ORDER BY p.id, upvoted desc;
"
10162,24758,Android SQL Database returns null a String field with data that is really large,"TwitterObjectFactory.getRawJSON(status);
"
31233,63057,Which DB am i connected to currently?,"select sys_context
       ( 'userenv'
       , 'instance_name'
       )
from   dual
"
20838,26776,Grails query LEFT JOIN on table with no domain relations,"class MyService {
  def dataSource

  void addNewRecord(String data) {
    groovy.sql.Sql sql = new Sql(dataSource)
    sql.execute(""insert into my_table(my_anydata_clomn) values(sys.anyData.convertVarchar2(?))"",[data])
  }

}
"
30941,51952,TransactionTimeout with Oracle 11g,"InnerException: Oracle.DataAccess.Client.OracleException
Message=""ORA-02049: timeout: distributed transaction waiting for lock""
"
35685,68184,mysql query to run query after grouping rows based on product_id,"SELECT DISTINCT product_id
FROM oc_product_attribute t1 
WHERE EXISTS(SELECT * FROM oc_product_attribute t2 
  WHERE t1.product_id=t2.product_id
  AND attribute_id = 26 AND CAST(text AS UNSIGNED) >= '1'
) 
AND EXISTS (SELECT * FROM oc_product_attribute t3
  WHERE t1.product_id=t3.product_id
AND attribute_id = 29 AND text = 'Flange')
"
24833,46320,Sorting specified data in WHERE clause access sql,"SELECT Description,EID,Basecode from table2 where EID<>7006 AND EID<>3456
"
8372,57423,Add sequence number to query results,"select incidentid_uk, personid_uk,
       (select count(*)
        from table as t2
        where t2.incidentid_uk = t.incidentid_uk and
              t2.personid_uk <= t.personid_uk
       ) as sequence
from table as t;
"
26165,8770,Handling NULL value in FOR XML,";with mytmp (f1) as (
  SELECT Col1
  FROM Table
  WHERE Col1 = 123456
  ORDER BY Col1
  FOR XML PATH('col'),root('cols'),TYPE
  )
select isnull(f1, '<cols></cols>')
from mytmp;
"
21569,51043,What script would concatenate strings and filter by column value?,"SELECT  t1.plan_id, 
        STUFF(( SELECT  '; ' + t2.reason 
                FROM    orders AS t2 
                WHERE   t1.plan_id = t2.plan_id
                FOR XML PATH('')
            ), 1, 2, '') as reason
FROM    dbo.orders AS t1 
GROUP BY plan_id
"
3425,42893,Selecting a whole row with specific distinct columns,"SELECT MIN(OriginalBeginDate) as OriginalBeginDate, 
       MIN(OriginalEndDate) as OriginalEndDate, 
       [START DATE], 
       [END DATE] 
FROM myTable
GROUP BY [START DATE], [END DATE]
"
15910,22698,In my sql script LEFT JOIN is giving output like CROSS JOIN?,"Select a.date,a.companyname,a.CompanyPrice,b.TodayPrice 
from DailyData a 
LEFT JOIN ReportData b 
  ON a.CompanyId= b.CompanyId
WHERE a.Date = '25-12-2011';
"
24967,65886,Usage of joins: getting the oppsite result,"SELECT DISTINCT school_id, school_name FROM school 
  WHERE school_id not in
    (SELECT school_id FROM school_teams)
"
1449,37832,Selecting a record with max value on one of the joins,"SELECT p.usr_newref as reference,
       pag.tps_title as groupname,
       pag.pm_serial_number as serialnum
FROM pm_process p OUTER APPLY
     (SELECT TOP 1 pa.pm_serial_number, g.tps_title
      FROM pm_process_assignment pa JOIN
           tps_group g
           ON g.tps_guid = pa.pm_group_guid
      WHERE pa.pm_process_guid = p.pm_guid
      ORDER BY pm_serial_number DESC
     ) pag
"
12659,55131,SQL Server clear memory,"CHECKPOINT
DBCC DROPCLEANBUFFERS
"
2269,28583,How can you handle an IN sub-query with LINQ to SQL?,"var innerQuery = from fb in FoorBar where fb.BarId = 1000 select fb.FooId;
var result = from f in Foo where innerQuery.Contains(f.FooId) select f;"
8327,17104,SQL for specific count of table entries,"Select userid, COUNT(userid) as UserTotal
From yourtable
group by userid
"
22352,23004,Add rows to database dynamically,"_id int primary key autoincrement
"
26128,64912,Retrieve records with no matching rows in joined table,"Select 
d.doctor_id, 
coalesce(count(p.patient_id),0) as `patient_count`
from  doctor d
left join patient p on d.doctor_id=p.registered_with
group by d.doctor_id;
"
28677,35760,How to store country and state in sql server,"profile Table
ID | username | stateID
0  | jack     | 1
1  | ted      | 2

states table
ID | countryID | state
0  | 0 | Texas
1  | 0 | New york
2  | 1 | Alberta

countries table
ID | country
0  | United States
1  | Canada      
"
13067,39650,Check if a certain field exists in a list that is also part of a database?,"awk 'NR==FNR{a[$1]=$0;next}a[$2]~/shipped/{print $0}' list.txt cpu.txt
"
21460,40365,Using a variable as @Subject with sp_send_dbmail,"@MySubject varchar(max)
"
22682,14002,"Simple MYSQL count, group by, not working using Pentaho Report Designer CE","SELECT count(*)
FROM cuesheet_tx_dates td INNER JOIN
     cuesheets s
     ON td.cuesheets_id = s.id
WHERE td.txdate BETWEEN '2015-01-01' and '2014-01-31' AND 
      td.trans_station = 'HIS' AND
      s.status = 'C';
"
16095,65993,How to select Unique value with some condition for mysql?,"SELECT
   user_id, 
   max(add_date) 
FROM my_table
GROUP BY user_id
HAVING -- no date outside of the requested range
   MIN(add_date) BETWEEN '2014-07-21' and '2014-07-22'
AND 
   MAX(add_date) BETWEEN '2014-07-21' and '2014-07-22' 
"
25872,10612,"SQL - Return limited number of rows, but full row count","select top 10 field1, field2, (select count(*) from table) as totalrows from table
"
35152,3354,SQL - How to use SUM and MAX in same query?,"SELECT item_id, SUM(vote_value) AS sum
FROM votes
GROUP BY item_id
ORDER BY sum DESC
LIMIT 1
"
36821,50250,How to use an aliased column in a MySQL WHERE clause?,"SELECT *, SUM(... some SQL removed for brevity ...) AS Occurrences
FROM
    some_table AS q
WHERE
    criterion = 'value'
GROUP BY
    q.P_id
HAVING
    SUM(... some SQL removed for brevity ...) > 0
ORDER BY
    Occurrences DESC
LIMIT 10;
"
39086,68925,Correlating data from two tables in Oracle using a third which maps them together,"Select a.userID, a.name, b.groupName
from USERS a, GROUPS b, USERGROUPMAP c
where c.userID = a.userID and 
b.groupID = c.groupID and
c.userID = <searchID>
"
34120,45795,Update table with complex WHERE statement,"UPDATE r
    SET r.[FirstSeen] = GetDate()
FROM [dbo].[Results] r
INNER JOIN [dbo].[WebPages] p ON p.[Id] = r.[WebPages_Id]
WHERE p.[WebSites_Id]=@SiteId
"
9111,36231,"Mysql query to group by age, 3 months, 6 months, 9 months and 12 months","select (case when date >= date_sub(now(), interval 3 month) then '3month'
             when date >= date_sub(now(), interval 6 month) then '6month'
             when date >= date_sub(now(), interval 9 month) then '9month'
             when date >= date_sub(now(), interval 12 month) then '12month'
        end) as grp, sum(cost) as sumcost
from table t
where date >= date_sub(now(), interval 12 month)
group by grp;
"
16102,6316,Return the record with the largest iteration,"    SELECT t1.* FROM DOCUMENT t1 INNER JOIN 
    (SELECT NUMBER, REVISION, MAX(ITERATION) 
    FROM DOCUMENT
    GROUP BY NUMBER, REVISION) t2 ON t1.NUMBER = t2.NUMBER AND
    AND t1.REVISION = t2.REVISION AND t1.ITERATION = t2.ITERATION
"
31535,40279,Replace one column by values of the same column in anther table in SQL server,"UPDATE bt
SET EffectiveDate = st.EffectiveDate
FROM dbo.BiggerTable bt
INNER JOIN dbo.SmallerTable st ON bt.ID = st.ID
-- maybe you also need this condition, if not *ALL* EffectiveDate values in the 
-- smaller table are indeed before the values in the bigger table
WHERE st.EffectiveDate < bt.EffectiveDate
"
5656,70379,How to store/organize DDL script?,"+ddl
....group1_ddl.sql
....group2_ddl.sql
+procedures
---level1
......single_sp.sql
......another_sp.sql
---level2
......another_uses_level1_sp.sql
---leveln
......remaining_sp.sql
+views
--level1
......group_of_views.sql
"
18432,51333,"PostgreSQL order of WHERE ""table"".""column"" IN query","order by CASE WHEN ""column""=1 THEN 1
              WHEN ""column""=2 THEN 2
              ELSE 3
       END
"
5594,25640,Bad result from DATEDIFF,"select DATEDIFF(mi,CONVERT(time(7),GETDATE()),CONVERT(time(7),'09:50:00'))
"
11476,61159,How to update multiple rows with different values in MySQL? ,"UPDATE your_table SET column_name = LPAD(column_name, 14, ""0"")
WHERE LENGTH(column_name) < 14
"
5270,47067,sql distinct function trouble,"SELECT b.*
FROM
(
    SELECT MAX(mid) AS maxmid
    FROM messages
    WHERE chat_id IS NULL
    GROUP BY uid
) a
INNER JOIN messages b ON a.maxmid = b.mid
"
20570,58636,"SQL Query: Joining two tables where entity of the first table has no, or multiple entries in other table","SELECT * FROM Table_1 AS t1
WHERE EXISTS (SELECT * FROM Table_2 AS t2 WHERE t1.Id = t2.Id AND Name='p1')
AND NOT EXISTS (SELECT * FROM Table_2 AS t2 WHERE t1.Id = t2.Id AND Name='p2')
"
36652,62137,How to use a custom function in a join clause?,"SELECT     B.idimpianto, B.CodiceImpianto, B.DescrizioneImpianto,
           B.CodiceCDC, B.descrizioneCDC
FROM dbo.vImpianti b cross apply
     ITCOWBase.dbo.GetImpiantiUtente(B.idimpianto) 
"
11392,26642,Combining mysql statements from different table depending on the column value,"select a.*, coalesce(b.col1, c.col1) as col1, coalesce(b.col2, c.col2) as col2
from a left join
     b
     on a.categoryId = 'G' and a.bid = b.bid left join
     c
     on a.categoryid = 'B' and a.cid = c.cid;
"
27084,51905,Return query results into an array,"  SELECT
    plr_function(
      array_agg(array[s.id,s.latitude_decimal,s.longitude_decimal])
    )
  FROM
    climate.station s
  WHERE
    s.applicable AND
    s.latitude_decimal BETWEEN box.latitude_min AND box.latitude_max AND
    s.longitude_decimal BETWEEN box.longitude_min AND box.longitude_max
"
28095,62142,Find and replace string with placeholders in SQL,"UPDATE tablename
SET
  url =
  CONCAT(
    'http://my.domain.com/wordpress/wp-content/uploads/',
    REPLACE(
      REPLACE(
        SUBSTRING_INDEX(
          SUBSTRING_INDEX(url, '/', -3),
          '-',
          3),
        'temp-',
        ''),
      '-',
      '/'),
    '/',
    SUBSTRING_INDEX(url, '/', -1));
"
13980,5210,select name from customers as @myvariable // dynamic AS in sql,"DECLARE @myvariable VARCHAR(100)
SET @myvariable = 'mytext'

DECLARE @sql NVARCHAR(200)

SET @sql = 'SELECT Name AS ' + QUOTENAME(@MyVariable)  + ' FROM Customers'

EXEC sp_executesql @sql
"
22395,42650,Copy a Table's data from a Stored Procedure,"USE Master_DB
CREATE PROCEDURE TransferData
 @tableFrom   SYSNAME
 ,@tableTo    SYSNAME
 ,@databaseTo SYSNAME
AS
DECLARE @sql NVARCHAR(MAX)
SET @sql = 'INSERT INTO ' + @databaseTo+ '.dbo.' + @tableTo + '
            SELECT * FROM Master_DB.dbo.' + @tableFrom

EXEC sp_executesql @sql
GO;
"
26164,58407,Counting the number of child records in a one-to-many relationship with SQL only,"select file_id, count(*)
  from data
 group by file_id
"
10222,22504,Combining Values from SQL Table into a Second Table,"UPDATE 
   MainTable
SET 
   MainTable.Source = NewTable.Source
FROM
   MainTable
INNER JOIN 
   NewTable
ON 
   MainTable.ID = NewTable .ID
"
36935,44501,Trim Special Char from SQL String,"SELECT CASE WHEN col LIKE ';%' 
  THEN STUFF(col,1,1,'') ELSE col END
  FROM dbo.table;
"
26868,22689,Django Query or SQL,"import json
from django.core.serializers.json import DjangoJSONEncoder
json_data = json.dumps(list(Post.objects.values('author__user__username', 'text')[:10]), cls=DjangoJSONEncoder)
"
22095,56125,UNION Error when creating a Veiw,"SELECT category_id, category_name, COUNT(film_id)
FROM film_category JOIN category USING category_id
GROUP BY category_id, category_name;
"
31705,20113,database design issue when adding new columns to table from application,"CREATE TABLE ClientCharges
(
    ClientChargeId          INT IDENTITY(1,1)
    , ClientId              INT 
    , ChargeId              INT
)


INSERT INTO ClientCharges
(ClientId, ChargeId)
VALUES
(1, 1),
(1,2),
(1,3),
(1,4),
(2,1),
(3,1),
(3,2),
(4,3),
(4,4)
"
38492,56361,Joining 4 tables related,"select p.* from products p
join products_to_employer pe on p.id_product = pe.id_product
join employers e on pe.id_employer = e.id_employer
join customers c on e.id_customer = c.id_customer
where c.id_customer = 4
"
34044,2996,Reading a particular line by line number in a very large file,"use Config qw( %Config );
my $off_t = $Config{lseeksize} > $Config{ivsize} ? 'F' : 'j';

...
print $index_file pack($off_t, $offset);
...
"
31812,34099,Using a join query to retrieve absent data from second table,"SELECT *
  FROM T_USER u
 WHERE NOT EXISTS (SELECT NULL
                     FROM T_MESSAGE
                    WHERE user_id = u.user_id
                      AND msgType = 1
                      AND answered = 0)
"
5253,57771,What is the most effective way to correct these sections of this ERD?,"movie_x_id    movie_y_id   ratings_until  users_connecting  users_connecting_same  users_connecting_anti 
"
14052,7724,SQL: select one record for each day nearest to a specific time,"SELECT values.value, values.datetime
FROM values,
( SELECT DATE(datetime) AS date, MIN(ABS(_WANTED_TIME_ - TIME(datetime))) AS timediff
  FROM values
  GROUP BY DATE(datetime)
) AS besttimes
WHERE TIME(values.datetime) BETWEEN _WANTED_TIME_ - besttimes.timediff
                                AND _WANTED_TIME_ + besttimes.timediff
AND DATE(values.datetime) = besttimes.date
"
39427,31429,Generating cross tab reports im oracle?,"SELECT name,v1,v2,v3 FROM my_table 
UNION ALL 
SELECT ""total"",sum(v1) as v1 ,sum(v2) as v2 ,sum(v3) as v3 FROM my_table;
"
6167,33826,SELECT only rows with either the MAX date or NULL,"SELECT m.member, mx.state, mx.country
FROM Member m
 LEFT OUTER JOIN (
SELECT ma.state, ma.country, ma.member from MemberAddress ma            
 INNER JOIN (SELECT Member, MAX(Modified) AS MaxDate
    FROM MemberAddress
    GROUP BY Member) AS m2
ON (ma.Member = m2.Member AND ma.Modified = m2.MaxDate)
) mx ON m.member = mx.member
"
35076,62701,Stop returning multiple similar rows on joins,"SELECT    a.ID AS a_ID, b.ID AS b_ID, b.Tag AS Tag
FROM      table_a a
LEFT JOIN table_b b ON a.id = b.aID
WHERE     NOT EXISTS (SELECT *
                      FROM   table_b bin
                      WHERE  bin.aID = a.ID AND bin.Tag = 'hide')
"
3937,307,sql server 2005 'update from' query,"update aliasName
set aliasName.user_count =1 
from new_user aliasName
inner join users u on aliasName.userid = u.userid
where email = 'j@j.co.uk'
"
27016,66767,Find missing MySQL Data,"-- Fetch all 'IN' records without a corresponding 'OUT'
    SELECT tp_in.*
     FROM timePunches tp_in
LEFT JOIN timePunches tp_out
          ON tp_in.employeeID = tp_out.employeeID
             AND
             tp_in.punchDATETIME = tp_out.punchDTC_LINK
    WHERE tp_in.punchDIRECTION = 'IN'
          AND
          tp_out.punchDTC_LINK IS NULL;
"
29023,46319,postgresql: for a given table name what is schema name?,"SELECT table_catalog, table_schema 
FROM   information_schema.tables 
WHERE  table_name = 'student'
"
24788,24424,SQL convert comma separated column into row and save it to another table,"Insert Into Food2(Speciality2)
SELECT   Distinct
     Split.a.value('.', 'VARCHAR(100)') AS String  
 FROM  (SELECT  
         CAST ('<M>' + REPLACE([Speciality], ',', '</M><M>') + '</M>' AS XML) 
     AS String  
     FROM  food) AS A CROSS APPLY String.nodes ('/M') AS Split(a);  
"
33572,61692,Removing duplicates MySQL database,"ALTER IGNORE TABLE `table_name` ADD UNIQUE (`hash`)
"
30862,16802,data in a single record,"select 
Col1, 
Col2, 
Col3, 
Col4, 
Col5,
max(isnull(Col6,0)),
max(isnull(Col7,0)),
max(isnull(Col8,0)),
max(isnull(Col9,0))
from table1
group by Col1, Col2, Col3, Col4, Col5
"
6230,43075,Subtraction between two queries,"select * from b where 
not exists (select no from A where A.id=B.id and date=@yourdate)
"
28578,61704,"MySQL, how can I select conversations from a list of messages","SELECT a.id, a.to_id, a.from_id, a.seen, a.date, a.message

FROM  `Chat_messages` a

INNER JOIN (
    SELECT MAX(  `id` ) AS id
    FROM  `Chat_messages` AS  `alt` 
    WHERE  `alt`.`to_id` =7
    OR  `alt`.`from_id` =7
    GROUP BY  least(`to_id` ,  `from_id`), greatest(`to_id` ,  `from_id`)
)b ON a.id = b.id
"
5436,25474,update trigger using mysql,"CREATE TRIGGER flag_order_complete AFTER UPDATE ON Sales_Order_Details
FOR EACH ROW
BEGIN
  DECLARE total_balance INT(10);

  SELECT SUM(Balance) INTO total_balance
    FROM Sales_Order_Details
   WHERE Order_ID = new.Order_ID;

  IF (total_balance = 0) THEN
    UPDATE Sales_Order SET Status = 'C' where Order_ID = new.Order_ID;
  END IF;
END;
"
14926,28254,Remove Trailing Spaces and Update in Columns in SQL Server,"update table set CompanyName = LTRIM(RTRIM(CompanyName))
"
20713,52589,"Alternative to GROUP_CONCAT? Multiple joins to same table, different columns","SELECT u.name AS user_name, l1.name as primary_location , l2.name as secondary_location
FROM users u
JOIN locations l1 ON(u.pri_location_id=l1.location_id)
JOIN locations l2 ON(u.sec_location_id = l2.location_id);
"
38516,18739,SQL query to get the same set of results,"SELECT w.WeekNumber, SUM(m.Value) 
FROM MyTable as m
  RIGHT OUTER JOIN WeeksInYear AS w 
  ON DATEPART(wk, m.date) = w.WeekNumber
GROUP BY w.WeekNumber
"
495,73274,Counting all childs and sub-childs of each node in a hierarchy,"select a.ID,
       count(distinct b.id) childB,
       count(distinct c.id) childC,
       count(distinct d.id) childD
from      tableA a 
left join tableB b on b.parentID = a.ID
left join tableC c on c.parentID = b.ID
left join tableD d on d.parentID = c.ID
where a.ID=1
group by a.ID;
"
11427,69075,How to express HAVING in LINQ,"    from asset in MyAssetTable
    group asset by asset.AssetName into AssetNames
    where AssetNames.Count() > 1
    select new { AssetNames.Key, AssetNames.Count() }
"
32297,69948,How to select the equivalent row for another column of the max(column) in group by in SQL Server,"WITH Weeks AS
(
   SELECT CONCAT(DATEPART(YEAR, CreatedOn),DATEPART(WEEK, CreatedOn)) Week,
          Id, CreatedOn, Value
   FROM Table1
),
Ranked As
(
  SELECT Week, CreatedOn, Value,
          ROW_NUMBER() OVER (PARTITION BY Week ORDER BY Value DESC) Rnk
  FROM Weeks
)
SELECT Week, CreatedOn, Value
FROM Ranked
WHERE Rnk = 1;
"
17863,1306,get totals of invoice collection: total incl. - total excl. - tax by types,"Select code, SUM(amount) 
    from sales_order_tax 
group by code
"
10084,46971,Extract data in Oracle DB,"`SET echo OFF`

`SET feedback OFF`

`SET pagesize 0`

`SET term OFF`

`SET trims ON`

`SET timing OFF`

`SET verify OFF`

`SPOOL D:\result.txt`

`select a.id || '|' || a.name || '|' || a.Country From Customer a, list b`

`where a.id = b.id;`

`SPOOL OFF`

`quit`
"
33157,57436,Sql syntax to always get one,"SELECT  c.Description, r.IsRead, r.UserID
FROM    dbo.Calls c
LEFT JOIN dbo.TicketRead r 
   ON c.CallID = r.TicketID 
   AND r.UserID = 1
"
27030,47492,Join two sql result,"SELECT first.id, first.name, second.note
FROM first
LEFT JOIN second
ON first.id = second.id
ORDER BY first.id
"
20689,38381,returning null values as something else from a query,"SELECT TEST_CODE, TEST_MDL,
    CONVERT(varchar(20),ISNULL(TEST_MDL,'null')) 
   FROM TEST;
"
18351,1661,How to get SQL scripts generated by Code First Identity?,"ObjectContext objectContext = ((IObjectContextAdapter)context).ObjectContext;
string dbScript = objectContext.CreateDatabaseScript();
"
38181,63090,MySQL Order by count of rows,"select id
from (
  select `to` id, `from` contact
  from msg
  union all
  select `from`, `to`
  from msg
  ) t
where contact = 2
group by id
order by count(1) desc
limit 2
"
5510,59464,Informix 'not in' returns confusing result,"  m21_nr <> someval and m21_nr <> someval1 and ..m21_nr <> null
"
22447,20962,"Single query for ""INSERT INTO table if column value not found""","INSERT INTO friends 
            (memberid) 
SELECT 1 
FROM   dual 
WHERE  NOT EXISTS (SELECT memberid 
                   FROM   friends 
                   WHERE  memberid = 1)
"
29854,20032,mySQL inserting multiple records with a select,"DECLARE temp_status_id INT;
SELECT status_id 
   INTO temp_status_id 
   FROM car_status;
INSERT INTO cars (type, status_id) 
    VALUES ('GM',temp_status_id),
           ('Toyota',temp_status_id),
           ('Honda',temp_status_id);
"
26499,65819,SQL expression problem,"select p.* from Profile p join 
(SELECT UserID, MIN(ProfilePriority) AS ProfilePriority
FROM Profile
WHERE ProfileLanguage = 'en-US' OR ProfilePriority = 2
GROUP BY UserID) tt
on p.userID = tt.UserID and p.ProfilePriority = tt.ProfilePriority
"
33940,2266,How to exclude symmetric records,"SELECT DISTINCT LEAST(field1, field2), GREATEST(field1, field2)
FROM   t
"
21590,18170,how to use update as inner subquery in postgresql,"with approvals as (
  update jobcard_has_approvals 
     set approve = true 
  where id = 27 
  returning id  
)
update unit_has_jobcard
  set status = 'approval' 
where id = (select id from approvals);
"
25572,60031,Preserve left table in group by,"select y.[Day],count(Id) 
from @Daye y 
left join @Data d on y.[Day] = d.[Day] and d.Status=1
group by y.[Day]
"
9042,27690,VFP autocomplete with cursors,"sqlexec(gnCones,""select * from table"",""cr_sql_res"")

thisform.txtName.AutoCompTable=dbf(""cr_sql_res"")
thisform.txtName.AutoCompSource=""cr_sql_res.field_name""
"
16191,2814,Select records from 2 tables,"SELECT id, title, date FROM news
UNION ALL
SELECT  id, title, date FROM gallery
ORDER BY date, id, title
"
39200,57334,Using the MIN function in the having clause,"SELECT *
FROM(SELECT first_name, salary
     FROM Employees
     ORDER BY salary
) WHERE ROWNUM = 1
"
19251,60946,Select a non dateformat value from a table,"SELECT * FROM TABLEANME WHERE CHARINDEX('/',Date)=0
"
11845,37239,Database Years Data as script,"declare @year int
@year = 1910

while @year <= 2014
begin
    insert into years (year) values (@year)
    @year = @year + 1
end
"
15065,10667,SQL - safely downcast BIGINT to INT,"SET ARITHABORT OFF;
SET ARITHIGNORE ON;
"
10179,1004,update with reg ex or,"update tblToUpdate
set columnToUpdate = '0000-0000-0000-' + right(columnToUpdate , 4)
"
32137,6796,How to find out where reference to primary key is used in SQL Server?,"SELECT * FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE
"
17575,44279,select resultset of two tables without merging result,"select t1.col1 as cola, t2.col1 as colb
from (select t1.*, row_number() over (order by id) as seqnum from table1 t1) t1 full outer join
     (select t2.*, row_number() over (order by id) as seqnum from table2 t2) t2
     on t1.seqnum = t2.seqnum;
"
33387,46645,SQL Replication Error (On Server Agent),"1 - Job username and Job password must have full access and permission of windows.
2 - You must be logged In to user that you will use in the replication script to create replication.
"
28628,61713,Add a column to existing table and uniquely number them,"alter table Example
add NewColumn int identity(1,1)
"
550,55053,SQL Merge matching rows in SQL table,";WITH T AS 
(
SELECT *, 
       MAX(NULLIF(Column2,'')) OVER (PARTITION BY Column1) AS C2
FROM YourTable
)
UPDATE T
SET Column2 = C2
WHERE Column2 IS NULL OR Column2 = '';
"
25017,48696,SQL - Group By with Left Join,"SELECT A.name, COUNT(B.call_id) AS 'outgoing call count' 
FROM
   EmployeeTable A 
   LEFT JOIN
   (
   SELECT call_from_name, call_id FROM CallTable
   WHERE call_type LIKE 'outgoing' 
     AND voice_mail = '0'
     AND /* other CallTable filters */
   ) B
   ON A.name = B.call_from_name
WHERE
     /* only EmployeeTable A filters */
GROUP BY A.name 
"
23633,59460,Joining the same table twice,"SELECT * FROM cases c
LEFT JOIN users u1 ON c.fk_supporter = u1.user_id
LEFT JOIN users u2 ON c.fk_creator = u2.user_id
"
1656,63720,Verify string presence in encrypted database,">>> words = [""secret"", ""hidden""]
>>> db = set([hashlib.sha256(word).hexdigest() for word in words])
>>> db
set(['2bb80d537b1da3e38bd30361aa855686bde0eacd7162fef6a25fe97bf527a25b', 'e564b4081d7a9ea4b00dada53bdae70c99b87b6fce869f0c3dd4d2bfa1e53e1c'])
>>> def word_exists(word):
...     return hashlib.sha256(word).hexdigest() in db
...
>>> word_exists(""hello"")
False
>>> word_exists(""hidden"")
True
"
18139,64127,PostgreSQL v9.5+ UPSERT,"INSERT INTO myScheme.myTable(id, a, b, c) VALUES ($1, $2, $3, $4)
ON CONFLICT (id) DO
UPDATE SET a=$2, b=$3, c=$4;
"
29858,35773,How to Optimizing a SQL Query For Group Counts with a Priority Column,"SELECT
    HighestGroupId,
    COUNT(*) AS Members
FROM
(
    SELECT
        m.UserID,
        MAX(m.GroupId) AS HighestGroupId
    FROM Membership m
    GROUP BY m.UserID
) sub
GROUP BY HighestGroupId
"
19770,39698,sql - Update Trigger to populate a ModifyDate field,"CREATE TRIGGER dbo.TR_iu_MyTable__LastUpdated
 on dbo.MyTable
 after insert, update

AS

    SET NOCOUNT on

    UPDATE dbo.MyTable
     set LastUpdated = getdate()
     where MyTableId in (select MyTableId from inserted)
"
9947,40214,How can I execute a native SQL script in JPA/Hibernate?,"EntityManager manager = getEntityManager(); 
Query q = manager.createNativeQuery(""BEGIN "" + sqlScript + "" END;"");
q.executeUpdate();
"
16477,50652,Inline SQL function which sometimes must update database,"CREATE PROCEDURE LookupOrCreateProduct 
   @BarCode    VARCHAR(100),
   @ProductID  BIGINT OUTPUT
AS
BEGIN
   SET NOCOUNT ON;


       SELECT TOP 1 @ProductID = ProductID
       FROM dbo.Products 
       WHERE BarCode = @BarCode

   IF(@ProductID IS NULL)
    BEGIN
      INSERT INTO dbo.Products(Barcode)
      VALUES (@BarCode)

      SET @ProductID = SCOPE_IDENTITY();
    END   

END
"
11363,18041,How to take data from rows and put it into single field?,"select paperid, string_agg(name, ' ') as authors 
FROM newpaperauthor 
GROUP BY paperid 
ORDER BY paperid;
"
16480,19111,SQL query logging for SQLite?,"void *sqlite3_trace(sqlite3*, void(*xTrace)(void*,const char*), void*);
"
511,49871,Getting the last record in a TOP n PERCENT query,"SELECT  TOP 1 Time
FROM    (    
        SELECT  TOP 10 PERCENT [Time] 
        FROM    Scores 
        WHERE   Lesson = 1 
        ORDER BY 
                Time
        ) as Top10
 ORDER BY
        Time DESC
"
12968,61782,There is a way to use a calculated field in the where clause?,"select * 
from (SELECT a, b, a+b as TOTAL FROM ( 
           select 7 as a, 8 as b FROM DUAL 
           UNION ALL 
           select 8 as a, 8 as b FROM DUAL 
           UNION ALL 
           select 0 as a, 0 as b FROM DUAL) 
    )
WHERE TOTAL <> 0 
; 
"
21125,21204,Top 10 based on last month showing 6 previous months,"SELECT * FROM YourTable t
WHERE t.depositDate between StartRangeDate and EndRangeDate
AND t.ID in(select ID from(SELECT s.id,sum(s.depositAmount) as total
                           from YourTable s
                           where s.date between ThisMonthStart and ThisMonthEnd
                           group by s.id)
            order by total
            limit 10)
"
9513,63096,How can we merge the results of two queries have group by and two conditions,"SELECT game_id, COUNT(*) AS roundsCount, 
       COUNT(CASE WHEN winner = player1_id THEN 1 END) As p1WinsCount   
FROM games AS g
INNER JOIN rounds AS r ON g.Id = r.game_id
GROUP BY game_id
"
37289,6497,how to retrieve multiple values from single column using AND operator,"SELECT * FROM wp_usermeta t1
WHERE meta_value = 'tagowner'
AND EXISTS (SELECT 1 FROM wp_usermeta t2 
            WHERE t2.meta_value = '999' 
            AND t1.user_id = t2.user_id )
"
19625,70835,SQL select by relevancy - many to many,"SELECT
    p.name
FROM product p 
    JOIN product_type pt ON p.id = pt.product_id
WHERE pt.typeid IN (3, 5, 8) /*You can use a sub query to select the types*/
GROUP BY p.name
ORDER BY COUNT(pt.type_id) DESC
LIMIT 1
"
16538,30708,How to select the field that contains numbers and letters?,"^([0-9]+[A-Za-z]+[0-9]*)|([A-Za-z]+[0-9]+[A-Za-z]*)$
"
29171,35986,"SQL Server SQL ""down filling"" data that doesn't exist in source table","SELECT t2.company, t2.type, t1.dt, t2.value
FROM tbldata t1,
      tblfact t2
WHERE t2.dt <= t1.dt
AND   NOT EXISTS (SELECT top 1 1
                  FROM tblfact t22
                  WHERE t22.dt <= t1.dt
                  AND   t22.dt > t2.dt)
"
28237,18957,Very complex SQL query,"SELECT message.pk, contact.name
FROM message m
LEFT JOIN session s
    on m.session = s.pk
LEFT JOIN contact c
    on s.contact = c.pk
"
942,1150,Swapping two rows of the same table based on ROWID in Oracle,"merge into duty_rota d
using (select * from duty_rota ) s
on ((d.rowid = 'AA1' and s.rowid = 'AA2') or (d.rowid = 'AA2' and s.rowid = 'AA1'))
when matched then update set d.duty_date = s.duty_date 
"
36017,33177,How to loop from one column cell to another cell in SQL,"<?php
    $query = ""SELECT dateCol from table"";
    $result = $mysqli->query( $query );
    while ($row = $result->fetch_assoc()){
        echo $row[""dateCol""];
    } 
?>
"
22638,25112,MySQL Select and Order by with a Limit that can change,"SELECT t.*
FROM table t JOIN (
    SELECT points
    FROM table r
    WHERE r.gameid = 2
    ORDER BY r.points DESC
    LIMIT 3
) tr ON t.points = tr.points
WHERE t.gameid = 2
"
23177,66804,Non Repeatable Read from database table in SQL Server,"UPDATE TOP 10 table
SET flag = 1
WHERE flag = 0
OUTPUT inserted.*
"
8479,4729,DB2 date conversion,"SELECT CASE Month
            WHEN '1' THEN 'January'
            WHEN '2' THEN 'February'
            WHEN '3' THEN 'March'
            WHEN '4' THEN 'April'
            ...
      END+'-'+Year
FROM TABLE
"
2121,282,select first rows in oracle without full table scan,"select /*+ FIRST_ROWS(5000) */
  account 
from fooTable
where rownum <5000;
"
11506,15798,"need sql, a tricky one","SELECT s.supplierno
FROM supplier AS s
JOIN part_supplier AS ps
  ON s.supplierno = ps.supplierno
JOIN part AS p
  ON ps.partno = p.partno
GROUP BY s.supplierno
HAVING COUNT(DISTINCT p.color) = 1 -- only one color for all parts
"
39035,66006,SQL restricted set of combinations,"select t1.*, t2.*
from table t1 join
     table t2
     on t1.b <> t2.b and t1.c <> t2.c;
"
30366,48037,Extract only alphabetic characters from VARCHAR column,"select regexp_replace('12-MAR-2014,,1234,DATA,VALUE,12/03/14,,124,End','[[0-9]{2}-(JAN|FEB|MAR|APR|JUN|JUL|AUG|SEP|OCT|NOV|DEC)-[0-9]{4}]*|[^a-zA-Z]+|$','%') from dual
"
29131,41317,Count number of text coincidence in all columns of a row,"SELECT 
    (IF(pos1 LIKE 'var%', 1, 0) +
    IF(pos2 LIKE 'var%', 1, 0) +
    IF(pos3 LIKE 'var%', 1, 0) +
    IF(pos4 LIKE 'var%', 1, 0) +
    IF(pos5 LIKE 'var%', 1, 0) +
    IF(pos6 LIKE 'var%', 1, 0)) AS done
FROM customize
WHERE id = 'core2'
"
7335,27646,Select data from 2 Field and use only 1 values,"select nvl(col1,col2) from table1
"
3330,24,"SQL query against ""bad word"" filter list","select count(*) from BadWords
where @userName like '%'+theBadWord+'%'
"
22664,52226,SQL to return rows that which contain same data for one field but different data for others,"select TeacherName
from (
    select TeacherName, CourseN
    from Teacher
    group by TeacherName, CourseN
    ) t1
group by TeacherName
having count(*) >=2
"
12157,14574,SQL query to select people interviewed more than once in a year,"SELECT P.ID
      ,Name
      ,Number
      ,Location
      ,InterviewNo
  FROM Person P 
       INNER JOIN 
       (SELECT ID
              ,COUNT(1) AS InterviewNo
          FROM Interview 
         WHERE Year(InterviewDate) = 2013
         GROUP BY ID
        HAVING COUNT(1)> 1) I ON P.ID=I.ID
"
17767,14057,little complex sql,"select * from **albums** a
where a.private = 'no'
or exists (
    select 1 from  **album permission** p
    where p.album_id = a.album_id
    and p.user_id = 5
)
"
17643,45027,What is the prefered way to query multiple tables in android,"select module_title, module_credit from modules m, module_tutor mt 
where mt.module_id=m.id and mt.tutori_id=?
"
5884,10245,Sql Query help is needed,"SELECT t.Student, t.Class, t.Marks
FROM tableName t
INNER JOIN (
    SELECT Student, max(Date) as MaxDate
    FROM tableName)
tm ON t.Student=tm.Student AND t.Date=tm.MaDate)
WHERE ""Subject ID""=givenSubjectID
"
27793,64951,Exec procedure with @tpv from Sql,"declare @ ListCrc32

insert into @ (crc32)
select ... put here what you need to insert with.

exec UpdateAdsList @
"
22948,15586,RowNumber on join?,"WITH TableBoxesRanked AS (
  SELECT
    *,
    BoxNumber = ROW_NUMBER() OVER (ORDER BY BoxCode)
  FROM TableBoxes
)
SELECT
  b.BoxNumber,
  ItemNumber = ROW_NUMBER() OVER (ORDER BY i.ItemNo),
  i.ItemDesc
FROM TableItems i
  INNER JOIN TableBoxesRanked b ON i.BoxCode = b.BoxCode
WHERE a.BoxCode = 'X1'
"
19533,27200,looping through two tables to generate a new table,"select d.date, n.number
from dbo.Dates(@start, @finish) cross join
     Numbers n
"
30178,55027,"Oracle: how to enable flashback ""as of"" queries for all developers?","grant execute on dbms_flashback to public;
grant flashback any table to public;
"
15951,47298,SELECT in Table (SQL),"select Name
from t
where id in (select manager_id from t)
"
38835,68997,SQL: Find closest number to given value with ties,"SELECT * 
FROM CARS 
WHERE ABS(price - $price) = ( SELECT MIN(ABS(price - $price)) FROM CARS )
"
10702,33980,Database Design for a Hotel Reservation System,"table: Room
roomno INT
phone_number INT
number_of_beds INT
smoking_allowed BOOLEAN

table: Occupancy
client_id BIGINT (FK referencing Client) (part of PK)
roomno INT (FK referencing Room) (part of PK)
checkin_time DATETIME

table: pastStays
client_id BIGINT (FK referencing Client) (part of PK)
roomno INT (FK referencing Room) (part of PK)
checkin_time DATETIME
checkout_time DATETIME
"
39386,71218,SQL find exact date after 1 year,"DATEADD (datepart , number , date )

SELECT DATEADD(YEAR, 1, CreatedDateTime) 
FROM dbo.YOURTABLE
"
16595,51057,How to calculate the date difference between rows with special first row rule,"WITH cte AS (
  SELECT AppId, Start, LoggedOn, 
  ROW_NUMBER() OVER (ORDER BY AppId) rn
FROM Apps
  ) 
SELECT c.AppId,
  CASE 
    WHEN c2.RN IS NULL
    THEN DATEDIFF(day,c.start,c.Loggedon)
    ELSE
         DATEDIFF(day,c2.Loggedon,c.Loggedon)
    END as TimeWanted
FROM cte c
   LEFT JOIN cte c2 on c.AppId = c2.AppId
      AND c.rn = c2.rn + 1
"
35705,37352,SQL query to return rows with the value of a column above a certain minimum value depending on category?,"select t1.*
from table1 t1 join table2 t2 on t1.category = t2.category
where t1.rating >= t2.minimum_rating;
"
24640,59359,Combine IN Operator values with temporary table,"(CASE WHEN SUBSTRING(article_code,1,4) IN (select article_code from temp_table) THEN 'X'
      ELSE 'Y'
 END) AS lup
"
20525,15808,"SQL - Update to table, no index","UPDATE t
SET t.[e-mail] = t2.[e-mail]
from [vdb].[dbo].[FACT_Sales] t
inner join DIM_Staff t2
on t.Name = t2.Name
"
24741,69361,Fetch duplicate rows with SQL,"select * from 
table where keyword in
(select keyword 
from table
group by keyword 
having count(keyword)>1)
"
34886,19951,check result from prepared statements PDO?,"$queryUP = $pdo->prepare(""SELECT * FROM unitprices WHERE id_quot = ?"");
$queryUP->execute(array($idQuotation));

//here you go
$results = $queryUP->fetchAll();

if ($results) { 
   // foreach($results as $rowup) {
      //...
   // }
} else {
   // do another thing
}
"
30640,42972,SQL Sum of last X Sum of records,"with bydays as (<your query here>)
select bd.*,
       (select sum(NumMeasured) from (select top 100 * from bydays bd2 where bd2.date <= bd.date order by date desc) t
       ) as Measured100,
       (select sum(NumPassingd) from (select top 100 * from bydays bd2 where bd2.date <= bd.date order by date desc) t
       ) as Measured100
from bydays
"
4215,73794,SQL: Query to merge (some) rows,"select case when country in('Austria','Spain','Italy')
            then Country else 'Other' end as Country,
       sum(Jan) as Jan,
       sum(Feb) as Feb,
       sum(Mar) as Mar

from t
group by case when country in('Austria','Spain','Italy')
              then Country else 'Other' end
"
25947,52914,Oracle SELECT : Count of events per team and per year,"SELECT
 Team.team_id,
 Years.year,
 COALESCE(count(Event.event_id),0) events
FROM
 Team
   JOIN (SELECT DISTINCT EXTRACT(YEAR FROM start_date_time) year FROM Event) Years ON 1=1
   LEFT OUTER JOIN Event ON Event.team_id = Team.team_id AND EXTRACT(YEAR FROM Event.start_date_time) = Years.year
GROUP BY
 Years.year,
 team_id
ORDER BY
 year  ASC,
 team_id  ASC
;
"
19799,4797,Query returning multiple identical rows instead one,"select *
  from juices j
 where j.barcode = '000000000001'
   and not exists (select *
                     from juice_ingredients ji
                    inner join ingredients i
                       on (i.ingredient_id = ji.ingredient_id
                      and i.optional = true)
                    where ji.juice_id = j.juice_id)
"
37350,8578,SQL server select distinct rows using values before a certain date,"DECLARE @REQUEST_DATE varchar(10)
SELECT @REQUEST_DATE = '1/9/2010'

select t1.* from (select ForeignKeyId,AttributeName, max(Created) AS MaxCreated
  from  YourTable
where created < @REQUEST_DATE
group by ForeignKeyId,AttributeName) t2
join YourTable t1 on 
   t2.ForeignKeyId = t1.ForeignKeyId
   and t2.AttributeName = t1.AttributeName
   and t2.MaxCreated = t1.Created
"
14309,12819,SQL- Last 4 weeks with date column,"-- 60x60x24x7x4 = 2419200 seconds in four weeks
SET @unix_four_weeks_ago = UNIX_TIMESTAMP(curdate()) - 2419200;  

SELECT id FROM USERS
WHERE timemodified >= @unix_four_weeks_ago;
"
6577,60481,Joining three tables in Laravel with conflicting column names,"$events = DB::table('events')
            ->join ('locations', 'events.location_id', '=', 'locations.id')
            ->join('orgs', 'events.org_id', '=', 'orgs.id')
            ->select('events.id', 'events.name as event_name', 'orgs.name as org', 'locations.name as location')
            ->get();
return response()->json($events);
"
4682,66902,SQL trigger on one field,"CREATE TRIGGER my_table_trig AFTER UPDATE OF comment ON MYTABLE
BEGIN
    update MYTABLE SET evaluation_date = datetime('now') WHERE comment = NEW.comment;
END;
"
22344,70481,LEFT JOIN not returning NULL,"SELECT 
  qry_HersheySAPMaxDate2.ID, 
  qry_HersheySAPMaxDate2.item, 
"
20286,17824,how to do a two table sql select,"SELECT A.Alpha
      ,A.Zeta
      ,B.Alpha
      ,B.Zeta
FROM TABLEA A INNER JOIN TABLEB B 
ON A.alpha   = B.alpha  
"
17766,57804,Call User defined function as System Function in SQL server,"select dbo.TIME_TO_SEC('01:00:00') from TimeTable
"
33243,44135,How to force Mysql to use primary Index in IN clause...?,"select t.* from traffic t
inner join data_table d on t.id = d.id and d.contition = 1
"
26718,40018,Trigger to Update value in mysql table,"CREATE TRIGGER `before_insert_products_extra_fields` 
BEFORE INSERT ON `products_extra_fields` FOR EACH ROW 
BEGIN
    IF(NEW.name = 'color') THEN
        SET NEW.value = CASE 
            WHEN NEW.value LIKE '%red%' THEN 'red'
            WHEN NEW.value LIKE '%blue%' THEN 'blue'
            ...
            ELSE 'other'
        END;
    END IF;
END
"
37547,12336,i18n database tables get value of a field by culture,"select tp.id, NVL( t.description, tp.description)
from task_priority tp 
  left outer join task_priority_i18n t 
    on t.id = tp.id 
    and t.culture = :culture
"
4924,64589,Using output of one select query as input for another,"SELECT e.Id [EmployeeId], e.MgrId [ManagerId], m.MgrId [ManagerManagerId]
FROM Employees e
LEFT JOIN Employees m ON e.MgrId = m.Id
WHERE e.EmpId=@EmpId
"
38234,28444,"Scala Slick / ScalaQuery BigDecimal creates decimal(10,0) how to allow decimals?","def employeeMultiplier = 
  column[BigDecimal](""employeeMultiplier"", O.DBType(""decimal(10, 4)""))
"
29414,65226,SQL query for each ID in table,"SELECT * FROM YourTable t
WHERE t.date <= '2015-12-31 23:59:59'
 AND NOT EXISTS(SELECT 1 FROM YourTable s
                WHERE t.customer_id = s.customer_id
                AND t.date < s.date)
"
13161,67729,"SQL query, who visited in the past year","select * from visit
where DATE_visit between
CURRENT_DATE - interval 2 year and CURRENT_DATE - interval 1 year;
"
2904,72101,INSERT deleted values into a table before DELETE with a DELETE TRIGGER,"ALTER TRIGGER [dbo].[HashTags_BeforeDelete]
    ON [dbo].[HashTags]
    FOR DELETE
AS
  BEGIN
    INSERT INTO HashTagsArchive(Id, HashTagId, delete_date)
       SELECT 
           d.Id, d.HashTagId, GETUTCDATE() 
       FROM deleted d 
  END
GO
"
2093,3449,"Creating MySQL tables question, why some people create two tables that relate to each other instead of one?","- table user
  - id
  - username
  - password
  - etc

- table groups
  - id
  - name
  - etc

- table usergroups
  - userid
  - groupid
"
12250,21674,Performance Issue when Updating Table from Another Table,"merge into old_customer_source t1
using (select t2.custid, t2.firstname, t2.lastname
         from  new_customer_source t2
      ) t2
 on (t1.custid = t2.custid)
when matched then
update set t1.firstname = t2.firstname, 
           t1.lastname = t2.lastname
;
"
26622,54139,SQL - Searching in a table based on information in another table and returning multiple results,"SELECT 
    t.GalaxyId As TraceGalaxyId,
    m.GalaxyId as MainGalaxyId,
    m.umag,
    m.imag 
FROM trace
JOIN main m 
ON m.galaxyId BETWEEN t.GalaxyId AND t.lastProgenitorId AND m.snap = 'Specific Value'
"
21419,33226,How can I find if a column is auto_increment in mysql?,"select * from COLUMNS where  TABLE_SCHEMA='yourschema' and TABLE_NAME='yourtable' and EXTRA like '%auto_increment%'
"
37980,50664,SQL Command Not Properly Ended in Oracle - Problems updating table values using joins,"UPDATE SUPPLY
set sprice=(1.1*SPRICE)    
WHERE SUPPLY.SID IN (SELECT SID FROM Supplier WHERE Supplier.CITY='DC');
"
36455,42138,how to select top n rows from each group id in same table,"select 
    x.*
    ,n.*
from dbo.news n
join (
    select 
        pk_news
        ,[rwn] = row_number() over(partition by pk_service order by pk_news asc)
    from dbo.news
) x
on n.pk_news=x.pk_news and x.rwn < 6
order by 
    n.pk_service, x.rwn
"
5438,60720,Make a normal query from a stored procedure,"SELECT PERSONID FROM T_PERSON WHERE 
    CCODE = (
        CASE WHEN @CCODE = 'ALL'  THEN CCODE
        ELSE @CCODE END
        )
    AND
    EMPCODE = (
        CASE WHEN @EMPCODE = 'ALL'  THEN EMPCODE
        ELSE @EMPCODE
        END
        )
"
30237,68307,SQL where exists while preserving values between them,"select * from table1 a where a.USER_ID in 
(select b.FROM from table2 b
where exists (select c.id from table2 c
where b.id = c.id and b.FROM = c.TO) )
"
27259,22772,Cumulative sum based on consecutive values,"select d.id, d.distance, d.time_s,
       (case when d.distance = 0
             then sum(case when d.distance = 0 then d.time_s end) over (partition by grp order by id)
        end) as StopTime
from (select d.*,
             sum(case when distance = 0 then 0 else 1 end) over (order by id) as grp
      from data d
     ) d;
"
19228,2397,Complex count based on the latest date of a month,".extra(
    where=[""""""history_date = (SELECT MAX(history_date) FROM historical_record hr
                              WHERE hr.history_id = historical_record.history_id
                                    AND hr.history_date < %s)""""""],
    params=[month_end]
)
"
21810,5862,R: Painfully slow read performance using RODBC & SQL Server,"library(RJDBC)
drv <- JDBC(""com.microsoft.sqlserver.jdbc.SQLServerDriver"",""/sqljdbc4.jar"") 
con <- dbConnect(drv, ""jdbc:sqlserver://server.location"", ""username"", ""password"")
dbGetQuery(con, ""select column_name from table"")
"
28961,24860,SQL set date_out automatically if today ends,"SELECT * /* TODO - actual columns */
FROM visits
WHERE
    date_out IS NULL AND
    date_in >= DATEADD(day,DATEDIFF(day,0,CURRENT_TIMESTAMP),0)
"
38675,15661,How to update a column fetched by a cursor in TSQL,"UPDATE #T1 
SET    CURRENTPOS = (SELECT SUM(ORDERQUANTITY) - SUM(RECEIVEQUANTITY) 
                     FROM   #POS) 
WHERE  CURRENT OF CURPO 
"
4187,12854,How do I add long comments to mysql tables and columns?,"mymetadata:
    tablename     varchar(50)
    description   varchar(2000)
"
23505,19483,Modeling Group Membership in a Database,"create table GroupMembership (
  ComputerID int not null,
  GroupID int not null,
  --here you can add info that concearns the Membership, like expiry date and such--
)
"
17358,72848,Adding non existing data to SQL query,"select t1.x, t2.y, s.count from 
(values(1),(2),(3),(4),(5)) t1(x) cross join
(values(1),(2),(3),(4),(5)) t2(y)  
left join #temp s on t1.x = s.x and t2.y = s.y
"
14147,40727,how do I get the Specific date of the current month in Oracle?,"select sysdate,
       trunc(sysdate, 'mm') + 13 date_to_query_before
from dual;

SYSDATE               DATE_TO_QUERY_BEFORE 
--------------------- ---------------------
25/06/2015 15:23:55   14/06/2015 00:00:00  
"
14108,40584,SQL database unable to update using ADO,"With rs
    .CursorLocation = adUseClient
    .CursorType = adOpenKeyset
    .LockType = adLockTypeOptimistic
    .Source = strSQL
    .ActiveConnection = dbConn
    .Open
End With
"
21259,19385,"Add Column to Query From Same Table, Update Values in Duplicated Column?","Select ProductID, tblProduct.ProductType, Price, ((Price *.20)+Price) AS 'Increased Price'
From tblProduct join tblCompany
    On tblProduct.CompanyID = tblCompany.CompanyID
Where tblCompany.CompanyID IN
    (Select CompanyID
    From tblCompany
    Where City = 'Kalamazoo')
Order By ProductID
"
13197,2571,SQL - Can I have a Group By clause after a nestled Select?,"Select Book_Name,Client_Name, max(date)
From table A
Group By Book_Name,Client_Name
HAVING max(date) < any (select..


                      ...)
"
16145,74277,How to get the name of students in a certain section,"select u.fname
from users u
join students s on u.user_id = s.user_id
join sections sec on s.section_id = sec.section_id
where sec.section_id = 1
  and sec.year_level_section = 1
"
3017,17204,"MySql search with two tables, one table for count only","SELECT m.*, COUNT(mo_member_id) mo_count 
  FROM cd_members m LEFT JOIN cd_members_offers mo 
    ON mo.mo_member_id = m.m_id 
 WHERE (m.m_fname LIKE '%Richie%' OR m.m_lname LIKE '%Richie%' OR m.m_email LIKE '%Richie%')
   AND m.m_signupdate >= '2013-08-07' AND m.m_signupdate <= '2013-08-10'
   AND m.m_add_state = 'QLD' 
 GROUP BY m.m_id
HAVING mo_count BETWEEN 0 AND 5
"
11304,56214,How to import specific column data from remote server to local PostgreSQL database?,"COPY (
  SELECT e.tposted, e.patient_recid, d.fileoninsurance
  FROM encountertimes e
  JOIN daysheets d USING(tposted, patient_recid)
) TO '/some/file'; -- or STDOUT

...

COPY charges (tposted, patient_recid, fileoninsurance) FROM '/some/file';
"
1364,17595,sql select average from distinct column of table,"SELECT AVG(T.col2)
FROM 
    (SELECT DISTINCT col1, col2
    FROM yourtable) as T
"
5040,24116,Oracle 11g rename. Guaranteed to be atomic?,"SQL>  rename old_table to something_else;
SQL>  rename new_table to old_table;
SQL>  drop table something_else;
"
939,73053,How to Add decimal & zero's after number,"select case 
    when MyVarcharColumn NOT LIKE '%[^0-9]%' then convert(decimal(18,2), MyVarcharColumn) 
    else MyVarcharColumn 
end as MyVarcharColumn
from x
"
429,47506,How can i frame a query for this,"SELECT STAFFNAME, COUNT(*) as PERIODS
   FROM TABLE
 GROUP BY STAFFNAME
"
16496,33117,How to save a ListView to database in one go,"for(int i = 0; i < listView.getAdapter().getCount(); i++)
    SaveThing(listView.getAdapter().getItem(i));
"
13488,38770,SQL Finding Hourly Wage From Annual Salary And Hourly Wage Values,"SELECT EMPLOYEEID, LASTNAME || ', ' || FIRSTNAME As Employee_Name,  
HIREDATE, SALARYWAGE,
CASE WHEN (SALARYWAGE > 1000) THEN (salarywage / 2000) 
    ELSE salarywage END     
AS hourlywage
FROM EMPLOYEE ORDER BY hourlywage DESC;
"
17593,6240,oracle - multiple insert into type table collection,"declare
    newTable myTable;
begin
    newTable := myTable();
    newTable.extend(2); -- The desired size of the collection

    -- Oracle collections begin at index 1, not 0
    newTable(1) := myObject(50, 5);
    newTable(2) := myObject(40, 7);

    myProcedure(newTable);
end;
"
31406,47763,Oracle Sequence generator syntax,"Example of “noorder” sequence in 10g RAC:

Session 1 on node-A: nextval -> 101
Session 2 on node-A: nextval -> 102
Session 1 on node-B: nextval -> 121
Session 1 on node-B: nextval -> 122
Session 1 on node-A: nextval -> 103
Session 1 on node-A: nextval -> 104
"
15890,37872,Multiple joins to same table,"SELECT i.name as name, v1.value as value_1, v2.value as value_2 
  FROM item i
       INNER JOIN item_value iv ON iv.item = i.id
       INNER JOIN property p ON iv.property = p.id
       LEFT JOIN value v1 ON p.name = 'prop1' AND v1.id = iv.value
       LEFT JOIn value v2 ON p.name = 'prop2' AND v2.id = iv.value
"
10403,61566,Is there a quick and easy way to get the difference between two single rows of a column?,"val firstSpan = df.head()(0)
val twoRows = df.filter(""SPAN ='""+firstSpan+""'"").orderBy(""TIMESTAMP"").take(2)
val period = twoRows(1).getInt(2)-twoRows(0).getInt(2)
"
22092,7995,SQL replace syntax,"SELECT REPLACE(acctID, '.', '') AS ACCOUNT_ID FROM TABLE
"
20581,58579,Is there a generic workaround to express a derived column list in Oracle (and MySQL)?,"SELECT null AS a, null AS b, null AS c FROM dual WHERE false
UNION ALL
SELECT <expr>, <expr>, <expr>
FROM <realtable>...
"
4461,61921,Multiple values IN,"WITH x AS (<subquery>)
SELECT * FROM data WHERE f1 IN (SELECT * FROM x) OR f2 (SELECT * FROM x)
"
5804,43604,Compare today with some value passed from front end,"DATEPART ( datepart , date )

DATEPART( MM, GETDATE())
"
3606,12888,How can I create such a table?,"IF newEmployeeToBeInserted.IsManager AND Project_table.ContainsManager
return errorCode
ELSE doInsert
"
11255,20255,How to calculate new value for field in Access,"[SandwichT].[SandwichPrice] * [OrderDetailT].[SandwichQuantity] * [OrderDetailT].[Discount]
"
8645,44734,Select records based on other column condition,"SELECT *
FROM yourtableName
WHERE UID NOT IN (SELECT UID
                  FROM #test
                  WHERE PID = 2)
"
6921,44760,PL/SQL: Selecting from a table into an assoc array,"DECLARE
  TYPE VarAssoc IS TABLE OF varchar2(200) INDEX BY varchar2(30);
  vars VarAssoc;
BEGIN
  FOR r IN (SELECT table_name,tablespace_name FROM user_tables) LOOP
    vars(r.table_name) := r.tablespace_name;
  END LOOP;

  dbms_output.put_line( vars('JAVA$OPTIONS') );
END;
"
34346,65869,Escaping a single quote in Oracle regex query,"select * 
  from dm_name 
  WHERE regexp_like(last_name, '([^A-Za-z ''-])');
"
19969,71238,MySQL Group multiple events occuring simultaneously on unknown datetime,"SELECT `date` FROM eventlog
GROUP BY `date`
HAVING COUNT(DISTINCT event) = 3
"
35400,71362,Getting XML out of a table created in SQL," SELECT COMMON_NAME FROM Test_T WHERE XMLExists( 'CATALOG/PLANT[ZONE<=3]/COMMON[text()]' PASSING COMMON_NAME )
"
558,41404,Required help in a query,"Select
    'Yes' as ""label"",
    Count(*)    
FROM Table1
Where ""date"" between '2014-03-01' And '2014-03-05'
AND col3 = 'Y' AND NOT (col1='A' AND col2 IS NOT NULL AND col2='N')
"
14344,27192,Difficult hierarchical query and join,"select * from  
(select * from Product_types t
 START WITH T.Parent = 20 
 CONNECT BY PRIOR t.Product_ID = t.PARENT) t_result
left join Products p on T_RESULT.Product_ID = P.Product_ID
AND P.Customer = 2;
"
12138,40027,SQL inserting in to a table more than one row,"insert into HISTORYTEACHES
select '2', course_id, '1', 'Spring', '2016'
from HISTORYCOURSE 
where course_id like '2%'
"
38604,8571,List by project_id using queries,"SELECT project_id ,SUBSTRING_INDEX(GROUP_CONCAT(employee_id),',',1) AS employee_id1,SUBSTRING_INDEX(SUBSTRING_INDEX(GROUP_CONCAT(employee_id),',',2),',',-1) AS employee_id2, SUBSTRING_INDEX(SUBSTRING_INDEX(GROUP_CONCAT(employee_id),',',3),',',-1) AS employee_id3, SUBSTRING_INDEX(SUBSTRING_INDEX(GROUP_CONCAT(employee_id),',',4),',',-1) AS employee_id4 FROM my_table GROUP BY project_id;
"
30306,28612,How to display columns having same value?,"select a.part_no, a.cust, a.work_order from thetable as a
inner join thetable as b on a.part_no = b.part_no
where a.work_order = 111;
"
15206,19326,confusion with multiple conditions in where clause of select statement,"SELECT pet_id, pet_name, pet_age, pet_dead 
FROM person
JOIN person_pet ON person.id = person_pet.person_id
JOIN pet ON pet.id = person_pet.pet_id
WHERE person.first_name = 'Zed'
"
16462,28251,Looking Up Value to Return Hourly Rate,"SELECT *
FROM dbo.Employees e
CROSS APPLY(
    SELECT TOP 1 p.HourlyRate
    FROM dbo.PayScales p
    WHERE 
        e.Takings BETWEEN p.Starting AND p.Ending
        OR e.Takings > p.Ending
    ORDER BY p.Ending DESC
) t
"
3776,72375,SQL : How do i output date range in SQL Server,"with cte as
(select convert(datetime,'2014-01-01') dates
union all
select dateadd(dd,1,dates) from cte where dates < convert(datetime,'2014-01-30'))
select * from cte
"
29343,5388,MySQL - Query to select all conversations with al least 2 not banned users,"SELECT c.* 
FROM conversations c 
INNER JOIN (SELECT p.conversation_id 
            FROM participants p 
            INNER JOIN users u ON p.user_id = u.user_id AND u.banned = 0
            GROUP BY p.conversation_id 
            HAVING COUNT(DISTINCT p.user_id) >= 2 
          ) AS A ON c.conversation_id = A.conversation_id 
"
28194,10366,UPDATING a section of string for column,"update #a_table set names = replace(names, 'C;', 'X;Y;')
"
35865,1600,How to compare date in SQL Server 2008,"select * from datetest
where coldate in (select coldate from 
datetest group by coldate having count(*) > 1)
"
15748,31717,What is a good way to filter using 2 columns.grouping on a 3rd field,"AND [GROUP] NOT IN 
(SELECT [GROUP] FROM mytable WHERE FILTER1 = '22337755' OR FILTER2 = '22337755') 
"
1869,22591,Concatenate fields of rows with the same ID in MySQL,"SELECT m.id, GROUP_CONCAT(distinct(g.loc)) 
FROM mutations m JOIN
    genes g
    ON m.id = g.id
GROUP BY m.id;
"
9113,34861,Retrieve xml-data from text-column,"<cfoutput>#myQuery[""XML_F52E2B61-18A1-11D1-B105-00805F49916B""][1]#</cfoutput>
"
12888,53949,How to build this SQL Query : Select conversation with last message,"select c.*, m._id, m.message
from (select c.*,
             (select max(_id) as maxid
              from message m
              where c._id = m.conversationid
             ) as messageid
      from conversation c
     ) c join
     message m
     on c.messageid = m._id;
"
31165,73386,SQL to select and order with condition,"$sql = ""SELECT news.*, SUM(news_points.points) as total
          FROM news left join news_points 
            ON news.news_id = news_points.news_id
          GROUP BY news.news_id
          ORDER BY total DESC, news.news_id ASC"";
"
36005,60467,SQL left outer joins,"SELECT a.ename, 
       b.ename, 
       c.ename 
FROM emp a 
 LEFT OUTER JOIN emp b 
     ON a.mgr=b.empno;
 LEFT OUTER JOIN emp c
     ON b.mgr=c.empno
"
7436,61728,Select record using values from a previous COUNT() IN MYSQL,"SELECT table.* FROM table 
JOIN 
   (SELECT field FROM table GROUP BY field HAVING COUNT(field) > 1) newtable 
ON 
   table.field = newtable.field;
"
261,36794,Django: Many-to-many with through vs 2x one-to-many,"model.m2m_through_set.all() # this would work
model.m2m_through_set.create(target=target_instance)
"
2482,11143,Get union records and duplicate count from two tables?,"SELECT
    [Column],
    COUNT(*) AS [Count]
FROM(
    SELECT [Column] FROM TableA
    UNION ALL
    SELECT [Column] FROM TableB
)t
GROUP BY [Column]
"
16447,31695,How to write sql query to get items from range,"   SELECT Note, COUNT(*) as 'NumberOfRepeating'
FROM Notes

GROUP BY Note
HAVING count(*) < 
(

SELECT max(t.maxi)
FROM (select
Note, COUNT(Note) maxi FROM Notes
 GROUP BY Note
 ) as t 
)

 AND
 count(*) >
(

SELECT min(t.min)
FROM (select
Note, COUNT(Note) min FROM Notes
 GROUP BY Note
 ) as t 
)
"
29211,19782,SQL 'like' not detecting delimited multiple values,"(T.Mode IN (@MODE))
"
32176,208,SQL trend over time,"SELECT 
(CASE WHEN date <= DateAdd(""d"", -1, getdate) THEN score ELSE 0 END) as sum1,
(CASE WHEN date <= DateAdd(""d"", -2, getdate) THEN score ELSE 0 END) as sum2, etc.
"
19268,16913,Textchanged in VB.net does not display results in my gridview," ""SELECT CDate as 'Date',AName as 'Applicant Name' FROM tbl_applicant WHERE AName LIKE '%"" & txtSearchBar1.Text & ""%'""
"
15311,19298,Updating multiple rows in one column in a database,"UPDATE [tablename] SET lab_no = REPLACE(lab_no, 'EPI8', 'EPI80');
"
32765,56892,Index on which tablespace,"select tablespace_name
from all_indexes
where owner = 'MYSCHEMA'
and index_name = 'MYINDEX';
"
1549,6447,Combining two values from different columns into one column in Datagridwiev,"Private WithEvents DgwNewLayout As DataGridView

Private Sub DgwNewLayout_CellFormatting(sender As Object,
    e As DataGridViewCellFormattingEventArgs
) Handles DgwNewLayout.CellFormatting

    If e.ColumnIndex = 5 Then
        e.Value = CDbl(e.Value).ToString(""0.00"") &
            "" "" & CStr(DgwNewLayout.Rows(e.RowIndex).Cells(9).Value)
        e.FormattingApplied = True
    End If
End Sub
"
25652,57417,Finding a matching value on two columns,"SELECT DISTINCT t.b
FROM your_table t
INNER JOIN your_table s
ON t.b = s.c
AND t.id <> s.id
"
31614,8272,Concatenate multiple column into single in a resulted query,"SELECT TMP1.emp, TMP1.TOTALSECONDS,
           ('0' || (TMP1.TOTALSECONDS) / 3600) || ':' ||
           ('0' || (MOD(TMP1.TOTALSECONDS, 3600) / 60) ':' ||
           MOD(TMP1.TOTALSECONDS, 60) AS TOTALTIMETAKEN
FROM (SELECT EMPID emp, SUM(DURATION) AS TOTALSECONDS
      FROM table
      GROUP BY EMPID) TMP1
"
17082,47650,SQL query: Current lowest price of products,"select l.linkProductId, min(linkPrice + linkShippingPrice) as minPrice
  from linkProductSeller l,
       (select linkProductID, linkSellerId, max(linkDateTime) as linkDateTime
          from linkProductSeller 
         group by linkProductID, linkSellerId) m
 where l.linkProductID = m.linkProductID
   and l.linkSellerID = m.linkSellerID
   and l.linkDateTime = m.linkDateTime
 group by linkProductId
"
3047,317,Sorting and Concatenating Database SQL statements...?,"select 
  first_name + ' ' + last_name as SalesRep_Name,
  Sales_Rep_ID,
  CommClass as Commission_Class,
  CommRate as Commission_Rate
from your_table
order by last_name asc -- ascending is the default and doesn't need to be specified
"
39091,53388,SQL database relations,"CREATE TABLE KeyAssignment (
  key_id INT PRIMARY KEY,
  emp_id INT NOT NULL,
  FOREIGN KEY (key_id) REFERENCES keys (key_id),
  FOREIGN KEY (emp_id) REFERENCES emp (emp_id)
);
"
29491,59477,How to add a SELECT statement result?,"SELECT SUM(HOURS) FROM RESOURCE WHERE DATE = '02/08/2013';
"
39583,65782,SQL Nearest Neighbor Query (Movie Recommendation Algorithm),"select name, count(distinct [user]) from myshows recommend
inner join tvshows on recommend.show = tvshows.showid
where [user] in 
(   
    select other.[user] from 
        ( select show from myshows where [User] = @user ) my,
        ( select show, [user] from myshows where [user] <> @user ) other
    where my.show = other.show
)   
and show not in ( select show from myshows where [User] = @user ) 
group by name
order by count(distinct [user]) desc
"
39186,67192,"MySQL - Select DISTINCT with Count Of That Distinct , Same Table","SELECT `language`, COUNT(`id`) FROM `words`
GROUP BY `language`
"
21041,55252,previous trimester in oracle SQL,"SELECT TRUNC(TRUNC(SYSDATE, 'Q') -1, 'Q') AS startLastQuarter,
       TRUNC(SYSDATE, 'Q')-1/(24*60*60)   AS endLastQuarter,
       TRUNC(SYSDATE, 'Q')                AS startThisQuarter    
FROM DUAL;
"
27890,30862,What options are available for connecting to a Microsoft SQL Server database from an Oracle database?,"select * from mytable@my_ms_sql_server;
"
23888,2215,COUNT QUERY IN DB2,"select t1.AP_NBR, count(distinct t1.LOC_NBR), count(distinct t2.ITM_ID)
from TAB1 t1 join TAB2 t2 on t1.LOC_NBR = t2.LOC_NBR
group by t1.AP_NBR
"
29999,73302,SQL query to count number of Thursdays worked in last 10 weeks,"select EmployeeID
from T
where Date > sysdate() - 70 days and to_char(Date, 'd') = '4'
group by EmployeeID
having count(*) >= 3
"
23427,25267,How to remove eol (plus sign) character in postgres batch output,"psql -qAt ....
"
15268,59698,What is the right way to do flexible columns in database?,"TableAttribute
    AttributeID
    AttributeType
    AttributeValue
"
29783,17295,Displaying Full DateTime when sorting by hour,"SELECT  DATEADD(HOUR, DATEPART(HOUR, TimeStamp), DATEDIFF(DAY, 0, TimeStamp)) [TimeStamp],
        SUM(TotalOffered) [TotalOffered]
FROM    [My Table]
GROUP BY DATEADD(HOUR, DATEPART(HOUR, TimeStamp), DATEDIFF(DAY, 0, TimeStamp))
ORDER BY [TimeStamp]
"
37867,50390,Northwind query with join on Orders and Order Details,"select COUNT( distinct o.OrderId) as Orders
from Orders o
join [Order Details] od on o.OrderID = od.OrderID 
"
19175,18943,select date+time+timezone with oracle db,"to_char(sysdate, 'YYYY-mm-DD""T""HH24:MI:SS.""0Z""')
"
30263,51745,Join two tables in such way that I can get all items for all dates,"SELECT
 dt.PurchaseDate, i.Value as ItemName, SUM(ISNULL(Quantity,0)) as Quantity
FROM Items i
CROSS JOIN ( SELECT DISTINCT PurchaseDate FROM Purchase ) dt
LEFT OUTER JOIN Purchase p
  ON i.Value = p.ItemName
  AND dt.PurchaseDate = p.PurchaseDate
GROUP BY dt.PurchaseDate, i.Value
ORDER BY dt.PurchaseDate, i.Value
"
36691,11620,consult sql join tables,"select t.product as tshirt, j.product as jeans,
       count(distinct bj.codeUser)
from (select distinct product from buys where product like 'tshirt%') t cross join
     (select distinct product from buys where product like 'jeans%') j left join
     buys bt
     on bt.product = t.product left join
     buys bj
     on bj.product = j.product and
        bj.codeuser = bt.codeuser
group by t.product as tshirt, j.product;
"
16602,21224,MySql SELECT by Spliting multiple values separated by ||,"SELECT userid,
       substring_index(substring_index(l.ActiveLinks, '||', n.n), '|', -1) as link
FROM (select 1 as n union all select 2 union all select 3 union all select 4) n join
     ipadminuserslinks l
     on length(l.ActiveLinks) - length(replace(l.ActiveLinks, '||', '')) + 1 <= n.n
WHERE userid = 242;
"
922,31473,Copying contents from 1 table into another except for matching record(s),"INSERT INTO X
SELECT *
FROM Y
LEFT JOIN X
ON X.field1 = Y.field1
AND X.field2 = Y.field2
AND ...
WHERE X.field1 IS NULL
"
36258,19858,Caching multiple versions of the same table,"declare @sql varchar(max)
select
@sql = 'SELECT * FROM MyTableName_' + v.version
from dbo.Version as v
where v.id = 1

exec (@sql)
"
34450,5116,Group and count multiple fields at once,"SELECT ... 
FROM   ads WHERE  [search criteria]
"
33135,7770,Check date split periods are continuous,"select ref,
       ((max(to_date) - min(from_date)) -
        sum(to_date - from_date)
       ) as total_gaps
from t
group by ref;
"
32953,56817,SQL - select the most frequency item,"SELECT name
FROM table_name
GROUP BY name
ORDER BY COUNT(*) DESC
LIMIT 1;
"
681,73880,Adding rows automatically based on previous rows,"SELECT TOP (100) PERCENT Room,
    Subject,
    COUNT(Subject) AS Expr1
FROM dbo.Timetable
GROUP BY Room,
    Subject

UNION ALL

SELECT TOP (100) PERCENT Room, 
    'Not Used',
    60 - COUNT(Subject) AS Expr1
FROM dbo.Timetable
GROUP BY Room

ORDER BY t.Room
"
11831,71683,"select top 1000, but know how many rows are there?","SELECT TOP 1000 x,y,z, COUNT(*) OVER () AS TotalCount
FROM dbo.table
"
31624,58836,How to determine the hostname in Oracle APEX?,"function call                    |  result
---------------------------------|-----------------------------------
APEX_UTIL.HOST_URL()             |  http://example.com:5883
APEX_UTIL.HOST_URL('SCRIPT')     |  http://example.com:5883/pls/apex/
APEX_UTIL.HOST_URL('IMGPRE')     |  http://example.com:5883/i/
"
564,57701,Importance of WHERE in LEFT join,"SELECT Pracas.Zona,
 SUM(CASE WHEN Motoristas_Praca.PracaID IS NULL THEN 0 ELSE 1 END) AS 'Ocupantes' 
FROM Pracas
LEFT JOIN Motoristas_Praca ON Motoristas_Praca.PracaID=Pracas.PracaID
GROUP BY Pracas.Zona
"
10617,55397,Data grid view showing columns but no data,"Private Sub frmClientDetails_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles MyBase.Load
 Dim ds As New DataSet
 objdataadapter.SelectCommand = New MySqlCommand()
 objdataadapter.SelectCommand.Connection = objconnection
 objdataadapter.SelectCommand.CommandType = CommandType.Text
 objdataadapter.SelectCommand.CommandText = ""SELECT * FROM Client_Details""
 objdataadapter.Fill(ds, ""Client_Details"")
 bind_dataset_DGVClient()
 count_records()
 rowposition = 0

 DGVClient.DataSource = ds.Tables(""Client_Details"")
"
15041,72918,SQL formatting standards,"select
    ST.ColumnName1,
    JT.ColumnName2,
    SJT.ColumnName3
from 
    SourceTable ST
inner join JoinTable JT on 
    JT.SourceTableID = ST.SourceTableID
inner join SecondJoinTable SJT on 
    ST.SourceTableID = SJT.SourceTableID
where
        ST.SourceTableID = X
    and JT.ColumnName3 = Y
    and JT.Column3 = SJT.Column4
"
25692,22909,SQL View: Comparing an initial table with a profiling table to return values not present in initial table,"SELECT r.RouteId,di.PatrolID,r.TagId
    FROM Routes r
    INNER JOIN (SELECT DISTINCT RouteId, PatrolID from DataImport) as di on di.RouteId = r.RouteId
EXCEPT
SELECT RouteId,PatrolID,TagId
FROM DataImport
"
31093,24943,Creating a query linked to a value in a list box,"SELECT [tblTeams].[Department], [tblTeams].[Team], [tblTeams].[Group] FROM [tblTeams] 
WHERE [tblTeams].[group]= '"" & lstGroup.Value & ""'""
ORDER BY [tblTeams].[Department] 
"
21035,70572,"For each country, find city that has the highest population and the city's population","select
  country.name,
  city.name,
  city.population
from
  country
join
(
  select
    country,
    name,
    population,
    row_number() over ( partition by population desc) as rn
  from
    city
) city on
  city.country = country.code
  and city.rn = 1
order by
  country.name
"
20524,39676,SQL Random String from List,"SELECT id,
       CASE round(dbms_random.value(1,4)) 
            WHEN 1 THEN 'Basic' 
            WHEN 2 THEN 'Silver' 
            WHEN 3 THEN 'Gold' 
            WHEN 4 THEN 'Premium' 
       END AS type
FROM table
"
5562,63792,Getting first condition of GROUP BY as additional rows?,"SELECT Country,
       City,
       COUNT(*) AS [Count]
FROM   CountiresAndCities
GROUP  BY grouping sets ( ( Country, City ), ( Country ) )
ORDER  BY grouping(City),
          Country,
          City 
"
34091,48558,12 months rolling data from previous month in sql,"SELECT 
    AVG(AEBill.[TotalCost])
    ,AEEnc.ProviderID
            ,AEEnc.Date
    INTO #TotalCostAccuteCareAE
    FROM EncDetail AEEnc
    INNER JOIN [EncBilling] as AEBill
    ON  AEBill.[SK_EncID] = AEEnc.[SK_EncID]    
        AND AEBill.ProviderID = AEEnc.ProviderID
            WHERE AEEnc.Date <= DATEADD(year,-1,GETDATE())
    GROUP BY AEBill.ProviderID
"
20545,38644,SQL nested select statement;,"select ColA, ColB, ColC, ColD, (select ColE from table where colA=120) ColE
from table
where colA = 122
"
18653,6318,SQL query to get rows with maximum of some column,"select vehicleID, max(vehicleSpeed) from vehicleData group by vehicleID
"
19314,46997,MySQL Where Query using string with special characters,"select  * 
from    teams 
where   name = 'mi equiñerolico' collate utf8_bin
"
11156,12717,"MySQL: use ""IF NOT IN"" in procedure","CREATE PROCEDURE `validate_class`(IN `class` CHAR(1))
BEGIN
    if(class NOT IN  ('A','B','E') ) then    
         select 1;
    else
         select 0;
    end if;
END 
"
38221,26959,How to Get Sum of One Column Based On Other Table in Sql Server,"select c.id, c.customername, sum(isnull(p.price, 0)) as sumprice
  from tblcustomers c
  left join tblpurchases p
    on c.id = p.customerid
 group by c.id, c.customername
"
17241,47362,Selecting everything but not a specific value,"SELECT p.*
FROM Proofs p
WHERE p.Proof <> 'All proofs'
"
12424,44743,SQL (any) Request for insight on a query optimization,"select a.* from a where a.id in (select id from b where b.id = a.id)

select a.* from a where a.id in (select id from b)
"
2705,53493,query the highest latest userid,"select name, max(userid) as max_userid
from users
group by name
order by max(userid) asc
"
35098,68233,"Expecting a null returned from XML.value() in SQL, but getting 0","SELECT @SearchFilter.value('(/KeywordSearch/SelfEmployed/text())[1]', 'varchar(100)')
"
30723,16576,Django complex Query through database API,"profile = EnterpriseProfile.objects.get(pk=1)  # or whatever to get the object
# next returns all users related to that enterprise in the M2M
profile.enterprise.users.all()  
"
14354,43276,Update a whole column based on 2 columns of a different table,"select  
case when (effectivethrutime is null and senttime >= effectivefromtime) then orgid  
when (effectivethrutime is not null and senttime >= effectivefromtime) then orgID  
when (effectivethrutime is not null and senttime between effectivethrutime and   effectivefromtime) then orgid  
end as orgid  
from ac  
left join op  
on ac.clinicalidentifier=op.clinicalidentifier  
where ac.senttime>op.effectivefromtime   
and ac.senttime<=isnull(op.effectivethrutime,ac.senttime)
"
3867,22121,how to insert different querys answers into a table,"INSERT INTO restaurant (id_restaurant, id_category)
SELECT id_rest, id_cat
FROM restaurant_menu rm, category_menu cm
WHERE rm.name = ""discount"" AND cm.name = ""beach"";
"
17339,10549,My SQL Trigger Before Update,"CREATE TRIGGER pickDate BEFORE UPDATE
ON order_master
FOR EACH ROW BEGIN
    SET NEW.order_pick_date = COALESCE(old.order_pick_date, now()) ;
END;
"
4443,34159,Converting Oracle's join syntax using the plus sign (+) to standard join syntax,"select p1.product_id, p1.product_name, p2.product_code,
    (decode(p3.product_type, null, 'N/A', p3.product_type) as product_type
from products p1
join product_descriptions p2
    on p1.product_id = p2.product_id
left join product_descriptions p3
    on p3.product_age = p2.product_age
    and p3.product_type = p2.product_type
    and p3.status = 'VALID';
"
26082,29524,TIMESTAMP and SYSDATE,"timestampfield > current_timestamp - interval '1' hour
"
35507,33458,alternative to sum in sql where clause,"select  t1.id
,       t1.customer
,       t1.quantity 
,       sum(t2.itemqty)
from    table1 t1
join    table2 t2
on      t1.id = t2.orderid
group by
        t1.id
,       t1.customer
,       t1.quantity 
having  t1.quantity <> sum(t2.itemqty)
"
39795,17180,How do you create in-line commenting in SQL (with SQL-Server)?,"select SessionSID
, TargetID
--, TargetName
, FEDSurveyName 
, SupplierID
, ClientLK_ResponseStatusID 
from BI_Sessions (nolock)
WHERE EntryDate BETWEEN '05-15-2012' AND '05-16-2012'
AND SupplierID = 336
"
36958,49353,Is it possible to create a derived table with no rows?,"USING (SELECT 1 as 'key', 1 as 'val' where 1 = 0) AS src (key, val)
"
3560,8454,multiple join fetches in hibernate,"select g from Game g 
    join fetch g.teams t
    join fetch t.players p
    join fetch p.skills s
where ...
"
13376,21860,SQL max n versions for each week of each year,"select t.*
from (select t.*,
             row_number() over (partition by year, weekno order by versionno desc) as seqnum
      from t
     ) t
where seqnum <= n    -- Your value goes here
"
16033,54568,How to preserve trailing 0 for a number in oracle?,"select to_char(32.00, '999990D999') from dual;
"
13292,54274,MySQL count row values WHERE column = value,"select
    name,
    sum(votes) as total_votes
from mytable
group by 1
order by 2 desc
"
36883,47919,"Group by two fields, and having count() on first field","select userid, videoid
from (SELECT userid, videoid, count(distinct videoid) over (partition by userid) as cnt
      FROM table_play_list
      WHERE SOME CONDICTION
     ) t
where cnt > 2;
"
33101,65380,How to group by week?,"select  datepart(wk, DateCreated)
,       sum(UserHits)
from    UserData
group by
        datepart(wk, DateCreated)
"
17564,33974,SQL Query MAX with SUm,"SELECT ID FROM Table1 
WHERE ([Field1]+[Field2])=(
    SELECT Max([Field1]+[Field2]) AS Expr1
    FROM Table1)
"
26060,39082,How to make a inner join with condition...?,"SELECT * FROM table2
INNER JOIN WITH table1 ON table2.id = table1.id
    AND (table1.value1 = table2.value1 OR table1.value1 IS NULL)
    AND (table1.value2 = table2.value2 OR table1.value2 IS NULL)
"
17071,10093,SQL server Delete script order,"DECLARE @DeletedMyEntityTransaction table ( TransactionID int );

DELETE  dbo.MyEntityTransaction
OUTPUT  deleted.TransactionID
        INTO @DeletedMyEntityTransaction
WHERE   MyEntityID = @MyEntityID;

DELETE  dbo.[Transaction]
WHERE   TransactionID IN ( SELECT   TransactionID
                           FROM     @DeletedMyEntityTransaction );

DELETE  dbo.MyEntity
WHERE   MyEntityID = @MyEntityID;
"
36529,60944,How do I group my cfquery on multiple columns?,"<cfoutput query=""myQry"" group=""date"">
 <cfoutput group=""category"">
  <cfoutput group=""description"">
   #date# #category# #description#
   <cfoutput>
    #detail#
   </cfoutput>
  </cfoutput>
 </cfoutput>
</cfoutput>
"
36284,58841,How to get values from the xml value without mentioning its attribute's name in select statement,"select
   Cust.value('*[1]', 'int') AS 'ItemID',
   Cust.value('*[2]', 'Varchar(50)') AS 'Customer Name'
from @xmlval.nodes('/ArrayOfCustomers/Customer') as AOC(Cust) 
"
20899,52582,SQL multiple join tidy up,"SELECT board.*,
    `user`.username,
    numlikes 
FROM board
INNER JOIN `user` ON board.user_id = `user`.user_id
LEFT JOIN (
    SELECT pins.board_id, COUNT(source_user_id) AS numlikes
    FROM likes 
    INNER JOIN pins ON pins.id = likes.pin_id 
    GROUP BY pins.board_id
) likes ON board.id = likes.board_id
WHERE who_can_tag='' 
ORDER BY numlikes DESC 
LIMIT 10
"
11344,66277,Is usage of DISTINCT redundant in a simple query with an aggregate function,"select DISTINCT salesperson, SUM(sales_amt) from sales GROUP BY salesperson
"
26646,4251,SQL DataRetrival in VB.net Datatypes Error,"connection = New System.Data.OleDb.OleDbConnection(""Provider = Microsoft.Jet.OLEDB.4.0 ;Data Source="" & Filepath & "" ;Extended Properties='Excel 8.0;HDR=Yes;IMEX=1;'"")
"
17468,66561,Reading data from SQL Server using Spark SQL,"     val rdd = new JdbcRDD[Email](sc,
          () => {DriverManager.getConnection(
 ""jdbc:sqlserver://omnimirror;databaseName=moneycorp;integratedSecurity=true;"")},
          ""SELECT * FROM TABLE_NAME Where ? < X and X < ?"",
            1, 100000, 1000,
          (r:ResultSet) => { SomeClass(r.getString(""Col1""), 
            r.getString(""Col2""), r.getString(""Col3"")) } )
"
24186,25893,How to select last entry per ID in SQL,"Select B.*
 From  (
        Select UserID,ActionTime=max(ActionTime) 
         From  SomeTable
         Group By UserID
       ) A
 Join SomeTable B on A.UserID=B.UserID and A.ActionTime=B.ActionTime
"
33104,29441,SQL - find duplicates in two columns,"SELECT col, COUNT(*)
FROM
(
    SELECT col1 AS col FROM Table1
    UNION ALL
    SELECT col2 FROM Table1
) T1
GROUP BY col
"
25378,3479,"Using SQL Server, how do I manually set a given column's value during a Bulk Insert of a CSV file?","alter table <Table Name> 
    add constraint <constraint name>
    default <relevant date here> for [RecordDate] 

<run the bulk insert...>

alter table <Table Name>
     drop constraint <Constraint Name>
"
17290,12711,how to return last inserted (auto incremented) row id in HSQL?,"SELECT TOP 1 Id FROM [TABLENAME] ORDER BY Id DESC
"
29114,51768,Testing equality of referencing rows,"Select B1.A_Id, B2.A_Id
From (
    Select Data, A_Id, Count(Id) A_Count
    From B
    Group By Data, A_Id
) b1 
inner join (
    Select Data, A_Id, Count(Id) a_count
    From B Group By Data, A_Id
) b2 on b1.data = b2.data and b1.a_count = b2.a_count and b1.a_id <> b2.a_id
"
20634,68424,Strange behaviour with Fulltext search in SQL Server,"SELECT * FROM MyTable WHERE CONTAINS(Message, @Keyword, langauge 1033) 
"
31895,28648,SQL - Use results of a query as basis for two other queries in one statement,"SELECT COUNT(*) as totaloccurs, COUNT(@conditions@) as suboccurs
FROM (@total@ as t1)
"
32170,39035,Using Pivot or CTE to horizontalize a query,"SELECT
  Entity,
  MAX(CASE WHEN Type1 = 'A' THEN Type2 ELSE NULL END) AS AType2,
  MAX(CASE WHEN Type1 = 'A' THEN Balance ELSE NULL END) AS ABalance,
  MAX(CASE WHEN Type1 = 'B' THEN Type2 ELSE NULL END) AS BType2,
  MAX(CASE WHEN Type1 = 'B' THEN Balance ELSE NULL END) AS BBalance,
  MAX(CASE WHEN Type1 = 'C' THEN Type2 ELSE NULL END) AS CType2,
  MAX(CASE WHEN Type1 = 'C' THEN Balance ELSE NULL END) AS CBalance
FROM
  ...
GROUP BY
  Entity
"
33632,10892,Sql queries in Django,"Mplaces.objects.filter(name__endswith='press', city__endswith=myn)
"
36398,56396,Oracle Text multi column index based query does not return any rows,"WHERE CONTAINS(OBJEKTUM_NEV, 'C%')>0;
"
13198,45643,How should I structure my MySQL database?,"CREATE TABLE users {
 user_id  int UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
 user_type  int NOT NULL REFERENCES user_types(user_type_id),
 ssn      char(10) NOT NULL,
 password  varchar(40) NOT NULL,
 first_name  varchar(30) NOT NULL,
 last_name varchar(30) NOT NULL,
 address     varchar(80) NOT NULL,
 admin_id int REFERENCES users(user_id)
} engine = InnoDB;
"
15707,8363,SAP HANA: Minimum value of several columns,"select least(col_1, col_2, col3_3)
from . . .
"
20842,67525,SQL: matching column's values as rows?,"SELECT t1.listing_id , t1.listing_value as listing_value1 , t2.listing_value as listing_value2
  FROM table t1, table t2 where t1.listing_id = t2.listing_id AND t1.field_id = ""Fruit"" AND t2.field_id = ""Color""
"
8816,41725,mysql- Averaging values every n row with same id,"select computer, max(time), avg(cpu)
from
(
  select 
    @row_number := case when @computer = computer then @row_number + 1 else 0 end as row_number,
    @computer := computer as computer,
    time, 
    cpu
  from mytable
  cross join (select @row_number := -1, @computer := '') as t
  order by computer, time
) as t
group by computer, row_number div 3
order by computer, row_number div 3;
"
26587,23172,Access - SELECT JOIN many to many 2 tables with 3 dictionaries,"  SELECT P.Ext_item_id, P.Ext_shop_id, P.Ext_date_id, S.SALES
  FROM PROMO P
  INNER JOIN SHOP SH ON P.Ext_shop_id = SH.Ext_shop_id
  INNER JOIN ITEM I ON P.Ext_item_id = I.Ext_item_id
  INNER JOIN [DATE] D ON P.Ext_date_id = D.Ext_date_id
  INNER JOIN SALES S 
    ON SH.shop_id=S.shop_id  AND I.item_id = S.item_id  AND D.date_id = S.date_id
"
10000,25237,SQL Join vs Sub-query,"SELECT p.desc AS Product, m.name AS mfg
FROM product p
INNER JOIN lot l ON p.lot_id = l.id
INNER JOIN mfg m ON l.mfg_id = m.id
"
21579,61542,Counting the number of rows based on like values,"SELECT 
    LEFT(customers.name,1) AS 'name',
    COUNT(*) AS NumberOfCustomers
FROM customers
WHERE
    customers.name LIKE '[a-z]%'
GROUP BY LEFT(customers.name,1)
"
5632,7659,insert values from one table to another talbe,"INSERT INTO Tbl2(UserId, TimesTamp)
SELECT u.Id,'2016-01-31 23:59:59'
FROM tbl1 AS u;
"
29915,33955,SQL Server set hours and minutes to datetime from another datetime,"select cast(cast(@datetime1 as date) as datetime) + cast(cast(@datetime2 as time) as datetime)
"
10555,10554,Is there is something like stored procedures in NOSQL databases?,"db.system.js.save( { _id : ""foo"" , value : function( x , y ){ return x + y; } } );
"
36706,6365,Counting in base 36 with SQL,"WITH
  num AS (SELECT TOP 36 ROW_NUMBER() OVER(ORDER BY (SELECT 1)) i FROM master.dbo.spt_values),
  chr AS (SELECT i,CASE WHEN i <= 10 THEN CHAR(i+47) ELSE CHAR (i+54) END c FROM num)
SELECT t3.c + t2.c + t1.c + t0.c
FROM chr t3, chr t2, chr t1, chr t0
ORDER BY t3.i, t2.i, t1.i, t0.i
"
17050,43415,SQL Server Auto-Increment Next INSERT Query,"CREATE TABLE example (ID int IDENTITY(1,1), Stuff VARCHAR(255))

INSERT INTO example (Stuff) VALUES ('Hello World!')
"
26344,61978,SELECT same data from same table just with conditions as different columns,"SELECT
    CASE WHEN amount > 0 THEN amount END as posAmount,
    CASE WHEN amount < 0 THEN amount END as negAmount,
    correction
FROM booking
"
14318,1223,How can i get sql result column as csv without 'for xml'-clause?,"SELECT 
  a
,   MAX( CASE seq WHEN 1 THEN (b) ELSE '' END )
  + MAX( CASE seq WHEN 2 THEN (', ' + b) ELSE '' END ) 
  + MAX( CASE seq WHEN 3 THEN (', ' + b) ELSE '' END ) 
  + MAX( CASE seq WHEN 4 THEN (', ..') ELSE '' END )
  AS b
FROM (SELECT 
        t1.a
      , t1.b
      , (SELECT COUNT(*) FROM t t2 WHERE t1.a = t2.a AND t2.b <= t1.b) AS seq 
      FROM t t1) AS temp
GROUP BY a
"
12540,54554,Importing to mySQL causes blank space to convert to 'Â',"ALTER DATABASE YourDatabase CHARACTER SET utf8;
"
29002,4424,Use INSERT-OUTPUT to provide values for another INSERT,"INSERT INTO [#tblEntity1] ([Value])
OUTPUT [inserted].[ID] AS [entity1ID], @entity2ID AS [entity2ID]
   INTO #tblIntersect
VALUES ('One')
"
65,60792,How to assign a value to a casted column in Oracle,"select table1.*, (case when table1.id > 10 then 1 else 0 end) as value
from table1
"
25801,73568,Oracle Database Table Column Timestamp,"SQL> select to_char(sysdate, 'mm/dd/yyyy hh24:mi:ss') from dual;

TO_CHAR(SYSDATE,'MM
-------------------
01/21/2015 11:02:27

SQL> select to_char(sysdate, 'mm/dd/yyyy hh:mi:ss am') from dual;

TO_CHAR(SYSDATE,'MM/DD
----------------------
01/21/2015 11:03:04 am

SQL>
"
33454,67400,Left 1000 records from delete 11g?,"set ROWCOUNT  (numberOfRecordsOnYourDB - 1000 )
delete from hugetable
Go
"
16282,56163,MySQL querying with a dynamic range?,"select * from (
 SELECT * FROM (select * from ppl_table where age>30 and age<40 order by rand() limit 10) as Momo1
 union
 SELECT * FROM (select * from ppl_table where age>25 and age<40 order by rand() limit 20) as Momo2
) as FinalMomo
limit 10
"
28353,46998,ORACLE SQL - how to manipulate single column without selecting it,"SELECT 2*C AS DOUBLE_C, T.* FROM T
"
34019,65489,How to reuse a dynamic column in another column calculation in MySQL?,"SELECT (selloff1 / weekavg) AS procent
FROM (
  SELECT 
    selloff1, IF(daycode=1,(SELECT...),(SELECT...)) AS weekavg
  FROM ...
)
"
297,64090,how to filter in sql script to not include any column null,"SELECT fields
FROM MyTable
WHERE stuff
EXCEPT -- This excludes the below results
SELECT fields
FROM MyTable
WHERE (Col1 + Col2 + Col3....) IS NULL
"
5275,54762,Merging fields in t-sql,"SELECT Limit AS Val1,    Lower AS Val2,    Upper AS Val3
FROM TableName
UNION ALL
SELECT SELECT Deviation AS Val1,    Lower AS Val2,    Upper AS Val3
FROM TableName
"
39990,42949,Copying data to new table in a specific fashion,"select USER,
       max(case when ITEM='I1' then QTY END) As I1,
       max(case when ITEM='I2' then QTY END) as I2,
       max(case when ITEM='I3' then QTY END) as I3
from yourtable
group by USER
"
20417,45432,Ignoring duplicate records on query,"select cid, uid, min(aid), min(gid), min(name), min(evn)
from t
group by cid, uid;
"
21328,31852,Two databases merging into Solr - How to keep uniqueID for entries?,"SELECT 'TABLE1' || ID AS PRIMARY_ID ... FROM TABLE1
SELECT 'TABLE2' || ID AS PRIMARY_ID ... FROM TABLE2
"
22695,22395,How can I select the record with the 2nd highest salary in database Oracle?,"select * from (
  select e.*, row_number() over (order by sal desc) rn from emp e
)
where rn = 2;
"
23217,13443,"Mongodb: get notified if exist, insert if not exist","db.users.createIndex({email: 1}, {unique: true})
"
14760,74398,SELECT INTO local variable undeclared?,"SELECT COUNT(*) INTO @rowcount
FROM ...
"
12561,60020,SQL: Find rows where field value differs,"    select r.* from rankings r
    inner join
    (
        select alternative_id, indicator_id
        from rankings
        group by alternative_id, indicator_id
        having count(distinct rank) > 1
    ) differ on r.alternative_id = differ.alternative_id
    and r.indicator_id = differ.indicator_id
    order by r.alternative_id, r.indicator_id, r.analysis_id, r.rank
"
19074,16919,Can I insert values to a column according to a condition? SQL Server,"UPDATE Departments
SET numberOfEmployees=(SELECT COUNT(Employees.nameOfEmployee)
FROM Employees
WHERE Departments.numberOfDepartment=Employees.numberOfDepartment)
"
7609,3735,How to Create MySQL Query to Find Related Posts from Multiple Tables?," SELECT article_id, count(*) as common_term_count FROM 
      (
      SELECT article_id FROM tags WHERE tag IN 
         (SELECT tag FROM tags WHERE article_id = :YourArticle)
      UNION ALL 
      SELECT article_id FROM categories WHERE category IN
         (SELECT category FROM categories WHERE article_id = :YourArticle)
       ) AS accumulator_table 
 GROUP BY article_id ORDER common_term_count DESC
"
11781,34323,"SQL - Get records from one table that aren't ""LIKE"" in another table","select pr.*
  from products pr
  left join posts po
    on post_title like concat('%', pr.model, '%')
 where post_title is null
"
4212,51726,references in select statements,"SELECT a.NAME,
       a.phoneNumber
FROM   PATIENT a
       JOIN PATIENT b
         ON a.phoneNumber = b.phoneNumber
            AND a.NAME <> b.NAME 
"
9643,3410,Get aggregation values for all possible distinct entries in group by,"select sum(case when date between '9/9/2013' and '9/15/2013' then 1 else 0 end)
from Flight
group by Site
order by Site;
"
5052,4206,MySQL: Query that finds all states that does not contain a specific value,"SELECT DISTINCT state
 FROM mytable
 WHERE state NOT IN (
   SELECT DISTINCT state
   FROM mytable
   WHERE type = 'river'
)
"
14810,27288,Combining two tables and adding the quantities,"SELECT Item, SUM(qty) as Qty FROM
(
   SELECT Item, qty FROM warehouse_1
   UNION
   SELECT Item, qty FROM warehouse_2
) as a
GROUP BY item;
"
21760,16367,SELECT UNION and ORDER BY in mysql.. how to?,"(SELECT table1.*, 0 AS TMP_ORDER FROM table1 ORDER BY fieldA ASC LIMIT 3)
UNION
(SELECT table1.*, 1 AS TMP_ORDER FROM table1)
ORDER BY TMP_ORDER ASC, 
CASE WHEN TMP_ORDER = 0 THEN fieldA ELSE 0 END ASC, 
CASE WHEN TMP_ORDER = 1 THEN fieldB ELSE 0 END DESC
"
30265,64283,SQL Statement that Subs 0 for no Results,"SELECT U.FirstName + ' ' + U.LastName AS Name, COUNT(F.ID) AS 'Open Requests'
FROM Users U
INNER JOIN Roles R
    ON U.RoleID = R.ID 
LEFT JOIN ( SELECT * FROM FRrequests 
            WHERE Status IN ('Submitted','Delayed')) F
    ON U.ID = F.UserID
WHERE R.Name = N'Field Rep' 
GROUP BY U.FirstName, U.LastName
"
15291,59121,Add a tuple-based check to this relation,"(Group of logical expressions) OR (Group of logical expressions)
"
21233,2746,SQL Query to select Common Values,"SELECT t1.username 
FROM ip_table AS t1 
    JOIN ip_table AS t2 
    ON  t1.`username` = t2.`username`
AND t1.ip = <ip1> AND t2.ip = <ip2> ... etc
"
21486,36908,SQL Server : select only one row based on a field when there are several rows,"with cte as
 ( select Email, Name, Surname,
      row_number() over (partition by Email order by Name) as rn
   from tab
 )
select Email, Name, Surname
from tab
where rn = 1
"
34982,52943,"In SQLite3, how can I do SQL-escaping in a LIKE clause?","char* query = ""SELECT * FROM table WHERE LOWER(notes) LIKE '%' || ? || '%'"";
"
4033,62747,sql counting based upon multiple values in other column - sql server management studio,"select count(*)
from
(
    select usr
    from table_like_below
    where pn in (2,3)
    group by usr
    having count(distinct pn) = 2   -- this guarantees that usr have at least one 2 and at least one 3 in column pn
) T
"
19544,11280,oracle pivot query suggestion,"SELECT month, value_2013, value_2014
FROM   (SELECT fiscalyear, month, value FROM your_table) 
PIVOT (SUM (value) AS value                                                         
       FOR (fiscal_year)                                                         
       IN ('2013', '2014'))
"
10178,1847,SQL: How to perform this query over each group,"SELECT t1.ID AS t1ID, t2.ID AS t2ID, 
       SUM(t1.count*t2.count) AS s
FROM mytable AS t1
INNER JOIN mytable AS t2 
  ON t1.ID < t2.ID AND t1.k = t2.k
GROUP BY t1.ID, t2.ID 
"
20394,37910,sql subqueries and group by,"select ename 
  from emp
 where sal > any (select avg(sal) 
                    from emp 
                  group by 
                         deptno)
and deptno in (select deptno
               from emp
               group by 
               deptno having count(deptno) > 4);
"
2492,59527,Entity Framework: Get all rows from the table for the ids in list,"var ids = new List<int>() { 2, 10, 16, 24, 32 };
var rows = Table.Where(t => ids.Contains(t.id)).ToList();
"
33005,11342,Condition in oracle sql query,"select * from emp where emp.id in(1,2,3) and (design.type<>'Labor' OR emp.sal>10000)
"
35363,22704,Complex summing in SQL,"SELECT SUM(subsum) / 15 FROM (
   SELECT SUM(column1) AS subsum
      FROM table
     UNION ALL
    SELECT SUM(column2) AS subsum
      FROM table
     UNION ALL
    ...
    SELECT SUM(column10) AS subsum
      FROM table
)
"
33084,44336,MySQL Query Help,"select operatorid,
sum(if(status=""good"",1,0)) as good,
sum(if(status=""bad"",1,0)) as bad,
sum(if(status=""ugly"",1,0)) as ugly
from table
group by operatorid
"
7110,2413,Check if record is referenced from another table,"SELECT c.CustomerID, c.Name, 
       (case when exists (select 1 from orders o where o.CustomerID = c.CustomerID)
             then 1 else 0
        end) as HasOrders
FROM Customers c;
"
14941,14537,How do I perform the following SQL sum?,"SELECT
  PointsFor.user_id, 
  sum(PointsFor.score) as pointsfor,
  sum(PointsAgainst.score) as pointsAgainst
FROM TABLE_NAME PointsFor
JOIN TABLE_NAME PointsAgainst
  on PointsFor.match_id = PointsAgainst.match_id
  and PointsFor.user_id <> PointsAgainst.user_id
GROUP BY PointsFor.user_id
"
32760,60267,Retrieving count and summing from many different tables with shared ID in SQL,"SELECT Prgm_ID, COUNT(ID) AS Subprgm_Count FROM (
    SELECT a.prgm_type_a_ID AS ID, Prgm_ID FROM TableA a UNION ALL
    SELECT b.prgm_type_b_ID, b.Prgm_ID FROM TableB b UNION ALL
    SELECT c.prgm_type_c_ID, c.Prgm_ID FROM TableC c
)t
GROUP BY Prgm_ID
HAVING COUNT(ID) >= 5 --Your limit here
"
4129,39052,Select a column using a variable?,"DECLARE @Column varchar(25)
SET @Column = 'Name' -- This can be another column also
SET @sqlText = N'SELECT ' + @Column + ' FROM MyTable'
EXEC (@sqlText)
"
18447,19559,Oracle and Sybase compatibility for create table new_table as,"CREATE TABLE new_table (
  ...columns...
)

INSERT INTO new_table
SELECT * 
  FROM OLD_TABLE
"
5857,57002,Return Data on MAX Value (Without Affecting Result of MAX),"SELECT Service_Availability.Service_Product, Service_Availability.Specificity 
FROM Service_Availability 
INNER JOIN (
    SELECT Service_Availability.Service_Product, MAX(Service_Availability.Specificity) AS Spec
    FROM Service_Availability
    WHERE (Service_Availability.State = ""TX"" OR Service_Availability.State = ""CW"")
    GROUP BY Service_Availability.Service_Product ) max_spec
  ON Service_Availability.Service_Product = max_spec.Service_Product
  AND Service_Availability.Specificity = max_spec.Spec
WHERE Service_Availability.Available = TRUE
"
20721,44651,Mysql : Count Posts and Group by date,"  SELECT FROM_UNIXTIME(post_date, '%Y %D %M') AS POST_DATE,
         COUNT(post_id) AS POST_COUNT
    FROM posts
GROUP BY POST_DATE
"
1637,30877,Summing Row in SQL query for time range,"SELECT  convert(varchar(13), [DateTime], 120) as dt
,       SUM(KW) as SumKwPerHour
FROM    POWER
WHERE   [DateTime] >= '2014-04-14 06:00:00' 
        AND [DateTime]< '2014-04-21 06:00:00'
GROUP BY
        convert(varchar(13), [DateTime], 120)
ORDER BY
        dt
"
8960,26893,IS NULL versus <> 1 SQL bit,"SELECT * 
FROM TableName
WHERE
   bit_column_value IS NULL OR bit_column_value = 0
"
20000,50665,Change value of table field when value of another field was changed in oracle,"CREATE TRIGGER update_notes
BEFORE UPDATE ON table1
FOR EACH ROW
BEGIN
  IF :new.status = 'Active' THEN 
     :new.notes = null;
  END IF;
END;
"
14942,63736,How to make SQL case sensitive,"SELECT col FROM table  
WHERE col COLLATE Latin1_General_CS_AS = 'value'
"
32919,28867,"Selecting top results from SQL Count query, including table join - Oracle","SELECT *
FROM
(
SELECT customer.company_name, COUNT (item.pickup_reference) as ""Number of Pickups"" 
FROM customer
JOIN item ON (customer.reference_no=item.pickup_reference) 
GROUP BY customer.company_name, item.pickup_reference
ORDER BY COUNT (customer.company_name) DESC
) 
WHERE rownum <= 10
"
16387,13188,SQL Query return 0 rows,"SELECT  m.ID_Material, m.Material_Name, m.[Type]
FROM    Detail_Material dm
        INNER JOIN Material m ON dm.ID_Material_MadeOf = m.ID_Material
WHERE   dm.ID_Material = 'DXTR1000'
"
4386,69860,Create a trigger that inserts old values into other table when a row is updated,"CREATE TRIGGER triggername
ON table1
FOR UPDATE
AS
Begin
  INSERT INTO table2(name) 
     SELECT d.name 
     FROM Deleted d
End
"
8662,28454,Filter only users who belong to something in 3rd table,"SELECT * 
FROM users  
INNER JOIN cities  
    ON users.id = cities.user_id
INNER JOIN hobbies
    ON users.id = hobbies.USER_ID
WHERE Hobbies.Hobby = 'swimming'
"
18368,51399,ORA-00900: invalid SQL statement- when run a procedure in oracle 10g,"begin
  exam;
end;
"
21201,74215,How to adjust SQL LIKE function?,"Select * from WORKER where Name Like '%' + @name + '%'
"
34464,58499,SQL: return a list of the latest actions of users,"SELECT t.user_id, max(t.modified) as modified, t.status
FROM table t
JOIN
(   SELECT user_id
    FROM table
    WHERE action_id <> 1 and status = whatever 
)t1 ON t1.user_id = t.user_id
GROUP BY t.user_id
"
20591,15719,How to seperate Data from a row and count each Data using MYSQL,"SELECT q1.chr, COUNT(*), q2.cnt
FROM ( SELECT SUBSTR(C1, 1, 1) AS chr FROM tab
       UNION ALL
       SELECT SUBSTR(C1, 2, 1) AS chr FROM tab
       UNION ALL
       SELECT SUBSTR(C1, 3, 1) AS chr FROM tab
     ) AS q1,
     ( SELECT COUNT(C1) AS cnt FROM tab ) AS q2
WHERE q1.chr != ''
GROUP BY q1.chr
"
34998,30443,connecting to sybase DB in perl without DBI,"#!/usr/bin/perl

use strict;
use warnings;

my $result = qx { isql -Uxx -Pxxxxxxx -Dxxxx <<EOF
set nocount on
select count(*) from XXX
go
exit
EOF
};
print ""result is :"";
print $result;
print ""\nbye bye\n"";
"
19741,1994,mysql sql id < 75 not working?,"select * from posts where (user in (select following from following where user ='patrick') or user='patrick') and id < 75 order by id desc limit 5
"
20984,12416,How can I optimize this query?,"select
    t.*
from
    team t
    inner join schedule s on t.schedule_id = s.schedule_id
    inner join event e on s.event_id = e.event_id
    left outer join signup sp on t.team_id = sp.team_id
where
    e.event_id = 183
    and sp.team_id is null
"
32287,26474,Getting a count of two different sets of rows in a table and then dividing them,"select
    (select count(*) from tasks where completed = 1) /
    (select count(*) from tasks where completed = 0)
from dual
"
17368,40428,Historical inventory by day,"SELECT date, COUNT(*)
FROM inventory 
WHERE status != 'shipped'
GROUP BY date ORDER BY date;
"
11399,51532,Extend SQL query to other tables,"SELECT DISTINCT a.Code, a.Designation, a.Standard, a.Quantity FROM Table_621 AS a
WHERE NOT EXISTS (SELECT * FROM Components where Components.Code = a.Code)
UNION ALL
SELECT DISTINCT a.Code, a.Designation, a.Standard, a.Quantity FROM Table_333 AS a
WHERE NOT EXISTS (SELECT * FROM Components where Components.Code = a.Code)
UNION ALL
SELECT DISTINCT a.Code, a.Designation, a.Standard, a.Quantity FROM Table_853 AS a
WHERE NOT EXISTS (SELECT * FROM Components where Components.Code = a.Code)
"
32799,29865,Sql trying to change case letter and group similar nvarchar values,"Declare @Temp Table(Data nvarchar(100))

Insert Into @Temp Values(N'izla')
Insert Into @Temp Values(N'İZLA')
Insert Into @Temp Values(N'IZLA')
Insert Into @Temp Values(N'Izla')

Select  Data, 
    	Count(*) 
From    @Temp 
Group By Data

Select  Data Collate Latin1_General_CI_AI, 
    	Count(*) 
From    @Temp 
Group By Data Collate Latin1_General_CI_AI
"
29533,40309,Find rows that have a field which is a substring of the search string,"where value ilike 'foo%'
"
18672,10678,sql query to select from and to date,"select PERIOD_NAME
    from gl_periods
where :l_date_from <= end_date
    and :l_date_to >= start_date
"
39754,29436,How to insert into multiple table using single query?,"DELIMITER $$
CREATE TRIGGER second_table
BEFORE INSERT ON first_table
FOR EACH ROW
BEGIN
  IF (EXISTS(SELECT * FROM first_table WHERE sp = NEW.sp)) THEN
    INSERT INTO second_table (col1,col2,col3)   
    VALUES (NEW.col1, NEW.col2, NEW.col3);
  END IF;
END$$
DELIMITER ;
"
35722,6338,Exclude row based on condition,"SELECT * FROM _01769_jobs 
WHERE user_id != 163084 
  AND status = 'QC_COMPLETE'
  AND job_id NOT IN (
      SELECT job_id
      FROM blind_qc_get_worked_on_jobs_by_project_by_user(1769, 163084)
  )
"
31433,52957,SELECT IN THEN ORACLE,"SELECT RA1.RATE, RA1.EFFECTIVE_DATE
FROM RATES_ALL RA1
WHERE RA1.EFFECTIVE_DATE = add_months(&&EFF_DATE, -5)
   OR (RA1.EFFECTIVE_DATE = add_months(&&EFF_DATE, -5)-1
   AND NOT EXISTS(SELECT * FROM RATES_ALL RA2
                  WHERE RA2.EFFECTIVE_DATE = add_months(&&EFF_DATE, -5))
"
2826,29483,how to only insert records into table 2 when field in table 1 is empty,"INSERT INTO quick (date, num, name, account, amount) 
SELECT invdate,
case when accnt.accno < '7000' then code else invno end
, ven, accno, amnt 
FROM accnt
WHERE ISNULL(accnt.imported, '') = ''
"
15461,48725,SQL truncate length of a string,"select substring(name from 1 for 12) from your_table
"
5548,3894,SQL Select: subset of same table,"SELECT * FROM Students s
WHERE EXISTS (SELECT * FROM Enrollment
    WHERE studentId = s.StudentId AND ClassId = 'x')
AND EXISTS (SELECT * FROM Enrollment
    WHERE studentId = s.StudentId AND ClassId = 'y')
AND EXISTS (SELECT * FROM Enrollment
    WHERE studentId = s.StudentId AND ClassId = 'z')
AND NOT EXISTS (SELECT * FROM Enrollment
    WHERE studentId = s.StudentId AND ClassId IN ('a', 'b', 'c')
"
9091,74212,"Optimize table design for ""SQL Where Clause""","Formula
   int id
   String name

BasicFormula extends Formula
   String variable
   Operator operator  // something like <=, contains, ...
   String value

CompoundFormula extends Formula
   Formula leftFormula
   Operator operator  // and, or
   Formula rightFormula
"
15502,60387,sql join within join?,"SELECT
  files.Id, files.Name, links.Id, links.Name
FROM
  files, links
INNER JOIN
  folder_files
  ON files.Id = folder_files.File_Id
INNER JOIN
  links
  ON links.Id = folder_files.Folder_Id
WHERE
  files.Id = 10
ORDER BY
  folder_files.File_Id ASC, links.Id ASC
LIMIT 1;"
6178,70000,How to find all duplicates in a link table?,"delete from yourtable
where ID_Table1 not in 
(select MIN(ID_Table1) from yourtable group by ID_Table1LinkTable2, ID_Table1LinkTable2)
"
38626,74281,Hive insert query like SQL,"CREATE TABLE students (name VARCHAR(64), age INT, gpa DECIMAL(3, 2));

INSERT INTO TABLE students
  VALUES ('fred flintstone', 35, 1.28), ('barney rubble', 32, 2.32);
"
25969,37977,Query on Sql Joins,"SELECT
    L.LinkName, G.GroupName, 
    ISNULL(SG.SubGroupName, 'NotExist') AS SubGroupName
FROM
    Link L
....
"
19256,46729,SQL Server 2008 Update Query with Join and Where clause in joined table,"UPDATE UserSetting
SET isUnsubscribedFromSystemEmails = 1
WHERE userID in (SELECT userID from [User]
                WHERE emailAddress in (SELECT emailAddress FROM BadEmailAddresses))
"
34305,2414,SQL Query to select all sub folders,"SELECT *
FROM folderFolder ff 
INNER JOIN folderFolder ff_child
ON ff_child.parentFolderID = ff.childFolderID
INNER JOIN folder f
ON f.folderID = ff.childFolderID OR f.folderID = ff_child.childFolderID
WHERE ff.parentFolderID='112'
"
8544,14954,"SQL order by highest amount of ""kills divided by deaths""","select id from table order by kills/deaths desc limit 1;
"
28170,11263,Oracle EBS R12 related,"select t.LINE_NUMBER || '.' || t.shipment_number line_number 
from oe_order_lines_all t 
WHERE T.HEADER_ID = &header_id;
"
27944,66241,How to constraint no empty strings on an NVARCHAR column,"CREATE TABLE [dbo].[Foo](
    [bar] [nvarchar](50) NOT NULL
)

ALTER TABLE [dbo].[Foo] WITH CHECK 
ADD  CONSTRAINT [CK_Foo] CHECK  (([bar]<>N''))
"
15301,68476,Returning a recordcount from a subquery in a result set,"SELECT
    recordID,
    GroupIdentifier,
    COUNT() AS total,
    SUM(intActingAsBoolean = 1) AS Approved 
FROM table
WHERE date_format(Datevalue, '%Y%m%d') BETWEEN 'startDate' AND 'endDate'
GROUP BY groupIdentifier
"
17676,71016,SQL Query to select data from two tables with single column known,"SELECT
    *
FROM
    alumnidetails ad
INNER JOIN alumwork aw
    ON ad.username = aw.username
WHERE
    ad.firstname = ‘Pete’;
"
8199,59714,Using Case IF statements in queries,"  select COUNT(*) from Employee emp  
  where 
  (@@SERVERNAME = 'Server1' AND emp.LocationID in (1,2,3))
    OR 
  (@@SERVERNAME = 'Server2' AND emp.LocationID in (4,5,6))
    OR 
  (@@SERVERNAME = 'Server3' AND emp.LocationID in (7,8,9))
"
7342,61597,sql: reverse function of Char(),"mysql> SELECT CHAR(104), ASCII('h'), ORD('h');
+-----------+------------+----------+
| CHAR(104) | ASCII('h') | ORD('h') |
+-----------+------------+----------+
| h         |        104 |      104 |
+-----------+------------+----------+
"
13497,36557,Query to output unmatched column names,"SELECT T.*
FROM MyTable T
LEFT JOIN TblCountries C ON(T.Country = C.Country AND T.CountryCode = C.CountryCode)
WHERE C.CountryId IS NULL -- Assuming you have a column by that name that's not nullable.
"
25181,65025,"SQL pull values from ""last month"" when dates have already been declared","select * 
from orders
where to_char(OrderDate,'MM') = to_char(add_months(sysdate,-1),'MM')
"
5992,44015,Deny specific chars,"CREATE TABLE TestTable
(ID INT, FirstCol VARCHAR(100),
CONSTRAINT FirstCol CHECK (FirstCol NOT LIKE '%[^a-zA-Z\_-]%' ESCAPE '\'))
"
25126,781,What is the best way to handle multiple permission types?,"""[Flags]public enum Permission{    VIEWUSERS = 1, // 2^0 // 0000 0001    EDITUSERS = 2, // 2^1 // 0000 0010    VIEWPRODUCTS = 4, // 2^2 // 0000 0100    EDITPRODUCTS = 8, // 2^3 // 0000 1000    VIEWCLIENTS = 16, // 2^4 // 0001 0000    EDITCLIENTS = 32, // 2^5 // 0010 0000    DELETECLIENTS = 64, // 2^6 // 0100 0000}"""
37052,19341,how can I use loop 'for' through a table in SQL to check if a column is 0?,"INSERT INTO Table1 (ColList) 
     SELECT ColList 
       FROM SourceTable 
      WHERE Column1 = 0;

INSERT INTO Table2 (ColList) 
     SELECT ColList 
       FROM SourceTable 
      WHERE (Column1 <> 0 OR Column1 IS NULL);
"
17131,51481,Select related Elements Attributes as String,"select ti.id, ti.title, group_concat(t.title)
  from table_items ti
 inner join tag_to_items tti on (ti.id = tti.itemid)
 inner join tags t on (t.id = tti.tagid)
 group by ti.id, ti.title
"
12507,65976,"Update multiple rows with different, optional values for different colums","UPDATE person
SET name = CASE id
    WHEN 1 THEN 'Jim'
    WHEN 3 THEN 'Precious'
    ELSE name
END,
sex = CASE id
    WHEN 1 THEN 'female'
    WHEN 2 THEN 'male'
    ELSE sex
END
WHERE id IN (1,2,3)
"
7624,5380,SQL Server pivot does not group,"WITH CTE
     AS (SELECT [DepartmentName],
                [Gender],
                [BaseRate]
         FROM   [AdventureWorks].[dbo].[DimEmployee])
SELECT [DepartmentName],
       [M],
       [F]
FROM   CTE PIVOT (Avg(BaseRate) FOR [Gender] IN ([M], [F])) AS P 
"
19318,26806,date time range,"NOT (
       `date` < 20120102
    OR `date` > 20120204
    OR ( `date` = 20120102 AND `time` < 1000 )
    OR ( `date` = 20120204 AND `time` >  930 )
)
"
301,23505,Adding date difference of two dates in Sql for all columns,"SELECT SUM(DATEDIFF(minute, R.ArrivalDate, R.DepartureDate)) / 60 as TotalHours
     , SUM(DATEDIFF(minute, R.ArrivalDate, R.DepartureDate)) % 60 as TotalMinutes
 FROM TableWithDates R 
"
7161,65032,Get column name as parameter in ssrs,"Select *
From table
Where (@Column = 'name' and name is null) or
      (@Column = 'surname' and surname is null) or
      (@Column = 'name and surname' and surname is null and name is null)
"
11415,48079,return top N rows and have remaining rows rolled up into a single row - oracle sql,"WITH q AS
(
SELECT table1.NAME AS label, COUNT(table1.id) AS count_id, 
      ROW_NUMBER() OVER (ORDER BY COUNT(table1.id) DESC) AS rn  
  FROM table1 
 WHERE table1.name LIKE 'D%'
 GROUP BY table1.name
)
SELECT label, count_id FROM q WHERE rn <= 9
UNION ALL
SELECT 'Other' AS label, SUM(count_id) AS count_id 
  FROM q
 WHERE rn > 9 
 GROUP BY 'Other';
"
38432,51823,Double group by,"SELECT
  NAME,
  SUM(CASE WHEN GRADE = 1 THEN 1 ELSE 0 END) AS GRADE1,
  SUM(CASE WHEN GRADE = 2 THEN 1 ELSE 0 END) AS GRADE2,
  SUM(CASE WHEN GRADE = 3 THEN 1 ELSE 0 END) AS GRADE3
FROM Rodzaj
GROUP BY NAME
"
19536,28106,Get count by multiple condition,"select city,
       sum(case when active = 'true' then 1 else 0 end) active,
       sum(case when blacklist = 'true' then 1 else 0 end) blacklist,
       sum(case when license = 'true' then 1 else 0 end) license,
       sum(case when married = 'true' then 1 else 0 end) married
from TableName
group by city
"
20985,29171,Find the most popular vehicle for a hire,"SELECT Count(serial_number) most_popular,
       serial_number
FROM   tablename
GROUP  BY serial_number
HAVING Count(serial_number) = (SELECT Count(serial_number) ss
                               FROM   from tablename
                               GROUP  BY serial_number
                               ORDER  BY ss DESC LIMIT 1) 
"
8847,64584,Postgresql - caculate database size,"1,000 * 10,000 * 1,000,000 = 10,000,000,000,000 = 10 TB
"
21055,73283,SQL Server 2005 Table-valued Function weird performance,"CREATE INDEX IX_call_company_date ON call (company_id, date)
"
30442,1512,Can I selectively update rows based on existence of duplicate rows?,"UPDATE mytable t1
LEFT JOIN mytable t2 ON t1.type = t2.type AND t2.name = 'barney'
SET t1.name = CASE 
              WHEN t2.name IS NULL THEN 'barney'
              ELSE t1.name
           END,
    t1.status = CASE 
                WHEN t2.name IS NULL THEN t2.status
                ELSE 'DEL'
             END
WHERE t1.name = 'fred';
"
1144,34181,How to multiply a row?,"select item 
from data,generate_series(0,1000) 
where generate_series<qty order by item; 
"
3728,67343,I need a sql query to group by name but return other fields based on the most recent entry,"SELECT a.callerFName, a.callerLName, a.callerDOB, a.createdOn, a.phoneNoteId
FROM phoneCallNotes as a
LEFT JOIN phoneCallNotes as b
ON b.callerFName = a.callerFName
AND b.callerLName = a.callerLName
AND b.callerDOB = a.callerDOB
AND b.createdOn > a.createdOn
WHERE a.callerLName LIKE 'Public'
AND b.phoneNoteId IS NULL
"
32328,32311,How to determine if a variable has a special character using dual table on sql?,"SELECT REGEXP_INSTR('Test!ing','[^[:alnum:]]') FROM dual;
"
29373,29,"Using CTE , i need to filter out the data",";
WITH myTable([Date], [Name]) 
AS (
    SELECT *
    FROM source_name
    WHERE [Date] BETWEEN DATEADD(day, (@no_of_days*-1), @date) AND DATEADD(day, @no_of_days, @date)
    AND [Date] != @Date

)
.... do something here.
"
13160,73402,How do you implement parameter aliases in an SQL databroker operation?,"<workflow>
  <if test=""not-equal"" value1=""{$parameters.claims_id}"" value2="""">
    <then>
      <set-field field=""parameters.claim_id"" value=""{$parameters.claims_id}""/>
    </then>
  </if>
</workflow>
"
12374,15667,subtract a datetime from a timestamp with mysql,"select timestampdiff(SECOND, t1.col1, t2.col2);
"
24682,67309,a Cypher with neo4j,"START a=node({self}) MATCH a<-[:FOLLOW]-(b) RETURN b
"
8335,26881,Retrieve a list of child entities for parent classes that match variables,"select c.SerialNumber, b.ReadDate, d.RegisterTypeCode, e.IntervalStatusCode, d.UOM_Code,   e.IntervalPeriodTimestamp, e.IntervalValue
from MarketMessage as a LEFT JOIN MessageType341 as b ON a.PK = b.FK
LEFT JOIN  Meter as c ON b.PK = c.FK
LEFT JOIN  ChannelInformation as d ON c.PK = d.FK
LEFT JOIN  IntervalInformation as e ON d.PK = e.FK
where b.CustomerNo = '12348750528'
and b.ReadDate BETWEEN '01 nov 2014' AND and b.ReadDate <= '30 nov 2014'
order by b.ReadDate
"
28958,66360,Create a new table from a select command," CREATE TABLE foo
 SELECT bar FROM xyz;
"
4017,56320,How to pipe visually selected text to a UNIX command and append output to current buffer in Vim,":com -range C <line1>,<line2>yank | $ | put | .,$ !rev
"
25326,14318,Oracle :: Calling Packaged Stored Procedures,"HR.HRPKG.ADD_JOB_HISTORY
"
2499,71800,WordPress Database Query,"SELECT u.user_email, m.meta_value FROM wp_users u 
INNER JOIN wp_usermeta m ON m.user_id = u.ID && 
           m.meta_key = 'agent_name' && 
           m.meta_value IS NOT NULL
"
35102,46223,In SQL is it possible to have a Variable which represent database table which can be used in a stored procedure?,"DECLARE @Location …
DECLARE @SQL varchar(max)
If (@InputVariable = 1)
BEGIN 
        @Location  =  '[DatabaseA].dbo.MyTable'
    END
ELSE
    BEGIN
        @Location  =  '[DatabaseB].dbo.MyTable'
    END

BEGIN
    SET @SQL = 
    'UPDATE '+@Location+
    ' WHERE
    … '
END
EXECUTE (@SQL)
"
29481,62650,Why is my SQL statement displaying the function name?,"select UPPER(last_name) as Last_Name_In_UpperCase
from employees 
where credit_limit > 25;
"
37202,47057,orderby in sql query,"select
  foo,
  bar
from
  bortz
order by
  case foo 
    when 'E' then 1
    when 'C' then 2 
    when 'T' then 3 
    else 4 
  end
"
34750,39786,Match All Records,"select u.*
from dbo.Users u
join dbo.Form f on u.? = f.formId
join dbo.FormEmployment fe on fe.formId = f.formId
join dbo.Grade g on g.gradeId =  fe.gradeId
join dbo.ShiftGrade shg on shg.gradeId =g.gradeId
join dbo.Shift sh on sh.shiftId = shg.shiftId
where
    sh.shiftId = -- recently added shift id
and g.gradeId == -- recently added grade id
"
21251,19096,Select certain column only if condition met,"CREATE TABLE #table (Column1 varchar(10), Column2 varchar(10))
INSERT INTO #table
VALUES
('column1', 'column2')

DECLARE @Check bit; SET @Check = 0

IF @Check = 1 
(SELECT Column1, Column2
FROM #table)

ELSE

(SELECT Column1
FROM #table)
"
448,8392,How can I create a loop on an UPDATE statement that works until there is no row left to update?,"while 1 = 1
BEGIN
    UPDATE top (1000) tableToUpdate
    SET IsVegetable = 1
    WHERE 
        Date = '2011-07-23 14:00'
    AND IsNull(IsVegetable, 0) = 0

    if @@ROWCOUNT < 1000 BREAK
END
"
14933,47215,MYSQL IN statement with column values from another table,"SELECT name FROM table2 WHERE name IN(SELECT name FROM table1 WHERE...)
"
10786,28611,T-SQL AND logic,"WHERE (A <> 1 OR B <> 1  OR C <> 1)
"
32048,14465,How to select distinct on one column while returning other columns,"SELECT DISTINCT ON (1)
       (date / 5000) * 5000 AS truncated, price
FROM   data
WHERE  date >= [some_time_in_the_past]
ORDER  BY 1;
"
17144,71830,"Using a connection string where the password contains a ""@"" sign?","new Mongo(""mongodb://host/db"", array(""username"" => $username, ""password"" => $password));
"
20314,12274,Is it possible to set up a sql view so that any joins are only performed when required?,"CREATE UNIQUE INDEX ix
  ON Person.EmailAddress(BusinessEntityID) 
"
34191,3095,check two constrains in subquery,"select * 
from FirstTable
inner join SecondTable
on SecondTable.District = FirstTable.District And
(SecondTable.Age - FirstTable.Age) between -1 and 1
where FirstTable.Name = 'AAA';
"
23817,4123,SQL Update Multiple Rows with Multiple Values,"UPDATE [MyTable]
SET HelpLink = CASE ID
        WHEN 2 THEN 'MKSDefectsChart.png'
        WHEN 6 THEN 'EPMRisks.png'
        WHEN 7 THEN 'DCTSHardwareChanges.png'
        ELSE NULL
    END
WHERE ID IN (2, 6, 7)
"
17774,28716,Progress DB: Set Where Value based on current date,"WHERE
    (CURDATE() BETWEEN 1/1/2013 AND 3/1/2013 AND Staff.""Code"" IN (1,2,3)) OR
    (CURDATE() BETWEEN 3/1/2013 AND 5/1/2013 AND Staff.""Code"" IN (2,3,4))
"
2317,58164,IOS DBAccess migration to new table structure,"+ (id)defaultValueForProperty:(NSString*)propertyName;
"
25610,16970,Selecting max values of a column using the max value of another column,"select season, episode, group_concat(channel)
from status 
where tvseriesid = 1
group by season, episode
order by season desc, episode desc
limit 1;
"
7418,2452,oracle sql query statement NVL not working as desired,"SELECT NVL2( m.first_name ||m.last_name , m.first_name || ' ' || m.last_name, 'No One' )
   || ' supervises '
   || w.first_name
   || ' '
   || w.last_name FROM employees w, employees m WHERE w.manager_id = m.employee_id(+);
"
3449,17996,Sort result when using ROW_NUMBER(),"SELECT dateadd(month, ISNULL(t.float_column,0), t.date_column1) as newDate
    , *
FROM
(
    SELECT 
        a.guid_column1, b.guidID_column1, c.date_column1, d.guid_column1, a.float_column
        ROW_NUMBER() OVER (PARTITION BY a.guid_column1, b.guid_column1 ORDER BY c.date_column1 DESC) as rn 
    ...
    -- JOINS AND WHERE STUFF HERE
    ....
) t
WHERE t.rn = 1

ORDER BY newDate ASC
"
12422,18611,How to write SQL statement in this case?,"UPDATE  tableName a
        INNER JOIN
        (
            SELECT id, MAX(percentage) AS maxPercentage
            FROM tableName
            GROUP BY id
        ) b ON a.ID = b.ID
SET a.percentage = b.maxPercentage;
"
16346,2474,Left Join; Only if there is at least one matching record,"IF EXISTS(SELECT * FROM Table1 T1 INNER JOIN Table3 T3 ON T1.ID=T3.ID)
    SELECT *
    FROM Table1 AS t1
    INNER JOIN Table2 AS t2 ON t1.ID = t2.ID
    LEFT JOIN Table3 AS t3 ON t1.ID = t3.ID
    LEFT JOIN Table4 AS t4 ON t3.ID = t4.ID
ELSE  
    SELECT *
    FROM Table1 AS t1
    INNER JOIN Table2 AS t2 ON t1.ID = t2.ID
"
3916,8619,SQL command to concatenate several rows into one cell?,"SELECT foo, GROUP_CONCAT(DISTINCT bar ORDER BY bar) AS bars
FROM foo_table
LEFT JOIN bar_table ON bar_table.foo_id = foo_table.foo_id
"
21502,1547,"Query to search for maximum value in a row, rather than within a column - SQL/MySQL","SELECT GREATEST(col1, col2, col3, col4, col5, col6, col7, col8) AS max_date
  FROM YOUR_TABLE
"
27491,12303,SQL Server Query to get latest items,"WITH fruitStatus
AS
(
    SELECT fruit, quality, [timestamp],
            ROW_NUMBER() OVER (Partition BY Fruit ORDER BY [TimeStamp] DESC) rn
    FROM    tableName
)
SELECT fruit, quality
FROM fruitStatus
WHERE rn = 1
"
14424,24907,SQL Delete Statement matching criteria,"AND (state != 'PENDING' OR state IS NULL)
"
26908,59344,How to set up an extra constraint for 1-to-many relationship without using triggers,"CREATE UNIQUE NONCLUSTERED INDEX [IX_DefaultRecord] ON [dbo].[FooXRef]
(
    [BarID] ASC,
    [DefaultRecord] ASC
)
WHERE ([DefaultRecord]=(1))
"
28272,65968,SQL - Group By ID and transform Rows to Columns,"SELECT  ID, 
        MIN(CASE WHEN Cat = 'Small' THEN 'Small' END) Small,
        MIN(CASE WHEN Cat = 'Medium' THEN 'Medium' END) Medium,
        MIN(CASE WHEN Cat = 'Large' THEN 'Large' END) Large
FROM YourTable
GROUP BY ID
"
28241,25038,How to get count values for multiple values in one column,"SELECT [Name], 
       SUM ( CASE WHEN [Values]='VAL1' THEN 1 ELSE 0 END ) AS Val1Count,
       SUM ( CASE WHEN [Values]='VAL2' THEN 1 ELSE 0 END ) AS Val2Count
  FROM [table1]
GROUP BY [Name]
"
3088,38710,TSQL Subquery for Column Names?,"DECLARE @cols VARCHAR(MAX) = (SELECT TOP 1 KeyOne+','+KeyTwo FROM TableA)
       ,@sql VARCHAR(MAX) 
SET @sql = 'SELECT '+@cols+' FROM TableB'
EXEC (@sql)
"
4636,36230,PL/SQL: How to detect which browser is being used?,"owa_util.get_cgi_env('HTTP_USER_AGENT')
"
17706,18371,Query to Select Data from 3 Tables when one table doent have a FOREIGN KEY to one table,"SELECT t2.TYPE [TYPE], t3.Status [STATUS], t4.COMPANY, T5.STATE 

FROM ASSETINFO t1 

INNER Join TYPEINFO t2 on t1.TYPEID = t2.TYPEID
INNER Join STATUSINFO t3 on t1.STATUSID = t3.STATUSID
INNER Join VENDORINFO t4 on t1.VENDORID = t4.VENDORID 
INNER Join stateINFO t5 on t4.State = t5.StateId
"
4267,479,"How to get values from tables A and C, joined by table B with default values from C when C has no key from A","select
coalesce(c.State, 'default value')
from
a
left join b on a.id = b.A_id
left join c on b.B_id = c.B_id
"
24238,6874,How to display similar data from sqlite in listView?,"SELECT personName, age FROM table WHERE country = 'U.S.'
"
25153,50944,oracle query to fetch the last 4 records from the table,"select * from ( select * from tableName order by id desc ) where ROWNUM <= 4;
"
1707,21494,Simpler way to get a diff of 2 mySQL tables?,"SELECT DISTINCT a, b, c FROM first 
WHERE (a, b, c) NOT IN
(SELECT a, b, c FROM second)
"
34955,47962,Call stored procedure fail due to Incorrect syntax,"select  dbo.GetHighestDrop( ((clmnA/clmnB)-1)*100, 2, 3) as Col1
from    dbo.tstTable
"
31548,18537,How do i convert columns into rows for each status,"  SELECT Name, 'Joined' AS [ACTION], JOIN_DT AS ACTION_DATE
  FROM SomeTable
UNION ALL
  SELECT Name, 'Started' START_DTTM
  FROM SomeTable
UNION ALL
  SELECT Name, 'ended', END_DT
  FROM SomeTable
"
12317,11787,SQL query with OR condition on 2 joined tables,"SELECT p.*
FROM  (
   SELECT project_id
   FROM   write_permissions
   WHERE  user_id = 1
   UNION
   SELECT project_id
   FROM   read_permissions 
   WHERE  user_id = 1
   ) sub
JOIN projects p USING (project_id);
"
740,24696,Reporting Stored Procedure - How to avoid duplication?,"SELECT Sum(Case When AcknowledgmentStatus <> 'Complete' Then 1 ELSE 0 END) as NonAckd
      ,Sum(Case When InvoiceStatus <> 'Complete'        Then 1 ELSE 0 END) as NonInvoiced 
  FROM PurchaseOrder 
 WHERE CustomerID = IsNull(NullIf(@CustID, 0), CustomerID) 
"
9106,57294,how can I get the fraction of the decimal in sql,"decimal total = /* get value from database */;
decimal fraction = decimal.Remainder(total, 1m);
"
14349,37222,Cross join behaviour (SQLServer 2008),"select sched.id, max(txn.dttm), acc.id
from PaymentSchedulePeriod sched 
,(PaymentSchedulePayment pay
right outer join AccountTransaction txn on pay.accountTransactionFk=txn.id 
right outer join Account acc on txn.accountFk=acc.id)
where sched.accountFk=acc.id 
group by sched.id, acc.id
"
19016,69126,"Remove "" "" from values","UPDATE TableName
SET ColName = REPLACE(ColName, '""', '');
WHERE ColName SIMILAR TO '%""%'
"
21077,10537,Linq to SQL Filter Matches,"var query = (from solvedPuzzle in db.SolvedPuzzles
              where solvedPuzzle.UserID == user.ID
              order by NumberOfMoves ascending
              group solvedPuzzle by solvedPuzzle.PuzzleID into filtered
              select filtered.First());
"
2997,25951,Can I get both MAX and COUNT from a subquery?,"select a.*,
       sum(case when b.release_date > a.death then 1 else 0 end) as post_mortem_books,
       max(case when b.release_date > a.death then release_date end) as last_post_mortem_book
from author a left outer join
     books b
     on a.author_id = b.author_id
group by a.author_id
"
33578,412,Is it possible to do this in SQL (summing rows over different criteria per user),"SELECT
    sp.user_id, SUM(dw.weight)
FROM
    summing_period sp,
    diet_watch dw
WHERE
    dw.user_id = sp.user_id AND
    dw.entry_date >= sp.start_date AND
    dw.entry_date <= sp.end_date
GROUP BY
    sp.user_id
"
23598,65383,MySql 5.5.40 stored procedure @@Identity,"UPDATE otheTableName SET address = ""Route 666"" WHERE id = 37;
"
21641,74895,MySQL problem: Merging multiple results/rows caused by n-m,"  SELECT p.post_id,
         p.post_title,
         GROUP_CONCAT(t.tag_name ORDER BY t.tag_name SEPARATOR ', ')
    FROM POSTS p
    JOIN TAGMAP tm ON tm.post_id = p.post_id
    JOIN TAGS t ON t.tag_id = tm.tag_id
GROUP BY p.post_id, p.post_title
"
32763,48000,Laravel. seeding large sql file,"exec(""mysql -u "".\Config::get('database.mysql.user')."" -p"".\Config::get('database.mysql.password')."" "".\Config::get('database.mysql.database')."" < script.sql"")
"
25762,52008,MySQL join 4 tables,"select o.callId , o.timestamp , o.duration ,o.callNote ,
o.state,o.contactId,
  j.firstName , j.lastName ,j.company Id as company,
  j.email, j.contactNote,

r.number

from calls o 
left outer join contacts j 
  on o.contactId =j.contactId  
left outer join numbers r 
  on j.contactId=r.contactId;
"
15610,40466,Delete duplicate sql entries based on distinct Primary Key,"WITH t AS (SELECT ROW_NUMBER() OVER(PARTITION BY ID ORDER BY PK) n FROM MyTable)
DELETE FROM t WHERE n > 1
"
14188,17936,How to optimize django query filter?,"from django.db import Q    
search_content = kwargs.get('search_content', '')
myfilter = Q()

for term in search_content.split('+'):
    myfilter |= Q(content__icontains=term)

result = BlogPage.objects.filter(myfilter).select_related('ImageMedia')
"
14564,7939,Particular Id at First,"SELECT carId ,carName,carPrice
FROM Car 
ORDER BY CASE WHEN carId = @th5thid THEN 0 ELSE 1 END, Carid
"
26584,59929,SQL Grouping and counting together,"SELECT ""date"", ""status"",
  SUM(CASE WHEN ""type""='typeA' THEN ""count"" ELSE 0 END) typeA_count,
  SUM(CASE WHEN ""type""='typeB' THEN ""count"" ELSE 0 END) typeB_count,
  SUM(CASE WHEN ""type""='typeC' THEN ""count"" ELSE 0 END) typeC_count,
  SUM(CASE WHEN ""type""='typeD' THEN ""count"" ELSE 0 END) typeD_count
FROM mytable
GROUP BY ""date"", ""status""
ORDER BY ""date"", ""status""
"
22043,21079,SQL Multiple IF Statments (AR Roll Up),"SELECT
  CASE WHEN (Period = 9) THEN
     9
  WHEN (Age >= 94) THEN
     5
  WHEN (Age >= 63) THEN
     4
  WHEN (Age >= 32) THEN
     3
  WHEN (Age >= 1) THEN
     2
  WHEN (Age >= -30) THEN
     1
  ELSE
     0
  END AS CalcPeriod
FROM SomeTableWithFieldsPeriodAndAge
"
21685,23314,How to migrate from a String property to a Link in OrientDB?,"update Book set author2 = (select from Author where name = $parent.current.author )
update Book set author = author2
update Book remove author2
"
24330,59178,SQL Server 2000 - Update rows and return updated rows,"BEGIN TRANSACTION

SELECT * FROM TABLE WITH (ROWLOCK, READPAST, UPDLOCK) WHERE Locked = 0

UPDATE TABLE
SET Locked = 1
WHERE Locked = 0

COMMIT TRANSACTION
"
24948,74666,Codeigniter - Format date in WHERE clause,"$this->db->where(""DATE_FORMAT(from_unixtime(channel_titles.entry_date), '%Y-%m-%d')"", $yesterday, false);
"
35452,14914,Extracting a part of String in SQL Server,"declare @str varchar(100)

set @str='xxxxx(aaa)'

---- extracts xxxxx
select SUBSTRING(@str,0,CHARINDEX('(',@str)) 

---- extracts aaa
select SUBSTRING(@str,CHARINDEX('(',@str)+1,CHARINDEX(')',@str)-CHARINDEX('(',@str)-1)
"
20928,41126,Getting table rows where multiple foreign table criteria need to be satisfied,"SELECT u.UserName 
FROM Users u 
     INNER JOIN Options o 
        ON o.User_ID = u.ID
WHERE o.Flag in (1, 2)
GROUP BY u.UserName 
HAVING COUNT(o.Flag) = 2
"
37039,13460,SQL Server 2008 - Pivot Table ISNULL = 0 Not working,"SELECT OpptName, OpptName, ISNULL([1], 0) AS '1', ISNULL([2], 0) AS '2'  ... etc
"
10233,52790,Command to insert into with select,"UPDATE Student SET age = 28 WHERE name = ""Jhon"";
"
18853,72885,Update values from multiple columns into one using CONCAT display null value,"update contacts set combination = CONCAT_WS (',', Address, Address2, Address3);
"
29603,31729,SQL SELECT --> csv file,"SELECT 'LastName', 'FirstName', 'Username', 'IsActive', 'Graduation'
UNION ALL
SELECT a.last_name, a.first_name, username, is_active, graduation
INTO OUTFILE 'yourFile.csv'
FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '""'
FROM auth_user a
INNER JOIN  userprofile_userprofile u
ON a.id = u.user_id
WHERE a.id>39 AND a.is_active=1
ORDER BY last_name
"
20240,20706,SQL concat a Column based on duplicate rows,"Select 
table1.id,
Table1.name, 
group_concat(Table2.tags) 
FROM Table1 
inner join Table2
on Table1.id = Table2.table1_id
group by table1.id, table1.name;
"
5367,41522,MySQL: how to convert to EAV?,"select id as fk_id, 'first_name' as attribute, first_name as value
from one
union all
select id as fk_id, 'last_name', last_name
from one
order by fk_id, attribute
"
25792,43697,Why wont coalesce or is null work on results from a left join?,"SELECT  a.itemName,
  COALESCE((SELECT itemImageName 
    FROM amgb b
    WHERE a.userId = b.userId AND a.itemId = b.itemId
    LIMIT 1
  ), 'default.jpg') AS itemImageName
FROM amga a 
WHERE a.userId = 1 AND a.itemId = 'US1';
"
3537,67063,Get the Top records from each group in MYSQL,"select el.*
from event_log el
where 2 >= (select count(*)
            from event_log el2
            where el2.customer_id = el.customer_id and
                  el2.event_time >= el.event_time
           );
"
18468,6001,How to Ensure Efficiency on Nested Select Query?,"select sum(case when sold_date > DATE_SUB(NOW(), INTERVAL 1 DAY) then price else 0 end) as ""day"",
       sum(case when sold_date > DATE_SUB(NOW(), INTERVAL 1 WEEK) then price else 0 end) as ""week"",
       sum(case when sold_date > DATE_SUB(NOW(), INTERVAL 1 MONTH) then price else 0 end) as ""month""
from sales
where sold_date > DATE_SUB(NOW(), INTERVAL 1 MONTH);
"
38475,17202,Query to find man of the tournament,"select player from (select player , sum(runs) from test group by player,runs order by sum(sal) desc) where rownum=1;
"
428,65933,Creating a vew for summary,"select  sum(case when priority = 1 and state = 1 then 1 end) 
            as OpenQuestionHighPriority
,       sum(case when priority = 1 and state = 2 then 1 end) 
            as ClosedQuestionHighPriority
....
from    dbo.question
"
27079,70752,Grouping similar values into new select statement,"SELECT Supplier_Name, 
  MAX(CASE WHEN STATUS = 'Unavailable' THEN Count ELSE 0 END) as Unavailable,
  MAX(CASE WHEN STATUS = 'Refunded' THEN Count ELSE 0 END) as refunded,
  MAX(CASE WHEN STATUS = 'Shipped' THEN Count ELSE 0 END) as shipped
FROM YourTable
GROUP BY Supplier_Name
"
17345,14116,Is it safe to use MS SQL's WITH (NOLOCK) option for select statements and insert statements if,"SELECT
     my_id,
     my_date
FROM
     My_Table
WHERE
     my_date >= '2008-01-01'
"
5887,10656,SQL Server 2008 - MAX() - function produces invalid/unexpected output,"SELECT FunctionNbr,FunctionDesc, MAX(CAST(date_altered AS DATETIME)
FROM Persontable
WHERE FunctionNbr IN ('00000001','00000002','00000003')
AND LEN(RTRIM(FunctionDesc)) > 0 
GROUP BY FunctionNbr,FunctionDesc
"
36951,37026,Postgresql - update column even if value is too long,"update res_partner_address rpa
  set name = left(rp.name,64)
from res_partner rp
where rpa.partner_id = rp.id
and rpa.name is NULL
"
24543,68440,Split a txt file into two files to insert in a DB,"for /f ""tokens=1,2,3 delims= "" %%i in (input.txt) do (
    echo %%i >> long.txt
    echo %%j >> lat.txt
)
"
4439,39883,SQL Query filtering advice,"SELECT * FROM `form_data`
WHERE `clientid` IN (
  SELECT DISTINCT `clientid` FROM `form_data`
  WHERE `data` RLIKE '[[:<:]]motor oil[[:>:]]'
);
"
4645,63257,Join 2 tables and Count the number of occurrence specific field in SQL,"SELECT C.[COUNTRY_ID], C.[COUNTRY], COUNT(S.[STUDENT_ID]) AS StudentCount
FROM [T_COMMON_COUNTRY] C
LEFT JOIN [T_HEI_STUDENTDATA] S ON C.[COUNTRY] = S.[STDCOUNTRY]
GROUP BY C.[COUNTRY_ID], C.[COUNTRY];
"
14342,51035,How to copy rows with SQL and get new and old IDs as result?,"DECLARE @t TABLE (oID int, nID int);

MERGE T s
USING (
        SELECT TID, name, address
        FROM T [s]
      ) d on 0 = 1
WHEN NOT MATCHED
THEN INSERT (name, address)
    VALUES (name, address)
OUTPUT d.TID as oID, Inserted.TID as nID
INTO @t;
"
37299,52923,Convert Decimal values(hours) to Appropriate Hours in sql server 2008,"select 
time_decimal
,cast(cast(cast(time_decimal as int) as varchar)+
':'+cast(cast((time_decimal - cast(time_decimal as int)) * 60 as int) as varchar)+
':'+cast(cast(((time_decimal - cast(time_decimal as int)) * 60-
    cast((time_decimal - cast(time_decimal as int)) * 60 as int)) * 60 as int) as varchar) as time) as real_time
from time1
"
37621,22087,Mimic STRING_SPLIT without custom function in SQL Server 2008,"DECLARE @Result Table(Value varchar(50))
DECLARE @x XML
SELECT @X = CAST('<A>' + REPLACE(@StringList, '|', '</A><A>') + '</A>' AS XML)

INSERT INTO @Result
SELECT t.value('.', 'varchar(50)') as inVal
FROM @X.nodes('/A') AS x(t)
"
30842,72381,How to include missing rows in sql return,"SELECT NAME, SUM(VALUE), TIME.MONTH
FROM (SELECT DISTINCT MONTH FROM TIME_TABLE 
      WHERE MONTH BETWEEN 12 MONTHS AGO AND NOW) TIME
     LEFT OUTER JOIN TABLE ON (TIME.MONTH = TABLE.MONTH)
GROUP BY TIME.MONTH, NAME
"
4318,9986,Return New DateTime From SQL Server SELECT DateTime,"Select CAST( CONVERT(VARCHAR(10), GETDATE(), 120) + ' ' +
          CONVERT(VARCHAR(8), TargetDate, 108) AS DATETIME) AS [SomeCalculatedField]
from TableName
"
38907,58838,sqlite join statement,"SELECT listings.id, listings.name, media.image_url 
    FROM listing LEFT JOIN media ON media.listing_id = listings.id
"
37532,28767,How to delete duplicate rows from an Oracle Database?,"DELETE FROM your_table_name a
 WHERE EXISTS( SELECT 1
                 FROM your_table_name b
                WHERE a.fid = b.fid
                  AND a.unique_id < b.unique_id )
"
23974,30495,MySQL Workbench 6.1 - Table Editor utf8 characters not being displayed correctly,"$mysqli = new mysqli($host, $username, $password, $db);
$mysqli->set_charset(""utf8"");
"
34324,59085,troubles with inner join,"select m.title, g.genre, a.name, a.surname 
from Manga m
inner join Author a on m.idauthor=a.idauthor
inner join Genre  g on m.idgenre=g.idgenre
"
39923,4056,SQL query to group by data but with order by clause,"SELECT
    guest_no,
    hotel_no,
    room_no,
    COUNT(1) AS BookingCount
FROM
    booking
GROUP BY
    guest_no,
    hotel_no,
    room_no
ORDER BY
    MAX(date_to) DESC;
"
13600,288,Combine more than two sql queries,"SELECT  COUNT(CASE WHEN DATEPART(wk, time) = DATEPART(wk, getdate()) THEN SALES ELSE NULL END) weeksales,
        COUNT(CASE WHEN MONTH(time) = MONTH(getdate()) THEN SALES ELSE NULL END) monthsales,
        COUNT(CASE WHEN YEAR(time) = YEAR(getdate()) THEN SALES ELSE NULL END) yearsales 
FROM    salesdairy
WHERE   propertytype in ('item1')
"
5051,36731,MySQL to group a column's values to a single cell value,"select column1, column2, column3, column4, column5, group_concat(column6) as column6
from query q
group by column1, column2, column3, column4, column5;
"
39780,550,how to create unique constraints in sql server?,"ALTER TABLE dbo.YourTable
ADD CONSTRAINT UC_ID_BriefID UNIQUE(ID, BriefID, Name)
"
30461,47947,Mostly numeric range,"SELECT fileNumber
FROM File_Transfer
WHERE TO_NUMBER(REGEXP_SUBSTR(filenumber, '^(\d+)(\D*)$', 1, 1, 'x', 1)) >= 57
AND TO_NUMBER(REGEXP_SUBSTR(filenumber, '^(\d+)(\D*)$', 1, 1, 'x', 1)) < 60
"
12901,71495,Prevent mysql casting string to int in where clause,"SELECT delivery_name 
FROM orders 
WHERE CONCAT('a',orders_id) = CONCAT('a','985225a')
"
11390,22073,Left Join table only if another join passes some criteria,"SELECT
  A.* 
FROM
  TableA A
LEFT JOIN
  (
    TableB B 
  INNER JOIN
    TableC C
      ON  B.CID = C.CID 
      AND C.PassesTest
  )
    ON B.BID = A.BID
"
32474,44264,Get number of employees who worked in more than one department with SQL query,"SELECT COUNT(*)
FROM
(
SELECT id_employee, COUNT(*) AS CNT
FROM Department_Employee
GROUP BY id_employee
) AS T
WHERE CNT > 1
"
8111,40355,Hourly average except when hour has only one value,"select 
    dateadd(hour, datediff(hour, 0, CounterDateTime), 0), 
    avg(CounterValue) 
from mopsxactthroughput 
group by 
    dateadd(hour, datediff(hour, 0, CounterDateTime), 0)
having count(*) > 1
"
13144,34743,How to select all joined rows from 2 tables including null,"SELECT
  registrations.registration_no,
  vaccination_type.vaccine_id,
  vaccination_type.name,
  vaccination.date
FROM
  registrations
  CROSS JOIN vaccination_type
  LEFT JOIN vaccination ON registrations.registration_no = vaccination.registration_no AND vaccination_type.vaccine_id = vaccination.vaccine_id
WHERE
  registrations.registration_no = 1111
"
23282,67737,Simple SQL for matching MONTH,"WHERE MONTH(app_date) = 7 AND YEAR(app_date) = YEAR(NOW()) 
"
10771,49515,SQL ORDER BY Statement logic issue,"ORDER BY CASE NAME 
  WHEN 'English' THEN 0 
  WHEN 'Mathematics' THEN 1 
        ELSE 2 END, 
  NAME,
  Stuyear DESC
"
6671,1094,"Getting around not being able to nest aggregators, sql server","select top(1) with ties InstructorNo, COUNT(InstCourses.CourseNo) as NoTeachableCourses
from
...
group by InstructorNo
order by NoTeachableCourses desc;
"
37277,10946,how to compare SQL dates with null,"SELECT R.Country_CD, COUNT(*) AS d_null
FROM Reimbursement R
WHERE R.Country_CD = @Country_CD AND R.Effective_End_DT IS NULL
"
29768,51526,Write contents into UTL_FILE immediately after a single iteration,"OPEN my_cursor;
   LOOP
      FETCH my_cursor INTO my_details;
      EXIT WHEN sll_cur%NOTFOUND;
      -- Do processing
      utl_file.putf(logfile,'%s ',my_details);
      -- Call the FFLUSH proc here..And contents are available immediately.
      utl_file.FFLUSH(logfile); 
END LOOP;
"
1028,30940,How to get the duplicate row count in postgres sql,"select string_agg(st_no,',') as st_no,
string_agg(st_name,',') as st_name,
string_agg(directions,',') as directions,
string_agg(others,',') as others from table1 group by st_no
"
10252,40407,SQL Group By and window function,"SELECT BuildID,Product, Program, 
  sum(CASE WHEN State = 'Running' THEN cast(TotalTime as INT) ELSE 0 END) AS Running
  , sum(CASE WHEN State = 'Break' THEN cast(TotalTime as INT) ELSE 0 END) AS Breakt
FROM Line1Log
GROUP BY BuildID,Product, Program
"
26017,9545,Display vertica records vertically in vsql,"dbadmin=> select 1,2;
 ?column? | ?column?
----------+----------
        1 |        2
(1 row)

dbadmin=> \x
Expanded display is on.
dbadmin=> select 1,2;
-[ RECORD 1 ]
?column? | 1
?column? | 2

dbadmin=> select 1,2;
 ?column? | ?column?
----------+----------
        1 |        2
(1 row)

dbadmin=> \x
Expanded display is on.
dbadmin=> select 1,2;
-[ RECORD 1 ]
?column? | 1
?column? | 2
"
5337,41020,How to convert nvarchar column to datetime type in MS SQL SERVER 2008 R2,"select convert(datetime,
               left(stuff(stuff(created_time, 1, 4, ''), 8, 0, right(created_time, 4) + ' '), 20),
               100)
"
22,47280,How to implement sql Query to do Outer Joins based on 2 columns,"SELECT tm.userid,
  ty.courseid,
  CASE WHEN tx.cid IS NULL THEN 'not done' ELSE 'done' END AS 'F'
FROM tablem tm
JOIN tabley ty ON 1=1
LEFT JOIN tablex tx ON tm.userid = tx.userid AND ty.courseid = tx.cid
ORDER BY tm.USERID
"
31767,67691,Query Asterisk CDR in MYSQL to list inbound calls by SIP number?,"SELECT 'xxxxxxxxxxx' as 'tel', count(*) as 'count' from CDR where did = 'xxxxxxxxxxx'
"
16856,31098,php delete script,"CURRENT_TIMESTAMP = July 10th timestamp + 2 days worth of seconds
                  = 1000000 + 86400 * 2
"
9351,65637,How to calculate the smallest period of time between consecutive events?,"SELECT MIN(timediff(t1.`time`, t2.`time`)) AS delta_t,
    FROM temperatures t1 JOIN temperatures t2 ON t1.`time` < t2.`time`
"
30465,55993,SQL SUM aggragete issue," SELECT id
,title
,qty/(select sum(qty) from cars) 
FROM cars 
GROUP BY id
"
3508,27077,Count specific items in one column,"SELECT item_id, COUNT(*) AS count
FROM ratings 
GROUP BY item_id
ORDER BY count DESC;
"
28858,16492,Speed up SQL Server 2008 query using index,"CREATE NONCLUSTERED INDEX [IX_Index] ON [dbo].[mytable] 
(
   [CreateTime]
)
"
13694,19161,Insert into temp table based on rows already in table,"INSERT INTO #Table
   SELECT X.Category, null, 0.00, 'Summary'
   FROM #Table X
   LEFT JOIN #Table Y ON Y.Category = X.Category AND Y.Type = 'Summary'
   WHERE Y.Category IS NULL
"
39752,60886,What does Access DateSerial function return if arguments are not integers,"IIf(IsDate(a.exit_date), date1, date2) As hire_date
"
5221,65519,Can you dynamically generate regions in Oracle APEX using PL/SQL?,"l_user varchar2(500) := v('APP_USER');
"
17326,33443,string replace sql select,"select '£'+replace(replace('YourText','x','s'),'You','U')
"
17242,40990,Merging 2 sql queries into a single one," SELECT *
   From (
 SELECT DISTINCT e.* ,
       (6371 * acos( cos( radians(9.977364864079215) ) * cos( radians( latitude ) ) * cos( radians( longitude ) - radians(76.58620953448485) ) + sin( radians(9.977364864079215) ) * sin( radians( latitude ) ) )
        ) as distance
  FROM schools e  
LEFT JOIN geodata g ON e.id=g.id
 WHERE (e.type = 'preprimary')
   AND ( e.title LIKE '%government%' )
 ) as s
  Where s.distance  < 20
  Order by s.distance
"
145,38095,Percentage of results that have a column in SQL,"SELECT Reason, 
       COUNT(Reason) AS Number, 
       CAST(COUNT(Reason) AS float) / CAST(t.Total AS float) AS percentage
FROM DeletedClients,
     (SELECT COUNT(*) As Total FROM DeletedClients) t
GROUP BY Reason, Total
"
35621,66745,"What is the best way to change the type of a column in a SQL Server database, if there is data in said column?","UPDATE Table 
    SET temp_col = CASE
        WHEN value=1 
            THEN 'yes' 
            ELSE 'no' 
        END
"
5190,55098,Oracle query to fetch data in the form of a Tree,"with tab as (select distinct category title, null parent from test
          union all 
         select title, category from test)
select lpad(' ', (level * 2 - 1), '-' ) ||  title as title
  from tab
  start with parent is null
connect by prior title = parent;
"
10294,49347,Update data based on other column,"UPDATE TableName
SET JoinDate = CASE WHEN NextLevel = 'Hour' THEN DATEADD(HH,1,ISNULL(ModifiedDate,CreatedDate))
                    WHEN NextLevel = 'Day' THEN DATEADD(DD,1,ISNULL(ModifiedDate,CreatedDate))
                    WHEN NextLevel = 'Min' THEN DATEADD(MI,1,ISNULL(ModifiedDate,CreatedDate))
                END
"
32692,64819,Copy a table and replace foreign surrogate key column with text column,"INSERT INTO NewTable(CHILDNAME, CURRENTPAR_NAME, PREVIOUSPAR_NAME)
  SELECT c.CHILDNAME, p1.PARENTNAME, p2.PARENTNAME
    FROM Child c
    JOIN Parent p1 ON (p1.PARENTID = c.CURRENTPARENTID)
    JOIN Parent p2 ON (p2.PARENTID = c.PREVIOUSPARENTID)
;
"
32974,917,List all the databases on one SQL Server in the order they were created,"SELECT * FROM sys.databases
ORDER BY create_date 
"
16334,35588,SQlite alphabetical order,"  1      A            XYZ
  3      B            UUI
  2      C            8XU
  4      F            6XK
  6      E            9XU
  5      D            7XP
"
33333,69712,LINQ to SQL - select query,"var min = class3List.SelectMany(x => x.Class2List).Min(x => x.myClass1.Price);
"
10974,62287,Oracle select top N rows based on Values,"SELECT Marks FROM (
  SELECT Marks, DENSE_RANK() OVER (ORDER BY Marks DESC) AS MarksRank
  FROM yourtable
) WHERE MarksRank <= 4
"
5082,50397,Subtract values from a DropDownList,"SELECT 
  UserID,
  SUM(
    CASE
      WHEN [DATE] = @Date2 THEN Count
      ELSE -1*Count
    END
   ) AS Counter
FROM [CountTable]
WHERE (([Date] = @Date) OR ([Date] = @Date2))
GROUP BY UserID
"
16674,39703,How to merge data from multiple tables in SQL,"select enrollment.*, student.*, course.* from enrollment
   inner join Student on enrollment.studentId = student.studentId
   inner join Course on enrollment.courseId = course.courseId
"
34932,70676,SQL implicit Join to explicit join,"SELECT THDR.filename, 
       THDR.txn_header_id, 
       THDR.txn_header_ext_id, 
       THDR.txn_header_dttm, 
       THDR.upload_dttm, 
       Nvl(Sum(TDTL.txn_vol), 0) TOTAL_VOLUME, 
FROM   ci_txn_header THDR 
LEFT JOIN ci_txn_detail TDTL 
ON THDR.txn_header_id = TDTL.txn_header_id 
"
24174,65995,Access 2010 Database - Count number of instances,"Select POTYPE, Count(POTYPE) From TableA Group By POTYPE
"
37206,47697,Summing values based on a group by AS WELL as all of them?,"SELECT
    SUM(colx) OVER (PARTITION BY Col1)       AS [All of col1],
    SUM(colx) OVER (PARTITION BY Col2)       AS [All of col2],
    SUM(colx) OVER (PARTITION BY Col1, Col2) AS [PerCol1Col2Pair],
    SUM(colx) OVER ()                        AS [All of col1 and All of col2]
FROM
    MyTable
"
12714,25743,UPDATE table with information from 2 other tables,"UPDATE (PB 
INNER JOIN Noeuds ON PB.NOEUD = Noeuds.NOEUD) 
INNER JOIN ColInfo ON Noeuds.NUM_COL = ColInfo.NUM_COL 
SET PB.FORFAIT = ""E""
WHERE (((ColInfo.INTEREXTER)=2));
"
32367,3224,Multiple records in a table matched with a column,"select workerid 
from tags
where name in ('foo', 'bar')
group by workerid
having count(distinct name) = 2
"
4393,17537,How do you bring the schema name into an VIEW in Oracle?,"create or replace view_name
as
select col1, col2, 'schema1' as schema_name
from schema1.table
union all
select col1, col2, 'schema2'
from schema2.table
union all
select col1, col2, 'schema3' 
from schema3.table
...
"
5460,39110,With IN Clause when Passing Collection as Parameter In Sql Server,"select 
    ItemSizeNm 
from 
    MstItemSize 
where SizeTypeNm ='Ring' 
and ItemSizeNm  in (select ringSize from @tblRingSize)
"
6796,70813,How to override a django app's model and use the same db table?,"class Tag(tagging_tag):
    #id = models.AutoField(primary_key=True)
    objects=TagManager()

    class Meta:
        proxy = True
"
22161,41767,How to find entities where key does not exist,"select *
from productattributes p1
where not exists (select 1 from productattributes p2
                  where p1.product_id = p2.product_id
                    and p2.attribute_id = 136)
"
985,10330,How to check string length and then select substring in Sql Server,"SELECT  CASE WHEN LEN(comments) <= 60 
             THEN comments
             ELSE LEFT(comments, 60) + '...'
        END  As Comments
FROM    myView
"
36453,45357,Oracle SQL get list of unique dates,"SELECT trunc(SALE_DATE) as sale_date
FROM sales
GROUP BY trunc(SALE_DATE)
ORDER BY trunc(SALE_DATE);
"
36322,26626,Calculating the average time between orders for each customer,"select cust_id , avg(orderdate - lag_orderdate) as avg_time_between_orders
from (
    select cust_id , orderDate , lag(orderdate) over (partition by cust_id) as lag_orderdate
    from  orders )
"
29092,57235,How to create sql script that generates insert statements with tables data in mysql/mssql,"select concat (""insert into `Country` (`country`) values (\"""", country, ""\"");"") from Country order by id;
"
6698,16770,Multi-level aggregation from a table,"with t as 
 (select stage from metrics where name = 'member')
select 
 (select count(*) from t) as total,
 stage, count(*) 
from t
group by stage
"
18110,2538,Re-writing without using unique construct in SQL,"Select T.course_id 
From course as T 
Where (Select Count(*)
       From section as R 
       Where T.course_id = R.course_id and R.year = 2009) = 1;
"
37432,16679,Get quantile by groups in SAS,"proc rank data=etude.Presta_cluster_panier out=outranks groups=10;
    var FR;
    ranks Quantile;
    by Cluster Age;
run;

proc means data=outranks;
    var FR;
    ways 3;
    class Cluster Age Quantile;
    output out=outmean;
run;
"
15361,64458,MySQL Count paid sales and orders,"select Sales.id,
    Max(Sales.price) Sales_price,
    Sum(Payment.price) Payment_price
from Sales, Payment
where Sales.id = Payment.sale_id
group by Sales.id
having Max(Sales.price) = Sum(Payment.price)
"
7550,4127,SQL query most recent scan date,"DENSE_RANK() OVER (PARTITION BY ScanName ORDER BY ScanDate DESC) AS Rnk
"
17240,71069,sql update statement for two tables," UPDATE menu_items mi 
     JOIN inventory_items ii ON mi.bin_number=ii.bin_number 
         AND mi.location_id=ii.location_id
 SET mi.inventory_item_id = ii.id 
"
4061,53627,How to get count in this query?,"SELECT ListID, SUM(IF(Status=""YES"",1,0)) 
FROM yourtable
GROUP BY `ListID`
"
37925,19923,SQLite NOT IN query is slow,"select k.id
from keytemp as k left outer join keys as kk on (k.hash=kk.hash and kk.sourceid=10)
where kk.hash is null;
"
37619,66679,Update statement for one column from sourcedb.table.column to my current column. Error: Could not be bound,"USE PHARMA
UPDATE item 
SET item_uom = pos.uom
FROM item i
INNER JOIN POSDB.dbo.Items pos 
ON i.item_name = pos.item_desc
"
33960,5281,Preparing Items List Of Sql-Table,"select  name
,       case 
        when sum(amount1 - amount) < 0 then -sum(amount1 - amount) 
        end as amount
,       case 
        when sum(amount1 - amount) >= 0 then sum(amount1 - amount) 
        end as amount1
from    YourTable
group by
       name
"
21266,47737,SQL select with 'in' casting from string to tinyint,"select * from myTable
where CHARINDEX(cast(mycol as varchar), @myVar) > 0
"
14079,42753,MySQL max functions on sum function,"SELECT first_name,last_name, total 
FROM (
SELECT customer_id, SUM(amount) AS total
FROM sakila.payment JOIN sakila.customer USING(customer_id)
WHERE YEAR(payment_date)=2005
GROUP BY customer_id ) total_alias
INNER JOIN sakila.customer scu ON total_alias.customer_id=scu.customer_id
ORDER BY total DESC
LIMIT 1;
"
9699,20693,LEFT JOIN of a string,"   SELECT x.searchterm,
          b.*
     FROM (SELECT $s[0 ... 20] AS search_term) x
LEFT JOIN BOOKS b ON MATCHES(b.title) AGAINST (x.searchterm)
"
21231,23195,How to get zeros for no values in sql,"SELECT 
    DISTINCT Identy, 
    COUNT(clnt_ntnlty) OVER (PARTITION BY Identy) Counts
FROM (
        SELECT 0 Val, 'Aboriginal' Identy UNION
        SELECT 1 Val, 'Torres Strait Islander' Identy UNION
        SELECT 2 Val, 'Both Aboring & Torres Strait' Identy UNION
        SELECT 3 Val, 'Neither Aboring OR Torres Strait' Identy 
    ) x left join dbo.clientInfo t on t.clnt_ntnlty=x.Val
"
32549,9408,Is there a way to make an Oracle Job disable itself?,"declare
  Contador number;

begin
 ATUALIZAR_VAL_MAT_PENDENTES(Contador);

 if Contador = 0 then
   dbms_scheduler.set_attribute('JOB_ATUALIZAR_VAL_MAT_PEND', 'end_date', systimestamp + 1);
  end if;
end;
"
16136,36044,How do I programmatically change value of a field in an Access database?,"UPDATE MyTable SET MyTable.Found = True WHERE MyTable.NameField LIKE ""*abc*"";
"
28331,75249,If Exist or Exists?,"IF EXISTS (SELECT *
           FROM   tblOne
           WHERE  field1 = @parm1
                  AND field2 = @parm2)
    OR EXISTS (SELECT *
               FROM   tblTwo
               WHERE  field1 = @parm5
                      AND field2 = @parm3)
  PRINT 'YES' 
"
8718,42111,How to change date format in hive?,"select from_unixtime(unix_timestamp('2016/06/01','yyyy/MM/dd'),'yyyy-MM-dd') from table1; 
"
34599,868,Select the first row with specific column value,"Select Top 1
    *
    From Data
        Where status = ""not Dialled""
        ;
"
10578,35449,Wrong (future) convert to datetime,"sp_configure 'two digit year cutoff', 2015
reconfigure
"
24828,742,Update record with count as a condition,"    update phone set IsValid=0 where id in
    (select id  from phone
    where id not in (
    select MAX(id)id
    from phone 
    group by phoneNo))
    and IsValid=1
"
18538,58195,Selecting from two different tables,"select b.Country, b.AnotherCode, a.Code from Country1 a left join Country2 b on a.Country=b.Country
"
21275,59396,store both text and number in sql,"CREATE TABLE Test
(
Id INT,
Name  NVARCHAR(50) UNIQUE
)

INSERT INTO Test VALUES (1, 'Jh_123')

SELECT * FROM Test
"
36101,16834,How to calculate relative value of column depending upon other rows?,"select 
  a.AID
, a.City
, a.IndividualScore
, a.IndividualScore
  + sum(case when oa.IndividualScore > a.IndividualScore then oa.IndividualScore - a.IndividualScore else 0 end) as RelativeScore
from tblActor a
left join tblActoroa on a.City = oa.City-- other actor
where a.AID != oa.AID
group by   
  a.AID
, a.City
, a.IndividualScore
"
36894,8367,How to show all value of a single column into a single row in pl/sql report?,"SELECT LISTAGG(name, ', ')
     WITHIN GROUP (ORDER BY name) ""name_list""
FROM TABLE1;
"
26378,8509,Script to compare Oracle Schema with Teradata Views,"SELECT TableName
FROM DBC.Tables
WHERE Tablekind = 'V'
AND requestText LIKE '%yourtablename%'
GROUP BY 1
ORDER BY 1;
"
17650,29999,Where statement that will use a concat,"WHERE
  town like concat('%',@userinput,'%')
OR
  street like concat('%',@userinput,'%')
OR 
  other like concat('%',@userinput,'%')
"
5075,3659,SELECT DISTINCT not working after CASE statement,"SELECT DISTINCT * FROM 
    (
    SELECT CASE WHEN ... GROUP BY messages.id ORDER BY messages.time DESC
    ) AS inner_q
ORDER BY messages.time DESC
"
32119,35134,Query to select the month and nos of weekend and public holiday in that month,"     SELECT year(holidaydate),month(holidaydate), 
            sum(case Weekend when true then 1 else 0 end) wkEnd, 
            sum(case PublicHoliday when true then 1 else 0 end) pubHol
      FROM Holiday 
      GROUP BY year(holidaydate),month(holidaydate)
"
23086,58490,What is Oracle Date Format and How to set that?,"SQL> SELECT SYSDATE FROM DUAL;

SYSDATE
---------
24-JUN-13

SQL> ALTER SESSION SET NLS_DATE_FORMAT = 'YYYY-MM-DD';

Session altered.

SQL> SELECT SYSDATE FROM DUAL;

SYSDATE
----------
2013-06-24
"
17824,1582,Regular expressions in SQL?,"select xyz
from theTable
where not regexp_like(mycolumn,pattern)
"
10630,55430,zend 2: Using Paginator with TableGateway,"$select = new Select($this->tableGateway->getTable());

$paginatorAdapter = new DbSelect(
    $select,
    $this->tableGateway->getAdapter(),
    $this->tableGateway->getResultSetPrototype()
);
$paginator = new Paginator($paginatorAdapter);

return $paginator;
"
34788,51529,Oracle regular expression to pull rows from a table,"REGEXP_LIKE(col, '[^[:alnum:] _,-]')
"
18661,4391,Merge two unrelated views into a single view,"SELECT 'v1'::text AS source, clothingid, shoes, shirts
FROM   view1

UNION  ALL
SELECT 'v2'::text AS source, clothingid, shoes, shirts
FROM   view2;
"
32673,10490,ms-access EXISTS query to remove rows,"DELETE FROM Table1 AS t1
WHERE Exists (
    SELECT t2.column1
    FROM Table1 AS t2
    WHERE
        t2.column2 = ""ok""
        And t2.column1 = t1.column1);
"
7390,53109,MySQL member of several teams,"select au.userId
from active_users au
where au.teamId in (1, 2, 4)
group by au.userId
having count(*) = 3;
"
12035,46723,Join tables with comma separated string (using WHERE),"where (',' || replace(A.colX,' ','') || ',') LIKE ('%,' || B.colY || ',%')
"
26717,42438,How to connect to a MySQL database from an iPhone?,"NSURL *myURL = [NSURL URLWithString:@""http://www.myserver.com/results.php""];
NSArray *sqlResults = [[NSArray alloc] initWithContentsOfURL:myURL];
"
19178,42317,mysql - select newest value of groups by date,"SELECT   member_id, max(last_accessed)
FROM     member_track
GROUP BY member_id
"
20636,50644,How to check that group has a value in Oracle?,"SELECT
    MIN(created_timestamp),
    MAX(resource_id),
    MAX(price),
    MIN(CASE WHEN event_type IN (1704, 1701, 1703) 
                 THEN found_value 
             WHEN event_type = 1707 
                 THEN 1707 
                 ELSE NULL 
        END)
FROM subscriptions
GROUP BY guid ;
"
10161,60804,Getting a count while accounting for an attribute,"select c.id
from customer c join
     account a
     on c.id = a.ind_id
where c.status = 'A'
group by c.id
having max(last_purchase) >= date_add(month, -2, getdate());
"
30671,62731,Ordering in Access SQL,"SELECT t1.Col1, t1.Col2
FROM t t1
    JOIN t t2 ON t1.Col1 = t2.Col1 and t1.Col2 >= t2.Col2
Group by t1.Col1, t1.Col2
ORDER BY Count(t2.Col2), t1.Col1;
"
17438,16765,What do we consider as a dynamic sql statement?,"""SELECT name FROM names WHERE id="" + this.id;
""SELECT name FROM names WHERE id="" + this.id + "" AND age="" this.age;
"
2474,2108,MSSQL select query optimization,"SELECT 
AwardAction.strActionName, AwardType.strAwardName, 
Award.strStudentId,Award.iCount
FROM
[dbo].[Awards] Award
inner join [dbo].[AwardAction] AwardAction on AwardAction.Action=Award.Action
inner join [dbo].[AwardTypes] AwardType on AwardType.Type=Award.Type
WHERE
AwardType.ApplicationId=@ApplicationId and 
Award.ID=@ID
"
3160,18737,pulling sql column names for a table,"select * from information_schema.columns
where table_name = 'Foo'
"
3850,2730,"In MySQL, how do I order by the number of times a specific instance appears?","SELECT f.title 
FROM film f
JOIN inventory i ON f.film_id = i.film_id 
JOIN rental r ON i.inventory_id = r.inventory_id
group by f.title
order by count(*) desc
"
33451,69804,SQL Total of addresses with null values in selected fields,"select sum(house_number)
from yourtable 
where house_name is null and po_box is null
"
30251,40382,Hibernate using IN and LIKE clause together,"select car from Car car 
where car.keywordName like :k1 
or car.keywordName like :k2
or car.keywordName like :k3
...
"
7025,72564,INNER JOIN to view detail another table SQL,"select datepart(yyyy, t1.odate) as oyear, t2.oitem
from table1 t1 
inner join table2 t2 on t1.groupid = t2.groupid
"
19517,71276,Convert string formatted as yyyymmddhhnn to datetime,"declare @t varchar(20)
set @t='200012011200'
select cast(stuff(stuff(@t, 11,0,':'),9,0,' ') as datetime)
"
18748,58461,Populate SQL Data,"SELECT SR_NO, CASE WHEN [Attribute -X] = 'A' THEN A ELSE NULL END AS 'A',
              CASE WHEN [Attribute -X] = 'B' THEN B ELSE NULL END AS 'B',
              CASE WHEN [Attribute -X] = 'C' THEN C ELSE NULL END AS 'C',
      [Attribute -Z] AS 'ATTR-Z'
FROM yourtable
"
30691,26917,PSQL unique constraint on two columns,"ALTER TABLE LinkTable 
ADD CONSTRAINT LinkTable_Unique UNIQUE (TableA_id, TableB_id);
"
3123,65171,How do I use group by on one column which is having many entries?,"SELECT name,SUM(price) as price
FROM table 
GROUP BY name
HAVING SUM(price) = 0
"
12473,17040,SQL Select colmn from other table only if data exist,"SELECT Table1.ID, COALESCE(Table2.Alias, Table1.Name) AS Name, 
    Table1.Location
FROM Table1
LEFT OUTER JOIN Table2 ON Table1.ID = Table2.ID AND Table2.AliasType = 2
"
27122,35203,Comma delimeted using sql query,"with temp as
(
    select 'Number' Name , '123-456,654-321,098-765' AS val  from dual
)
select distinct
  t.name, 
  trim(regexp_substr(t.val, '[^,]+', 1, levels.column_value))  as val
from 
  temp t,
  table(cast(multiset(select level from dual connect by  level <= length (
        regexp_replace(t.val, '[^,]+'))  + 1) as sys.OdciNumberList)) levels
order by name;
"
1266,18400,Need help building SQL query for single table,"select COUNT(*)
from (
    select brandID
    from MyTable
    where productID in (1, 2)
    group by brandID
    having count(distinct productID) = 2
) a
"
16413,32325,SQL split a result properly,"Declare @recordsPerPage AS int
SELECT @recordsPerPage = 10000;
SELECT
    *,
    ROW_NUMBER() OVER (PARTITION BY NumeroDeclaration ORDER BY NumeroTransaction ASC) AS Tempnum,
    NumeroDeclaration+1 AS Page
FROM numbered
"
9116,19779,Sort by preference nhibernate or sql server,"ORDER BY CASE WHEN field LIKE 'VA%' THEN 0
              WHEN field LIKE '%VA%' THEN 1
              ELSE 2
         END
"
17589,26833,How to convert SQL Query to Lambda Expression,"from u in context.aspnet_Users 
join m in context.aspnet_Membership on u.UserId equals m.UserId select new { u.UserName, m.IsApproved};
"
1151,49040,Fetching Record from database usin SQL Query,"SELECT CITY, SUM(MECHANIC.SALARY) AS COMBINED_SALARY FROM MECHANIC join AIRPORT on MECHANIC.AIRNAME=AIRPORT.AIRNAME
    WHERE AIRPORT.STATE = 'California'
    GROUP BY AIRPORT.CITY
"
19857,24273,How to calculating SUM of (quantity*price) from two different tables?,"SELECT o.order_number, o.item_quantity, p.price,(o.item_quantity * p.price) AS subtotal, SUM( o.item_quantity * p.price) AS total
FROM order AS o
LEFT JOIN product AS p ON product_number = idproduct_detail;
"
39487,32394,Getting scores from MySQL - better option than sub-queries?,"SELECT playerID, COUNT(playerID) AS Total FROM (
SELECT playerID FROM scores WHERE score1='10' 
UNION ALL
SELECT playerID FROM scores WHERE score2='10'
UNION ALL
SELECT playerID FROM scores WHERE score3='10'
UNION ALL
SELECT playerID FROM scores WHERE score4='10'
UNION ALL
SELECT playerID FROM scores WHERE score5='10'
) AS thetable
GROUP BY playerID
"
35981,58644,MySQL ordering in Select .. In statement,"select id from user where id IN (2, 3, 1) ORDER BY FIELD(id, 2, 3, 1);
"
30745,10433,Digits after first dash on Oracle SQL,"select substr(col, 1, instr(col, '-') - 1) ||
       substr(col, instr(col, '-'), 7) as result
  from tbl
"
23279,58851,View SQL query in Slick,"val invoker = q.invoker
val statement = q.selectStatement
"
32270,63899,MySQL query String contains,"mysql_query(""
SELECT *
FROM `table`
WHERE `column` LIKE '%{$needle}%'
"");
"
27014,71971,Temporary SQL datafield,"if @datafield = 1
set ColumnA.table2=1
else if @datafield = 2 AND @datafield2 = 3
set ColumnA.table2= 0
else
return (SELECT ColumnA.table2 FROM table1 INNER JOIN table2 on table1.id and table2.id Where @datafield3 = 0)
"
6803,63379,Mysql complex issue on a single table,"select c.Cid
     , с.name
     , group_concat(ci.ImgId separator ',')
from customer c
join CustomerImage ci on c.Cid = ci.Cid 
group by  c.Cid
        , c.name
"
18224,29057,Creating a SQLITE table with a fixed number of items,"CREATE TRIGGER batterystat_trigger AFTER INSERT ON batterystat 
BEGIN 
    DELETE FROM batterystat where _id NOT IN (SELECT _id from batterystat ORDER BY insertion_date DESC LIMIT 100)
END
"
15464,27162,SQLite Query Display Name with WHERE condition - Multiple Tables,"SELECT t1.Project-ID, t1.Name
FROM Project AS t1
JOIN (
   SELECT Project-ID
   FROM Works_on 
   GROUP BY Project-ID
   HAVING COUNT(*) >= 3
) AS t2 ON t1.Project-ID = t2.Project-ID
"
1697,8126,MySQL select row from two tables even though only one table may have the row,"SELECT col1,col2,.. 
FROM pages 
WHERE slug = 'about' 

UNION

SELECT col1,col2,.. 
FROM posts 
WHERE slug = 'about'
"
35924,6095,"Best way to do 10,000 inserts in a SQL db?","BEGIN TRANSACTION

INSERT INTO msgs (publisherid, msg)
VALUES(@publisherid, @msg)
SET @messageid = SCOPE_IDENTITY()

INSERT INTO msqqueue (recipientid, messageid, status)
SELECT subscriberid, @messageid, 0 -- unread
FROM subscribers
WHERE subscribers.publisherid = @publisherid

COMMIT TRANSACTION
"
36934,33574,"Group by only for ""limit and offset"" in MySQL","select * from t t1
join (
  select distinct carBrand from t
  limit 2
) s on t1.carBrand = s.carBrand
"
16140,10298,sorting in sql based on a part of a column(number),"order by to_number(substr(column, 1, instr(column, ' ')))
"
32709,42632,Replacing characters in a string based on rows in a table sql,"declare @s varchar(50)= 'Hell0 c@t$'
select @s = REPLACE(@s, CharacterToFilter, ReplacementCharacter) 
    from CharacterMappings
select @s
"
28967,13704,Updating caption on ActiveX button in Excel vba,"Private Sub CommandButton1_Click()
CommandButton1.Caption = ""true""
DoEvents
Application.ScreenUpdating = True

For i = 1 To 2
    Application.Wait (Now + TimeValue(""0:00:1""))
Next i

CommandButton1.Caption = ""False""
End Sub
"
17225,59653,SQL - Setting column entry to 0 if it equals NULL?,"UPDATE comm_call_count c 
SET    c.messageCountFri = 0 
WHERE  c.messageCountFri IS NULL; 
"
22170,47332,how to replace multiple strings together in Oracle,"SET mycol = replace( replace(mycol, '{1}', 'myoneval'), '{2}', mytwoval)
"
1752,3848,SQL SELECT with a Yes/No column to state whether Customer has associated Orders,"SELECT  a.ID, a.FirstName, a.Lastname,
        CASE WHEN COUNT(b.CustID) > 0 THEN 'YES' ELSE 'NO' END AS HasOrders
FROM    Customer a
        LEFT JOIN Orders b
            ON a.ID = b.CustID        -- <<== the linking column on both tables
GROUP   BY a.ID, a.FirstName, a.Lastname
"
23914,44110,Trouble Excluding Nodes from Graph,"MATCH p=(:Collective:Company)<-[tree*0..4]-(downline:Collective)
WHERE
  ALL(x in relationships(p) WHERE x.activeFrom <= '2015-08-31 23:59:59'
  AND (x.activeTo IS NULL OR x.activeTo > '2015-08-31 23:59:59'))
  AND ALL(x in nodes(p) WHERE x.activeFrom <= '2015-08-31 23:59:59'
  AND (x.activeTo IS NULL OR x.activeTo > '2015-08-31 23:59:59'))
RETURN p
"
10695,41573,Add rows from a table where they're not in the other table,"INSERT INTO assigned_lists (contact_id, list_id)
SELECT contact_id, 24
FROM Contacts
WHERE contact_id NOT IN (
  SELECT DISTINCT contact_id
  FROM assigned_lists
)
"
27551,40590,Multiple inner joins with multiple tables,"SELECT Table4.company, table1.id, table1.value
FROM Table1
    INNER JOIN Table1
        ON Table2.table1_id = Table1.id
    INNER JOIN Table3
        ON Table3.table2_id = Table2.id
    INNER JOIN Table4
        ON Table4.table3_id = Table3.id
"
33227,36693,Is it possible to use a single query to achieve related purchase history?,"SELECT 

      DISTINCT PRODUCTID

 FROM 

      [ORDERHISTORY] oh

 WHERE

      oh.OrderID IN (SELECT ORDERID FROM ORDERHISTORY WHERE PRODUCTID = 4 )
"
34152,9178,How to do a count including not existing records?,"    select leftside.cust, leftside.year, count(survey.cust) from
(select * from customers, years) as leftside left join survey
on leftside.cust = survey.cust and 
leftside.year = survey.year 
group by leftside.cust, leftside.year
"
10321,28394,Select same column twice + JOIN,"select r.*, o.name as owner_name, p.name as reported_name
from report r
join person o on o.id = r.owner_id
join reporteduser ru on ru.report_id = r.id
join person p on p.id = ru.user_id
where r.active = true
"
3402,3169,Double order by on a query in mysql,"(SELECT id FROM posts ORDER BY rates DESC LIMIT 0,8)
UNION ALL
(SELECT id FROM posts ORDER BY views DESC LIMIT 0,8)
"
31346,58655,Dynamically change values for SQL Server table?,"UPDATE tableName
SET ImagePath = REPLACE(ImagePath, '/project/images/', '/projects/project-a/images')
"
11389,68072,Optional Access column value selection,"SELECT  A,
        B,
        C,
        SWITCH
        (   A IS NOT NULL, A,
            B IS NOT NULL, B,
            C IS NOT NULL, C
        ) AS Final
FROM    T;
"
35972,23113,SUM same column user score,"SELECT id, SUM(score)
FROM user
group by id
having id = 33 or id = 44 
"
16354,64802,Sqlite: I need to update a data from one table to another,"UPDATE tableB
    SET
      Solution = (SELECT Solution FROM tableA WHERE ID = tableB.ID),
      SolutionImage = (SELECT Solution FROM tableA WHERE ID = tableB.ID);
"
16576,26037,Database update SQL,"update MemberTable
set id = concat('00-',
                case Type
                    when 'A' then '00'
                    when 'B' then '01'
                    when 'C' then '02'
                end,
                substr(id, 2))
"
10529,69054,Nested query with aggregated Foreign Key,"Company.objects.annotate(total_investments=models.Sum('investments__amount')).filter(raising__gt=models.F('total_investments'))
"
18541,37349,ORDER BY items must appear in the select list if SELECT DISTINCT is specified error,"SELECT tsgroup
FROM   master
GROUP  BY tsgroup
ORDER  BY RIGHT(RTRIM(tsgroup), 3),
          LEFT(RTRIM(tsgroup), 3) 
"
5515,35081,delete duplicate record from same table in mysql,"DELETE  c1
FROM    tblm_customer c1
        , tblm_customer c2
WHERE   c1.FirstName = c2.FirstName 
        AND c1.LastName = c2.LastName 
        AND c1.CustomerID < c2.CustomerID 
"
24563,43912,SQL Sub Queries - Listing data,"select event_id, 
       max(case when place = 1 then money end) first,
       max(case when place = 2 then money end) second,
       max(case when place = 3 then money end) third
  from prize
    where event_id is not null
  group by event_id
"
5798,54745,How to show foreign key side-by-side with another table?,"CREATE VIEW MyView as select * from users inner join userlevels where users.userlevel = userslevel.permissions;
"
14150,24844,how to export a varchar2 from oracledb containing special characters and process it from bash,"replace(
 replace(
  utl_raw.cast_to_varchar2(
   UTL_ENCODE.base64_encode(utl_raw.cast_to_raw(...))
  ), chr(10), ''
 ), chr(13), ''
)
"
5489,25973,SQL for Game Scores & Prediction System,"SELECT p.user, 
       SUM(IF(g.id IS NOT NULL, p.point, 0)) As points, 
       SUM(IF(g.id IS NOT NULL, 1, 0)) Correct,
       SUM(IF(g.id IS NULL, 1, 0)) Wrong

FROM Games g 
RIGHT JOIN Picks p ON g.id = p.game AND 
          p.team = IF(g.score1 > g.score2 , g.team1, IF(g.score1 < g.score2, g.team2, NULL))
GROUP BY p.user;
"
7392,10200,SQL query inner joins and limit to max 3 most recent,"SELECT * 
FROM (SELECT * 
      FROM (SELECT *, IF(@shop = (@shop:=p.shop_id), @id:=@id + 1, @id := 1) temp 
            FROM `product` p, (SELECT @shop:=0, @id:=1) AS A 
            ORDER BY p.shop_id, p.updated DESC) AS B 
      WHERE temp <= 3) AS C
INNER JOIN `shop` s ON C.shop_id= s.id;
"
14276,68147,My SQL DISTINCT and count if,"SELECT Adid, SUM(New = 1) new
  FROM Message 
 WHERE (MesFrom = 1 OR MesTo = 1) 
   AND (MesFrom = 2 OR MesTo = 2) 
 GROUP BY Adid
"
15362,50778,Selecting the last instance of the record but returning the first instance of it,"SELECT callid, 
       (SELECT calling_pty 
        FROM Log l
        WHERE Log.callid = l.callid AND
              segment = (SELECT MIN(segment) 
                         FROM Log l2
                         WHERE l.callid = l2.callid) 
       )[calling_pty], 
       dialed_num, disposition, dispvdn, segment, ucid
FROM Log
WHERE disposition = 3
"
9040,37645,Create index without specifying the tablespace,"select username,default_tablespace from dba_users
"
9435,46932,String Delimiting in sql server taking Input from a Table,"SELECT * 
FROM dbo.mytable t
OUTER APPLY (
    SELECT * 
    FROM dbo.fnSplit(t.mycolumn) y
) y  
"
32641,27279,"Android: How to input values to Parse cloud code, eg beforesave","ParseCloud.callFunctionInBackground(""check_duplicate"", 
new HashMap<String, String>{""period_ref"":""001/2015""};, 
new FunctionCallback<String>() {
"
29875,22684,How to Select where in(Other table) but with modification,"Select * 
from PmtHist
Where REPLACE(Confirmation, 'voided', '') in(
    Select Str1 as ConfirmationCode
    From @ConfListTable
)
"
4784,1243,Fast in SSMS and slow in the application - Why does it take this DataSet so long to fill?,"--- SSMS ---
....
....
set transaction isolation level read committed

CPU: 7797
Reads: 338,425
Writes: 1685
Duration: 7,912

--- Application ---
....
....
set transaction isolation level serializable 

CPU: 46,531
Reads: 241,202
Writes: 0
Duration: 46,792
"
37445,20669,MYSQL query for selecting the result of a condition of one table and showing it on another table,"Insert into Table2(stock_name,temple,quantity)
SELECT a.stock_name, a.temple, SUM(Case when Type='purchase' then quantity else (quantity*-1) End) AS quantity
FROM Table1 a
GROUP BY a.stock_name, a.temple
"
16947,49513,PostgreSQL window function: grouping by column without ordering (~ Python itertools.groupby),"WITH T1 AS
(
    SELECT
        id,
        grp,
        LAG(grp) OVER (ORDER BY id) IS DISTINCT FROM grp AS changes
    FROM yourtable
)
SELECT id, grp, SUM(changes::int) OVER (ORDER BY id) FROM T1
"
18124,72534,Sum - Group By for all data,"SELECT
    u.id, COUNT(p.post_id) AS num_post
FROM tbl_user u
LEFT JOIN tbl_post p
    ON u.id = p.user_id
GROUP BY u.id
"
36290,20360,stuck with one query in SQL Server,"select sum(price) from calci  group by (rn- freq)
"
37896,61020,SQL statement to find a table by its name,"/*Finds a table across multiple dBs and returns the dB(s) in which the table was found*/
SELECT  DISTINCT DB_NAME(database_id) 
FROM [sys].[dm_db_index_operational_stats](NULL,NULL,NULL,NULL)
WHERE OBJECT_NAME(object_id,database_id) = 'table name'
"
7954,33611,Optimal Query for a problem,"SELECT news.*, votes.vote_type
FROM news 
LEFT OUTER JOIN votes 
ON votes.`hash` = news.`hash` 
AND votes.`user_id` = #
"
37985,56645,COUNT and WHERE statements query,"SELECT
    COUNT (enrollment_id) AS enrollments,
    SUM (CASE WHEN result IS NULL THEN 1 ELSE 0 END) AS null_results,
    MAX (result) AS highest_result,
    AVG (result) AS average_result,
    MIN (period_code) AS earliest_enrollment    
FROM enrollment    
"
6933,25667,Select join statement is not working,"SELECT 
    material_code 
FROM table1 
LEFT JOIN table2 
ON table1.material_code = table2.material_code 
WHERE status = 0
"
12743,38820,Is there a way to make Oracle recalculate a query plan for each query invocation?,"GRANT SELECT ON table1 TO user1;
"
33823,24714,MySQL SUM Query daily values of a week problem,"mysql> SELECT WEEK('2008-02-20');
        -> 7
mysql> SELECT WEEK('2008-02-20',0);
        -> 7
mysql> SELECT WEEK('2008-02-20',1);
        -> 8
mysql> SELECT WEEK('2008-12-31',1);
        -> 53
"
35442,57411,How to compare current time to retrieve record stored in SQL,"SELECT COUNT(*) AS Total
FROM TableName
WHERE Date >= DATEADD(HOUR, 9, CONVERT(DATETIME, CONVERT(DATE, GETDATE())))
"
9652,22375,Query execution time in PL/SQL Developer,"set timing on;
select * from table_name where customer_id=1;
"
24205,49554,Access/SQL: Multiple conditions on same column,"SELECT 
   p1.nr_pickl,
   sum(IIF(LEFT(p1.platz_von, 2) = ""03"", 1, 0) as Gang_03,
   sum(IIF(LEFT(p1.platz_von, 2) = ""04"", 1, 0) as Gang_04,
   sum(IIF(LEFT(p1.platz_von, 2) = ""05"", 1, 0) as Gang_05
FROM
   Pickauf_0110 as p1
GROUP BY p1.nr_pickl
"
8482,17755,SQL query to obtain rows around a specific row,"with aaa as
(
SELECT  
ROW_NUMBER() OVER (ORDER BY score ) AS 'ROW_NUMBER', score, user_id
)

select * from aaa where ROW_NUMBER between
(select ROW_NUMBER-2 from aaa where user_id = 25) AND
(select ROW_NUMBER+2 from aaa where user_id = 25)
"
26534,52743,SQL select percentage,"   Select ( (SELECT COUNT(social_users.id) FROM social_users LEFT JOIN socials ON
    social_users.id = socials.social_user_id WHERE socials.social_user_id
    IS NULL) / (select count(social_users.id) FROM social_users))*100 as Percentage
"
600,12163,SQL to find which members have only null entries,"SELECT PersonId
  FROM TheTable
 GROUP BY PersonId
 HAVING COUNT(PlaceName) = 0
"
30027,70020,Insert into a table multiple values of which one value is from another table,"insert into table1 (col1,col2,col3) 
select 11, 23, VAL 
from 
  table2 
where id='4'
"
11874,11524,How do l find IDs that have been together throughout the timing using SQL query,"SELECT id 
FROM mytable 
GROUP BY Id 
HAVING COUNT(*) = (SELECT COUNT(DISTINCT date) FROM mytable)
"
1900,27329,Proper Use of TO_DATE FUNCTION,"SELECT TO_DATE('MAR 2012', 'MON YYYY') dt FROM dual;
"
31711,14927,how to merge a row data into above row..?which have few column same,"select empcode, coode, finyear, wef,
       max(cl_opn_bal) as cl_open_bal,
       . . .
from table t
group by empcode, coode, finyear, wef;
"
5054,60403,Codeigniter LIKE with wildcard(%),"$this->db->like('title', $query);
$res = $this->db->get('film');
"
13979,46124,REGEXP_REPLACE to remove list of words from company name column,"SQL> with tbl(str) as (
     select 'Owens 1245 Coning COM CO LTD. INC CORP. INC' from dual
   )
   select str original, '[' || trim(regexp_replace(upper(str), '(\d+|CO|LTD|INC|CORP)([[:punct:]])?( |$)', '')) || ']' CLEARTEXT
   from tbl;

ORIGINAL
-----------------------------------------
CLEARTEXT
--------------------------------------------------------------------------------
Owens 1245 Coning COM CO LTD. INC CORP. INC
[OWENS CONING COM]


SQL>
"
36406,23617,get result from multiple tables,"select o.id, b.book as bookId
from orders o
inner join books b
  on o.bookid = b.bookid
where o.id = 1;
"
7522,66488,"MySQL Query, Join, and Myself, or how I always take the hard way through","SELECT Posts.id, Comments.id FROM Posts
LEFT OUTER JOIN Comments on (Posts.id = Comments.refId)
WHERE Comments.create IS NULL OR (
      Comments.create = (SELECT create FROM Comments
                         WHERE refID = Posts.id
                         ORDER BY create DESC
                         LIMIT 1)
) /* add ORDER BY &c to taste;-) */
"
9520,44907,SQL: Select SUM of population of all towns on the same road,"SELECT tor.road_name, SUM(population) as popn
FROM Towns t 
JOIN TownsOnRoads tor ON t.town_name = tor.town_name
group by tor.road_name
"
13781,39800,Oracle - grant privileges to all users,"grant select on table to public;
"
26875,61864,Mysql SUM based another calculated filed condition,"SELECT
users.username,
SUM(lists.lists_var),
FROM
users
INNER JOIN lists ON users.userid = lists.user_id
INNER JOIN (SELECT list_id, SUM(multiplier) mult_total FROM details GROUP BY list_id) d
ON d.list_id = lists.list_id and d.mult_total > 3
GROUP BY
users.username
"
20475,68448,Count number of occurrences of keyword in comma separated column?,"with prodref as (
      select 'product1' as prod union all
      select 'product2' as prod union all
      select 'product5' as prod union all
      select 'product7' as prod
     )
select p.prod, count(*)
from prodref pr left outer join
     product p
     on ','+p.col+',' like '%,'+pr.prod+',%'
group by p.prod;
"
3318,67677,Get list of tables but not include system tables (SQL Server 2K)?,"select name from sysobjects where type='U'
"
28997,60694,SUM columns by hour (using DATETIME column),"select datepart(hour,myDate), SUM(Offered)
from myTable
group by 
    datepart(hour,myDate), 
    dateadd(d, 0, datediff(d, 0, myDate))
"
10632,62317,Split Result from SQL Query,"select * from 
( 
     select tb.*,rownum t_count from table_name tb
) ss
where ss.t_count >= @min_value and ss.t_count <= @max_value
"
25296,40649,TSQL - Query for multiple types in multiple rows,"select id from your_table
where typeid in (1,2)
group by id
having count(distinct typeid) = 2
"
39850,53310,DROP TRIGGER using variable to define trigger's name,"variable := 'trigger_name';

EXECUTE format('DROP TRIGGER %I ON my_table', variable);
"
6665,17363,Update value in field where value falls at certain index in string,"select concat_ws(' ', substring_index(field, ' ', 3),
                 replace(substring_index(substring_index(field, ' ', 7), ' ', -4), -1, 0),
                 substring_index(field, ' ', -3)
                )
"
35350,2387,inner join with m/n relationship tables and sum of a certain column,"SELECT users.*, 
       codes.code, 
       Sum(users.downloads) AS _downloadscount 
FROM   users 
       LEFT JOIN (codes 
                  INNER JOIN codes_users 
                          ON codes.id = codes_users.code_id) 
              ON users.id = codes_users.user_id 
GROUP  BY users.id; 
"
37702,2983,Is there anything like unique_together(max_occurences=3)?," class MyModel(models.Model):
     a = models.IntegerField()
     b = models.IntegerField()
     c = models.IntegerField()

     def save(self):
         try:
             # Check values in model here
         except:
             raise ValueError(""Cannot save more than 3 Cs with an A"")
         super(MyModel, self).save(*args, **kwargs)
"
6355,1784,Selecting NVL With Joins,"SELECT  
 i.equip_pk,
 i.request_pk, 
 NVL(MY_ALIAS.EQUIP_ALIAS_ID, 'Nothing'
 FROM tableOne i
 LEFT OUTER JOIN table2 MY_ALIAS ON (i.EQUIP_PK = MY_ALIAS.EQUIP_PK)
 WHERE i.request_pk=:requestPk 
"
10351,69069,Using multiple subqueries in oracle 10g,"select *
from (select ticket_number, route_id 
      from ticket_header
      union 
      select ticket_number, route_id
      from ticket_detail
     ) t
where route_id > (select route_id from ticket_detail where id = 4)
"
28499,398,Postgres Syntax inner join update and temp table,"insert into docuse (docid,cnt, mindate, maxdate, name  ) 
SELECT x.documenttypeID, x.cnt, x.mi, x.mx,
       ( SELECT DocName d from documenttype where d.documenttypeid = x.documenttypeID)
FROM ( 
    select documenttypeID, 
           count(documenttypeID) as cnt,
           min(Creation_Date) as mi,
           max(Creation_Date) as mx
    from AllDocs a
    group by documenttype
) x;
"
18755,69512,Name of parent category with parent_id,"SELECT A.category_id, A.name AS category,  B.name AS parent
FROM ""Category"" A JOIN ""Category"" B ON A.parent_cat=B.category_id
WHERE A.parent_cat IS NOT NULL
ORDER BY A.name
"
8713,745,Selecting primary keys that do not have foreign keys in another table,"select u.id
from users u
left outer join actions a on a.user_id = u.id
where a.user_id is null
"
20296,22027,MS Acess 2003 - VBA for Update SQL query?,"UPDATE tblMain SET 
[Name] = ""John Doe"", 
[DATE] = #9/30/2009#, 
[TYPE] = ""TypeA"" 
WHERE RecordID = 958;
"
235,38336,MYSQL Query to make the values as duplicates and remove duplicates from table,"delete 
from table
where table.ID NOT IN (
            select MAX(ID)
            from table
            group by customer_id, your_function(data) )
"
26937,18326,SQL query in stored procedure; create a query with condition special parameter,"SELECT r.* 
FROM Roles 
INNER JOIN UserRoles ur
  ON r.Id = ur.RoleId
WHERE ur.UserId = @userId 
  OR @userId = 1
"
4926,11942,Take several 'userID's out of WHERE statement and putting into variable,"DECLARE @UserIDs TABLE (ID nvarchar(50))
INSERT INTO @UserIDs VALUES ('userOne'), ('userTwo')

SELECT ui.userID
FROM userInfo ui 
JOIN userAuthentication ua 
    ON ui.userinfoseqid = ua.userinfoseqid
WHERE ui.userID IN (SELECT ID FROM @UserIDs)
"
28929,3226,Find data for each subsequent financial period year in mdx query," WITH MEMBER [LTII_NIRS_E] AS
'Sum({[DIM TIME].[YEAR - QUARTER - MONTH].currentmember.firstchild.lag(3): [DIM TIME].[YEAR - QUARTER - MONTH].currentmember.firstchild}, [Measures].[LTII NIRS E])'
SELECT [LTII_NIRS_E] ON COLUMNS, 
{ [DIM TIME].[YEAR - QUARTER - MONTH].[2006], [DIM TIME].[YEAR - QUARTER - MONTH].[2007], [DIM TIME].[YEAR - QUARTER - MONTH].[2008]} on ROWS
 FROM [NH_INCID]
 WHERE [Business Component].[Region].[Novelis North America]
"
4135,408,Merge SQL Table rows based on zeros,"select Time, 
       max(Value1) as value1,
       max(Value2) as value2,
       max(Value3) as value3,
       max(Value4) as value4
from MyTable 
group by Time 
"
35514,25715,Joining to Same Column but Getting No Rows,"SELECT 
* FROM Table 1
JOIN Table2 2 on 2.ID = Table1.ID
UNION
SELECT 
* FROM Table 1
JOIN Table2 22 on 22.ParentID = Table1.ID
"
26586,18486,Sum and compare columns from different tables and databases,"select *
from
(select col1, SUM(col2)
from table1
group by col1) t1 INNER JOIN
(select col1, col2
from table2) t2 ON t1.col1 = t2.col1 where t1.col2 <> t2.col2
"
31467,16742,Counting the number of appearances of each id in a table sql db2,"select 
    PID, 
    count(*) as PIDCount
from 
    sales 
group by 
    PID;
"
18651,23927,how to index (or view ) two tables in mysql?,"Create view YOURviewName as   

select
a.aid,
a.name as aname,
u.aid as uid,
u.name as uname,
u.description as udescription
from
a inner join u on a.aid = u.aid
"
3567,55025,Easy mySQL Group By question,"select monthname(DATE_ARRIVAL),sum(TOTAL_EARN) from RESERVATIONS where DATE_ARRIVAL between '2010-01-01' and '2010-12-31 23:59:59' group by monthname(DATE_ARRIVAL);
"
7172,6931,How to pivot a query in MySql,"select name,
  sum(case when year = 2012 then revenue else 0 end) revenue2012,
  sum(case when year = 2012 then qty else 0 end) qty2012,
  sum(case when year = 2013 then revenue else 0 end) revenue2013,
  sum(case when year = 2013 then qty else 0 end) qty2013
from yourtable
group by name
"
31099,35528,Sql query to compare the result between multiple records and provide a result,"select      mfg_name,
            code,
            case when sum(fail) > 0 then 'FAIL' else 'PASS' end as result
from        tbl
group by    mfg_name,
            code
"
37571,47774,if minute is less than 60 then remove hour part from result,"SELECT @Average = 
   case
   when convert(int, @hour) <> 0 then convert(varchar(9), convert(int, @hour)) + ':'
   else ''
   end +   
   right('00' + convert(decimal(10,0), convert(decimal(18,2), @Mns)), 2) + ':' +
   right('00' + CONVERT(decimal(10,0), convert(varchar(10), @second)), 6)
"
3428,54689,"sql-server, count rows where column matches string and id is not repeated","SELECT count(id), state
FROM table_name
WHERE id IN (SELECT id FROM table_name GROUP BY id having count(id) = 1) and state = 'Alabama'
GROUP BY state
"
26850,9417,"Crystal Reports - side by side details from actual and last year, using UNION ALL","select   
    ...
    ,[Date]
    ,CASE 
        WHEN YEAR([Date]) = YEAR(GETDATE()) - 1
        THEN 1
        ELSE 0
    END as [IsLastYear]
into #myTempTbl
from RowsDocs
"
36117,31395,An SQL query to update a table field from information from two other tables,"update category cat
inner join old on cat.book_id = old.id
inner join new on old.isbn = new.isbn
set cat.book_id = new.id
"
15022,5340,SQL query for calculating Net Promoter Score over time,"SELECT date, SUM(answer-1) * 100 / COUNT(answer) as NPS
FROM yourTable
GROUP BY date
"
3506,56990,Auto id for select statements in Oracle,"SELECT ROWID,ROWNUM,name from ITEMS;
"
34673,69937,SQLite: Return the most recent 'n' rows per unique value of column 'y',"select  *
from    YourTable yt1
where   5 <
        (
        select  count(*)
        from    YourTable yt2
        where   yt2.thread_id = yt1.thread_id
                and yt2.msg_id < yt1.thread_id
        )
"
27344,20909,How to calculate difference between tables in MySQL?,"SELECT a.id FROM a LEFT JOIN b ON a.id = b.id WHERE b.id IS NULL
SELECT b.id FROM b LEFT JOIN a ON b.id = a.id WHERE a.id IS NULL
"
3952,14948,How to join multiple tables in MySQL?,"SELECT DISTINCT concat(c.fname,"" "", c.lname) AS fullname, s.description
FROM customer c 
INNER JOIN orders o ON c.customer_num = o.customer_num
INNER JOIN items i ON o.order_num = i.order_num
INNER JOIN stock s on s.stock_num = i.stock_num
WHERE i.manu_code = 'ANZ'
"
982,10507,Joining two similar tables in MySQL,"SELECT a.label_a
  FROM TABLE_A a
UNION ALL
SELECT b.label_b
  FROM TABLE_B b
"
6384,47700,Nested SQL Query,"select s.beginRange, s.endRange, u.id
from SalaryRange s
inner join UserInfo u on u.salary > s.beginRange AND u.salary < s.endRange 
"
31162,26245,How can I easily flatten this Sql Server hierarchy into an inherited inclusive list?,"WITH X (ProductId, CategoryId) AS (
    SELECT ProductId, CategoryId FROM #ProductCategory
    UNION ALL
    SELECT X.ProductId, C.ParentCategoryId FROM X
    INNER JOIN #Category C ON X.CategoryId = C.CategoryId
)
SELECT ProductId, CategoryId FROM X ORDER BY CategoryId, ProductId
"
32169,26395,Grouping by one column and two rows,"select empid,sessionid,
    min(created),max(created),
    datediff(mi,min(created),max(created)) 
from a 
group by empid,sessionid
"
23197,26421,"Get all records with an ID, but the first records should match another condition also","SELECT * FROM stations 
WHERE station_group_id = 1 
ORDER BY if(line_id in('2','X','Y','Z'),0,1)
"
27614,6314,Representing 'not in' subquery as join,"select e.*
from employees e
left join managers m on e.emp_id = m.emp_id
where m.emp_id is null
"
6998,53605,Remove the last comma in SQL UPDATE statement using StrUtils in Delphi,"for i=0 to fields_changed.count {
  sql = sql + fields_changed(i).field_name + "" = "" + fields_changed(i).new_value
  if i < fields_changed.count {
    sql = sql + "", ""
  }
}
sql = sql + "" WHERE ...""
"
6339,32636,Why does Postgres to throw a unique constraint violation on an empty table?,"newThread.conversation.add(savedMessage.id);
"
38922,59262,I need a query designed for MySQL translated to work for SQL Server 2005,"SELECT m.maxdate, t.*, u.*
FROM (
    SELECT topic_id, MAX(messages.date) AS maxdate
    FROM messages
    GROUP BY topic_id
) AS m
    INNER JOIN topics t ON t.id = m.topic_id
    INNER JOIN users u ON t.user_id = u.id
WHERE t.forum_id = "" . $forumid . ""
ORDER BY m.maxdate DESC
"
17923,9722,Get a table of dates of last 14 days (2 weeks) starting from previous day,";WITH n(n) AS 
(
  SELECT TOP (14) ROW_NUMBER() OVER (ORDER BY [object_id]) 
  FROM sys.objects ORDER BY [object_id]
)
SELECT Dates = DATEADD(DAY, -n, DATEDIFF(DAY, 0, GETDATE())) FROM n
ORDER BY n;
"
16541,64034,Where can I find the limitations of SQL Express in SQL Management Studio?,"SELECT SERVERPROPERTY('Edition');
"
16887,56289,Simplify nested case when statement,"SELECT CASE 
WHEN edition = 'STAN' THEN 
     CASE 
          WHEN has9 = 1 THEN '9'
          WHEN has8 = 1 THEN '8'
          WHEN has7 = 1 THEN '7'
          WHEN hasOLD = 1 THEN 'OLD'
     END
WHEN edition = 'SUI' THEN
     CASE 
          WHEN has9 = 1 THEN 'S9'
          WHEN has8 = 1 THEN 'S8'
     END
ELSE 'S7' END AS version
"
19624,25183,one table or several table in mysql,"alter table user_movies 
add primary key (user_id, movie_id)
partition by hash(user_id) partitions 100;
"
29860,39904,SQL MAX of multiple columns?,"SELECT
    CASE
        WHEN Date1 >= Date2 AND Date1 >= Date3 THEN Date1
        WHEN Date2 >= Date1 AND Date2 >= Date3 THEN Date2
        WHEN Date3 >= Date1 AND Date3 >= Date2 THEN Date3
        ELSE                                        Date1
    END AS MostRecentDate
"
332,72630,How Can I Retrieve the DB settings on Joomla?,"$info =& JFactory::getApplication();

$info->getCfg('host'); 
$info->getCfg('user'); 
$info->getCfg('db'); 


// defined in libraries/joomla/application/application.php (380)
function getCfg( $varname ) {
    $config =& JFactory::getConfig();
    return $config->getValue('config.' . $varname);
}
"
11651,32102,Sql server rounding issue down to 2 decimal places,"select cast(round(@num/@vat,3) as decimal(18,2))
"
38008,23812,"Two SQL statements, ignore the return of the first if it has no results?","select * from table1 where ... /* query 1 conditions */
union all
select * from table2 where ... /* query 2 conditions */
and not exists
(select 1 from table1 where ... /* query 1 conditions */)
"
15769,22893,Set Field in One Table Equal To Field In Another on Certain Conditions,"UPDATE t
SET id = t2.id
FROM table1 t JOIN 
  table2 t2 ON t.foo = t2.foo AND
    t.bar = t2.bar AND
    t.buzz = t2.buzz
"
6242,17644,Mysql number of users per month,"Select CAST(CONCAT(YEAR(`timestamp`),'-',MONTH(`timestamp)) AS CHAR) as `month`, COUNT(*) as `hits` FROM db.table WHERE `username`='<the_username>'  GROUP BY `month`;
"
16522,58167,Do triggers have any performance impact on the stored procedure,"     BEFORE or  AFTER 
"
10212,21988,howto realise a query which makes a second query to count the sum?,"SELECT first.name, (
 SELECT COUNT(*) 
 FROM second
 WHERE second.first_id=first.id
) as entries
FROM first
"
28435,40183,SQL LEFT JOIN ON A SINGLE TABLE,"SELECT DISTINCT a.idPrimary, a.idPerson, a.idSchool
FROM MyTable a
LEFT OUTER JOIN MyTable b
ON a.idPerson = b.idPerson
AND b.idSchool IN (2,3)
WHERE a.idSchool = 6
AND b.idSchool IS NULL
"
10166,70199,MySQL Order by value from other table,"SELECT a.Article_ID
     , c.value 
     , a.published
  FROM art_lang a
  LEFT 
  JOIN contents c
    ON c.article_id = a.article_id
   AND c.content_type_id = 9 
   AND c.content_field_id = 2
 ORDER 
    BY c.value IS NULL, c.value
"
34635,12968,Group records into three predefined buckets in Postgres,"SELECT 
    CASE WHEN min(score) <= 150 THEN '*-150'
         WHEN min(score) <= 350 THEN '151-350'
         ELSE '350-*'
         END AS scorerange, #A comma is needed here right after scorerange
    count(*)
FROM scores
GROUP BY score <= 150, score <= 350;
"
29787,44153,Conditional Operator in SQL Where Clause,"SELECT  Team.teamID 
FROM    Team
WHERE   (@teamid = 0 AND Team.teamID > 0)
        OR (@teamid <> 0 AND Team.teamID = @teamid)
"
23853,74028,How to generate a query which consider data from one table and correspondingly fill 0 for non matching fields in mysql,"SELECT  t1.r1, 
        t1.n, 
        t2.r2, 
        CASE WHEN t1.r1 = t2.r2 THEN t2.m ELSE 0 END AS m
FROM    t1
        CROSS JOIN t2
ORDER BY t1.r1, t2.r2;
"
29627,13119,SQL Server - how to select x number of task per x number of workers,"select WorkerID, TaskID
FROM (
    SELECT Workers.WorkerID, Tasks.TaskID, 
        row_number() over (partition by Workers.WorkerID order by Tasks.TaskID) AS rn
    FROM Workers
    LEFT JOIN Tasks ON Workers.WorkerID = Tasks.WorkerID 
    WHERE Workers.WorkerName LIKE '%Browne%'
) where rn <= 4
"
12992,9826,SQL - get from table and join with same table,"SELECT DISTINCT id, crm2.user_id, name, admin, 
FROM ChatRoomMap crm1
JOIN ChatRoom ON crm1.chatroom_id = ChatRoom.id
LEFT JOIN ChatRoomMap crm2 ON crm2.chatroom_id = crm1.chatroom_id
    AND crm2.user_id != crm1.user_id -- only other users
WHERE crm1.user_id = $1
"
39362,57199,Oracle: find index creation date from systables/information_schema?,"select dbms_metadata.get_ddl('INDEX','DEPT_IDX','SCOTT') from dual;
"
283,45277,aggregate query without group by,"SELECT JNumber,
       (SELECT SUM(Quantity * Weight) / SUM(Quantitiy)
        FROM SPJ
        JOIN Part USING (PNumber)
        WHERE JNumber = Project.JNumber
       ) AS AvgParts
FROM Project
"
414,33619,How to Select records of a certain format in MS SQL Server,"select ein.edl_EmployeeID, ein.edl_LogDate, ein.edl_LogTime as [Out], eout.edl_LogTime [Out]
from T_EmployeeDTRLogs ein
inner join T_EmployeeDTRLogs eout on ein.edl_EmployeeID = eout.edl_EmployeeID
and ein.edl_LogDate = eout.edl_LogDate
where ein.edl_LogType = 'IN'
and eout.edl_LogType = 'OUT'
"
5855,72523,How can i get data on 1 hour basis,"select ...
from   ...
where  to_char(date_time,'HH24') = '17'
"
27872,50933,How to us an aggregated value in the where clause,"SELECT 
     p.name, p.address, p.city, sum(v.price) as total
 FROM 
     VISIT v 
 JOIN 
     PATIENT p ON p.Pat_Number = v.Pat_Number
 WHERE 
     Date(Visit_Date) < '01/01/2012'      
 GROUP BY
     p.name, p.address, p.city, p.Pat_Number, v.Pat_Number
 HAVING SUM(v.price) > 1000
 ORDER BY 
     total DESC;
"
25272,36179,SQL select where matching record exists and no matching record,"SELECT 
  tb1.booking_ref, tb1.investor, tb2.cost 
FROM 
  tb1
      left join tb2 
          on tb1.booking_ref = tb2.booking_ref
              and tb1.investor = tb2.investor 
WHERE tb1.investor = ''12345''
"
27207,67954,Find all Columns and its count of occurrence which have value 1 in SQL Server table,"select count(case when T.Name = 0 then 1 end) as NameCount,
       count(case when T.Dept = 0 then 1 end) as DeptCount,
       count(case when T.Project = 0 then 1 end) as ProjectCount
from YourTable as T
"
2792,20043,Increment row depending on value of another column,"row_number() over (order by YEAR(TourTbl.DT_Started) asc,
                            MONTH(TourTbl.DT_Started) asc ) +
min(YEAR(TourTbl.DT_Started)*12+MONTH(TourTbl.DT_Started)-1) OVER () % 12 as Row 
"
25320,41608,where clause with date range give strange result,"SELECT TO_Char(ordered_date,'DD-MON-YYYY') as ordered_date,
    order_number, customer_name   
FROM order_tbl
WHERE NVL(:P_ORDER_NUMBER, order_number) = order_number
  AND ordered_date between NVL(TO_DATE(:P_FROM_DATE,'DD-MON-YYYY'),TO_DATE('01-MAR-1900','DD-MON-YYYY')) and NVL(to_date(:P_TO_DATE,'DD-MON-YYYY'),TO_DATE('31-DEC-2100','DD-MON-YYYY'))   
  AND NVL(:P_CUSTOMER_NAME, customer_name) = customer_name
"
17892,40661,Oracle : Search between two Timestamps is not working,"select * 
from event_detl 
where START_DT 
 between to_timestamp('02-07-2014 14:24:03', 'dd-mm-yyyy hh24:mi:ss') 
  and to_timestamp('02-07-2014 14:24:05', 'dd-mm-yyyy hh24:mi:ss'
"
27616,30995,How do I create this Select Statement?,"select empid, employeename
from Employee
where deptid in (
    select deptid
    from Employee
    group by deptid
    having count(*) > 3
)
"
6885,46438,Using guid in sqlite select where guid is stored in the sqlite db as binaries,"SELECT * FROM Employee
WHERE Employee.Id = X'a8828ddfef224d36935a1c66ae86ebb3';
"
39126,52682,SQL IF statement?,"select (case when TransDate < '2012-06-30' then TransAmt else 0 end)
. . .
"
4745,23697,Postgres - How to order/rank by coincidences in a query with or,"order by (case when c2 = 11 then 1 else 0 end) +
         (case when c3 = 15 then 1 else 0 end) +
         (case when c7 = false then 1 else 0 end) desc
"
9443,26900,How to create a query with phpMoAdmin?,"array('name' => 'Smith')
"
3003,52126,SQL Loop sadness,";WITH CTE as 
(SELECT row_number() over (order by pk) rn, items
FROM dbo.TEST)
SELECT @Name = Lower(items) FROM CTE where rn = @i
"
28454,32807,Retrieve column values from table based on condition in SQL Server,"SELECT      JobNo
FROM        MyTable
GROUP BY    JobNo
HAVING      SUM(IIF(Status = 'Delivered', 0 , 1)) = 0
"
7806,41847,Cant create a table called address in oracle 11g,"CREATE TABLE ADDRESSES
(
addressID      VARCHAR2 (15 CHAR) NOT NULL ,
address_line1  VARCHAR2 (30 CHAR) NOT NULL ,
address_line2  VARCHAR2 (30 CHAR) ,
city           VARCHAR2 (20 CHAR) NOT NULL ,
post_code      VARCHAR2 (10 CHAR) NOT NULL ,
OWNERS_ownerID VARCHAR2 (15 CHAR) NOT NULL
) ;
ALTER TABLE ADDRESSES ADD CONSTRAINT ADDRESSES_PK PRIMARY KEY ( addressID ) ;
"
14630,63055,How to search a string in another string using CHARINDEX?,"SELECT
    CASE
        WHEN CHARINDEX('333',[ACType Iata]) > 0 THEN 'Big AC'
        WHEN CHARINDEX('340',[ACType Iata]) > 0 THEN 'Big AC'
        WHEN CHARINDEX('332',[ACType Iata]) > 0 THEN 'Big AC'
        ELSE ''
    END AS MyColumn
FROM
    [MyTable]
"
32177,23141,SQL Server equivalent of PostgreSQL distinct on (),";WITH CTE AS
(
    SELECT *, ROW_NUMBER() OVER(PARTITION BY a ORDER BY b) Corr
    FROM my_table
)
SELECT *
FROM CTE
WHERE Corr = 1
"
31466,40536,Android upload SQLite data to server database,"select
     QUIZ.quiz_name
     ,QUESTION.question_name
     ,ANSWER.answer_name
     ,MCQ_ANSWER.mcq_answer_name
from QUIZ
     left join QUESTION on QUESTION.quiz_id_fk = QUIZ.quiz_id
     left join ANSWER on ANSWER.question_id_fk = QUESTION.question_id
     left join MCQ_ANSWER on MCQ_ANSWER.question_id_fk = QUESTION.question_id
//where QUIZ.quiz_id = ...
"
28854,12595,"SQL table update from selection/join with multiple columns, only one column data needed","update Transaction
    set total = (
        select SUM(sale.quantity * Item.price)
            from Sale
                inner join Item on Sale.I_ID = Item.I_ID
            where Sale.T_ID = Transaction.T_ID
    )
"
4079,59486,Zend Form Object as a string,"$html = str_replace('{WIDGET_FORM}', $form->__toString(), $html);
"
22463,27165,Add 1 day to original date and put in a different table,"UPDATE someTable SET Due_Date = DATEADD(day,1,Created_Date) WHERE ...
"
10503,48309,sql limit join with a scope,"SELECT ararnr, ararir, pyarnr, pypykd, pyarpy
FROM ar left join
     py
     on ar.ararnr = py.pyarnr and py.pypykd ='C' 
WHERE ar.ararnr in ('1002032', '1904140', . . .)
ORDER BY case when ararnr='1002032' then 1 ararnr ='1904140' then 2 etc... end"";
"
24372,27600,Set position of android spinner from database id,"int habitId = cursor.getInt(cursor.getColumnIndexOrThrow(GoalTable.COLUMN_HABIT_ID));
for(int pos = mAdapter.getCount(); pos >= 0; pos--) {
  if(mAdapter.getItemId(pos) == habitId) {
    mHabitSelect.setSelection(pos);
    break;
  }
}
"
34641,73615,Mysql request on multiple tables,"SELECT table2.store, table1.*
FROM table1
INNER JOIN table2
      ON table2.id_product=table1.id_product
WHERE table1.id_product='p1'
INTO OUTFILE 'file_name'
"
17939,42507,"SQL ON DELETE CASCADE, Which Way Does the Deletion Occur?","CREATE TABLE Categories 
(
  Code CHAR(4) NOT NULL PRIMARY KEY,
  CategoryName VARCHAR(63) NOT NULL UNIQUE
);

CREATE TABLE Courses 
(
  CourseID INT NOT NULL PRIMARY KEY,
  BookID INT NOT NULL,
  CatCode CHAR(4) NOT NULL,
  CourseNum CHAR(3) NOT NULL,
  CourseSec CHAR(1) NOT NULL,
);

ALTER TABLE Courses
ADD FOREIGN KEY (Course)
REFERENCES Categories(Code)
ON DELETE CASCADE;
"
10778,43876,SQL Query put a word in a field instead of 0?,"SELECT
CASE WHEN F2 = '0' THEN '(No Phone Number)' ELSE F2 END AS Phone
...
"
34070,30949,How to add sequence number for each element in a group using a SQL query without temp tables,"SELECT
    ROW_NUMBER() OVER(PARTITION BY [Group] ORDER BY Record) AS GroupSequence1,
    RANK() OVER(PARTITION BY [Group] ORDER BY Record) AS GroupSequence2,
    DENSE_RANK() OVER(PARTITION BY [Group] ORDER BY Record) AS GroupSequence3,
    Table1.Group,
    Table1.Record
FROM
    Table1
"
20973,44730,Using SQL to retrieve the most popular queries in a dataset,"SELECT search_location, SUM(num_searches) as total_searches
    FROM my_table
    GROUP BY search_location
    ORDER BY total_searches DESC
    LIMIT 100;
"
9967,59384,Assign multiple values to Table variable in SQL,"INSERT INTO @CID
select * from
(
   select 
   'Temp' + convert(char(1), row_number() over (order by (select 0)))  as columnName,
   INPUT_PARM_VAL_TX as Value
   from TBL_RPT_JOB_INPUT_PARAM where USER_REQ_JOB_ID = @ID
) d
pivot
(
  max(value)
  for columnname in (Temp1, Temp2, Temp3, Temp4, Temp5)
) piv;
"
855,62438,Why doesn't the Select statement assigns an empty string or null value if it doesn't return a result?,"SELECT @testValue = (SELECT 'NOTUSED' where 1 > 2);
"
22868,40268,Store the result of a stored procedure without using an output parameter,"DECLARE @tmpTable TABLE (ID UNIQUEIDENTIFIER)

INSERT INTO @tmpTable
   EXEC dbo.up_proc2 ..........
"
2219,13330,Search text in stored procedure in SQL Server,"...
WHERE m.definition Like '%\[ABD\]%' ESCAPE '\'
"
26579,41153,wrong date insert into the datablock,"SELECT  to_date(TO_CHAR(sysdate, 'DD/MM/YY HH:MI:SS AM'),'DD/MM/YYYY HH:MI:SS AM')
FROM dual;
"
11984,64677,Creating relation between tables in Movie Database,"FilmRole( FilmId INT, RoleId INT) these 2 columns would make your PK and they are also FK's to their 
FilmPeople (FilmId INT, PeopleId INT)  respective source tables.
FilmUsers( FilmId INT, UserId INT)
"
1115,25684,"GROUP BY, HAVING, and COUNT to get aggregated results","SELECT PortfolioBaseCode, COUNT(  portfoliobasecode) AS Pcount
FROM APXFirm.AdvApp.vPerformance
WHERE rowtypecode = 'd' AND  
      DetailKeyCode is NOT NULL AND
      NetOrGrossCode = 'n' AND
      DetailKeyCode <> 'us' AND
      PortfolioBaseCode IN ('test', 'test2')
GROUP BY PortfolioBaseCode
HAVING SUM(marketvalue) > 1;
"
28034,3483,select values from multiple tables where value = X,"SELECT u.userID, u.username, u.userAvatar, u.accessLevel,  al.titleColor
FROM CMS_AccessLevels al
INNER JOIN CMS_Users u
ON u.accessLevel = al.accessLevel
WHERE u.userID = 3
"
32094,42866,Temporarily create a row?,"SELECT numberOfThings,
       TypeOfThings 
FROM thingsTable tt 
UNION ALL 
SELECT 24, 'Fake Type of Things'
"
26353,38277,Using temp column to filter the results,"select  *
from    (
        select  salary-2000 as deducted_salary
        ,       *
        from 
                EmployeeDetails 
        ) SubQueryAlias
where   Deductedsalary > 5000
"
588,74774,Ordering by the difference between two averages,"SELECT `typeID`, AVG(IF(`bid`, `price`, 0)) AS `average_buy_price`, AVG(IF(`bid`, 0, `price`)) AS `average_sell_price`,
AVG(IF(`bid`, `price`, 0)) - AVG(IF(`bid`, 0, `price`)) AS `difference`
FROM `orders`
GROUP BY `typeID`
LIMIT 100
ORDER BY `difference` DESC;
"
29812,17603,Sqlite query - How I can select a predecessor?,"SELECT *
FROM mytable m
WHERE m.id = (SELECT MAX(m2.id)
              FROM mytable m2
              WHERE m2.ID < 2);
"
35569,64597,Data from several temp tables to be consolidated in one temp table,"SELECT a.CSTId, sum(CASE WHEN Processed = 'Yes' THEN 1 ELSE 0 END) as num_yes, count(cst_id) as num_total
FROM #temp a
  INNER JOIN cst b ON a.caseSeveranceID = b.CaseSeveranceID
GROUP BY a.CSTId
"
28707,73325,Multi tables relations in SELECT request,"SELECT *
FROM table1
  JOIN table2 ON table1.champs = table2.champs 
  JOIN table3 ON table2.champs = table3.champs
"
3883,6554,Full outer join misbehaving,"SELECT DISTINCT a.username as q2, b.username as q3
FROM dbo.tablea as a
FULL OUTER JOIN dbo.tableb as b
ON a.username = b.username
AND (a.appname = b.appname)
WHERE a.appname = 'app1' OR b.appname = 'app1';

-- or

SELECT DISTINCT a.username as q2, b.username as q3
FROM dbo.tablea as a
FULL OUTER JOIN dbo.tableb as b
ON a.username = b.username
AND (a.appname = b.appname)
WHERE 'app1' IN (a.appname, b.appname);
"
30082,41015,SQL Server stored procedure : create increment ID in each occurrence of value,"WITH CTE AS(
    SELECT n.*, 
           NameOcc = ROW_NUMBER() OVER (PARTITION BY Name, City ORDER BY Name, City, Day)
    FROM dbo.Names n
)
SELECT * FROM CTE
"
37102,75360,Merge two queries into one,"SELECT a.field_1, a.field_2, b.field_3, b.field_4
FROM tbl_a AS a, tbl_b AS b
WHERE a.field_1 = b.field_3
AND (
CASE WHEN a.field_1 IN (1,2,3,4) THEN
      CASE WHEN A.FIELD_DATE = NOW() THEN 1 ELSE 0
      END
ELSE 1
END) = 1
"
17771,7487,SQL Server query to further summarize grouped data,"WITH DistinctCounts AS (
  SELECT invoiceNumber, COUNT(DISTINCT itemNumber) AS distinctItems
  FROM transactions 
  GROUP BY invoiceNumber
)
  SELECT AVG(distinctItems)
  FROM DistinctCounts
"
30713,18500,Oracle LAG/LEAD analytic functions works as join or not?,"select CURRENCY,
       RATE,
       XDATE,
       lead(XDATE) over(partition by CURRENCY order by XDATE)
  from CURRENCY_RATE
;
"
8463,27412,SQL: Concat a column with a limit?,"select city,
  state,
  substring_index(group_concat(stores SEPARATOR ', '), ', ', 2) stores
from yt                                                   -- ^ number of values to limit
group by city, state;
"
20413,70497,postgresql function confusion,"select length(' '::character(1));
 length
--------
      0
(1 row)
"
34024,28058,Placing variable number of variables into fields in table,"=DLookUp(""[LastName]"", ""Employees"", ""[EmployeeID] = 7"")
"
28945,12264,Grouping different 'names' into one,"select location, sum(qty) as total
from (select case when Location in ('Location A','Location B') then Location
             else 'Container' end as location,
             qty from tablename)
group by location
"
37109,56175,T-SQL JOIN not bring back valid results but a separate query does,"SELECT TOP 1
    o.CustomerID 
    ,ups.UPSAccount as UPSAccount1
   ,ups.CID as UPSCID
   ,ups.Address as  UPSAddress1
   ,ups.DesiredService  UPSDesiredService1
   ,ups.Address2 as UPSAddress2
   ,ups.Suit as UPSSuite
   ,ups.city as UPSCity
   ,ups.Country as UPSCountry
   ,ups.SP as UPSState
   ,ups.Zip as UPSZip
FROM dbo.orders o 
LEFT OUTER JOIN UPSAccountInfo ups
ON ups.cid = o.customerid
WHERE o.OrderNumber = @ordernum
ORDER BY ups.date DESC
"
5073,47810,How to make a return type for a result set in LINQ,"var typed = from row in cxt.SomeFunction(123)
            select new MyType {Id = row.Id, Name = row.Name, ...}
"
776,13513,sql with rounding issue,"SELECT (33.333 / 2) FROM dual;
16,6665

SELECT (16.6665 * 2) FROM dual;
33,333
"
3104,10736,Get information from another table with JOIN,"SELECT ca.id_imdb AS IMDb_ID
, caat.id_collection AS collection_ID
, ca.data_name AS actors_name
FROM collection_actors AS ca
INNER JOIN collection_actors_assignedto AS caat ON ca.id_imdb = caat.id_collection
WHERE caat.id_collection = 'tt1104001'
"
7499,71963,Cull top and bottom % of SQL result; exclude percent on query?,"    WITH NumberedMyTable AS
    (
       SELECT
         Id,
         Score,
         ROW_NUMBER() OVER (ORDER BY score) AS RowNumber
     FROM
        MyTable
    )
  SELECT
     SUM(score)/COUNT(*)
  FROM
     NumberedMyTable
  WHERE
      RowNumber BETWEEN @From AND @To
"
19161,54721,complex sql grouping and sorting,"SELECT DATE_FORMAT(t1.LogDate, '%d/%c/%Y') AS LogDate, t1.EmployeeName
     , t1.LogTime AS Login
     , ( SELECT MIN(t2.LogTime) FROM myTable t2
          WHERE t2.LogType = 'LOGOUT'
            AND t2.LogDate = t1.LogDate
            AND t2.EmployeeName = t1.EmployeeName
            AND t2.LogTime > t1.LogTime ) AS Logout
  FROM myTable t1
 WHERE t1.LogType = 'LOGIN'
"
20367,26173,TSQL Max in a Range,"SELECT foo1, foo2, foo3, field_etc, max(Score) MaxScore
 from (select foo1, foo2, foo3, field_etc, Score1, Score2, Score3, Score4, Score5
        from SomeTable) base
  unpivot (Score
           for WhichScore
           in (Score1, Score2, Score3, Score4, Score5)) upvt
  group by foo1, foo2, foo3, field_etc
"
26603,55316,Retrieving the TOP 10 data with arithmetic operation,"select p.post_id,u.fname,u.lname,
case when sum(upvotes)+sum(downvotes) is null then 0
else sum(upvotes)+sum(downvotes) end as vote
 from post p left join
 (
 SELECT post_id,
 CASE WHEN vote_type = 'upvote' then 1 ELSE 0 END as ""upvotes"", 
 CASE WHEN vote_type = 'downvote' then -1 ELSE 0 END as ""downvotes""
 FROM vote 
 ) t
 on p.post_id = t.post_id
 left join user_info u on p.user_id = u.id
 group by p.post_id
 order by vote desc, sum(upvotes) desc, sum(downvotes) desc
 limit 10;
"
8940,14524,UTL_file: continue reading even if it encounters blank rows,"...
    Loop
    BEGIN
       UTL_FILE.GET_LINE(F1,V1); 
       IF  (TRIM(V1) is not null) AND ((TRIM(V1) <> CHR(10)) OR (TRIM(V1) <> CHR(13)))  THEN
                  dbms_output.put_line(V1);
       END IF;
...
"
22900,49801,Using COUNT and UNION to extract data and support a scenario,"select CustomerId, VoucherId, MinimumSpendAmount, ValidFromDate, ValidToDate
from dbo.discountvoucher
where ValidFromDate <= 15/11/2013
and ValidToDate >= 15/11/2013
and CustomerId in
    (select CustomerId
    from dbo.discountvoucher
    where ValidFromDate <= 15/11/2013
    and ValidToDate >= 15/11/2013
    group by CustomerId
    having sum(case when MinimumSpendAmount > 0 then 1 else 0 end) = 1
    and sum(case when MinimumSpendAmount = 0 then 1 else 0 end) = 1
    )
order by CustomerId
"
38368,24001,SQL define table for treelike structure,"CREATE TABLE [dbo].[Categories]
(
    [Id] INT NOT NULL PRIMARY KEY IDENTITY, 
    [Name] NVARCHAR(50) NOT NULL, 
    [ParentId] INT NOT NULL ,
    ---llow NULL FK_Parent for top-level
    CONSTRAINT [FK_Parent] FOREIGN KEY ([ParentId]) REFERENCES [Categories]([Id])
)
"
17674,6878,"When using MAX(column), values from other columns don't match","select a.nid ,a.revID ,a.version
from   `revision_history` a
JOIN
      (SELECT nid,  MAX(version) as version
        FROM `revision_history` 
        GROUP BY nid)b
ON    a.nid=b.nid
AND   a.version=b.version
"
5568,56454,Syntax combine two stored procedure into one," SELECT *
 FROM   [Live].[Test]
 WHERE  [_fk_RoadMapKey] = @_fk_RoadMapKey

 SELECT S.*
 FROM  [Live].[SetofTestGrades] S 
 INNER JOIN [Live].[Test] T ON S.[_fk_TestKey]  = T.[TestKey]
 WHERE  t.[_fk_RoadMapKey] = @_fk_RoadMapKey
"
24746,70740,How to compare binary fields longer than 64 bits,"create table #a
(
X varbinary(24) null
)
create table #k
(
K varbinary(24) null
)

select X,K
abs(substring(X,1,8)&cast(substring(K,1,8) as bigint))
+abs(substring(X,9,8)&cast(substring(K,9,8) as bigint))
+abs(substring(X,17,8)&cast(substring(K,17,8) as bigint)) as result
 from #a,#K
"
29789,65408,Fetching the max record for an employee for each month,"select * from (
 select 
  *, 
  rn = ROW_NUMBER() over (partition by empnumber, year(createddate), month(createddate) order by createddate desc) 
  from t 
) x where rn = 1
"
25776,46854,How do I query this case,"SELECT a_id, j.b_id, k.b_id 
FROM   a
LEFT   JOIN b j ON a.x BETWEEN j.n AND j.m
LEFT   JOIN b k ON a.y BETWEEN k.n AND k.m
"
4453,64756,sql to remove repeating data,"WITH MostRecentData AS
(
    SELECT MAX(dateImported) dateImported, month, year
    FROM header
    GROUP BY month, year
)
SELECT ...
FROM detail d
INNER JOIN header h ON h.[key] = d.[key]
INNER JOIN MostRecentData r ON h.month = r.month AND h.year = r.year 
    AND h.dateImported = r.dateImporter
"
34093,5278,Getting data using distinct in T-SQL,"SELECT CsvLocation, MAX(ExportedDate)
FROM your_table
GROUP BY CsvLocation
"
2875,36899,combine 3 or more columns to one in sql-server,"SELECT isnull(column1, 'abs') + ',' + isnull(column2, 'abc') + ',' + isnull(column3, 'abc') as OneColumnResult from TABLE
"
20274,73856,MySQL - Is it possible to get 'the difference' of two query results?,"SELECT id FROM queryOneTable
WHERE id NOT IN (
    SELECT id FROM queryTwoTable
)
"
26170,66622,Rename multiple records oracle,"DECLARE
  CURSOR name_cursor IS
    SELECT id, name
    FROM Location
    WHERE REGEXP_LIKE(name, '[!@#$%^&*=+/<>?|]')
    FOR UPDATE OF name;
BEGIN
  FOR loc_rec IN name_cursor LOOP
    DBMS_Output.Put_Line(loc_rec.name);
    UPDATE Location SET name = 'whatever' WHERE CURRENT OF loc_rec;
  END LOOP;
END;
"
23107,60417,MySQL SELECT with an extra column containing a string,"SELECT id, col1, col2, '12:48' AS tempCol
"
749,65808,Creating an SQL View With Calculations From Multiple Tables,"Select      c.Name, Count(Distinct b.UserName) Votes
From        ballot_table    b
Right Join  candidate       c On c.Name = b.Vote
Group By    c.Name
"
24599,36268,How to do a SQL SELECT query with a JOIN that doesn't use the key?,"insert into tableNew
select keyC, keyA, keyB, atrC1, atrC2
from tableC c
join tableA a on a.atrA1 = c.atrA1 and a.atrA2 = c.atrA2
join tableB b on b.atrB1 = c.atrB1
"
29966,74038,Can there be constraints with the same name in a DB?,"CREATE TABLE BankAccount
(
    BankAccountID   INT            PRIMARY KEY,
    EmployerCode    VARCHAR(20)    NOT NULL,
    Amount          MONEY          NOT NULL,
    CONSTRAINT FK_BankAccount_Employer 
        FOREIGN KEY (EmployerCode) REFERENCES Employer
)
"
19765,46236,How to create a concatenated string of row values based on flags in SQL Server,"SELECT a.id,
    REPLACE(REPLACE(REPLACE(
    ( 
        SELECT TEXT
        FROM FlagTable AS b 
        WHERE a.flags & b.flag <> 0 
        ORDER BY b.text FOR XML Raw
    )
    , '""/><row value=""', ', '), '<row value=""', ''), '""/>', '') 
    AS 'attributes'
FROM FlagMappingTable AS a
ORDER BY a.id;
"
324,69609,Finding a single value among multiple columns,"Select *
from users u
where 'appl1' in (u.app1, u.app2, u.app3,  . . . u.app20)
"
21586,6700,SQL - selecting first matching record for join,"SELECT 
        items.member_id, items.item_id, items.title, photo.photo_id, photo.blob_id, photo.image_width, photo.image_height
FROM 
        items
JOIN photos on items.item_id = photos.item_id
JOIN (SELECT item_id, min(sort_order) as min_sort_order
        FROM photos
        GROUP BY item_id) min_photo on photos.item_id=min_photo.item_id and photos.sort_order=min_photo.min_sort_order
WHERE items.member_id=1
ORDER BY items.title;
"
11718,42007,Function that can be used in sql statement," select * from emp_history where emp_no in (select * from table(your pipelined function))
"
39478,6109,Sum of a activity,"SELECT M.mName, SUM(S.sodSeats) SoldSeats
FROM Movie M
LEFT JOIN Prog P
    ON M.movieID = P.movieID
LEFT JOIN Show S
    ON P.showID = S.showID
GROUP BY M.mName
"
21515,11172,Possible to use SQL to sort by date but put null dates at the back of the results set?,"SELECT * FROM myTable
WHERE ...
ORDER BY CASE WHEN myDate IS NULL THEN 1 ELSE 0 END, myDate;
"
31900,13420,Oracle SQL get column value associated with max(count()),"SELECT c.climberid AS oakid, STATS_MODE(r.rating) AS skill
FROM climbs c
INNER JOIN routes r ON (c.routename = r.name)
GROUP BY c.climberid;
"
15860,113,sql query - update fields in existing with record values in the same table,"WITH C as 
(
  select Tracker.*,
    ROW_NUMBER() OVER (PARTITION BY GroupId ORDER BY Id) as RN
  FROM Tracker  
)  
UPDATE CT 
SET CT.topSort=CTU.topSort,
    CT.sideSort=CTU.sideSort

FROM C as CT
JOIN C as CTU ON (CT.rn=CTU.rn) 
                  and (CTU.GroupID=1)
WHERE CT.GroupID=2
"
32852,27966,OUTPUT Clause in MySQL,"START TRANSACTION;

SELECT * FROM table WHERE id = 1 FOR UPDATE; -- lock rows
-- Or call this select to insert and lock rows
-- INSERT INTO table_output SELECT * FROM table WHERE id = 1 FOR UPDATE;

-- Make modifications
UPDATE table SET column1 = '111' WHERE id = 1;

COMMIT;
"
36014,48240,Greatest Date group by TCP address,"select yt.id, yt.tcpAddress, yt.analog, yt.discrete, yt.counter, yt.date 
from xactions yt 
inner join ( 
  select tcpAddress, max(date) date 
  from xactions 
  where tcpAddress in ('192.168.1.161', '192.168.1.162')
  group by tcpAddress
 ) ss using (tcpAddress, date);
"
2667,9658,convert datediff minutes to 100 base format in sql,"Declare @Start DateTime='02-03-2014 14:25:00'
Declare @End DateTime='02-03-2014 20:29:00'

SELECT DATEDIFF(s,@Start,@End)/3600.00
"
8423,28577,Sql Like operator that matches a column with only multiple whitespaces,"SELECT 'True'
WHERE '                     ' = ''
"
35578,6208,How to drop users by mask in the Oracle RDBMS,"--Bye Users!
FOR i IN (SELECT t.username
            FROM DBA_USERS t
           WHERE t.username LIKE 'WIN%') LOOP
  EXECUTE IMMEDIATE 'drop user '|| i.username ||'';
END LOOP;
"
28287,21673,Increasing the speed of a query with a sub select?,"SELECT * 
  FROM eshop_items AS ite 
 WHERE ItemId IN (
       SELECT attItemId
         FROM eshop_items_attributes 
        WHERE attType=5 
          AND attValue='20')
 ORDER BY itemAdded DESC 
 LIMIT 0, 18 
"
39653,16428,How to output data from iSQL to csv file _with_ headings?,"SELECT 'ID;LASTNAME;FIRSTNAME;DOB' FROM dummy;
OUTPUT TO 'C:\\temp\\sometable.csv' FORMAT ASCII DELIMITED BY ';' QUOTE '';
"
21451,19457,Oracle Forms 6i Comparing Fields,"Begin

  IF (LTRIM(RTRIM(:field1)) = LTRIM(RTRIM(:field2))) 
  OR (:field1 IS NULL AND :field2 IS NULL) THEN
   Show_Message('Fields Match');

  ELSE
   Show_Message('Fields DO NOT Match');

  END IF;

End;
"
5356,20702,How to get the last reading for each day,"WITH
  sequenced AS
(
  SELECT
    ROW_NUMBER() OVER (PARTITION BY sensor_id, Date_Reading ORDER BY DateTimeStamp DESC) AS daily_sequence_id,
    *
  FROM
    dbo.NewLogTable
)
SELECT
  *
FROM
  sequenced
WHERE
  sensor_id = '12345'
  AND Date_Reading BETWEEN '2012-08-01' AND '2012-08-31'
  AND daily_sequence_id = 1
"
26515,22356,How can I quickly solve this query?,"select a.name as name,b.name as represon from table1 a 
inner join table1 b on a.code=b.rperson
"
22808,75592,Reorganizing a picklist based on aisle direction,"SELECT aisle, bin, 
  ( SELECT MAX(sequence) FROM myTable 
    WHERE t.aisle != aisle and sequence < t.sequence)
  + ROW_NUMBER() OVER(PARTITION BY aisle ORDER BY sort_order * bin) as newsequence
FROM myTable t
"
5564,12775,mysql query to get the count of each element in a column,"select main_cat_id , count(*) as total
from category
where ( main_cat_id in (select categoryid from products) 
                       OR 
       sub_cat_id in (select categoryid from products)
       )
group by main_cat_id 
order by total desc
"
15721,37508,How to count the number of occurrences of a particular word in a MySQL blob text?,"SET @searchthis=""lumia""; 
SELECT  CAST((LENGTH(`documents`.`file`) - 
              LENGTH(REPLACE(`documents`.`file`, @searchthis, """"))) /
              LENGTH(@searchthis) AS UNSIGNED
            ) AS searchthis_count
    FROM  documents ;
"
33622,53777,Using Cacti for monitoring Microsoft SQL servers,"/*  SQL 2005/2008 */
USE [master]
GO
CREATE LOGIN [cactistats] WITH PASSWORD=SomePassword, DEFAULT_DATABASE=[master], DEFAULT_LANGUAGE=[us_english], CHECK_EXPIRATION=OFF, CHECK_POLICY=OFF
GO
EXEC sys.sp_addsrvrolemember @loginame = N'cactistats', @rolename = N'processadmin'
GO
CREATE USER [cactistats] FOR LOGIN [cactistats] WITH DEFAULT_SCHEMA=[dbo]
GO
GRANT SELECT ON [sys].[dm_os_performance_counters] TO [cactistats]
GO
/* END */
"
29487,64180,SQL duration between two dates in different rows,"SELECT ABS(DATEDIFF(HOUR, CA.TheDate, CB.TheDate)) AS HoursBetween
FROM dbo.Customers CA
INNER JOIN dbo.Customers CB
ON CB.Name = CA.Name
AND CB.Code = 'B'
WHERE CA.Code = 'A'
"
644,20362,Theres a better way of do this kind of query?,"SELECT S.*, F.id AS Fid
FROM messages AS S
LEFT JOIN Friends AS F
ON s.id = F.UserId
"
31386,62722,How to select lowest value for each subject?,"SELECT subject_ID    
    , Date     
    , Test_id
    , MIN(value)
FROM YourTable
GROUP BY subject_ID    
    , Date     
    , Test_id
"
25704,44401,oracle sql query to get column values without space,"SELECT test_col FROM a WHERE REGEXP_LIKE(test_col, '^[^ ]{2}.*$'); 
"
29232,5057,How to script SQL server database role?,"declare @RoleName varchar(50) = 'RoleName'

declare @Script varchar(max) = 'CREATE ROLE ' + @RoleName + char(13)
select @script = @script + 'GRANT ' + prm.permission_name + ' ON ' + OBJECT_NAME(major_id) + ' TO ' + rol.name + char(13) COLLATE Latin1_General_CI_AS 
from sys.database_permissions prm
    join sys.database_principals rol on
        prm.grantee_principal_id = rol.principal_id
where rol.name = @RoleName

print @script
"
21408,43369,"How to SELECT two columns, where one column must be DISTINCT?","SELECT col1, MAX(col2) col2_max
FROM Table1
WHERE col3 = 'X'
GROUP BY col1
ORDER BY col2_max
"
12605,59049,How to get current transaction details for a user in SQL?,"SELECT  a.*
FROM    tableName a
        INNER JOIN
        (
            SELECT AssetID, MAX(TRANSFER_DATE) maxDATE
            FROM tableName
            GROUP BY AssetID
        ) b ON a.AssetID = b.AssetID AND
                a.Transfer_Date = b.maxDATE
"
17316,34926,Scalable and performant way to run calculations against a database,"UPDATE c SET NextCallTime = dbo.GetNextCallTime(CallID)
OUTPUT deleted.* --Which returns the copy of the row before the change is made
FROM 
(SELECT TOP 1 * FROM Calls ORDER BY NextCallTime) c
;
"
6311,34986,How to select most recent values?,"select *
  from log l
 where minute =
       (select max(x.minute) from log x where x.probeid = l.probeid)
"
24283,66339,Using DISTINCT and COUNT together in a MySQL Query,"SELECT COUNT(DISTINCT productId) from  table_name WHERE keyword='$keyword'
"
7425,39393,How to process groups in the order they appear in SQL?,"SELECT parent,
    RANK() OVER (ORDER BY MIN(id)) [ranking]
FROM t1
GROUP BY parent
ORDER BY [ranking]
"
7750,37421,Razor check if row exists,"var db = Database.Open(""SmallBakery"");
var count = db.QueryValue(""SELECT COUNT(*) FROM Product WHERE Id = @0"", 123);
if (count > 0) {
    // the record exists
}
"
10977,37766,Firebird SQL: query slow due to coalesce or can it be rewritten,"SELECT v.id,
       sum(case when a.atype_ref in (1,3,4) then a.amount else 0 end) as ""fv"",
       sum(case when a.atype_ref = 2 then a.amount else 0 end) as ""ivo"",
       sum(case when a.atype_ref = 5 then a.amount else 0 end) as ""iio"",
       sum(a.amount * a.mvalue) as ""vw""
FROM productvariant v
  LEFT JOIN artjournal a ON a.variant_ref = v.id
WHERE storage_ref = 1
GROUP BY v.id;
"
18087,1026,Tag Database Schema,"SELECT 
    qt.question_id, 
    GROUP_CONCAT(t.tag_name SEPARATOR ',') 
FROM question_tag qt
LEFT JOIN tag t ON t.tag_id = qt.tag_id
GROUP BY qt.question_id;
"
23899,18253,Combining data from three tables for display in a ListView,"SELECT item._id, item.description, item.dateadded, seller.sellername, 
seller.profileimgfilepath, group_concat(photo.thumbnailpath, "":"") AS photopaths
FROM item
JOIN seller ON seller._id = item.sellerid
LEFT OUTER JOIN photo ON item._id=photo.itemid
GROUP BY item._id ORDER BY item.date DESC;
"
14488,35557,"(PostgreSQL) ""Advanced"" Check Constraint Question","table document (id, common, columns, current_revision)
table revision (id, doc_id, content, version)
"
18835,73315,SQL - get highest value from a string fragment,"Declare @maxval  int =
( select 
max(cast ( right(col, 4) as int)) from TableA )
Select * from TableA where cast ( right(col, 4) as int) = @maxval
"
5671,73698,EXEC in SELECT statement in SQL,"exec spYourProc @firstINvar, @firstOUTvar output
"
22208,55318,"How to get the ""CREATE TABLE"" query?","select (column_name + ' ' + data_type +
        (case when character_maximum_length is not null
              then '('+character_maximum_length+')'
              else ''
         end) + ','
       ) as ColumnDef
from Information_Schema.columns
order by ordinal_position
"
21066,59785,ASP to Access dababase - SQL join query,"SELECT
    t.[Date],
    t.[Time],
    t.TransactionNumber,
    t.[Exception],
    e.ExceptionReason
FROM
    [Transaction] AS t
    LEFT JOIN Exceptions AS e
    ON
        t.[Date] = e.[Date]
        AND t.TransactionNumber = e.TransactionNumber
"
18477,10345,How to use GROUP BY to concatenate strings in MySQL?,"SELECT id, GROUP_CONCAT(string SEPARATOR ' ') FROM table GROUP BY id;
"
19780,36821,One select on two tables with NULL and not null,"select ID
      ,NAME
      ,COLOR
      ,COMPANY_SHORT_NR
from table1
     LEFT OUTER JOIN table2 ON ( COMPANY_SHORT_NR = SHORT )
"
7965,70513,SQL: Removing duplicates from column,"CASE RANK() OVER (PARTITION BY li.catnr, li.av_part_no, li.artist, li.title, li.i_status
             ORDER BY bom.av_part_no)
  WHEN 1 THEN nr.c_catnr END AS comp_part_AW
"
36615,47232,Substracting two timestamps(0) in teradata,"select TICKET_TTR_START_DTT - TICKET_TTR_STOP_DTT HOUR(4) TO SECOND(0)
"
20351,68636,Select from two tables with different order column,"select * from 
( select id, title, reg_time as time from tbl_music 
  union all
  select id, title, time_log as time from tbl_movie
) results
order by time
"
14378,38216,SQL : Getting data as well as count from a single table for a month,"insert into empty_table  
select id
   ,count(distinct name)
   ,min(date) 
from existing_table 
where date >= DATE '2015-03-01'
  and date < DATE '2015-04-01'
group by id;
"
36980,56963,Upload local database to SkyDrive as a textfile,"client = new LiveConnectClient(App.MicrosoftAccountSession);
client.UploadCompleted += MicrosoftAccountClient_UploadCompleted;
client.UploadProgressChanged += MicrosoftAccountClient_UploadProgressChanged;
client.UploadAsync(""me/skydrive"", Binder.Instance.CurrentlyUploading,
   stream, OverwriteOption.Overwrite);
"
34522,13522,SQL - Pivot/Unpivot?,"SELECT 'Miles' AS Type, SUM(CASE WHEN date = lastweek THEN miles ELSE 0 END) as lastweek
, SUM(CASE WHEN date = thisweek THEN miles ELSE 0 END) as thisweek
SUM(CASE WHEN date = lastweek THEN miles ELSE 0 END) - SUM(CASE WHEN date = thisweek THEN miles ELSE 0 END) as variance
FROM yourtable
UNION
SELECT 'Cost' AS Type, SUM(CASE WHEN date = lastweek THEN cost ELSE 0 END) as lastweek
, SUM(CASE WHEN date = thisweek THEN cost ELSE 0 END) as thisweek
SUM(CASE WHEN date = lastweek THEN cost ELSE 0 END) - SUM(CASE WHEN date = thisweek THEN cost ELSE 0 END) as variance
FROM yourtable
"
26621,72291,How can I remove duplicates in SQL but keep one copy?,"DELETE FROM t
WHERE rowid NOT IN (
  SELECT min(rowid) FROM t
  GROUP BY orderid, type
)
"
19637,712,SQL Arithmetic on Specific Category/Value pairs,"select col1, sum(col2)
  from table_name
group by col1
"
39725,30754,How to count the number of people who choose a particular location?,"SELECT l.locations, l.telephone, l.address, COUNT (u.userID) as `location_count`
FROM location AS l
LEFT OUTER JOIN users AS u on l.locations = u.location_chosen
GROUP BY l.locations
ORDER BY `location_count` DESC
"
37792,75494,Joining multiple rows,"SELECT DISTINCT
  a.id, a.name
FROM jobs as a
INNER JOIN logs b ON b.job_id = a.id
INNER JOIN logs c ON c.job_id = a.id
WHERE
  b.event = 'initialized'
  AND
  c.event = 'failed'
"
33891,74973,SQL set floating point precision,"ROUND(AVG(CAST(e.employee_level as float)), 3)
"
25600,42497,SQL creating column for each distinct value,"SELECT ""date"",
       SUM(CASE WHEN title = 'foo' THEN ""count"" END) AS foo,
       SUM(CASE WHEN title = 'bar' THEN ""count"" END) AS bar
FROM yourTable
GROUP BY ""date""
ORDER BY ""date""
"
6150,63615,Using an Alias in SQL Calculations,"SELECT 10 AS my_num, 
       (SELECT my_num) * 5 AS another_number
FROM table
"
2774,9219,Display only the first row per match,"SELECT yourTable.Area, yourTable.Name
FROM yourTable INNER JOIN (
  SELECT MIN(Id) AS MinId
  FROM yourTable
  GROUP BY Area) M ON yourTable.Id = M.MinId
"
20722,33908,SQL how to find rows which have highest value of specific column,"Select * //never do this really
From Table
Where MYINDEX = (Select Max(MYINDEX) From Table Where Name = [InsertNameHere]
"
10943,27190,How to get all the rows that have multiple values,"(select * from Service 
where cusId='$cusId' 
and serviceType = 1 
order by date desc limit 1)

UNION

(select * from Service 
where cusId='$cusId' 
and serviceType = 2 
order by date desc limit 1)
"
38019,42681,SQL Selecting From One Table With Multiple Where Clauses,"SELECT * FROM table t1
JOIN table t2
ON t1.Title = t2.Title
WHERE t1.Codes = '020'
AND t2.Codes = '021'
"
7048,20200,Is there a way i can do multiple inserts into one table using a condition?,"insert into user_notification(user_id, notification_id)
select s.user_id, @notification_id 
from tbl_subscriber s 
where s.product_id = @productX
"
1033,23181,Working out a date from a single month number SQL,"Date >= dateadd(month, @period-1, dateadd(year, @yr-1900, 0))
"
28783,63076,Delete from using multiple conditions,"WITH MyCTE 
AS 
(
 --insert sub query here...
)

DELETE FROM MyCTE
"
29961,34195,Retrieve client ip address in mysql,"select host from information_schema.processlist WHERE ID=connection_id();
"
6365,66487,print out a group of values from a procedure into one table on SQL server 2008,"INSERT INTO #tempTable (Col1, col2, .....)
EXEC TestSP
"
32140,31716,insert/read html file from blob field,"$data = file_get_contents(""/PATH/testing.html"");
$data = mysql_real_escape_string($data);
$query = ""INSERT INTO FILE VALUES('','C','000001','$data')"";
mysql_query($query);
"
32695,36222,SQL Query different value from same column,"SELECT  b.Name as CustNameFrom,
        a.Product_Name,
        a.Product_Desc,
        a.ETA,
        c.Name as CustNameTo
FROM    Products a
        INNER JOIN Customer b
            ON a.cust_from = b.ID
        INNER JOIN Customer c
            ON a.cust_to = c.ID
"
34657,14648,How to movie particular user in top by default,"select * 
from tblTable 
order by (case id when 10 then 0 else 1 end), dbo.id desc
"
6238,13487,parse openxml and get a name value collection for given node,"SELECT replace(name,'__',' ') as name, value 
            FROM OPENXML (@idoc, '/user/additionalfields/*',1) 
            WITH (          
                Name  nvarchar(4000) '@mp:localname',
                value  nvarchar(4000) './text()'
                  ) 
"
36975,26269,How to select all rows which have a distinct phone numbers from sqlite?,"SELECT PhoneNumber FROM YourTable GROUP BY PhoneNumber 
"
10064,72344,Where to filter 'Deleted' rows in a query,"SELECT *
FROM TableA a
   JOIN TableB b 
      ON b.id = a.pkid
         AND a.deleted IS NULL
         AND b.deleted IS NULL
   JOIN TableC c
      ON c.id = b.pkid
         AND c.deleted IS NULL
"
18313,62386,How do I query a value dynamically in T-SQL?,"DECLARE @SQL NVARCHAR(MAX)
DECLARE @FieldName sysname = 'name'
DECLARE @FieldValue NVARCHAR(MAX)

SELECT @SQL = 'SELECT TOP 1 
                    @FieldValue =' + QUOTENAME(@FieldName) + ' FROM sys.objects'

EXEC sp_executesql @SQL, 
                   N'@FieldValue nvarchar(max) OUTPUT',
                   @FieldValue =@FieldValue OUTPUT

SELECT @FieldName + ' - ' + @FieldValue
"
21203,31773,sequence duplicate table renumbering,"select 
    id, 
    time,
    row_number() over(partition by id order by time) sequence,
    (case when (lag(id) over (order by id, time)) = id
         then time - (lag(time) over (order by id, time))
         else 0
    end) diff
from mytable t1
order by id, time
"
39881,7808,Joining tables with different column name but same value in sqlite,"select s.identification, s.name, s.`shoe size`, p.price, p.year
from shoes s
join payment p on p.paymentid = s.identification
"
36537,57976,Find the last position of an element in sql,"select INSTR(columnname, '-', -1) from tablename
"
34751,21574,"Select a field. If it's null, select another","SELECT COALESCE(email, number)
FROM   tableName
"
27706,49084,Postgresql JSON has key,"SELECT (customer_data->>'frameMenuData'->>'frameElement' IS NULL) AS has_frame,
"
17415,14491,search record using year criteria in hibernate,"criteria.add(Restrictions.sqlRestriction(""to_char({alias}.CREATE_DATE, 'yyyy') = ?"", year, Hibernate.STRING));
"
18821,53149,How do I include another column without having to place it in the GROUP BY Clause? [SQL Server 2005],"select distinct t.serialNo, e.controlNo, t.addDate
from tst_EquipmentItem e
join (
    select serialNo, max(addDate) as addDate
    from tst_EquipmentItem 
    group by serialNo
) t on t.serialNo = e.serialNo and t.addDate = e.addDate
"
21703,43640,Dynamically replace data in a oracle field with SQL,"select td.id, listagg(tt.val, ',') within group (order by td.id)
from test_data td left join
     temp_table2 tt
     on td.col like '%,' || tt.col || '%,'
group by td.id;
"
38819,29564,mysql check if value exist in group,"SELECT image_id,
count(image_id) as vote_count,
SUM(IF(user_id = 18,1,0)) > 0 AS hasUser18
FROM votes
GROUP BY image_id 
ORDER BY vote_count DESC
"
23671,65960,How to Ignore specified characters in SELECT statement Access SQL,"SELECT 
  table1.field1, 
  IIf((Left(field1,1)='S' Or Left(field1,1)='R' Or Left(field1,1)='A'),Mid(field1, 2, Len(field1)-1) ,field1) AS Expr1
FROM table1;
"
15854,65406,SQL - View column that calculates the percentage from other columns,"cast([AFNumberOfMajors] as float)/([AFTotalMajor]-[AFMajorNA]) 
"
22829,34977,How to do a OUTER JOIN on a query,"SELECT TableA.Type, SUM(b.HreReelles) AS HreReellesTotales, 
       b.NoProjet_Short 
FROM TableA 
LEFT JOIN (SELECT * FROM TableB 
  WHERE TableB.ColumnName = 'SomeValue') b
ON TableA.IDType = b.IDType  
WHERE TableA.Categorie = 'Electrique' 
GROUP BY b.NoProjet_Short,TableA.Type
"
37496,24105,Command DELETE dont work in vba,"Set dbs = CurrentDb
dbs.Execute ""DELETE * FROM TMP WHERE diaMes = "" & _
            Format(tmp7, ""\#mm\/dd\/yyyy\#"")
"
28250,68004,sql update a field with itself and extra string,"UPDATE Products_Joined 
SET TechSpecs = ISNULL(CAST(TechSpecs AS VARCHAR(MAX)), '') + 'test'
"
10767,4666,How to treat MAX() of empty table as 0 instead of NULL,"SELECT COALESCE(MAX(cid), 0)
FROM   itemconfiguration
"
8035,71175,SQL: How to get Max of Variable (per category of another varialbe),"SELECT 
     MAX(my_number) as Max_Number,
     my_location
FROM 
     TABLE
GROUP BY 
     my_location
"
33962,59251,Concatenating columns and rows together,"SELECT DISTINCT c.Cust, options = ((SELECT c2.opt1 + c2.opt2 
  FROM dbo.myDB AS c2 WHERE c2.Cust = c.Cust 
  FOR XML PATH(''), TYPE).value('.[1]', 'nvarchar(max)'))
FROM dbo.myDB AS c;
"
13486,42996,How to get values alternate for ROW_NUMBER()?,"SELECT MAX(CASE WHEN t.innings = 1 THEN t.name END) as 1stInn,
       MAX(CASE WHEN t.innings = 2 THEN t.name END) as 2sndInn,
       t.Order
FROM YourTable t
GROUP BY t.order
"
26788,14371,How do I query for all the nodes between two nodes in a tree?,"SELECT  *
FROM    mytable
WHERE   descendant = @descendant
        AND hops < 
        (
        SELECT  hops
        FROM    mytable
        WHERE   descendant = @descendant
                AND ancestor = @ancestor
        )
"
22280,39533,SQL Query SUM for each date from first date,"select actiondate, (
    select sum(qty)
    from table t2
    where t2.actiondate <= t1.actiondate) as qty
from table t1
group by actiondate
"
38108,38146,How to select and sum() most recent item in a history table for each time period?,"select item_month, count(*), sum(amount)
from (
   select opportunity_id, 
          item_date,
          amount,
          to_char(item_date, 'yyyy-mm') as item_month,
          row_number() over (partition by opportunity_id, to_char(item_date, 'yyyy-mm') order by item_date desc) as rn
   from opportunity_history
) t
where rn = 1
group by item_month
order by 1;
"
39207,64225,SysIndex - difference b/w is_unique and is_unique_constraint,"create table X (
    id int CONSTRAINT x_is_unique UNIQUE
)

create table Y (
    id int
)

create unique index y_is_unique on Y(id)

select name, is_unique, is_unique_constraint
    from sys.indexes
    where object_id in (object_id('X'), object_id('Y'))
        and name is not null

drop table X
drop table Y
"
30503,74935,How to use one result set to generate multiple manipulated result sets from that without hitting the db multiple times?,"create procedure proc_name
as
set nocount on
;with allOrders as (  
Main query[With a lot of Joins]
)
select *
into #allOrders
from allOrders;

SELECT  [Manupulated_Resultset_1]
FROM    #allOrders;
SELECT  [Manupulated_Resultset_2]
FROM    #allOrders;
SELECT  [Manupulated_Resultset_3]
FROM    #allOrders;

GO
"
37355,53843,Counting Policy Ages with a Query in tsql,"with cte as (
      select p.policy_id, 0 as num_priors
      from policies p
      where prior_policy_id is null
      union all
      select p.policy_id, 1 + cte.num_priors
      from cte join
           policies p
           on p.prior_policy_id = cte.policy_id
)
select *
from cte;
"
30751,25416,Filter SQL query results by aggregrate,"SELECT jobid,
       Worker=Sum(WorkerPaidAmountTotal),
       Company=Sum(CompanyPaidAmountTotal)
FROM   tablename
GROUP  BY jobid
HAVING Sum(WorkerPaidAmountTotal) = 0
       AND Sum(CompanyPaidAmountTotal) > 0 
"
31573,24396,MySQL search between columns,"SELECT the_date,start_stop FROM (
    SELECT
        id
    ,   date_from as the_date
    ,   start_from as start_stop
    FROM my_table WHERE start_from=1
        UNION ALL
    SELECT
        id
    ,   date_to as the_date
    ,   stop_to as start_stop
    FROM my_table WHERE stop_to=1
    ORDER BY id
) tmp
"
26039,57112,retrieve data from movie database,"select max(c.character_name) character_name,
       max(a.name) || ' ' || max(a.surname) actor,
       group_concat(distinct m.title) other_movies
from cast c
join actors a on c.actor_id = a.actor_id
left join cast omc on c.actor_id = omc.actor_id and c.movie_id <> omc.movie_id
left join movies m on omc.movie_id = m.movie_id
where c.movie_id = ?
group by a.actor_id
"
14028,28715,How to get total number of rows in a executed select statement?,"SELECT a.Emp,b.orders, RN = ROW_NUMBER () OVER (ORDER BY a.Emp,b.orders) 
FROM table as a inner join table1 b on a.ID=B.ID
"
35048,26228,Sql Query Writing In Oracle,"SELECT empno, ename, sal,
    CASE WHEN sal < 900 THEN 'LOW'
         WHEN sal < 1500 THEN 'MEDIUM'
         ELSE 'HIGH'
    END AS category
FROM emp 
"
15158,10933,Grant all privileges to user on Oracle schema,"BEGIN
   FOR aTab IN (SELECT table_name FROM all_tables WHERE owner = 'MY_SCHEMA') LOOP
      execute IMMEDIATE 'GRANT ALL ON MY_SCHEMA.'||aTab.table_name||' TO MyUser';
   END LOOP;
END;
"
17735,2425,MySQL Merge tables - high-traffic and large amounts of data,"CREATE TABLE lotsofdata (
id INT UNSIGNED AUTO_INCREMENT,
int_val INT UNSIGNED,
the_timestamp TIMESTAMP,
PRIMARY KEY(id));
--
CREATE VIEW FROM 
SELECT id,int_val,the_timestamp 
FROM lotsofdata
WHERE the_timestamp = MAX(the_timestamp)
AND MAX(int_val)
LIMIT 0,1;
"
11215,25470,Calculating difference of dates in Oracle,"SELECT TRUNC(END_DATE) - TRUNC(START_DATE) + 1 AS ELAPSED_DAYS
  FROM A_TABLE
"
15792,5993,Grand Totals with Rollup,"With CTE as (
--Insert Existing query without rollup here
)

Select * From CTE

Union All

Select 'Grand Total' as County
    , null as Year
    , SUM(Total) as Total
    , SUM(Q1) as Q1
    , SUM(Q2) as Q2
    , SUM(Q3) as Q3
    , SUM(Q4) as Q4

From CTE
"
11714,40910,Display part of entry,"Select left(yourcolumn, charindex(' ',yourcolumn)) ...
"
12182,60054,grant select for temporary table in MySQL,"SELECT tmp.t1.a, tmp.t2.b, realdb.real3.c FROM tmp.t1
       ^^^       ^^^       ^^^^^^
JOIN tmp.t2 ON  tmp.t1.somefield=tmp.t2.otherfield
     ^^^        ^^^              ^^^
JOIN realdb.real3 ON tmp.t2.yetanotherifeld = realdb.real3.yetanotherotherfield
     ^^^^^^          ^^^                      ^^^^^^
etc...
"
10698,69050,Linq-To-Sql equivalent for this sql query,"var idsToDelete = ids.Split("","").Select(x => Convert.ToInt32(x));

var clientsToDelete = _DB.Clients.Where(x => idsToDelete.Contains(x.Id));

foreach(var client in clientsToDelete)
{
   client.IsDeleted = true;
}

_DB.SubmitChanges();
"
35883,45875,Build .SQL File with Batch file not working,"type Procedures\*.sql >> proc.sql
type Views\*.sql >> view.sql
type proc.sql >> Build.sql
type view.sql >> Build.sql
"
24799,61422,Showing Progress in Oracle DB Silent Installation with Response File,"LOGFILE=$(echo /path/oraInventory/logs/$(ls -t /path/oraInventory/logs | head -n 1))

./runInstaller -silent -responseFile /path/db.rsp -ignorePrereq 

grep -q 'INFO: Shutdown Oracle Database' $LOGFILE
while [[ $? -ne 0 ]] ; do
    tail -1 $LOGFILE
    grep -q 'INFO: Shutdown Oracle Database' $LOGFILE
done
"
7743,61221,Opposite of UNION SQL Query,"SELECT *
FROM interests
WHERE NOT EXISTS (
        SELECT person_interests.interest_id
        FROM person_interests
        WHERE person_id = 66
            AND interests.id = person_interests.interest_id
        )
"
12870,18624,sql not executing properly,"INSERT INTO faults(id, fault_name) VALUES (...), (...) ...
"
1330,58999,How can I get an SQL query to display only entries for the last week?,"WHERE (e.TotalCount = 1 OR e.LastThreeMonths = 1)
     AND OINV.[TaxDate] >= (GETDATE() - 7)
"
1221,51271,prevent duplicate entries by matching a subset of fields,"alter table tags add unique (vid_id, name);
"
39250,3391,"R, RPostgreSQL: a vector in a query","valid_state_logic=paste0(""("",paste0(""'"",state.abb,""'"", collapse="",""),"")"")

print(valid_state_logic)
[1] ""('DC','AL','AK','AZ','AR','CA','CO','CT','DE','FL','GA','HI','ID','IL','IN','IA','KS','KY','LA','ME','MD','MA','MI','MN','MS','MO','MT','NE','NV','NH','NJ','NM','NY','NC','ND','OH','OK','OR','PA','RI','SC','SD','TN','TX','UT','VT','VA','WA','WV','WI','WY')""
"
25616,25352,Is Golang's SQL package incapable of ad hoc / exploratory queries?,"columnNames, err := rows.Columns()
if err != nil {
    log.Fatalln(err) // or whatever error handling is appropriate
}
columns := make([]interface{}, len(columnNames))
columnPointers := make([]interface{}, len(columnNames))
for i := 0; i < len(columnNames); i++ {
    columnPointers[i] = &columns[i]
}
if err := rows.Scan(columnPointers...); err != nil {
    log.Fatalln(err)
}
"
3619,72216,"How to query two different fields from a table, and make it appear in the same row?","Select table1.Stuff, B.Vales as Value1, C.Values as Value2
 From table1, table2 as B, table2 as C
   Where table1.foreing = B.id_table and table1.foreing2 = C.id_table
"
5914,61041,Are SQL ANY and SOME keywords synonyms in all SQL dialects?,"c) If the implied <comparison predicate> is true for at least
one row RT in T, then ""R <comp op> <some> T"" is true.

d) If T is empty or if the implied <comparison predicate> is
false for every row RT in T, then ""R <comp op> <some> T"" is
false.

e) If ""R <comp op> <quantifier> T"" is neither true nor false,
then it is unknown.
"
10505,31349,SQL select rows where field contains word from another table's fields,"SELECT l.* 
FROM leads l
JOIN keywords k on instr(leads.name, word) > 0 
"
6629,68614,SQL get all IDs where Sub-IDs are exactly specified without getting other IDs where some Sub-ID's are not present,"select event
from table t
group by event
having count(distinct (case when thema in (1, 2, 3) then thema end)) = 3;
"
13974,6220,Size of database in MongoDB,"db.collectionName.stats(1024) //for output in kb
"
30981,16867,Is it possible to optimize this MySql query,"CREATE TEMPORARY TABLE tempTable(identityValue BIGINT(20) UNSIGNED ) engine=memory;
"
22368,1839,Postgresql DB Design for Quiz Project,"userid month question answer
1      1     1        A
1      1     2        C
1      1     3        B
etc...
"
23332,33501,"SQL MATCH LIKE, make the id equal to each other","UPDATE ingredient_aliases
SET a.ingredient_id = 
     (SELECT MAX(ingredient_id) AS max_id
      FROM ingredient_aliases
      WHERE name LIKE '%WATER%'
        AND ingredient_id IS NOT NULL)
WHERE name LIKE '%WATER%' 
    AND ingredient_id IS NULL
"
11505,35634,SQL Group by Subquery ignored,"select
    companies.id
    companies.name,
    companies.slots,
    count(persons.id)
from companies
left outer join persons on companies.id = persons. ...
where companies.city_id = 3
group by companies.id, companies.name, companies.slots
"
20391,57434,Matching a group that may or may not exist,"(.*?)\s(\d{5})\s(.+?)\s?(FINLAND|SUOMI)?$
"
13889,10755,Here is one possible way to find random rows in a table? Is there a better method?,"select TOP 30 *
from orders o inner join
     store s
     on o.Retailer_ID = s.ID
where s.Name='XXXX'
order by newid();
"
4659,36186,How can I add text to SQL Column,"update TableName set ColumnName  = 'www.mypizza.com/' + ColumnName  
"
2217,29602,How to add a value from one table to a particular row in another table?,"UPDATE Person SET City=(SELECT City FROM Country WHERE Country_id = 2) 
WHERE Person_Name = 'Peter'
"
29835,13438,about SQL Row filter,"SELECT a.id, a.state, a.msg, a.userid, a.time 
FROM tableA a 
INNER JOIN (SELECT a.userid, MAX(a.id) id 
            FROM tableA a 
            WHERE a.state = 'unread'
            GROUP BY a.userid
           ) AS b ON a.userid = b.userid AND a.id = b.id;
"
10917,6504,Django: Query returns different results in management command,"management.call_command('reset', 'mainapp', interactive=False) 
"
1065,74557,Get all duplicates rows in sql,"select * from your_table
where organization_no in 
   (select organization_no 
   from your_table
   group by organization_no
   having count(*) > 1)
"
21154,27382,How to use a materialized subquery inside where/in statement?,"WITH tokenkeys 
as
(
    select regexp_substr('A set of words from other side','[^ ]+', 1, level) WORDSPLIT from dual
    connect by regexp_substr('A set of words from other side', '[^ ]+', 1, level) is not null
)
select distinct p.* from people p
join tokenkeys on p.name in (tokenkeys.wordsplit)
or UTL_MATCH.EDIT_DISTANCE_SIMILARITY(p.lastname, tokenkeys.wordsplit) > 60
"
27681,33952,Looking for SQL request,"select data from tableName  where id in (select MAX(id) from tableName group by key)
"
7257,20505,How to filter data into new column? sql,"SELECT
 ...
 ...
 CASE WHEN LEFT(ver_klass, 1) <> 'S' AND LEFT(ver_klass, 1) <> 'M' THEN ver_klass ELSE NULL END AS ver_rayon,
 CASE WHEN LEFT(ver_klass, 1) = 'M' THEN ver_klass ELSE NULL END AS ver_metier,
 CASE WHEN LEFT(ver_klass, 1) = 'S' THEN ver_klass ELSE NULL END AS ver_secteur,
"
28173,10159,How to insert a seperator string between each character in a string?,"UPDATE tab SET col1 = regexp_replace(col1, '(.)', '\1\s*');
"
27673,52433,Postgresql regexp_replace 'g' flag,"select regexp_replace('[[good|12345]] [[bad1 [[bad2 [[bad3 [[bad4 [[bad5 [[good|12345]]', '\[\[([^\|]+?(?=\[\[|\Z))', '\1', 'g')
"
16205,66110,Selecting timestamp records in postgres,"CREATE TABLE test AS SELECT TIMESTAMP WITH TIME ZONE '2012-07-30 07:00:00-07' AS tstamp;

SELECT tstamp FROM test WHERE extract(hour from tstamp) > 0;
"
5224,74386,Implementing database search through query using like,"CREATE TABLE OriginalTable (
  original_id SERIAL PRIMARY KEY,
  author_id INT,
  author_date DATETIME,
  summary TEXT,
  body TEXT
) ENGINE=InnoDB;

CREATE TABLE SearchTable (
  original_id BIGINT UNSIGNED PRIMARY KEY, -- not auto-increment
  -- author_id INT,
  -- author_date DATETIME,
  summary TEXT,
  body TEXT,
  FULLTEXT KEY (summary, body)
) ENGINE=MyISAM;
"
27761,74012,Looking for regexp or string function,"^.*\?comeFrom\=([^&]+)&jobId\=([0-9]+)&distance\=([0-9]+).*$
"
15036,34084,PIVOT table for account data with columns for each month,"SELECT Department_number
,[January]
,[February]
,[March]
FROM (
SELECT Department_number, Amount, datename(date_created) AS month_created from <Your_Table>
) AS SOURCETABLE
PIVOT(SUM([Amount]) FOR month_created IN ([January],[February],[March])) AS PIVOTTABLE
"
13,44030,Join 3 tables with query sql,"SELECT      D.Id,C.Country,COUNT(CU.Id) [number of creation]
FROM        Country C CROSS JOIN [Date] D
LEFT JOIN   customer CU on D.Dates.Id = CU.Date_Creation_Id And C.Country.Id = CU.Country_Id 
GROUP BY    D.Id,C.Country
ORDER BY    D.Id,C.Id
"
11750,71772,SQL subtract times from tables (decreased additionally for specific time status from second table),"select 
    t1.id,
    t1.time2-case when status='HOLD' then t2.time else 0 end-t1.time1
from
    t1 left join t2 on t1.id=t2.id and t2.status='HOLD'
"
1705,55286,postgresql where clause for ordered strings not working,"select * from users where name > 'bolahan' ORDER BY name ASC;
"
16843,71015,modifying sql query to get different results,"SELECT p.ProjectName, p.Oid as Oid, p.[Views] as [Views], pb.Bids
FROM Project p    
LEFT OUTER JOIN 
(
  select count(*) Bids, ProjectID, ProjectName
  from ProjectContractorBid
  group by ProjectID, ProjectName
) pb 
  ON p.Oid = pb.ProjectID  
  AND p.ProjectName = pb.ProjectName
WHERE p.Oid='A8704DA9-999B-4B13-806B-E8490C480F57'
"
5978,50102,"How to create an ""Any Word"" search?","SELECT  keyword 
FROM    KeywordTest a inner join
        split('alpha, beta, charlie',',') b on a.keyword like '%'+Value+'%'
"
4168,16241,How can I find matches in two SQL tables?,"SELECT
    us.*
FROM UsersSample us
INNER JOIN UsersSearching uss ON uss.UserId = us.UserId
"
26036,39284,SQLite Unique Key with a combination of two columns,"create table ... ( ...
...,
unique(slot, player));
"
1137,28485,"Check if field is numeric, then execute comparison on only those field in one statement?","select * from purchaseorders
where (case when IsNumeric(purchase_order_number) = 1
       then cast(purchase_order_number as int)
       else 0 end) >= 7
"
28213,3302,How to store a value in SQL Server?,"declare @directorId int

select @directorId = DirectorID 
from dbo.tblDirector 
where DirectorName='Steven Spielberg'
"
5657,49704,Update Statements,"update plantfunctiontable set decommissioned=1 where plantunitid  between 49 and 57
"
18464,64419,T-SQL Case Condition in Where Clause,"DECLARE @OP INT = 1;
SELECT * FROM Table
WHERE (@OP = 1 AND Table.[status] IN (5,6))
OR (@OP !=1 AND Table.[status] IN (12))
"
32362,66782,how to write this not Exists sql,"select f.feature_id
from   features f 
       inner join feature_groups fg
       on f.feature_id = fg.feature_id
and    not exists
           ( select group_id
             from   group_orgs gor
             where  fg.group_id = gor.group_id )
"
28169,50723,SELECT in SQL Server - alternative to SUBQUERY,"SELECT 
   T1.COD,
   T1.NAME, 
   MAX(T2.DATA) AS ENDDATA
FROM dbo.TAB1 AS T1 WITH (NOLOCK) 
JOIN dbo.TAB2 T2 WITH (NOLOCK) -- Assumed
  ON T2.COD = T1.COD
GROUP BY
   T1.COD,
   T1.NAME
"
19343,53451,"In Oracle, how do I select rows which contain a character within a certain numeric range?","with codes as (select rownum code from dual connect by level <= 160)
select distinct t.id, t.description
from mytable t, codes c
where t.description like '%' || chr(c.code) || '%'
and c.code >= 128;
"
2351,6264,SQL return default value for join where attributes not exist,"SELECT o.value, d.date FROM day_table o left join other_table d on o.date=d.date and key = ""bar"" group by d.date;
"
28537,50775,mssql select GETDATE - all day from 00:00 - 23:59,"select count(*) from dbo.study
where study_datetime >= cast(getDate() As Date)
and study_datetime < cast(DATEADD(day,1,getdate()) as Date)
"
23470,35169,SQL to remove duplicated records by ignoring non-letters and non-digits,"SELECT DISTINCT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(columnA, '/', ' '), '.', ' '), ',', ' '), '+', ' '), '-', ' '), '  ', ' '), '  ', ' ')
FROM tableA;
"
21507,55438,how to see spaces in data when selecting with mysql command line client,"-- to add another tricky example
mysql> insert into foo values("" \"" ' ""), (""''"");
Query OK, 1 row affected (0.06 sec)

mysql> select bar, quote(bar) from foo;
+-------+------------+
| bar   | quote(bar) |
+-------+------------+
|       | ' '        |
|       | '  '       |
|       | '   '      |
|  "" '  | ' "" \' '   |
| ''    | '\'\''     |
+-------+------------+
4 rows in set (0.00 sec)
"
15856,48772,Character mask output data on select,"SELECT 
     SUBSTRING(x.SecurityNumber,1,3) + 
     'xxxxx' + 
     SUBSTRING(x.SecurityNumber,LEN(x.SecurityNumber) - 2, LEN(x.SecurityNumber))
     AS column1
FROM underlyingTable x
"
9604,36489,How to evaluate parameter variable stored in a file in jMeter?,"import java.util.regex.Matcher;
import java.util.regex.Pattern;

String regex = ""\\$\\{([^}]+)\\}"";
SQLQuery = vars.get(""SQLQuery"");
Pattern pattern = Pattern.compile(regex);
Matcher matcher = pattern.matcher(SQLQuery);
while(matcher.find())
{
    String token = matcher.group();   //${var}
    String tokenKey = matcher.group(1);  // var
    SQLQuery = SQLQuery.replaceFirst(Pattern.quote(token), Matcher.quoteReplacement(vars.get(tokenKey)));
}
vars.put(""SQLQuery"", SQLQuery);
"
8275,41157,Select site_acr smaller than site_name,"SELECT dev_site_name, site_acreage
FROM   development_site
WHERE  site_acreage < (
   SELECT site_acreage
   FROM   development_site
   WHERE  dev_site_name = 'First Ave'
   )
ORDER  BY site_acreage DESC;
"
15883,23725,Inner join returning duplicate records access sql,"SELECT DISTINCT
  Things.Prefix,
  Things.Baseletter,
  Things.suff,
  Things.CSCcode,
  Things.WT,
  Mapping.BNO-CSCcode,
  Mapping.EID 
FROM 
  Things 
  INNER JOIN Mapping ON Things.BNO-CSCcode = Mapping.BNO-CSCcode 
"
30984,13428,How do correlated sub-queries work?,"if t1.area >= 20, 10 and 30 .....(t1.area = 20) 
"
28541,13326,Column/Sum(Column) in amazon redshift,"select ID, Var1, Var2, cvRate,
      Var1 / sum(Var1) over () as NewCol
from (<query that generates the first table>);
"
30807,55690,how to select first non-duplicate data in sql,"WITH CTE AS(
   SELECT Id, Name, Type,
       RN = ROW_NUMBER() OVER ( PARTITION BY Type ORDER BY ID )
   FROM dbo.Table1
)
SELECT Id, Name, Type FROM CTE WHERE RN = 1
"
30517,1736,Does reference consume disk space?,"create table Names (
  ID MEDIUMINT NOT NULL AUTO_INCREMENT,
  Name VARCHAR(30) NOT NULL,
  PRIMARY KEY (ID),
  UNIQUE (Name)
);

create table ChildParentNames (
  ChildName MEDIUMINT,
  ParentName MEDIUMINT,
  FOREIGN KEY (ChildName) REFERENCES Names(ID),
  FOREIGN KEY (ParentName) REFERENCES Names(ID)
)   
"
27088,12584,SQL rent due at different frequencies,"select 
firstdate
,frequency
from sampledata
WHERE
CASE   WHEN frequency = 'week' THEN DATEDIFF(DD,firstdate,getdate()) % 7
        WHEN frequency = 'fortnight' THEN DATEDIFF(DD,firstdate,getdate()) % 14
        WHEN frequency = 'month' AND Day(firstdate) = Day(getdate()) THEN 0
        WHEN frequency = 'year' AND Day(firstdate) = Day(getdate())
                                AND Month(firstdate) = Month(getdate()) THEN 0
END = 0
"
32910,25123,SQL: select all records not selected by another query,"delete x 
from myTable x
 join myTable z on x.field = z.field
where x.id > z.id
"
33682,60334,Strange window function behaviour,"select 
player
,avg(case when day BETWEEN '02-01-2014' AND '02-03-2014' then score else null end) as period_1_score
,avg(case when day BETWEEN '02-04-2014' AND '02-06-2014' then score else null end) as period_1_score
from <your data>
group by player
"
14572,48908,MySQL return array of results ordered by another subquery count,"select 
   d.ID, 
   max(Name) as Name
from tagdefinitions d
join tags t on d.ID = t.tagid
group by d.ID
order by count(t.ID) desc, d.ID
"
31642,18279,Hiding password for SQL user in Powershell,"$Ptr = [System.Runtime.InteropServices.Marshal]::SecureStringToCoTaskMemUnicode($password)
$clearpassword = [System.Runtime.InteropServices.Marshal]::PtrToStringUni($Ptr)
[System.Runtime.InteropServices.Marshal]::ZeroFreeCoTaskMemUnicode($Ptr)
"
24236,71300,find max ID with the largest number of occurrence of an attribute,"  SELECT 
    student, count(1)
  FROM
       Exam  E join StudentTable  S on E.student=S.id_student
  WHERE result='true'
  GROUP by student 
  ORDER by 2 DESC
  LIMIT 0,1
"
25407,54102,Calculate Sub Query Column Based On Calculated Column,"SELECT ScheduleID, Ordinal, Duration,
       SUM(Duration*7) OVER (ORDER BY Ordinal) - Duration*7 as StartDate
FROM ScheduleRotationDetail srd ;
"
3450,65693,Multiple column counts by week,"select
  week(post_timestamp) as Week,
  adddate(date(post_timestamp), INTERVAL 1-DAYOFWEEK(post_timestamp) DAY) as StartDate,
  count(distinct post_id),
  count(comment_id)
from
  posts left join comments
  on comments.posts_post_id = posts.post_id
group by Week, StartDate
"
21153,5595,Want aggregated data from two tables based on specific condition (SQL conditional join),"select 
  d.fundid, 
  d.symbol, 
  d.date,
  coalesce(mp.price, mpdef.price) as price
from t_data d
left join t_markprice mpdef on 
  mpdef.symbol = d.symbol and mpdef.date = d.date and mpdef.fundid = 0
left join t_markprice mp on
  mp.symbol = d.symbol and mp.date = d.date and mp.fundid = d.fundid;
"
9742,55598,CASE Statement inside HAVING clause,"SELECT RL.Link_ID,
       max(RLG.ZLevel)
FROM RDF_Link AS RL
JOIN RDF_Link_Geometry AS RLG USING (Link_ID)
WHERE RL.Bridge = 'Y'
   OR RL.Tunnel = 'Y'
GROUP BY RL.Link_ID
"
13502,32275,Selecting rows with repeating values in one column,"SELECT 
    MAX(t1.Id) as ID, 
    t1.code, 
    t1.sequence_number
FROM mytest t1
INNER JOIN mytest t2
ON t1.id <> t2.id
AND t1.code = t2.code
AND t1.sequence_number = t2.sequence_number
GROUP BY t1.code, 
    t1.sequence_number
    ORDER BY ID
"
23577,39011,Is checking the UserId before retrieving and committing changes to SQL with EF secure enough?,"interface IMyEntityDbContext {
    Entity GetEntity(int id, int userId);
    int Insert(Entity entity);
    void Delete(int id, int userId);

    void Update(Entity entity);
    //or if possible in EF
    void Update(Entity entity, int userId);
}
"
3092,59362,How do I compare two columns in the same table?," Convert(varchar, 10, FieldName)
"
33080,13374,Count instances from a selected set of 2 unified columns,"select club, count(*) as NumAppears
from (SELECT home_club AS club FROM matches
      UNION ALL
      SELECT away_club FROM matches 
     ) m
group by club;
"
28624,50645,SQL last day in moth select,"select a.datecreated,a.sale
         from salesummary a
 inner join calendar c
on a.datecreated = c.fulldatekey
 and c.IsLastDayOfMonth = 1
group by a.datecreated,a.sale
"
6412,30990,"Calculate group functions (count, min, max...) for a column value without grouping","select u.*, c.minage
from users u join
     (select city, min(age) as minage
      from users
      group by city
     ) c
     on u.city = c.city;
"
1978,48598,How to Load CSV file into Apex 5 for particular columns?,"update your_table_name
set 
x=20
where x is null;
"
9239,34483,How to storing Sub query in variable. MySql,"update vars join
       table2
       on vars.id = table2.id
    set unq = 1;
"
19523,12456,How to obtain the result by using only 1 query?,"Select 

    (bCounts.Broswer_counts * 100 / total.total) percentage,
    bCounts.broswer
FROM
(
     Select 
          Count(timestamp) broswer_counts, 
          browser
     From 
          table
     Where
           timestamp > '12/1/2010'
     Group by 
          Browser) bCounts,
 (SELECT COUNT(TimeStamp) total From Table WHERE timestamp > '12/1/2010') Total
"
22103,70010,Create enumeration and use it in aggregate function,"select sum(x.col2) as sum
from (
    select case 
           when col1 in (select letter from letters_table) then col2 
           else 0 
           end as col2
    from YourTableName
) x
"
2622,51315,Count duplicates,"select store, count(distinct Transaction) as NumTransactions,
       count(*) as NumItems
from t
group by store;
"
36735,66402,Altering rows in SQL Server 2008,"UPDATE table1
SET
    table1.STATUS = table2.STATUS
FROM
    table1 JOIN table2 ON table1.ID = table2.ID
"
8622,26353,"SQL SERVER, Composite Primary Key Handling","ID    Version
 1        1
 2        2
 3        3
 1        4
"
10745,29397,SQL: Turn a subquery into a join: How to refer to outside table in nested join where clause?,"WITH qry AS
(
    SELECT afield1, 
           afield2, 
           b.field1 AS bfield1,
           ROW_NUMBER() OVER(PARTITION BY a.id ORDER BY field1) rn
      FROM sometable a LEFT JOIN anothertable b
        ON b.aForeignKey = a.id
)
SELECT *
  FROM qry
 WHERE rn = 1
"
36331,49220,Using a WITH inside of a RECURSIVE WITH in PostgreSQL,"WITH RECURSIVE
   num  AS (VALUES (50))
,  num2 AS (SELECT column1 * 2 AS value FROM num)
,  t(n) AS (
      VALUES (1)
      UNION ALL
      SELECT n+1 FROM t WHERE n < (SELECT * FROM num2)
   )
SELECT sum(n) FROM t;
"
9648,46573,Oracle NUMBER(3) = -999 to 999 or -99 to 99 (is the sign part of the precision)?,"SQL> create table numcheck(a number(3));

Table created.

SQL> insert into numcheck values (-999);

1 row created.

SQL> insert into numcheck values (999);

1 row created.

SQL> select a, vsize(a), dump(a) from numcheck;

         A   VSIZE(A) DUMP(A)
---------- ---------- ------------------------------
      -999          4 Typ=2 Len=4: 61,92,2,102
       999          3 Typ=2 Len=3: 194,10,100
"
1722,17749,SQL: Use table from table valued function,"select
    @RUNS = count(*),
    @WON = sum(case when PosNum = 1 then 1 else 0 end)
from tvf_horse_going('Allow Me', 'HEAVY')

set @PERC = (@WON * 100) / @RUNS
"
23042,52466,Combining two view into one result set with transform?,"select isnull(a.Town, b.Town) Town,
       isnull(a.TileRoofs, b.TileRoofs) TileRoofs,
       isnull(a.[Brick wall], b.[Brick wall]) [Brick wall],
       isnull(a.Flats, 0) Flats,
       isnull(b.Houses, 0) Houses
  from ViewOne a
  full outer join ViewTwo b
    on a.Town = b.Town
   and a.TileRoofs = b.TileRoofs
   and a.[Brick wall] = b.[Brick wall]
"
1492,33711,SQL: Proper Join Syntax,"    SELECT BlogPosts.id,
           BlogPosts.title,
           Readers.name,
           Readers.comment
      FROM BlogPosts
RIGHT JOIN Readers ON BlogPosts.id = Readers.blog_post_id
       AND Readers.name = 'joe'
"
24540,5594,Entity Framework: Multiple Inheritance,"Client c;

c.Customer.[...]
c.Supplier.[...]
"
7541,30815,Stored Proc and WCF Data Services,"http://localhost/SomeDataService.svc/SomeStoredProcedure
"
20324,51517,how to get the unique records with min and max for each user,"select id, 
       max(gender), 
       max(age), 
       max([highest weight]), 
       min([lowest weight]), 
       max(abc)
from SomeTable
group by id
"
1485,17801,SQL Output to get only last 7 days output while using convert on date,"SELECT 
    * 
FROM   
    emp 
WHERE   
    convert(datetime, date, 101)  BETWEEN (Getdate() - 6) AND Getdate() 
ORDER BY 
    date 
"
23539,73200,How to hide/lock linked PostgreSQL tables when MS Access is used as a front end and PostgreSQL as backend?,"REVOKE ALL ON accounts FROM joe;
GRANT SELECT ON accounts TO joe;
"
4779,40639,sql like clause multiple values,"select t.column1
from @tablea t
inner join @words w on charindex(w.word, t.column1) > 0
group by t.column1 
having count(distinct w.word) = (select count(*) from @words)
"
14705,53473,A complex data not sure how to explain it,"SELECT Users.Name FROM Users WHERE Users.ID IN  -- Get names that belongt to ID's
(SELECT FriendID FROM Friends WHERE UserID =    -- All ID's of the Friends of 
(SELECT UserID FROM Users WHERE Name = 'John')) -- Johns ID
"
38025,22544,vertica copy unix epoch into TIMESTAMPTZ,"CREATE TABLE public.test (
  datetime TIMESTAMPTZ NOT NULL
);

COPY public.test (unix_timestamp FILLER VARCHAR(15),
                  datetime AS TO_TIMESTAMP(unix_timestamp))
FROM STDIN;

>> 1388552400
>> 1391230800
>> \.

SELECT * FROM public.test;
"
404,18330,Convert DateTime Value into String in Mysql,"SELECT
  DATE_FORMAT(NOW(), '%d %m %Y') AS your_date;
"
19650,72784,What is the difference between isnull on temp table vs isnull on original table?,"DECLARE @FirstNamesString nvarchar(256) 

SELECT @FirstNamesString = (
SELECT CASE
         WHEN ROW_NUMBER() OVER (ORDER BY (p.SortOrder)) = 1 THEN ''
         ELSE ','
       END + p.FirstName + ISNULL(' ' + p.LastName, '')
FROM   Person p
ORDER  BY p.SortOrder
FOR XML PATH(''), TYPE  

).value('.[1]','nvarchar(256)')


PRINT @FirstNamesString 
"
35497,57630,mysql SELECT with more than 1 OR's,"SELECT * 
FROM friends 
WHERE 
(
  friend1 = USER_ID
  AND friend2 = FRIEND
) 
OR
(
  friend1 = FRIEND
  AND friend2 = USER_ID
) 
"
8752,2708,Netbeans MySql Database connection,"     C:\mysql\bin

     C:\Program Files\MySQL\MySQL Server 5.1\bin

     Installation Folder~\xampp\mysql\bin
"
25115,58182,Condition WHERE clauses inside stored procedure,"IF(@ildPais =0 AND @ildRegion =0)
SELECT <THE DATASET> FROM THE TABLE
WHERE 
   t.iDdPais = @iIdPais
   AND t.iIdRegion = @iIdRegion
   AND t.dtFecha BETWEEN @dtStart AND @dtEnd

ELSE 
SELECT <THE DATASET> FROM THE TABLE
--no where clause
"
11197,2285,SQL how to filter A table with Two ranges in another table,"    SELECT * FROM TABLE_ONE WHERE NOT EXISTS 
(SELECT * FROM TABLE_TWO 
WHERE TABLE_ONE.Bill = TABLE_TWO.Bill 
AND TABLE_ONE.SubRow BETWEEN TABLE_TWO.IinitialRange AND TABLE_TWO.FinalRange)
"
35914,27218,PostgreSQL: Using subquery abbreviation ('AS') in the WHERE clause,"SELECT a,b,c,d FROM
    (SELECT 
        a, b, 
        (A VERY LONG AND COMPLICATED SUBQUERY) AS c,
        (ANOTHER VERY LONG AND COMPLICATED SUBQUERY) AS d
        FROM table
    ) AS T1
WHERE c AND d
"
14555,15223,Update date time column,"UPDATE dbo.YourTable
SET YourColumn = DATEADD(H, 1, YourColumn)
WHERE (some condition here)
"
13758,2912,Use plain SQL to match pairs of rows from a table?,"insert into tag_relations(tag1, tag2, degree)
    select a1.tag_name, a2.tag_name, max(article_id) as maxid
    from articles a1 join
         articles a2
         on a1.article_id = a2.article_id and
            a1.tag_name < a2.tag_name
    group by a1.tag_name, a2.tag_name
"
18470,10668,Oracle convert HH:MI:SS to minutes?,"SQL> SELECT 24 * 60 * (to_date('02:05:58', 'HH24:MI:SS')
  2                    - TRUNC(to_date('02:05:58', 'HH24:MI:SS'))) min
  3    FROM dual;

       MIN
----------
125,966666
"
13801,48381,How do you concatenate two integer values using an update statement in SQL,"update myTable
set code = cast(code as int) * 10000
where curr_qtr = 'q1_2014'
"
38381,38831,SQL Get Other Rows From Aggregate Function,"select *
from mytable t1
inner join
(
  select A, max(b) B
  from mytable
  where b >50
  group by a
) t2
  on t1.a = t2.a
  and t1.b = t2.b
where t1.b >50
"
638,17684,Search in SP,"CREATE PROCEDURE Find_Text_In_SP
@StringToSearch varchar(100) 
AS 
   SET @StringToSearch = '%' +@StringToSearch + '%'
   SELECT Distinct SO.Name
   FROM sysobjects SO (NOLOCK)
   INNER JOIN syscomments SC (NOLOCK) on SO.Id = SC.ID
   AND SO.Type = 'P'
   AND SC.Text LIKE @stringtosearch
   ORDER BY SO.Name
GO
"
13301,27693,Inner join a table using limit,"SELECT img.*, 
       collections.*
FROM collections 
  JOIN (
    select *, 
           row_number() over (partition by collection_id order by something) as rn
    from images
  ) img ON img.collection_id = collections.id AND img.rn <= 3
WHERE ....;
"
24349,54020,How to handle DROP TABLE if there is a view on a table?,"SELECT DISTINCT so.name,so.xtype
FROM syscomments sc
INNER JOIN sysobjects so ON sc.id=so.id
WHERE sc.TEXT LIKE '%YOUR TABLE%'
"
12809,3984,"mysql, is it possible to have multiple rows with group by?","select t.testid, t.distanceaf3, x.buildnumber
  from tbl t
  left join (select buildnumber, min(testid) as testid
               from tbl
              group by buildnumber) x
    on t.testid = x.testid
"
32161,31562,How to COUNT DISTINCT on more than one column,"SELECT ""group_id"",count(*) , count(distinct ""p_id"" || '-' || ""version"")
FROM tbl
group by ""group_id""
"
28393,42819,Oracle TO_CHAR (timestamp) and timestamp differ in minutes and seconds,"'YYYY-MM-DD HH:MI:SS AM'
"
22021,11134,What is the best way to select multiple rows by ID in sql?,"SELECT *
FROM `table`
where ID in (5263, 5625, 5628, 5621) 
"
31495,54849,CASE Statement for Order By Clause with Multiple Columns and Desc/Asc Sort,"ORDER BY
    CASE @OrderByColumn WHEN 1 THEN Forename END DESC, Date, Location,
    CASE @OrderByColumn WHEN 2 THEN Surname END ASC 
"
10364,24833,Copying double value from a column of a table into another string column with fixed lenth pattern in MySql,"UPDATE YourTable SET newcolumn = LPAD(REPLACE(FORMAT(Price,0),',',''),5,'0')
"
16610,44830,Optimize SQL statement,"MERGE INTO A 
USING (
SELECT col1, col2, col3
      FROM B
      GROUP BY col1, col2, col3
      HAVING COUNT(*) > 7
) b ON (A.col1 = b.col1 AND A.col2=b.col2 AND A.col3= b.col3)
WHEN MATCHED THEN UPDATE
SET A.col4 = 0;
"
14681,11083,SQL many to many query returns false,"$query = ""
SELECT p.name AS project_name
, role.name AS role_name
FROM projects AS p
JOIN projects_users_roles AS a
   ON a.project_id = p.id
JOIN users_roles AS role
   ON role.id = a.role_id WHERE a.user_id = 23
"";
$result = mysql_query($query);
var_dump($result);
"
39011,57894,SQL SELECT only the rows not containing ID used in related table," SELECT products.id 
    FROM products 
    LEFT JOIN sale_products ON sale_products.product_id = products.id 
    WHERE sales_products.product_id IS NULL
    GROUP BY products.id
"
36511,51352,Multiple MAX() functions with different condition for each,"SELECT
    MAX(CASE WHEN strength >= 100 THEN level END) m1,
    MAX(CASE WHEN strength < 100 THEN level END) m2
FROM players
WHERE premium_account = 1 
"
17393,40625,combined insert sql query,"INSERT INTO 
   [users_perm]
SELECT 
   [uid] = u.[uid]
   , [pid] = p.[pid]
FROM 
   [users] u
   , [permission] p
"
1406,22030,String operation in SQL to reverse a string,"SELECT RIGHT(left_to_right, 8) AS right_to_left
FROM Table1
"
39483,2972,Cross-join issue in SQL statement (SAS),"select a.period_start,
       (select count(*)
        from all_periods b
        where b.period_start < a.period_start
       ) as result
from all_periods a;
"
3384,63590,how to check current value on specific column (SQL server),"SELECT
  @NEWID = max(convert(int,SUBSTRING(status, 8, 2)))  
FROM myTable
WHERE [status]='Waiting'
"
31384,44798,Replace last occurrence of substring,"with cte as(
select LOWER(REPLACE('.ABC,.123,.FGH,.QDG', '.', ' ')) as val from dual)
select regexp_replace(val,' ',' and ',instr(val ,' ',-1))
from cte;
"
14231,9173,Microsoft t sql how to declare temporary variable within user defined function?,"create function someFunction(@someParam varchar(100))
returns @table (field1 type, field2 type, ...)
as 
begin
    declare @tempvar varchar(100)
    set @tempvar = ''--Set the var to something useful
    insert @table
    select * from sometable where somecolumn = (
        select top 1 someColumn
        from sometable
        where somecolumn = @tempvar
    )
    return
end
"
31803,25536,How to optimize query that has the same subquery twice?,"select 'Total_amount', SumTotal, case when SumTotal > 100000 
then 'Good' else 'Not good' end 
from dbo.BusinessUnits bun 
OUTER APPLY (select SUM(Total) 
from dbo.Invoices i where i.BU = bun.BU) CA(SumTotal)
"
18817,70699,MySQL Query to get count of unique values?,"Select lid, count(distinct IP) as uhits
from hits
group by lid
"
4490,71684,MySQL: Given a row and multiple strings. Find the string(s) that are contained in the row,"SELECT q.keyword
  FROM Table1 t CROSS JOIN
(
  SELECT 'oh' keyword UNION ALL
  SELECT 'xxx' UNION ALL
  SELECT 'foo' UNION ALL
  SELECT '41'
) q
 WHERE INSTR(CONCAT_WS(' ', firstname, 
                            lastname, 
                            anotherCol1, 
                            anotherCol2), q.keyword) > 0
"
19877,13905,How to find the item index number in a query result,"SELECT  m.*, ROW_NUMBER() OVER (ORDER BY column) AS rn
FROM    mytable m
"
1868,17818,Change nullability add primary key in one statement,"ALTER TABLE [ database_name . [ schema_name ] . | schema_name . ] table_name 
{ 
    ALTER COLUMN column_name 
    { 
        ...
    }    
    | ADD 
    { 
        ...
    } [ ,...n ]
"
23663,45085,pgsql time diffrence?,"select date_part('second',date1) - date_part('second',date2)
"
14442,35630,Append column to query result,"TRANSFORM Sum(XTabTable.Quantity) AS SumOfQuantity
SELECT XTabTable.Company
FROM XTabTable
GROUP BY XTabTable.Company
PIVOT XTabTable.Item;
"
21145,5005,SQL aggregation question,"  Select Count(*) TotalPurchases, 
     Sum(Case When c.transaction_id Is Not Null 
          Then 1 Else 0 End) MatchablePurchases
  From unmatched_purchases u
     Join purchases p 
        On p.purchases_id = u.unmatched_purchases_id
     Left Join credit_card_transactions c
        On customer_id = p.customer_id
           And item_id = u.item_id 
           And trans_timestamp - purchase_date < @DelayThreshold
  Where Location_id = @Location
"
27012,31083,Subquery optimization in PostgreSQL,"with query as (
select avg(price) as ave from product)

select price, name
from product p2, query
where p2.price > query.ave
"
31246,55425,SQL: aggregate & transpose rows to columns,"SELECT
    car,
    MAX(CASE WHEN state = 'new' THEN tstamp END) AS new,
    MAX(CASE WHEN state = 'old' THEN tstamp END) AS old,
    MAX(CASE WHEN state = 'scrap' THEN tstamp END) AS scrap
FROM
    table
GROUP BY
    car;
"
22713,38596,SQL Query to comparing the minutes in SQL 2008 R2 server,"select *From Table where DATEPART(hh,yourdatefield)>=17 and and convert(date,yourdatefield,103)='2014-04-03'
"
37275,17986,Use a variable as a table name in a Alter Table Statement,"declare
   l_newtablename varchar2(50);
begin
   l_newtablename := 'TABLE_LERO_' || TO_CHAR (SYSDATE, 'MM_DD_YYYY');
   execute immediate 'ALTER TABLE TABLE_LERO RENAME TO ' || l_newtablename;
end;
/
"
39597,52284,Mulitply 2 values from 2 different tables,"SELECT Total_Amount * Exchange_Rate AS Value 
FROM Transactions, Rates 
WHERE Rates.Currency_Name = 'Sek' and Transaction_id = 001
"
28951,16959,how to create a range for the given data,"SELECT COUNT(CASE WHEN AGE >= 26 AND AGE <= 27 THEN 1 ELSE NULL END) AS [total26To27]
      ,  COUNT(CASE WHEN AGE >= 28 AND AGE <= 30 THEN 1 ELSE NULL END) AS [total28T30]
      ,  COUNT(CASE WHEN AGE >= 31 AND AGE <= 33 THEN 1 ELSE NULL END) AS [total31T33]
FROM Persons
"
24516,44911,MySQL Help with storing data,"TABLE accounts (id,name,email..)
TABLE posts (id,title,text,account_id[FK]..)
TABLE likes (id,value,post_id[FK])
TABLE comments (id,tect,datetime,post_id[FK])
"
33703,13994,Help out a beginner with MySQL docs byte definitions,"create table ip ( ip int(10) unsigned default 0);
insert into ip values ( inet_aton('255.255.255.255')), (inet_aton('0.0.0.0'));
select * from ip;
"
19611,1931,How to Pivot the Results of a Stored Procedure in SQL Server,"select *
from 
(
    select date, value, unit
    from 
    (
        select *
        from t1
    ) x
    unpivot ([value] for unit in ([unita], [unitb], [unitc])) u
) a
pivot
(
    sum(value)
    for date in ([2010], [2011], [2012])
) p
"
7515,61969,Generic Insert Statement in SQLite,"insert into Cars (Name, Option)
select distinct Name, 'AC'
from Cars
"
32052,67215,Display if column has more than 1 @ sign,"SELECT * FROM your_table WHERE email LIKE '%@%@%';
"
30632,59487,Some sql queries work in terminal but not with db_query() function in Drupal 6 Why..?,"$sql = ""SELECT DATE_FORMAT(NOW(), '%%Y') - DATE_FORMAT(DOB, '%%Y') - (DATE_FORMAT(NOW(), '00-%%m-%%d') < DATE_FORMAT(DOB, '00-%%m-%%d')) AS age from test where user_name = '%s'"";
"
23269,75585,Products and different types of products,"Product
id  type_id  name
1   2        candy
2   2        car
3   3        yard work

Type
id  name
1   digital
2   physical
3   service
"
31350,20141,Sort table data on weekday,"select *
from table
ORDER BY case WeekDay when 'Monday' then 1
    when 'Tuesday' then 2
    when 'Wednesday' then 3
    when 'Thursday' then 4
    when 'Friday' then 5
    when 'Saturday' then 6
    when 'Sunday' then 7
    else 8
END
;
"
4672,17987,SQL Remove Duplicate header when doing inner join,"Select (case when row_number() over (partition by po.BranchOrderNumber order by pod.ItemCode) = 1
             then po.BranchOrderNumber else ''
        end) as BranchOrderNumber
       pod.ItemCode, pod.ItemDescription
From RetailPosOrders po INNER JOIN
     RetailPosOrderDetails pod
     ON po.BranchOrderID = pod.OrderID
Order by po.BranchOrderNumber, pod.ItemCode;
"
11725,65344,Query historized data,"SELECT DISTINCT ON (id) sysid, id, val, ord
FROM my_table
ORDER BY id,ord DESC;
"
6802,15292,sql IN statement to be always true,"select * from tblArea 
where AreaDescription in 
(AreaDescription,'Processing1','Geology 66','Site Infrastructure')
"
17312,30880,Sql Query help needed for product relation,"SELECT s.ID, s.ProductId, s.Name, 
  OtherData = COALESCE(s.OtherData, r.OtherData)
FROM dbo.Products AS s
LEFT OUTER JOIN dbo.Products AS r
ON s.ProductId = r.ID;
"
25864,61416,SQL Group By with possible subquery?,"select *
from tblUser t1
inner join (
  SELECT UserId
  FROM tblUser 
  GROUP BY UserId
  having count(distinct UserName) > 1
) t2
  on t1.UserID = t2.UserID
"
1971,65169,Is there a way to link two columns in two different tables in mySQL?,"alter table2 add foreign key (username) references table1 (username) on update cascade;
"
39171,62635,Group by two columns and count,"SELECT count(*), created_at FROM Order GROUP BY payment_option_id, created_at
"
25634,70530,Can I use SQL to model my data?,"create table usertable (
    userID integer unsigned not null auto_increment primary key,
    userName varchar(64) );
create table jobtable (
    jobID integer unsigned not null auto_increment primary key,
    jobDesc text,
    posterUserRef integer not null );
create table bidtable (
    bidID integer unsigned not null auto_increment primary key,
    bidAmount integer,
    bidDesc text,
    bidTime datetime,
    bidderUserRef integer not null references usertable(userID),
    biddingOnJobRef integer not null reference jobtable(jobID) );
"
25448,37211,How to update an array of tables,"UPDATE call_list_row 
  SET emailed='0' 
  WHERE id IN ('1','2','3');
"
38758,70458,integrity constraint violated - parent key not found even when row exists in parent table,"SELECT * FROM user_constraints 
  WHERE WHERE table_name='<your_table_name>';

SELECT * FROM user_cons_columns 
  WHERE table_name='<your_table_name>';
"
19059,38421,Cost of SORT is slowing down my query,"AND (t.""FieldID""::text LIKE '01%' OR 
     t.""FieldID""::text LIKE '123%' OR 
     t.""FieldID""::text LIKE '5555%' OR
     t.""FieldID""::text LIKE '44444%' OR
     t.""FieldID""::text LIKE '99%')
"
3295,49158,"Count number of foreign key columns, ignore system tables, display against each tablename","SELECT KC.Column_Name, t.Table_Name, tc.Constraint_Name FROM information_schema.table_constraints tc
LEFT JOIN information_schema.tables t ON tc.Table_Name = t.Table_Name
LEFT JOIN information_schema.KEY_COLUMN_USAGE kc ON kc.CONSTRAINT_NAME = tc.CONSTRAINT_NAME
WHERE constraint_type = 'FOREIGN KEY' AND TABLE_TYPE = 'BASE TABLE'
"
20211,9754,SQL Unique Identifiers in Where statement with nested clauses,"where (ID1 is not null or ID1 <> '-1' ) or (ID2 is not null or ID2 <> '-1' )
or  (ID3 is not null or ID3 <> '-1' )
"
29986,37516,How to delete rows from same table?,"Delete Table t
Where TxType = 'resp'
  And Not Exists
   (Select * From Table
    Where timestamp = t.timestamp
       and TxType = 'req')
"
27028,66140,Database Triggers: On Insert,"CREATE TRIGGER trg_Table1_INSERT
ON dbo.Table1 AFTER INSERT 
AS BEGIN
   INSERT INTO dbo.Table2(SerialNo, Name)
      SELECT SerialNo, Name
      FROM Inserted

   INSERT INTO dbo.Table3(SomeOtherCol)
      SELECT SomeOtherCol
      FROM Inserted
END
"
19874,10482,mysql - select distinct mutually exclusive (based on another column's value) rows,"select domain
from   test_table
group by domain
having sum(case when status = 'COMPLETE'
                then 0 else 1 end) = 0
"
19913,2845,Oracle Column Constraint on char(4) field to not accept insert of 3 char value,"create table test1 (col1 char(4));

alter table test1 add constraint t1_chk check (length(trim(col1)) = 4);

-- the following inserts ok
insert into test1 values ('1234');

-- the following fails
insert into test1 values ('112 ');

commit;
"
19878,66223,"substring, after last occurrence of character?","SELECT phone_number, REGEXP_SUBSTR(phone_number, '[^.]*$')
  FROM employees;
"
20241,13353,SQL one id JOIN two names,"SELECT c1.color as color1, c2.color as color2
FROM CAR car
INNER JOIN COLOR c1 ON c1.id = car.color1
INNER JOIN COLOR c2 ON c2.id = car.color2
"
4630,74790,How to count records by branch and year sql server,"SELECT COUNT(ProjectIndentID) AS NoOfProjects, BranchID,
       DATEPART(year, PIDate) AS yr
FROM  dbo.ProjectIndent
WHERE DATEPART(year, PIDate) = 2016
GROUP BY BranchId, DATEPART(year, PIDate) ;
"
21377,1136,How to delete duplicate record where PK is uniqueidentifier field,";with cte as
(
    select *, row_number() over(partition by yourfields order by yourfields) rn
    from yourTable
)
delete
from cte
where rn > 1
"
30079,52196,How to print VARCHAR(MAX) using Print Statement?,"DECLARE @Counter INT
SET @Counter = 0
DECLARE @TotalPrints INT
SET @TotalPrints = (LENGTH(@script) / 8000) + 1
WHILE @Counter < @TotalPrints 
BEGIN
    -- Do your printing...
    SET @Counter = @Counter + 1
END
"
32036,29170,Using sql query to print the result in a serialized format,"select c1, group_concat(c3 separator ' ')
from t
group by c1;
"
3694,57414,Query for sum of column values not giving me a value,"Update Product Set Value2 = Value1 + Value2 
Where ProductId = @Parameter
"
19875,61723,MySQL using * along with column names from joined tables,"SELECT table1.*, table2.column, table2.column
FROM table1
LEFT JOIN table2 ON table2.a = table1.a
WHERE ...
"
5642,52578,Email database design (schema),"from : string
to : string
subject: string
date (range): datetime
attachments (names & types only) : Object Array
message contents : string
(optional) mailbox / folder structure: string

for example:
from: from@gmail.com
to: to@gmail.com
subject: ""test subject""
date: ""current date"",
attachments: {
 [0]=>{
   names: ""attachments1"",
   types: ""text""
},
[1]=>{
  names: ""attachments2"",
   types: ""pdf""
}
}
"
8188,75387,How to list unused items from database,"SELECT count(a.account_id), b.meal_id, b.meal_name
FROM mdw_meals_menu b 
LEFT JOIN mdw_customer_accounts a
       on b.meal_id=a.meal_id and
          a.start_date BETWEEN to_date('01-APR-2013','DD-MON-YYYY')
                           AND to_date('30-JUN-2013','DD-MON-YYYY')
GROUP BY b.meal_id, b.meal_name
ORDER BY count(a.account_id) desc, b.meal_id;
"
38358,17489,Dynamically create SQL statements through .NET Program,"If(Double.TryParse(ds.Tables.Item(0).Rows.Item(i).Item(i).ToString, Nothing), _
ds.Tables.Item(0).Rows.Item(i).Item(i).ToString, _ 
""'"" & ds.Tables.Item(0).Rows.Item(i).Item(i).ToString & ""'"")
"
34961,25910,Selecting rows where column in child row has particular value?,"SELECT a.id, a.attribute
FROM A a
WHERE EXISTS
(   SELECT 1
    FROM B b
    WHERE a.id = b.parent_id
      AND b.attribute = 'Test'
);
"
17374,37241,BIRT SQL Null Case Scenario,"select PM17, WORKORDER.PMNUM, WORKORDER.ASSETNUM, ASSET.DESCRIPTION, ASSET.MANUFACTURER, EQASSETNUM, WORKORDER.LOCATION, LOCATIONS.DESCRIPTION, PM.ROUTE, TARGSTARTDATE, TARGCOMPDATE, PM.NEXTDATE
from WORKORDER 
LEFT JOIN ASSET ON WORKORDER.ASSETNUM = ASSET.ASSETNUM
JOIN PM ON WORKORDER.PMNUM = PM.PMNUM
JOIN LOCATIONS ON WORKORDER.LOCATION = LOCATIONS.LOCATION
WHERE WORKORDER.WONUM='1011';
"
2536,40493,Play Framework 2.1 Password Encryption,"include ""secret.conf""
"
23946,53927,define sub select query once only for multiple selects,"select MasterAccNumber from 
(
select MasterAccNumber from ACE_AccsLevelTran where CAST(timstmp as DATE) = '02/06/2013' 
union all
select m.AccountNumber from ACE_InvLevelTran i 
left join ACE_InvLevelMaster m i.MasterInvNumber=m.InvoiceNo 
where CAST(i.timstmp as date) ='02/06/2013' 
)  e
group by MasterAccNumber 
having COUNT( MasterAccNumber) < 2 
"
20103,34655,Select entries by day over the last 7 days,"SELECT  DATE(FROM_UNIXTIME(columName)), COUNT(ID) totalCOunt
FROM    tableName
WHERE   DATE(FROM_UNIXTIME(columName)) BETWEEN CURDATE() + INTERVAL -7 DAY AND CURDATE()
GROUP   BY DATE(FROM_UNIXTIME(columName))
"
9300,66733,How do I assign the results of an SQL query to multiple variables in VB.NET?,"dsCustomers.Tables(""Customer_Information"").Rows
"
19534,61256,Need to combine timestamp field date with varchar field time,"UPDATE tablename
SET col3 = CAST(LEFT(col1, 10) + "" "" + col2 + "":00"", DATETIME)
"
6736,7885,SQl query group by year different columns where condition apply,"SELECT YEAR(custDecDate), SUM(valueXX), SUM(valueYY)
FROM bids
WHERE forBid = ""For Contract""
GROUP BY YEAR(custDecDate)
"
16361,27001,MySQL query multiple AND,"SELECT a.post_id
FROM meta_table AS a
JOIN meta_table AS b ON a.post_id = b.post_id
WHERE a.meta_value = 'value2' AND b.meta_value = 'value4'
"
21318,53186,Database rawQuery not return all my data,"// The index in the 'get...'-method determines the column
String title = cursor.getString(0);
String place = cursor.getString(1);
"
67,64464,mysql query - counting like terms,"SELECT term
FROM tablename
GROUP BY term
ORDER BY COUNT(*) DESC
"
25591,37779,How to find the nearest date?,"select top 1 *
from CdCl
order by abs(datediff(ms, ReadTime, <yourdatetime>))
"
1979,62595,substring of variable length,"SELECT RIGHT([String],CHARINDEX('_',REVERSE([String]),0)-1)
"
39024,3102,Is it possible to SQL Update using row and column numbers?,"String[] columnNames = new String[] {
    ""NAME"", ""DELIVERY_STREAM"", ""NUMBER_OF_FEET"", ""RETICULATED"", ...
};
int columnNumber = ...;

String sql = ""UPDATE Project SET "" + columnNames[columnNumber] + "" = ? WHERE ..."";
"
6262,2672,How to combine the rows of two different tables into the same column?,"SELECT Blah_Blah from Table1 WHERE <some condition>
UNION
SELECT Blah_Blah from Table2 WHERE <some contition>
"
31973,34869,SQL VB.net insert using select AND values,"Insert into [MyTable] (Max,Value1,Value2,Value3) values((select Max(Number) from Table1),@p1,@p2,@p3)
"
3061,40012,SQL query to invert table contents,"update color_table
    set color = (case when color = 'Blue' then 'Red'
                      when color = 'Red' then 'Blue'
                 end)
    where color in ('Blue', 'Red');
"
7406,73301,Update field of MYSQL Table depending upon values in another table,"UPDATE  companies cmp
        LEFT JOIN company_adv cma
            ON cmp.id = cma.company_id
SET     cmp.adv = IF(cma.image1 IS NULL, 0, 1)
"
5874,5649,How to change string date to MySQL date format at time of import of CSV using MySQL's LOAD DATA LOCAL INFILE,"LOAD DATA LOCAL INFILE 'file.csv' INTO TABLE my_table
FIELDS TERMINATED BY ','
ENCLOSED BY '""'
LINES TERMINATED BY '\n'
(name, address, @var1)
set dateOfBirth = STR_TO_DATE(@var1, '%d-%b-%y')
"
18635,36024,How to properly use inner join in SQL when I have to join a table twice?,"select *
from messages msg
join users m on msg.sender = m.user_id AND m.user_gender='M'
join users f on msg.receiver = f.user_id AND f.user_gender='F'
"
28813,29032,how to pull matching dates on db2?,"select fs.*,
       (select max(o.odometer)
        from odohis o
        where o.vehicleId = fs.vehicleId and o.reading_date <= fs.pos_date
       ) odometer,
       (select max(o.reading_date)
        from odohis o
        where o.vehicleId = fs.vehicleId and o.reading_date <= fs.pos_date
       ) reading_date
from fs_pos fs;
"
30930,36591,Grand total column at then end of each row,"SELECT  Manager,
        COUNT(IndID) as EmployeeCount,
        SUM(CASE WHEN TermDate BETWEEN @StartDate AND @EndDate THEN 1 ELSE 0 END) as Terminations,
        SUM(COUNT(*)) OVER () as TotalEmployees
FROM myTable 
WHERE HireDate <= @EndDate AND TermDate BETWEEN @StartDate AND @EndDate OR
      StartDate <= @EndDate AND TermDate IS NULL
GROUP BY Manager;
"
30348,48714,How to Count Sub Comments from the same table,"SELECT c1. * , COUNT( c2.parent_id ) 
FROM comments c1
LEFT JOIN comments c2 ON c2.parent_id = c1.comment_id
WHERE c1.parent_id IS NULL 
AND c1.thread_id =122
GROUP BY c1.comment_id
ORDER BY c1.date_comment ASC
"
29580,29540,"MySQL, quickest way to select on a phrase as separate words?","WHERE Keywords.Word IN ('$search[0]','$search[1]',...)
"
21411,59636,SQL date compare,"SELECT * FROM tbl WHERE publishdate = (SELECT MAX(publishdate) FROM tbl)
"
38332,9623,"Sql Server migration, other datetime","DATEADD(hh,DATEDIFF(hh,GETUTCDATE(),GETDATE()),dateScheduled)
"
28449,55539,Trending sum over time,"SELECT DISTINCT   
  date, user_id, SUM(count) OVER (PARTITION BY user_id ORDER BY date) AS count 
  FROM actions
WHERE
  action IN ('Call', 'Email');
"
17344,38117,Deleting a range of records in a table,"DELETE FROM table_y WHERE id>1176
"
17978,64809,How to select only those rows which have more than one of given fields with values,"SELECT
   IF(`column1` != 0,1,0) +
   IF(`column2` != 0,1,0) +
   IF(`column3` != 0,1,0) +
   IF(`column4` != 0,1,0) AS `results_sum`
FROM `table`
HAVING
   `results_sum` > 1
"
26870,45703,Determine if sequence has started,"CREATE SEQUENCE TestSequence
START WITH 1
INCREMENT BY 1
MINVALUE 1
MAXVALUE 5
NO CYCLE;

SELECT NEXT VALUE FOR TestSequence;
"
34764,44448,Postgresql only select letters from a column,"SELECT address_arr[1] AS streer_name, address_arr[2] AS street_number
FROM   (SELECT REGEXP_SPLIT_TO_ARRY(address, ' ') AS address_arr
        FROM   my_table) t
"
18931,4146,Find and update the current live program in mysql with SQL query,"SELECT * FROM tv_programs
WHERE start_time <= NOW()
ORDER BY start_time DESC
LIMIT 1;
"
39983,8282,Something like rank() in SQL Server,"SELECT DENSE_RANK() OVER (ORDER BY TotCnt DESC) AS TopCustomers, CustomerID, TotCnt

FROM (SELECT CustomerID, COUNT(*) AS TotCnt

FROM Orders Group BY CustomerID) AS Cust
"
38864,33735,SQL count each distinct value in column and add name from another table where the ID matches,"SELECT a.name, COUNT(*) AS num FROM table2 b 
INNER JOIN table1 a 
ON b.status_id=a.id 
GROUP BY status_id
"
21402,45311,How to use the result of a built-in SQL function twice in a single query?,"select case 
        when substr1 is null
            then '????'
        when substr1 in ('000', '010', '018')
            then '100L'
        when substr1 = '123'
            and substring(A, 8, 3) = 'abc'
            then 'xxx'
        end
from (
    select substring(A, 4, 3) as substr1 from MyTable
    ) a
"
20115,6736,SQL select and count all items that have occured before,"SELECT dt, count(q2.YourDate)
    FROM (SELECT DISTINCT CONVERT(varchar,YourDate,101) dt FROM YourTable) t1
    JOIN YourTable q2 ON DATEADD(d,-1,CONVERT(varchar,YourDate,101)) < dt
    GROUP BY dt
"
31827,55728,Database Schema,"Subscriber
----------
SubscriberID (PK)
SubscriberName
etc...

Service
-------
ServiceID (PK)
ServiceName
etc...

SubscriberService
-----------------
SubscriberID (PK)
ServiceID    (PK)
"
18668,19157,SQL Join - Calculate weighted students grades based on grade type,"SELECT S.stu_fname, S.stu_lname, GT.grade_type_name, 
(sum(SG.grade_earned)/sum(G.grade_possible) * GT.grade_weight) AS Calculated Grade 
FROM Student S
    INNER JOIN StudentGrade SG ON SG.stu_id = S.stu_id
    INNER JOIN Grade G ON SG.grade_id = G.grade_id
    INNER JOIN GradeType GT ON G.grade_type = GT.grade_type
GROUP BY S.stu_fname, S.stu_lname, GT.grade_type_name;
"
37624,58111,SQL Store Unknown Column Name in Variable from a Given Input,"SELECT ""col1"" columname
FROM Table
WHERE primary_key = input1 AND col1 = input2
UNION
SELECT ""col2""
FROM Table
WHERE primary_key = input1 AND col2 = input2
UNION
SELECT ""col3""
FROM Table
WHERE primary_key = input1 AND col3 = input2
and so on
"
33094,14206,Oracle SQL -- insert multiple rows into a table with one statement?,"INSERT INTO attribute_list (id, value, name)
SELECT id, 'Y', 'is_leveled'
FROM value_list WHERE val >= 50
"
27011,68171,Insert of data in a query in SQL Server,"INSERT INTO [Product]
SELECT  DISTINCT PT.[Name],PT.[Description]
FROM    [Producttemp] AS PT
LEFT OUTER JOIN [Product] AS P ON P.[Name] = PT.[Name] AND P.[Description] = PT.[Description]
WHERE   P.[Name] IS NULL
"
1222,26562,sql foreach without using cursor,"select s.StudentId,s.FirstName,s.LastName
from Stundent s
join StudentLanguage sl on s.StudendID=sl.StudentId
join @LanguageTable on sl.LanguageId=@LanguageTable.LanguageId
group by s.StudentId,s.FirstName,s.LastName
having count(*)=(select count(*) from @LanguageTable)
"
789,10430,SQL group results as a column array,"SELECT rooms.id, rooms.name, niceDate, room_transcripts.date, group_concat(long) as long
 FROM room_transcripts
  JOIN rooms ON room_transcripts.room=rooms.id 
  JOIN transcript_users ON transcript_users.room=rooms.id AND transcript_users.date=room_transcripts.date 
  JOIN users ON transcript_users.user=users.id 
 WHERE room_transcripts.deleted=0 AND rooms.id IN (1,2)
 GROUP BY room_transcripts.id
 ORDER BY room_transcripts.id DESC
"
25718,62619,how to remove redundant field from left join,"SELECT msg.messageid, msg.message, msg.sentby, msg.adddate, 
  group_concat(p_i.image_id separator ';') imageids,
  group_concat(p_i.small_pic_path separator ';') picpaths
FROM ...
"
35420,906,stored procedure inserts truncated value,"cmd.Parameters.Add(""@CustomerId"",SqlDbType.Int).Value=CustomerID;
"
35147,28710,Update command fails. Can someone check my query?,"UPDATE custTab a INNER JOIN zipTab b ON
        a.cust_city = b.city AND
        a.cust_state = b.state
SET a.cust_zip = b.zip
WHERE a.cust_zip IS NULL
"
29964,69904,"Group and count events per time intervals, plus running total","SELECT
  DATE_PART('YEAR', period_start) as Year,
  DATE_PART('MONTH', period_start) as Month,
  COUNT(*) as Entries
FROM activity_log
WHERE action = 'create_entry'
GROUP BY Year, Month;
"
11106,61081,MySQL INNER JOIN from second table (TOP10),"$stmt = $conn->prepare('SELECT  a.*, 
    IFNULL((SELECT SUM(amount) FROM bankaccounts b WHERE b.owner=a.id),0) AS BANK_MONEY,
    (IFNULL(a.money,0) + IFNULL((SELECT SUM(amount) FROM bankaccounts c WHERE c.owner=a.id),0)) AS ARESULT
    FROM users a 
    ORDER BY ARESULT DESC LIMIT 0, 10');
"
10360,13799,How to modify the following code to ignore rows with 0 and shows the output weekly,"WITH AllDates
AS (
    SELECT @MinDate AS xDate

    UNION ALL

    SELECT Dateadd(day, 1, xDate)
    FROM AllDates AS ad
    WHERE ad.xDate < @MaxDate
    )
SELECT 
  'playing' AS activity
  ,min(ad.xDate) -- or max or the week number, whichever you like best
  ,Isnull(sum(t.TimePerDay), 0) AS TimePerDay
FROM AllDates AS ad WITH (NOLOCK)
LEFT JOIN @test AS t ON ad.xDate = t.DATE
GROUP BY datepart(wk, ad.xDate);
"
24308,1754,"About randomly selecting some rows from a table, then taking the average","CREATE TABLE output (Selection INT, Avg_Height FLOAT)
GO
DECLARE @intFlag INT
SET @intFlag = 1
WHILE (@intFlag <=5)
BEGIN

    WITH cte AS (SELECT TOP 4 *
                 FROM Table1
                 ORDER BY NEWID())
    INSERT INTO output
    SELECT @intFlag, AVG(Height*1.0)
    FROM cte

SET @intFlag = @intFlag + 1
END
GO
"
38347,34213,pattern matching for a string of specific length in sql,"CREATE TABLE MyTable
(
    col1 varchar(20),
    col2 varchar(50)
)

INSERT INTO MyTable
    VALUES 
    ('ABCD:123', 'Value 123'),
    ('1234:1234', 'Value 1234'),
    ('xyz:1234', 'should not be selected'),
    ('cdef:abcd', 'should not be selected too')


SELECT *
FROM MyTable
WHERE CHARINDEX(':', col1, 0) = 5 AND 
      ISNUMERIC(SUBSTRING(col1, CHARINDEX(':', col1) + 1, 20)) = 1
"
21297,39250,How to assign column names to a pivot table,"SELECT
    [2010] AS 'year1',
    [2011] AS 'year2',
    ....
FROM (
    SELECT ...
) ...
"
20850,26030,SQL: CUSTOMER that has bought a WORK from every ARTIST || 2 tables,"SELECT t.customerId 
FROM 
  ( SELECT t.CustomerId, COUNT(DISTINCT artistId) as artists
    FROM trans t INNER JOIN work w ON w.workid = t.workid) t 
  INNER JOIN 
  ( SELECT COUNT(DISTINCT artistId) artists FROM work) a ON  t.artists = a.artists
"
24259,24233,How to get second parent with recursive query in Common Table,"with tmp as (
  select unitId, parentId, unitName, 0 as iteration
  from t
  where unitId = 7
  union all
  select parent.unitId, parent.parentId, parent.unitName, child.iteration + 1
  from tmp child
  join t parent on child.parentId = parent.unitId
  where parent.parentId != 0
)
select top 1 unitId, parentId, unitName from tmp
order by iteration desc
"
32178,17012,SQL query to get columns based on value,"SELECT user_id,
       MAX(CASE WHEN month = '2013-03-01' THEN value END) AS '2013-03-01',
       MAX(CASE WHEN month = '2013-02-01' THEN value END) AS '2013-02-01',
       MAX(CASE WHEN month = '2013-01-01' THEN value END) AS '2013-01-01'
FROM mytable
GROUP BY user_id
"
32646,68924,Getting the smaller index for each duplicate in SQL,"SELECT ID FROM atable
EXCEPT
SELECT MIN(ID) FROM atable GROUP BY Name
"
10118,1739,SQl Trim problem,"SUBSTR(SYN_NO,1,4)
"
29912,74777,merging two queries,"SELECT recipes.id, votes.date, votes.perc FROM recipes
RIGHT JOIN
(select weekly.id_rec, d.date, perc from 
    (SELECT weekly.id_rec, date FROM weekly where YEAR(date) = 2014 group by date) as d left join weekly on d.date = weekly.date) as votes 
ON votes.id_rec = recipes.id
"
15956,50284,SQL: insert only new records,"INSERT INTO Table2
SELECT t1.*
FROM Table1 t1
WHERE NOT EXISTS 
(
      SELECT 1 
      FROM table2 t2 WHERE 
      t2.col1 = t1.col1 AND 
      t2.col2 = t1.col2
) 
"
7526,6516,Select randomly And Sort the records,"SELECT ID,name,level
FROM sample
ORDER BY level DESC,NEWID()
"
2086,64885,SQL: Sub Query to filter the result of a Query,"SELECT SUM(imps.[Count]) AS A , COUNT (imps.Interest_Name) AS B, ver.Vertical_name
FROM Impressions imps
INNER JOIN Verticals ver 
ON imps.Campaign_id = ver.Campaign_id
WHERE ver.Vertical_name = 'Retail' OR ver.Vertical_name = 'Travel'
GROUP BY ver.Vertical_name;
"
12334,69966,Count distinct elements and return only one,"select 
count(distinct data) as cnt,
(SELECT data FROM data_table GROUP BY data
    WHERE param='xxx'
    ORDER BY rand() LIMIT 1) as random
from data_table
WHERE param='xxx'
"
27503,27140,Postgres: select n unique rows for ID,"select id, make, model, type
from (
  select id, make, model, type, 
         row_number() over (partition by id order by make) as rn
  from the_table
  where type = 'coupe'
) t
where rn <= 2
order by id, make;
"
35796,67495,Optimizing key_len on mysql index,"SELECT * FROM `my_table` ORDER BY `name` ASC
"
5158,45415,how can I swap two records in sql server with script,"UPDATE t1
   SET t1.id = t2.id
  FROM table1 t1 JOIN table1 t2
    ON (t1.id = 1 AND t2.id = 2)
    OR (t1.id = 2 AND t2.id = 1)
"
30351,14528,IF Statement In WHERE CLAUSE,"SELECT * FROM Users
WHERE Users.isDeleted = 0 AND
( 
   (@intUserType = 1) OR
   (@intUserType = 4 AND Users.UserType <> 1) OR 
   (@intUserType = 3 AND Users.UserType IN (1,3,4))
)
"
36142,59418,Weighted vote handling for RDBMS,"select v.item_id,
       (case when sum(u.weight) > 0 then sum(u.weight * v.vote) / sum(u.weight) end) as weightedVote
from vote v join
     user u
     on v.user_id = u.id
group by v.item_id
"
10251,48509,Query 64 byte (char) hash in MySQL database takes several seconds. How to improve?,"ALTER TABLE fileinfo
ADD INDEX FileHash (FileHash)
"
34544,58848,Update multiple rows following a pattern in mysql," UPDATE my_table 
    SET `name` = REPLACE(`name`, '_t_', '_c_') 
"
21020,71313,Update duplicate rows,"UPDATE YourTable p
       JOIN(SELECT t.id,t.name,count(*) as rnk
            FROM YourTable t
            INNER JOIN YourTable s on(t.name = s.name and t.id <= s.id)
            GROUP BY t.id,t.name) f
       ON(p.id = f.id)
SET p.name = concat(p.name,'-',f.rnk)
WHERE rnk > 1
"
2760,11695,Oracle Spool using Dynamic SQL,"set linesize 10000 pagesize 0 embedded on
set heading off feedback off verify off trimspool on trimout on  termout off
set underline off

SPOOL myfilename.sql

SELECT 'SELECT table_name||'',''||column_name FROM USER_TAB_COLS WHERE ROWNUM < 10;' gen_sql_ FROM DUAL;

SPOOL OFF

spool results.csv

@myfilename.sql

SPOOL OFF
"
30781,6986,Simple SQL many-to-many query,"SELECT o.customer_id AS customer ,io.id AS item 
FROM orders o
INNER JOIN item_orders io ON io.order_id = o.order_id 
"
15270,26602,sum of rows using sqlserver,";with cte as
(
  select companyname, sum(credited) sum_credited, sum(used) sum_used
  from tmptichistory1
  group by companyname
)
select t1.id, t1.companyname, t1.credited, t1.used, 
 case t1.credited when 0 then 0 else cte.sum_credited end sum_credited,
 case t1.used when 0 then 0 else cte.sum_used end sum_used
from tmptichistory1 t1 join cte
on t1.companyname = cte.companyname
"
10691,49403,Sanitize SQL with RegExp,"/^(?!.*\-\-)(?!.*\/\*)(?!.*\*\/)(?!.*;)(?!.*CREATE)(?!.*DROP)(?!.*ALTER)(?!.*UPDATE)(?!.*DELETE).*$/s
"
28278,11452,Dense_rank and sum,"SELECT
    employee_id
    SUM(ROUND(CAST(DATEDIFF(MINUTE, start_time, finish_time) AS NUMERIC(18, 0)) / 60, 2)) AS total_h
FROM
    Timesheet t
WHERE
    t.employee_id = @employee_id AND
    date_worked BETWEEN DATEADD(ww, DATEDIFF(ww,0,GETDATE()) - @Week, 0)
                    AND DATEADD(ww, DATEDIFF(ww,0,GETDATE()) - @Week, 0) + 7
"
20489,1233,Sum function in mysql with inner query,"select b.id, 
sum(case when h.type <> 10 and h.time between '2016-06-01' and '2016-06-31' then h.points 
    else 0 end) as points
from brands b 
left join histories h on b.id = h.brandid and h.userId = $userId
and b.active=1 and b.id=$brandId
group by b.id
"
28879,2551,return mysql result set only if found in other table,"SELECT vg.*
    FROM video_groups vg
    WHERE EXISTS (SELECT 1
                      FROM videos v
                      WHERE v.groupid = vg.id)
"
23950,41768,Ordering JOIN results when grouping,"SELECT *
FROM   auctions AS a
       LEFT JOIN (select auction_id from winners order BY auction_id limit 1) AS w ON a.auction_id = w.auction_id
WHERE  a.active = 1
       AND a.approved = 1
GROUP  BY a.auction_id
ORDER  BY a.start_time DESC
"
3843,47636,how to get records who is reaching todays date,"SELECT ProjectEndDt
       , ProjectRenewalDt 
       , ProjectUpgradeDt
FROM   tbl_project
WHERE  CONVERT(VARCHAR(10), DATEADD(DAY, 2, ProjectEndDt)) >= CONVERT(VARCHAR(10), GETDATE()); 
"
30075,60188,Can multiple values per attribute be listed on their own line from a SELECT statement?,"CREATE TABLE #Temp (
    [@name] VARCHAR(200),
    [Value] VARCHAR(200)
)

INSERT INTO #Temp ([@name], [Value]) 
SELECT 'Fruit', 'Apple' UNION
SELECT 'Fruit', 'Orange' UNION
SELECT 'Fruit', 'Grape' UNION
SELECT 'Building', 'house'


Select  [@Name],
(
SELECT    
    [Value]
FROM #Temp t2
where t2.[@Name] = t1.[@Name]
FOR XML  PATH (''), TYPE
) FROM #Temp t1 GROUP by [@Name]
FOR XML PATH ('Produce'), ROOT('ProduceMaster'), TYPE
"
32363,52053,Is there a quick way to re-format all values in a ColdFusion query column?,"SELECT VARCHAR_FORMAT(TIMESTAMP_FORMAT(CAST(20121119 AS CHAR(8)), 'YYYYMMDD'), 'MM/DD/YYYY')
FROM SYSIBM.SYSDUMMY1
"
2306,28993,How can I see the contents of an Oracle index?,"select /* index_ffs (a [name of index]) */
       id, rowid 
  from a
 where id is not null
 order by id, rowid;
"
4900,31612,Is there any query to replace the NULL values with an appropriate value in this database design?,"UPDATE Employee SET OrgCode = 4 WHERE OrgCode IS NULL
"
9472,12661,Creating an index on an SQLite db using DBIx::Class,"package My::Schema::Result::Artist;

 __PACKAGE__->table('artist');
 __PACKAGE__->add_columns(id => { ... }, name => { ... })

 sub sqlt_deploy_hook {
   my ($self, $sqlt_table) = @_;

   $sqlt_table->add_index(name => 'idx_name', fields => ['name']);
 }

 1;
"
6377,18616,SQL Exclude Records with Leveling,"select sort_id, level, security
from (select t.*, min(case when authorized = 'U' then id end) over (partition by grp) as minuid
      from (select t.*,
                   (row_number() over (order by id) - level) as grp
            from table t
           ) t
     ) t
where id > minuid;
"
233,38445,"MySQL database design, two types of records - use one table or two separate tables?","**USER TABLE**
NAME     AGE       TYPE     FK
Grant    25        Adult    1
Susan    4         Child    null
John     65        Adult    2

**EXTRA TABLE**
FK    CREDITCARD    OTHER
1     234234...     blah
2     2334...       blah
"
13209,34395,How to decode XML entities in SQL?,"UPDATE _table_
SET Firstname = CONVERT(NVARCHAR(MAX), CONVERT(XML, FirstName)), 
Lastname = CONVERT(NVARCHAR(MAX), CONVERT(XML, LastName))
"
35657,12058,displaying related records vb.net mysql,"SELECT b.acct_no, b.name 
FROM accounts a 
INNER JOIN accounts b ON FIND_IN_SET(b.acct_no, a.connected_acct) 
WHERE a.acct_no = 1;
"
16385,52481,Using a Sub-Select as a Returned Column,"SELECT st.Id, st.Name, GROUP_CONCAT(ct.ClassId) AS ClassList
    FROM StudentTable st
        INNER JOIN ClassTable ct
            ON st.Id = ct.Id
    GROUP BY st.Id, st.Name
"
16586,51833,Set Variable Values,"DECLARE @FirstSaturday DATETIME
DECLARE @ENDDATE DATETIME

SELECT @FirstSaturday = min(RED1.DATE)
FROM REDFRIDAYDATES..TBLREDFRIDAYALLDATES RED1
WHERE Period = 9 AND year = 2009

SELECT @ENDDATE = CASE
WHEN getdate() < @FirstSaturday
THEN  getdate()
ELSE  @FirstSaturday
END
"
4333,53395,SQL regular expressions of adjacent characters in a string,"select columns
from tablename
where columnname like 'A%'
  and substring(columnname from 5 for 2) in ('AB','CD','EF')
"
5334,34995,SQL Insert column names as data,"    INSERT INTO B    
    SELECT COLUMN_NAME
    FROM INFORMATION_SCHEMA.Columns
    WHERE TABLE_NAME = 'A'
"
4435,54410,How to Dense_Rank() Sets of Values that Repeat,"select emplid, code, sum(change) over (order by dt) as rnk, dt 
from
(
  select 
    emplid,
    code,
    case when lag(code) over (order by dt) = code then 0 else 1 end as change,
    dt
  from t
  order by dt
);
"
16079,53185,Please criticize my proposed database design,"HOUSEHOLD_ATTRIBUTE_RELATIONSHIP 
HouseholdID  | AttributeID 
0            |       0     
3            |       2
etc ... 
"
30843,37299,MySQL: Using NULL as wildcard in JOIN statement,"SELECT order_id, item_id
FROM orders
INNER JOIN items ON (orders.color IS NULL OR orders.color = items.color)
    AND (orders.size IS NULL OR orders.size = items.size)
"
21175,47265,Efficiently fetching 25 rows with highest sum of two columns (MySQL),"select ur1.*
from (select u.*
      from users u
      order by rank1 desc
      limit 1000
     ) ur1 join
     (select u.*
      from users u
      order by rank2 desc
      limit 1000
     ) ur2
     on ur1.username = ur2.username
order by ur1.rank1 + ur1.rank2 desc
limit 25;
"
38247,65308,SQL query - IS NULL,"select ct.CountryId,max(ct.Name) from Country ct
left join City c on ct.CountryId=c.CountryId
left join Airport a on a.CityId=c.CityID
group by ct.CountryId
HAVING max(a.AirportID) IS NULL
"
23615,5449,MySQL not using multiple column index for some queries,"EXPLAIN SELECT * FROM `test` USE INDEX (number) WHERE (`text` = 'bbbb' AND `number` = 1);
or
EXPLAIN SELECT * FROM `test` USE INDEX (text_number) WHERE (`text` = 'bbbb' AND `number` = 1);
"
17779,61977,SELECT using multiple JOINS needs to return even if one compairson is not equal,"SELECT P.[Name]+' - '+P.[Description] AS Sprint, ISNULL(S.Number, 'KanBan') AS Story,     T.[Name] AS Task
FROM DailyTaskHours D
INNER JOIN Task T ON D.TaskId = T.PK_Task 
INNER JOIN Story S ON T.StoryId = S.PK_Story 
LEFT JOIN Sprint P ON S.SprintId = P.PK_Sprint 
GROUP BY  P.[Name], P.[Description], S.[Number], T.[Name]
"
24477,18669,Connecting to LDAP in oracle using sAMAccountName,"l_res := DBMS_LDAP.simple_bind_s(ld => l_session,
                                 dn => l_domain || '\' || l_account_name,
                                 passwd => l_password)
"
15880,33893,MySQL - How to add index to certain column?,"| ADD {INDEX|KEY} [index_name]
        [index_type] (index_col_name,...) [index_option] ...
"
24686,35896,SQL Count on items from same column,"select AEType,count(*) from Table_Name group by AEType;
"
34344,36285,SQL get the 5 last items inserted based on 2 table join,"SELECT PR.*, 
(
  SELECT PM.image FROM project_media PM
  WHERE PR.project_id = PM.project_id
  ORDER BY PM.project_media_id DESC
  LIMIT 1
) AS image
FROM 
(
  SELECT P.project_id, P.completed 
  FROM project P
  ORDER BY P.completed DESC
  LIMIT 5
) AS PR
"
9865,57742,How to delete rows which can't be cast to INT,"select * FROM MyTable where (housenr !~ '^[0-9]+$')
"
38361,58649,MySQL select row and join to multiple records,"SELECT user_id,name,GROUP_CONCAT(value SEPARATOR ',')as field FROM users u JOIN fields f 
ON u.user_id=f.unser_id GROUP BY user_id
"
17725,45222,Restart auto-increment on the next value of the another column,"CREATE TABLE table1(
  id1 INT(11) NOT NULL,
  id2 INT(11) NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (id1, id2)
);

INSERT INTO table1 VALUES (1, NULL);
INSERT INTO table1 VALUES (1, NULL);
INSERT INTO table1 VALUES (2, NULL);
INSERT INTO table1 VALUES (2, NULL);

SELECT * FROM table1;
+-----+-----+
| id1 | id2 |
+-----+-----+
|   1 |   1 |
|   1 |   2 |
|   2 |   1 |
|   2 |   2 |
+-----+-----+
"
33065,25666,SQL: Get data in range,"SELECT * 
FROM table1 
WHERE (( chapter = 1 AND sentence >= 3 ) OR chapter > 1)
  AND (( chapter = 3 AND sentence <= 4 ) OR chapter < 3)
"
38452,9744,How to delete row if the previous have the same value in specific a column,"DELETE FROM Table t1 
WHERE EXISTS (SELECT 1 from Table t2 
              WHERE t1.Column2 = t2.Column2 
              AND t2.Id + 1 = t1.Id) 
"
14117,41240,Finding the largest group of consecutive numbers within a partition,"select player_id, runs, count(*) as numruns
from (select p.*,
             (row_number() over (partition by player_id order by match_date) -
              row_number() over (partition by player_id, runs order by match_date)
             ) as grp
      from players p
     ) pg
group by grp, player_id, runs
order by numruns desc
limit 1;
"
27678,37865,How to duplicate records in same table,"select item, date, ruunit, fdhunit, difference
from t
union all
select item, date, null, null, runit - fdhunit
from t
order by item, (case when runit is not null then 1 else 2 end);
"
20955,735,Selecting Only The Latest Version Of A Field,"select mytable.Title, MAX(mytable.Date)
from mytable
group by mytable.Title
"
31877,55835,How can I specify the order of results within groups when querying Derby?,"Select o.date_created, o.buyer_name,
       (select max(date_created) from orders where buyer_name = o.buyer_name) as most_recent_date
From ORDERS o
Order By most_recent_date, o.buyer_name, o.date_created Desc
"
20841,19486,Generate report from URL - SQL Server Reporting Services 2008,"For example, to specify two parameters, “ReportMonth” and “ReportYear”, defined in a 
report, use the following URL for a native mode report server:

http://myrshost/ReportServer?/AdventureWorks 2008R2/Employee_Sales_Summary_2008R2&ReportMonth=3&ReportYear=2008
"
13054,14636,Select database records which are m:n-related to records from another table,"SELECT
    *
FROM
    Hotels H
    INNER JOIN (
      SELECT
         hotel_id
       FROM
        hs_hotel_options
      WHERE 
        option_id IN (1, 3, 5)
      GROUP BY 
         hotel_id
    HAVING COUNT(*) = 3) req_options
   ON h.hotel_id = req_options.hotel_id
"
38816,51389,Select n:n relationship in one row with Oracle (to create an view),"SELECT
  u.NAME,    
  (SELECT
     (RTRIM(XMLAGG(xmlelement(X, APPLICATIONS.APPLICATION||',')order by APPLICATIONS.APPLICATION).extract('//text()'),','))  
    FROM
        HAS_APPLICATIONS        
    LEFT JOIN APPLICATIONS ON HAS_APPLICATIONS.USER_ID = APPLICATIONS.ID
    WHERE
        HAS_APPLICATIONS.USER_ID = u.ID)          
FROM
   USERS u
"
34461,16582,Oracle Apex Pie Chart SQL Statement," WITH sq1 AS (SELECT company, COUNT (*) AS count FROM 
 (SELECT CASE WHEN COUNT (*) OVER  (Partition By company) > 5 THEN company
 ELSE 'other' END AS company, id FROM table) GROUP BY company)

 SELECT null link, company label, count value FROM sq1 ORDER BY count desc
"
1967,57667,How to compare a NUMBER with VARCHAR2 type number having leading zeroes?,"SQL> SELECT to_number('00123') num FROM dual;

       NUM
----------
       123

SQL> SELECT * FROM dual WHERE to_number('00123') = 123;

D
-
X
"
15665,36533,MS SQL - Join with group by,"SELECT max( P.PROD_DESC), SUM(O.QTY)
FROM PRODUCTS_TBL AS P LEFT JOIN ORDERS_TBL AS O
  ON P.PROD_ID = O.PROD_ID
GROUP BY P.PROD_ID
ORDER BY P.PROD_ID;
"
37332,68044,How to insert rows which optionally have parent rows in the same table at once,"INSERT INTO parenttest (mydata) VALUES
('rootnode'), 
('child1'),
('child2'), 
('child2.1'),
('child2.2');

UPDATE parenttest SET parent = (select id from parenttest pt where
(pt.mydata = 'rootnode' and parenttest.mydata in ('child1','child2')) or
(pt.mydata = 'child2' and parenttest.mydata in ('child2.1','child2.2')))
WHERE
  mydata in ('child1',
             'child2', 
             'child2.1',
             'child2.2');
"
29972,68142,What is the standard way of adding carriage returns in line feeds to SQL queries?,"INSERT INTO table VALUES ('this is a string
with a newline');
"
8588,33674,Oracle - Second level subquery cannot see field from main query,"SELECT   lvl, 
         unique_code, 
         (
            SELECT   max(p.unique_code)
                        FROM     tree p
                        WHERE    p.lvl = t.lvl - 1
                             AND p.unique_code < t.unique_code
         ) AS parent_unique_code FROM     tree t
"
3503,28125,What is the maximum number of key value pairs in a single hstore value?,"SELECT string_agg(tags::text,',')::hstore
FROM   mapfeatures_20120813;
"
29428,49705,3NF and lossless decomposition of relation and functional dependencies,"R1 <(E M), {E → M}>

R2 <(E L T), {L T → E, E T → L}>
"
16588,47607,MySQL : How to get records are have non null values?,"SELECT ID,
       Code, 
       CompareWithField 
  FROM `data`
 WHERE Indexed = 0 
   and code = 142 
   and NULLIF(CompareWithField,2.26) is not null
"
4860,14714,Select info from openquery table where row has max date," select Kode_AK, dateTime_entry, Nama
 from (
 select 
 ROW_NUMBER () over ( partition by Kode_AK order by dateTime_entry desc ) rn,
 Kode_AK, Nama,
 dateTime_Entry
 from 
 LOG_NAMA ) A 
 where rn = 1
"
1337,43199,Calculate exact date difference in years using SQL,"SELECT CONVERT(date, GetDate() - 912) AS calcDate
      ,DATEDIFF(DAY, GetDate() - 912, GetDate()) diffDays
      ,DATEDIFF(DAY, GetDate() - 912, GetDate()) / 365.0 diffDaysCalc
      ,DATEDIFF(MONTH, GetDate() - 912, GetDate()) diffMonths
      ,DATEDIFF(MONTH, GetDate() - 912, GetDate()) / 12.0 diffMonthsCalc
      ,DATEDIFF(YEAR, GetDate() - 912, GetDate()) diffYears
"
33178,49387,Can`t correctly JOIN and GROUP BY,"SELECT  C.custid, 
        COUNT(DISTINCT O.orderid) as numorders,
        SUM(OD.qty) as totalqty
FROM Sales.Customers AS C
INNER JOIN Sales.Orders AS O
    ON C.custid = O.custid
INNER JOIN Sales.OrderDetails AS OD
    ON O.orderid = OD.orderid
WHERE country = 'USA'
GROUP BY C.custid
ORDER BY C.custid;
"
19588,40602,"Difference in two SQL query, but same result","SELECT  ename, deptno, sal, comm
FROM    emp
WHERE   (sal, comm) IN
(SELECT sal, comm FROM emp WHERE deptno = 30)
"
10339,26399,SELECT all rows for given start_datetime and end_datetime,"SELECT id, start_datetime, end_datetime, arena_surface_id 
FROM gce_arena_surface_booking 
WHERE ('2012-11-23 6:00' > start_datetime)
AND ('2012-11-23 2:00' < end_datetime)
AND arena_surface_id = 2
"
8664,34915,Update based on hierarchy table,";With OrgChart as        
(        
  SELECT id,id as BaseID
  FROM employee WHERE Active=1
  UNION ALL 
  SELECT e.ID, g.BaseID as BaseID         
  FROM employee e 
  JOIN OrgChart g on e.supervisorid=g.id
  WHERE e.Active=0
), ForUpd as
(SELECT ID,BASEID FROM OrgChart WHERE ID<>BAseID)

 UPDATE A SET empid = B.baseID
 FROM component A
 JOIN ForUpd B ON A.empid = B.id
"
36858,40556,Number of similar columns occurences,"INSERT INTO BATCH_ID (distinct_bench), number)
SELECT  benchID as distinct_bench, COUNT(*) number
FROM    big_table
GROUP   BY BATCH_ID 
"
15130,14683,Process entier DB to fetch data,"select table_name
      , column_name
      ,to_number(extractvalue(
       xmltype(dbms_xmlgen.getxml(
       'select count(*) c from '||owner||'.'||table_name ||' WHERE extract(year from ' || column_name || ') < 1753'
       ))
       ,'/ROWSET/ROW/C')) as count1

from all_tab_cols
where
data_type = 'DATE' and
OWNER = 'OWNER_NAME'
"
19287,37780,Running a SQL using sqlplus in UNIX?,"sqlplus username/password@database @myscript.sql >/dev/null 2>&1
"
15123,41540,SQL Query Help - LIKE Statement,"SELECT  Name
FROM    Names n
WHERE   EXISTS (SELECT NameIDs FROM NameList nl WHERE n.nameID LIKE '%'+nl.nameIDs+'%');
"
2444,21894,Outer join with conditions?,"  select v.text_value as volume_value, i.text_value as issue_value
      from ( select item_id, text_value
               from metadatavalue
              where metadata_field_id = 90) v
           full join
           ( select item_id, text_value
               from metadatavalue
              where metadata_field_id = 91) i
           using (item_id)
"
15990,1514,"SQL PIVOT Query, column based on value","select t1.pID, t1.name, t1.period,
 CASE t1.period
  WHEN 1 THEN t2.p1 
  WHEN 2 THEN t2.p2
  WHEN 3 THEN t2.p3
 END as NewVal
from t1
inner join t2 on t2.pID = t1.pID;
"
15375,75586,Oracle generate list of IW week dates,"    SELECT TRUNC(SYSDATE - (LEVEL * 7), 'IW') TheDate
      FROM dual
   CONNECT BY LEVEL <= 7
"
18820,7157,Using Raiserror to display a progress message,"RAISERROR (N'Running...',
           0,
           0)
           WITH NOWAIT;
"
24724,72274,Grouping different columns in 1 sql query,"SELECT * FROM messages WHERE MessageId IN
(
   SELECT DISTINCT
   CASE WHEN m2.MessageId IS NULL THEN m1.MessageId
   WHEN m1.MessageId > m2.MessageId THEN m1.MessageId ELSE m2.MessageId END
   FROM messages m1
   LEFT JOIN messages m2 ON
   (m1.FROMUSERID = m2.ToUserId
   AND m2.FROMUSERID = m1.ToUserId
   AND m1.MessageId != m2.MessageId)
)
-- AND (messages.FROMUSERID = 123 or messages.ToUserId = 123)
"
16542,51388,Can row_number() ignore null in oracle,"select (case when code is not null
             then row_number() over (partition by (case when code is not null then 1 else 0 end)
                                     order by . . .
                                    )
        end) as id
"
20701,15454,Joining tables using SQL,"SELECT A.ICAO, A.IATA, A.AIRPORT_NAME, A.CITY, A.COUNTRY, A.REVISED_DATE
FROM AIRPORT_CHECKLIST A LEFT JOIN AIRPORT_CHECKLIST_SELECTED B 
ON A.ICAO = B.ICAO
WHERE A.COMPANY = 'TOM' AND B.ICAO IS NULL;
"
23674,42097,Mysql query to get data from 2 tables,"select Users.user_id, Photo.photo_id
from Photo
    inner join Users on Users.user_id = Photo.user_id
where Users.user_name = 'YOUR NAME HERE'
"
26127,30971,Group by month and year in MySQL,"GROUP BY YEAR(t.summaryDateTime), MONTH(t.summaryDateTime) DESC;
"
37080,991,Help with recursive query,"SELECT 
	DocNum,
	STUFF((SELECT ', ' + CAST(DocEntry AS VARCHAR(MAX)) AS [text()]
		FROM Temp5 b
		WHERE a.DocNum = b.DocNum
		FOR XML PATH('')), 1, 2, '') AS DocEntry
FROM Temp5 a
GROUP BY DocNum
"
32782,41756,get Value that does not exist in another table and vice versa,"select Candidate, CPEVENT, Test_Number, DosedTime, DoseTime, ExpectedTime, s.Timepoint as tmpt, t.Timepoint as tmpt1, CASE WHEN t.Timepoint IS NULL THEN 'Not Collected' WHEN s.timepoint IS NULL THEN 'Not Collected' ELSE 'Collected' END as Timepoint_Collection, case when t.timepoint is null THEN s.timepoint WHEN s.timepoint IS NULL THEN t.Timepoint WHEN s.timepoint = t.TIMEPOINT THEN s.timepoint END as Timepoint  from vw_data s FULL OUTER JOIN lu_pk_Timepoint t on s.PCTPT = t.Timepoint AND s.STUDY=t.Study
"
8239,48603,Get the space used by a table in Apache Derby,"select
    tableName,
    (select sum(numallocatedpages * pagesize) from new org.apache.derby.diag.SpaceTable('APP', t.tablename) x) as size
from SYS.SYSTABLES t
order by size desc
"
11027,4184,How can I get a difference of two columns in two different tables in a SELECT query,"SELECT  (
        SELECT  SUM(col1 + col2)
        FROM    tableA
        ) -
        (
        SELECT  SUM(total) 
        FROM    tableB
        WHERE   color NOT LIKE '%black'
                AND model NOT LIKE 'CF%'
        ) AS result
"
17307,61179,How to archive tables in MySQL InnoDB,"mysqldump --defaults-extra-file=/home/username/.my.cnf database table > table.sql
"
39347,19296,mySQL SELECT using a foreign key in another table,"select el.data from event_list el
join event_default ef on el.id = ef.default_id
"
47,34734,Need list of weeknumbers between two dates,"
WITH mycte AS
(
 SELECT DATEADD(ww, DATEDIFF(ww,0,CAST('2010-12-01' AS DATETIME)), 0) DateValue
 UNION ALL
 SELECT  DateValue + 7
 FROM    mycte   
 WHERE   DateValue + 7 < '2016-12-31'
)  
SELECT DATEPART(iso_week, DateValue) as week, DATEPART(year, DateValue) as year,
       DateValue
FROM    mycte
OPTION (MAXRECURSION 0);
"
25583,18336,Joining over an interim table SQL Server,"SELECT
  p.ProductID,
  p.ProductTypeID,
  m.Margin,
  d.BiggestDiscount,
  m.Margin - d.BiggestDiscount AS AdjustedMargin
FROM Product p
INNER JOIN Discounts m ON (p.ProductID = d.ProductID)
INNER JOIN (
  SELECT
    ProductTypeID,
    MAX(discount) as BiggestDiscount
  FROM SellingPriceRules
  GROUP BY ProductTypeID
) d ON (p.ProductTypeID = d.ProductTypeID)
WHERE p.ProductID IS NOT NULL
"
7500,27582,Case statements with alias,"SELECT sales_person_id,
       CASE WHEN sales > 30000 AND city = 'Georgia' THEN 10
            WHEN sales > 50000 and city = 'Atlanta' THEN 7
            WHEN sales > 25000 and city = 'Tampa'   THEN 5
       END AS value
FROM   promotions
"
22472,34531,Get distinct combinations along with count,"SELECT col1, col2, col3, count(*) AS ct
FROM   tbl
GROUP  BY 1, 2, 3
ORDER  BY 1, 2, 3;
"
33220,51058,SQL Search for substring date,"WHERE  YEAR(dtColumn) between 2003 and 2005
"
34439,9404,Performance issue with ORDER BY + AND in sqlite,"SELECT * from table1
WHERE md5sum LIKE '00%' AND status = 'Ok'
ORDER BY md5sum, status
;
"
9530,29055,SQL query for sorting on the column partial value,"SELECT  SUBSTRING_INDEX(code, ':', 1) AS dept
        SUBSTRING_INDEX(code, ':', -1) AS sr_no
FROM    mytable
ORDER BY
        sr_no
"
21406,34355,How can I view tables as query text in SQL Server 2008,"Script Table as -> CREATE To -> New Query Editor Window
"
7775,32808,What's the best way to avoid SQL injection in Perl when passing values to Sybase queries?,"my $var = $ARGV[3]; # Copying your example
my $sql = ""select * from table1 where key1=?"";
my $sth = $dbh->prepare($sql); # You forgot 'my' in your code!
$sth->bind_param( 1, $var ); # 1 is the first instance of ""?"" in query.
$sth->execute();
"
2877,68148,rollback of addPrimaryKey also drops associated index,"<changeSet author=""ME"" id=""PK_CREATION"">
    <createIndex tableName=""MY_TABLE"" indexName=""MY_INDEX"" unique=""true"">
        <column name=""ID"" />
    </createIndex>
    <addPrimaryKey tableName=""MY_TABLE"" columnNames=""ID""
                   constraintName=""MY_PK"" forIndexName=""MY_INDEX"" />
    <rollback>
        <dropPrimaryKey tableName=""MY_TABLE""/>
    </rollback>
</changeSet>
"
21277,43350,Select rows not in another table by comparing two table,"    SELECT TableA.Id
    FROM TableA
    WHERE NOT EXISTS (
      SELECT 1
      FROM TableB
      WHERE TableB.Month_Id = TableA.Month_Id
      AND TableB.Customer_Id = TableA.Customer_Id
      AND TableB.Total_Amount = TableA.Total_Amount
   )
"
612,26226,How to pivot two date columns and fill in the gaps with multiple overlapping date periods,"SELECT a.EMPLOYEENUMBER, b.DATE, a.ABSENCETYPE, a.APPROVED
FROM Table1 a
JOIN Calendar b
   ON b.Date BETWEEN a.FIRSTDAYOFABSENCE AND a.LASTDAYOFABSENCE
"
30128,1974,UPDATE and SELECT a row in the same transaction,"Update table_name
set col1='some_value'
output inserted.* 
"
38525,7452,Count NULL Values from multiple columns with SQL,"SELECT COUNT(*)-COUNT(A) As A, COUNT(*)-COUNT(B) As B, COUNT(*)-COUNT(C) As C
FROM YourTable; 
"
6779,6575,How can I find unoccupied id numbers in a table?,"select n from
( select rownum n from dual connect by level <= 25)
where n not in (select id from table);
"
9336,29988,sql query to add days to specific column date,"UPDATE <table> 
SET expiry_date = DATE_ADD(expiry_date , INTERVAL 7 DAY) 
WHERE DATE(expiry_date) >= DATE(NOW());
"
8202,21054,Count duplicate entries in single column (SQL),"select cast(created as date), count(*)
from users
group by cast(created as date)
"
13708,11865,SQL JOIN two tables with two equally named columns,"SELECT t1.*, t2.company AS default_insurance_company
FROM default_profiles t1 LEFT JOIN default_insurance t2
ON t1.uid = t2.id
WHERE t1.uid = 1
"
22317,10192,Trouble with database normalisation,"Table: Region
Cols: ID, RegionName, State, etc...

Table: NewsLetter
Cols: ID, NewsLetterName, ect...

Table: Map_Region_NewsLetter
Cols: ID, RegionID, NewsLetterID
"
22862,27271,How do I successfully cast a division equation in a Select statement to a floating point or percentage?,"Select Precincts.precinctid,Residences.unique_resadd,Precincts.count_prcnt,(Precincts.precinctID::float8 / Residences.precinctID::float8) AS PCT 
From Residences,Precincts 
Where Precincts.precinctID = Residences.precinctID 
ORDER BY Precincts.precinctid;
"
1248,61561,Grouping rows and combining data,"SELECT AllocationBalance.SecondRef, 
       StockItem.Code, 
       MAX(dbo.BomRecord.Description) as Description
FROM [YOUR_TABLES] -- including joins
WHERE (AllocationBalance.RecipientName = 'BOM') AND (StockItem.Code LIKE '%ZW01008%')
GROUP BY AllocationBalance.SecondRef, StockItem.Code
"
27401,22229,(My)SQL: group rows by a given field and force the newest data to be used in the grouped row,"SELECT 
  i.* 
FROM
  invoices i 
JOIN 
  (SELECT 
      order_id,
      MAX(created_at) created_at 
    FROM
      invoices 
 GROUP BY order_id) ii 
ON (
  i.order_id = ii.order_id 
  AND i.created_at = ii.created_at
)
"
17160,40830,"SQL queries slow when running in sequence, but quick when running separately","INSERT INTO FOO 
  (ID, TotalQuantity)
SELECT 
e.ID, 
SUM(e.Quantity) as TotalQuantity
FROM (select 
    o.ID,
    h.n.value('TotalQuantity[1]/.', 'int') as TotalQuantity
FROM dbo.OtherTable o
INNER JOIN FOO f ON o.ID = f.ID
    CROSS APPLY o.XmlColumn.nodes('(item/.../salesorder/)') h(n)
WHERE f.ID = null
) as E
GROUP BY e.ID
"
26369,3500,Find similarities between string in SYBASE SQL," (case when left(str1, 10) = left(str2, 10) then 10
       when left(str1, 9) = left(str2, 9) then 9
       ...
       when left(str1, 1) = left(str2, 1) then 1
       else 0
   end)
"
6181,36293,How to use a LIKE statement inside an IF statement?,"declare @name varchar(45)

set @name = 'johnson'

IF( @name LIKE '%John%' )
BEGIN
    print 'like'
END
ELSE
BEGIN
    print 'dislike'
END
"
37181,34342,I have sql query but how is the rest,"Dim command As New SqlCommand

command.CommandText = ""SELECT * FROM tblMeter WHERE (Date >= @startDate) AND (Date <  @endDate)""
command.Parameters.AddWithValue(""@startDate"", startDateTimePicker.Value)
command.Parameters.AddWithValue(""@endDate"", endDateTimePicker.Value)
"
24398,11436,How do you clone ( duplicate ) a MongoDB object in a collection of the same db?,"> user = db.users.findOne({'nickname': 'user1'})
> user.nickname = 'userX'
> delete user['_id']
> db.users.insert(user)
"
35935,1893,Update the date coulmns in iteratively manner,"update table1 set expiration_date = effective_date + 1/24/3600 where <somecondition>
and for next row: effective_date = old_exp_date + (1/24/3600)+rownum , expiration_date = effective_date + (1/24/3600)+rownum
"
29547,8447,idea to write procedure?,"SELECT ISNULL(p.someValue, d.someValue)
FROM DepartmentRelatedTable d
LEFT JOIN ProductRelatedTable p on (d.ProductId = p.ProductId)
WHERE d.ProductId = <some id here>
"
6216,29227,Converting SQL script to LINQ with IN clause,"var result = tableName.Where(x => 
                (from t in tableName
                group t by t.MyID into g
                where g.Max(y => y.MyDate) == x.MyDate
                select 1).Any())
"
30798,60349,Group all the fields in one row,"SELECT
  GROUP_CONCAT(id_count SEPARATOR ', ')
FROM
  (SELECT CONCAT('id(', id, ') = ', count(type)) id_count FROM T GROUP BY id) data
"
38216,26656,SQL get the row with highest amount created first,"select bid.*
from (select itemid,
             substring_index(group_concat(id order by amount desc, updateddate asc, tiebreak desc), ',', 1) as id
      from bid
      group by itemid
     ) b join
     bid
     on b.itemid = bid.itemid and b.id = bid.id;
"
38250,36523,oracle sqlplus does not give long result,"set echo off
set feedback off
set linesize 1000
set pagesize 0
set sqlprompt ''
set trimspool on
set headsep off

spool output.csv

select 'col1,col2,col3' from dual;

select col1 || ',' || col2 || ',' || col3
from bigtable;

spool off
"
32136,9317,how do i get the number of members on status name,"SELECT COUNT(*)
FROM member inner join mmship
   ON member.member_Id = mmship.member_Id
   INNER JOIN mshipstatus
   ON mshipstatus.mshipstatus_Id = mmship.mshipstatus_Id
WHERE mshipstatus.mshipstatusname = 'prospective'
   AND MONTH(mmship.mmshipstart_date) = MONTH(GETDATE())
"
16246,69301,"How to add ""nd"" in Microsoft SQL Server Management Studio","UPDATE [Temp].[dbo].[OfficeFloor]
SET [floor]= '32' + nchar(0x207F) + nchar(0x1d48) + ' floor'
WHERE [Name] = 'Paul D.';
"
18353,47695,Query value from APEX page item,"where g.group_id = :p2_x
"
9988,34678,How can we show records even if id is null?,"SELECT g.*
     , r.rol_display_name
     , u.usr_fname 
FROM  groups g
JOIN groups_roles gr on g.id = gr.groups_id
JOIN roles r on r.id = gr.roles_id
LEFT JOIN users u on g.grp_manager_id = u.id   
"
2585,73332,PHP MySQL Group By question,"SELECT COUNT(customerid) AS `count`,
    datecreated,
    SUM(`recordtype` = 'C') AS CountOfC,
    SUM(`recordtype` = 'L') AS CountOfL
FROM `tbl_customers` 
WHERE `datecreated` BETWEEN '$startdate.""' AND '"".$enddate.""' 
GROUP BY `datecreated` ASC
"
17532,52660,How to link 4 tables using an mySQL query,"SELECT *
FROM Vehicle v
INNER JOIN Info   i ON          v.id = i.vehicle_id
INNER JOIN Axle1 a1 ON i.vehicle_id  = a1.vehicle_id
INNER JOIN Axle2 a2 ON a1.vehicle_id = a2.vehicle_id 
"
27968,70883,SELECT Maximum/Minimum of 2 or more fields,"select t.*, maxcol
from t cross apply
     (select max(col) as maxcol
      from (values (fieldA), (fieldB), (fieldC)
           ) v(col)
     ) m;
"
33774,5791,Find rows which contain special characters except underscore and space,"SELECT *
FROM   tabl
WHERE  val COLLATE Latin1_General_BIN LIKE '%[^A-Za-z0-9 _]%'
"
6305,292,Sql joins Displaying only available times,"SELECT *
FROM Availability
WHERE NOT EXISTS
(
    SELECT 1
    FROM Appointment
    WHERE Appointment.AppointmentTime = Availability.AvailabilityTime
        AND Appointment.EmployeeID = Availability.EmployeeID
)
"
36416,50559,ANSI Sql query to force return 0 records,"SELECT * FROM (
select
  c.lastname,
  sum(cs.amount)
from customersales cs
join customers c on c.idcustomer=cs.idcustomer
/* where 1=0 */
group by c.idcustomer, c.lastname
) x
WHERE 0=1
"
1966,73808,select columns from another table and create a column,"SELECT a.width, a.height
    FROM assigned_ads aa
        INNER JOIN ads a
            ON aa.ad_id = a.id
    WHERE aa.id = 123 -- Your value goes here.
"
21392,67674,Ordering a mysql table by date when the column is declared varchar,"  ORDER BY STR_TO_DATE(date,'%d/%m/%Y') DESC
"
34727,19413,Splitting long strings in SQL,"-- CREATE A STRING TO SPLIT WITH OVER 100 DELIMITERS
DECLARE @s VARCHAR(1000) = 'a'

SELECT  @s = @s + ',a'
FROM    master..spt_values
WHERE   type= 'p'
AND     number BETWEEN 1 AND 150

--SPLIT LONG STRING
SELECT  *
FROM    dbo.splitString(@s, ',')
OPTION (MAXRECURSION 0) -- NO LIMIT
"
27837,17043,Cannot insert 'football' into column that has NULL as its value," Update [dbo].[Category] 
 SET ProductGroup_Keywords = coalesce( ProductGroup_Keywords, '')  + 'football' 
 WHERE Category_ID = 101' 
"
30428,64074,SQL AVG function on multiple tables,"SELECT user_id, average_score = AVG(score)
FROM (
    SELECT user_id, score FROM test_score1
    UNION ALL
    SELECT user_id, score FROM test_score2
) AS subquery
GROUP BY user_id
"
671,43837,How do i rename the table name using SQL query?,"EXEC sp_rename 'Stu_Table', 'Stu_Table_10'
"
22160,30722,Sequence / Identity support in python webframeworks,"class Foo(Base):
    id = Column(Integer, Sequence('foo_seq', optional=True), primary_key=True)
    ...
"
14465,8708,How can I display non existing records?,"select t2.*,
case when t1.deal_id is null then 'do not exist' else 'exists' end as status 
from lookup_table as t1 left join deals as t2
on t1.deal_id=t2.deal_id
and t1.deal_id and t2.run_id = 2550
where ('4385601', '4385602', ...)
;
"
14,32437,Fetch a Unique Number from a file containing list of numbers concurrently,"create table special_number (id serial, num varchar(100) not null);
create unique index special_number_num on special_number(num);
copy special_number(num) from '/tmp/data.txt'; -- 1 special number per file line
create sequence num_seq;
select num from special_number where id = (select nextval('num_seq'));
"
15567,34910,SQL Server - how to combine query and subquery results in a single node in a FOR XML PATH T-SQL query,"  SELECT (
    SELECT
      [customer]
     ,( SELECT
          [id] AS [@id],
          [Item] AS [data()]
        FROM @OrderDetail od
        WHERE od.fk_Order = ot.id
        FOR XML PATH('d'),TYPE
      )
    FROM @OrderTbl ot
    FOR XML PATH('c'),TYPE
  ) FOR XML PATH('b'), ROOT('a')
"
21229,69764,if else in select sql statement," CASE WHEN status = 3 THEN 'Done' WHEN status = 0 THEN 'Pending' END
"
1918,4167,Select all records don't meet certain conditions in a joined table,"SELECT *
FROM posts p
WHERE NOT EXISTS(
    SELECT 1
    FROM comments c
    WHERE c.comment_date >= 'deadline'
    AND p.post_id = c.post_id
)
"
25565,17911,Combining results of two different tables in MYSQL,"SELECT salesperson, SUM(total), SUM(Units)
FROM 
     (
        SELECT salesperson, Amount as total, Units
        FROM Transactions
        UNION ALL
        SELECT salesperson, Profit as total, 0 as Units
        FROM Connections
    ) T
GROUP BY salesperson
"
25386,47126,condition in where clause with optional parameter,"where
(@FromDate is null or ([Created] between @FromDate and @ToDate)) 
or
((@requestId is null or Id=@requestId) 
    and @FromDate is null) ----mix @requestId & @FromDate
"
19000,48394,How to have Foreign Key Relation with a field that may contain Multiple Types of it?,"DVD_Id     Genre_Id
1            4
1            5
1            6
"
38585,12037,How to count from a table based on another table,"SELECT QO.Question_ID, QO.Option_Label as Choice, COUNT(*) as VotesMale
FROM Question_Options QO 
LEFT JOIN Session_Answers SA ON QO.ID = SA.Option_ID
JOIN [Session] S ON S.ID = SA.Session_ID AND S.Gender = 'M'
WHERE QO.Question_ID = 10114<---the Question ID
GROUP BY QO.Question_ID, QO.Option_label
"
5895,29847,How to remove orphan rows in multiple left join in mysql?,"WHERE COALESCE(child_tab.parent_id, child_tab2.parent_id) IS NOT NULL
"
4704,71553,SQL Server : values from two or more tables,"SELECT 
    A.UserName, A.HostName, B.ServerName 
FROM 
    Table1 AS A 
INNER JOIN 
    Table2 AS B ON A.ServerID   = B.ServerID   
"
35849,9290,PHP / MYSQL Date Calculations for automated billing,"SELECT * FROM users WHERE DATE_ADD(signup_date, INTERVAL 30 DAY) <= NOW()
"
39951,3457,PostgreSQL select all from one table and join count from table relation,"select p.*, coalesce(t1.p_count,0)
from post_categories p
left join (
    select post_category_id, count(*) p_count
    from posts
    group by post_category_id
) t1 on t1.post_category_id = p.id
"
32626,24656,Add number to rows based on identical values in selected columns,"WITH uniquez as (SELECT timestamp, drivers_license, 
rank() over (ORDER BY timestamp, drivers_license) as counterz 
FROM ticketTable)

UPDATE ticketTable TT
SET stop_id = uniquez.counterz
WHERE uniquez.timestamp = TT.timestamp
AND uniquez.drivers_license = TT.drivers_license
"
35289,56157,What is the SQL Server syntax to sum sales for s certain day using a stored procedure parameter for date range?,"CREATE PROC P @Date DATE
AS BEGIN 
    SELECT Cast(count(*) as varchar(8)) + ',' +  Cast(Sum(trans_amount) as varchar(8)) as SalesData FROM PD_Transaction WHERE pd_Trans_CreatedOn
    BETWEEN CONVERT(datetime, CONVERT(VARCHAR(10), @Date, 121) + ' 00:00:00', 121) and CONVERT(datetime, CONVERT(VARCHAR(10), @Date, 121) + ' 23:59:59', 121)
END
"
26727,53759,Checking if integer exists in a variable geometric sequence,"with anchor as (
  select @y as num
),
progression as (
  select num from anchor

  union all

  select num * @z from progression where num * @z <= @x
)
select case when exists (select 0 from progression where num = @x) then 1 else 0 end
"
15605,2295,SQL- Referencing the primary key of the current relation (homework),"create table Student
    StudentId int primary key
    MendtorId int foreign key references Student.StudentId
"
9376,59968,How to sort in a different way,"SELECT * FROM countries
ORDER BY title='Italy' DESC, title
"
15185,57602,MYSQL: Right join not returning expected rows,"SELECT u.id, u.user_name, u.first_name, u.last_name, g.*
FROM vtigercrm600.vtiger_users u LEFT JOIN
    vtigercrm600.vtiger_users2group ug
    on u.id = ug.userid LEFT JOIN
    vtigercrm600.vtiger_groups g
    on ug.groupid = g.groupid
WHERE u.id = 5;
"
5300,43587,Cannot search in all columns of differing types,"SELECT * 
  FROM (SELECT to_char(n) as n, s FROM t) 
UNPIVOT (anywhere FOR col IN (...));
"
37529,36457,Selecting timestamp as 00:00:00,"SELECT to_char(trunc(request_date),'YYYY-MM-DD HH24:MI:SS') date_time
"
26315,70853,How can I make this SQL update statement more efficient?,"UPDATE table1 
SET col1 = YourCount, col2 = YourAverage, col3 = YourSum
FROM table1 t1
INNER JOIN (
    SELECT table2Id, COUNT(*) AS YourCount, AVG(someCol1) YourAverage, 
        SUM(someCol2) YourSum
    FROM table2
    GROUP BY table2Id
) t2 ON t1.table1Id = t2.table2Id
"
23475,41504,How to do a subquery against multiple phrases with LIKE or REGEXP?,"WHERE hashtag REGEXP (select GROUP_CONCAT(name SEPARATOR '|') from hashtags where hid = 1)
"
26198,3653,Should I define indexes for both directions,"where itemId = @itemId
"
12823,44777,"Can I use wildcards in ""IN"" MySQL statement?","select * from my_table where field rlike 'apple|orange';
"
27005,34529,XML Schema totalDigits/fractionDigits vs. SQL precision/scale,"scale ≡ fractionDigits
precision ≡ totalDigits
"
26800,64913,Delete rows where older than 5 Working days,"time_created < (NOW() - INTERVAL if(WEEKDAY()=..., 5, else if 6, else if 7) DAY)
"
38591,31487,Change results of SQL query in ASP page to include links for a specific column,"SELECT account, telephone, ""<a href='""+communityURL+""'>""+community+""</a>"" as CommunityCol, status
FROM myTable
ORDER BY account
"
28510,30409,SQL UPDATE TOP with ORDER BY?,";with cte as (
   select top (@MaxRecords)
       status
   from Messages 
   where Status = 'N' and InsertDate >= getdate()
   order by ...
)
update cte set
    status = 'P'
output inserted.*
"
3863,17699,Difference between sql statements and clause,"SELECT foo FROM bar JOIN quux WHERE x = y;
"
8717,71777,Get floating point numbers from a list,"SELECT * 
from tblname 
where amount=FLOOR(amount)
"
13159,69780,How to add integers to char in Oracle 11g SQL?,"SELECT CHR(ASCII('a') + 1) FROM dual
"
23658,4973,How to aggregate related object counts in a view effectively?,"CREATE TRIGGER product_increase_likes AFTER INSERT ON Likes
    FOR EACH ROW BEGIN
        UPDATE Products SET likes_count=likes_count+1 WHERE id=NEW.product_id
    END;

CREATE TRIGGER product_decrease_likes AFTER DELETE ON Likes
    FOR EACH ROW BEGIN
        UPDATE Products SET likes_count=likes_count-1 WHERE id=OLD.product_id
    END;
"
21929,1666,Precedence of operators in SQL*Plus,"(((A - B) U B) - A)
"
18841,37359,SqlDbType and Geography,"//define parameter
command.Parameters.Add(""@shape"", SqlDbType.NVarChar);
//
//code in between omitted
//
//set value of parameter
command.Parameters[""@shape""].Value = feature.Geometry.AsText();
"
35899,41555,SQL : Select 20 entries from a specific id,"SELECT *
FROM Users
WHERE id >= 34
ORDER BY id ASC
LIMIT 20
"
29811,35951,Exclude leading NULL values from table,"SELECT row_number,value FROM <table> t1
WHERE value is not NULL OR
     EXISTS (select * FROM <table> t2
             where t2.value is not null and
             t2.row_number < t1.row_number)
"
23608,21366,filename in sql procedure,"DECLARE @sql varchar(4000);
SET @sql = 'INSERT INTO provaxml (arquivo) SELECT CAST(BulkColumn AS XML) FROM OPENROWSET(BULK ''' + @nome + ''', SINGLE_BLOB) as arquivo';

EXEC( @sql );
"
17261,10692,SQL Server Force Results of Select Statement to Output Window Before End of Script,"RAISERROR( 'Just to print everything',0,1) WITH NOWAIT
"
2650,41603,It is possible to do a autonumber sequence in a SELECT on Oracle?,"select 
  rownum
from 
  dba_objects, 
  dba_objects
where
  rownum <= 9000;
"
26707,2508,Select * from MyTable where name='%Jack%' in Mysql,"SELECT * FROM MyTable
WHERE LOWER(name)  LIKE '%jack%';
"
37246,12396,mySQL sorting issue with alphanumeric string,"SELECT MAX(
  CAST(
    SUBSTRING(CourseNumber, 4) AS UNSIGNED)
  ) 
FROM courses WHERE CourseNumber RLIKE 'ZZ'
"
1305,16816,Different rand() value for multiple rows SQL Server,"UPDATE Team
SET GroupID = CAST(RAND(CHECKSUM(NEWID()))*10000000 AS INT)
WHERE GroupID IN (SELECT GroupID FROM Team
GROUP BY GroupID
HAVING COUNT(GroupID)<4)
"
38935,36379,teradata - volatile table,"abort;
 *** ABORT signal received.
 *** Warning: Canceling the rest of the output.
 BTEQ -- Enter your SQL request or BTEQ command:
"
3415,34462,Teradata REGEXP_SPLIT_TO_TABLE Inserting Spaces between Numbers,"SELECT *  
FROM TABLE(
       REGEXP_SPLIT_TO_TABLE('2625 1410', '2625 1410', '[ \t\r\n\v\f]' , 'i') 
         RETURNS (outkey VARCHAR(250) CHARACTER SET UNICODE
                 ,token_ndx INTEGER
                 ,token VARCHAR(220) CHARACTER SET UNICODE )
   ) AS t1;
"
38625,69004,This query run in 30s. How can I optimize it?,"SELECT a.id, X.chapterno, X.mid, X.hitcount
FROM 
(select chapterno,  max(hitcount) as hitcount 
from chapter    
WHERE mid = 2524
group by chapterno)X
INNER JOIN chapter a ON (a.chapterno = X.chapterno AND a.mid=X.mid)
ORDER BY X.chapterno DESC
"
27466,30249,"how to write linq ""group by"" and get count based on row in asp.net mvc","var result = from timesheet in reslandentity.TIMESHEET
             join tlog in reslandentity.TIMESHEET_LOG 
                  on timesheet.ID equals tlog.TIMESHEET_ID
             group tlog by tlog.STAT into g
             select new { Stat = g.Key, Count = g.Count() };
"
32246,47511,Getting single records back from joined tables that may produce multiple records,"select  Student_Name,
        Student_Email,
        (select count(*) 
         from Enrollment e 
         where e.student_id = s.student_id
        ) Number_Of_Enrollments 
 from Student e
"
36929,15473,Combine 2 requirements in 1 query,"SELECT t1.column_name, ch.id
FROM information_schema.Columns t1
LEFT JOIN checkbox ch
  ON t1.column_name = ch.column
WHERE t1.table_name = 'tab_col'
ORDER BY t1.column_name;
"
25422,24958,Join or filter in SQL,"create table #SearchSet(Item varchar(10) primary key);
insert into @SearchSet(Item)
    values(('AA'),('BB'),('CC'),('DD22'),('AC123'),('456AA'),('125AA15'),('A154A'),('DDSSAA'),('55KKAA'));
"
34340,4646,How can I delete a datafile that has no tablespace without accessing the filesystem?,"CREATE TABLESPACE MYAPP
DATAFILE '/mnt/data/app/oracle/oradata/MYAPP_02.dat'
SIZE 100M AUTOEXTEND ON;

alter tablespace MYAPP add datafile '/mnt/data/app/oracle/oradata/MYAPP_01.dat';

drop tablespace MYAPP including contents and datafiles;
"
21988,58752,"SQLite INSERT or REPLACE, but only if something outside of the indexed columns is different?","alreadyExists bool (string _firstName, string _lastName)
{
    //implement a connection (con)

    //implement a command (cmd)

    cmd.CommandText = @""SELECT firstName, lastName, age, height from yourTableName WHERE firstName = _firstName AND lastName = _lastName"";

    //^ it will return firstName, lastName, age, and height from the table if it already contains a record in names you ve given in parameters

    //return true if command has returned something
    //or return false otherwise
}
"
13266,9416,SQL - Multiple queries on same table,"SELECT DeviceName,
       SUM(CASE WHEN JobType = 'copy' THEN PageCount ELSE 0 END) AS Copy,
       SUM(CASE WHEN JobType = 'print' THEN PageCount ELSE 0 END) AS Print
FROM Tracking
GROUP BY DeviceName
"
39554,36857,Query to get summary of survey questions answered (distinct column values),"SELECT
    (SUM(happy_or_sad = 'no') / COUNT(*)) * 100 AS percentage_no,
    (SUM(happy_or_sad = 'yes') / COUNT(*)) * 100 AS percentage_yes,
    (SUM(happy_or_sad = 'sometimes') / COUNT(*)) * 100 AS percentage_sometimes,
FROM
    survey_result
"
13910,44164,Example pl/sql function - elaboration?,"SELECT GetName (empno) name
     , amount
FROM bonus;
"
21964,26660,Best technique to store gender in MySQL Database,"SELECT * FROM myTable WHERE gender = 1;
"
21632,64033,subtract date from sql column,"where Docstatus = 'A' AND DateDiff(day, GETDATE(), ProposedComplete) = 9
"
27513,35185,SQL Monthly Summary,"SELECT A.Month, ISNULL(B.countvalue,0) Count
FROM (SELECT 1 AS MONTH
UNION 
SELECT 2 
UNION 
SELECT 3 
UNION 
SELECT 4 
UNION 
SELECT 5 
UNION 
SELECT 6 
UNION 
SELECT 7 
UNION 
SELECT 8 
UNION 
SELECT 9 
UNION 
SELECT 10 
UNION 
SELECT 11 
UNION 
SELECT 12 ) A LEFT JOIN (SELECT datepart(month,Startdate) AS Month, Count(ID) as countvalue FROM yourTable GROUP BY datepart(month,Startdate))B
ON A.month = B.month
"
9866,41394,postgres - with recursive,"WITH RECURSIVE recursetree(level_id, levelparent) AS (
    SELECT level_id, parent_level 
    FROM level 
    WHERE level_id = 197

    UNION ALL

    SELECT t.level_id, t.parent_level
    FROM level t JOIN recursetree rt ON rt.levelparent = t.level_id
    -- join condition fixed and ANSI-ified above
)
SELECT * FROM recursetree;
"
14710,15645,MySQL source file quietly,"mysql -u... -p my_database < file.sql
"
25569,21840,Select 10 latest comments with unique author from MySQL table,"select
c1.comment_content,
c1.comment_date,
c1.comment_author
from comments c1
left join comments c2 on c1.comment_author = c2.comment_author
and c1.comment_date < c2.comment_date
where c2.comment_author is null 
order by c1.comment_date desc limit 10
"
33736,68807,Convert positive data into negetive data (entire column) in Postgres Server," Update table set a= 0-a where a >0
"
16048,4604,Split Multiple Columns into Multiple Rows,"SELECT
   Y.UserID,
   Y.UserName,
   QuestionName = 'AnswerToQuestion' + X.Which,
   Response =
      CASE X.Which
      WHEN '1' THEN AnswerToQuestion1
      WHEN '2' THEN AnswerToQuestion2
      WHEN '3' THEN AnswerToQuestion3
      END
FROM
   YourTable Y
   CROSS JOIN (SELECT '1' UNION ALL SELECT '2' UNION ALL SELECT '3') X (Which)
"
13963,26909,SQL-query order by multiple columns having null values,"street|zip
-----------
'a'   |0
'b'   |0
'c'   |null
null  |0
null  |null
'f'   |1
"
21892,50024,Sorting fetched tables names from databse. Mysql PHP,"select table_name from information_schema.tables 
  where table_schema=""yourDbName"" and table_name like '"" . $tbl . ""_gw%' 
  order by create_time;
"
1370,34031,SQL Select Bottom Records,"SELECT T1.* 
FROM
(SELECT TOP X Id, Title, Comments, CreatedDate
FROM MyTable
WHERE CreatedDate > @OlderThanDate
ORDER BY CreatedDate) T1
ORDER BY CreatedDate DESC
"
17394,100,Versioning SQL Server database,"create table VersionHistory (    Version int primary key,    UpgradeStart datetime not null,    UpgradeEnd datetime    );"
27246,38088,Select where user bought every year,"select COUNT(distinct ss.year_ordered) as sales_count, ss.userID 
from subscriber_sub ss
where ss.date_deleted is null
  and ss.year_ordered > 2007
group by ss.userID
having  COUNT(distinct ss.year_ordered) >= ( select 2014 - 2008 )  
"
4614,21967,Inner join - more than one table,"UPDATE Test
SET isNotGood = 1
WHERE te_id in (select employee_id
from [Big Table] bt
left join table1 as W on W.s_id = bt.employee_Id
left join table2 as K on K.s_id = bt.employee_Id
left join table3 as R on R.s_id = bt.employee_Id
where (bt.status <> W.status and W.status is not null) or (bt.status <> K.status and k.status is not null) or (bt.status <> R.status and R.status is not null);
"
12686,56400,Server name dissapears from rdoConnection.Connect string,"SELECT value FROM settings WHERE name = 'servername'
"
38944,1566,Need help for sql query,"select maker from table
where type = 'pc' and model >= 700      -- Should be Speed in this line?
group by maker
having count(distinct model) >= 2
"
20130,12218,Counting distinct undirected edges in a directed graph in SQL,"select count(*) from (
  select to_there from edges where from_here = 1
  union
  select from_here from edges where to_there = 1
) as whatever
"
25022,49382,How to Rename a Table in MySQL,"SET @oldTable = 'a_b';
SET @newtable = 'b_b';
SET @sql = CONCAT('RENAME TABLE ', @oldTable, ' TO ', @newtable);

PREPARE stmt1 FROM @sql;
EXECUTE stmt1;
"
7862,22998,How to create multiple rows from a single row - normalize a table,"SELECT
   B.Department,
   DateAdd(month, (B.Year - 1900) * 12 + M.Mo - 1, 0) [Date],
   M.Balance
FROM
   dbo.Budget B
   CROSS APPLY (
      VALUES
      (1, Month1), (2, Month2), (3, Month3), (4, Month4), (5, Month5), (6, Month6),
      (7, Month7), (8, Month8), (9, Month9), (10, Month10), (11, Month11), (12, Month12)
   ) M (Mo, Balance);
"
35419,53956,COUNT FUNCTION where clause,"SELECT COMPANY_NAME, ENROLLMENT_FEE, COUNT(COMPANY_NAME) AS NR_OF_MEMBER
FROM COMPANY
GROUP BY COMPANY_NAME, ENROLLMENT_FEE
ORDER BY NR_OF_MEMBER DESC
LIMIT 1;
"
30344,34187,How to select a random result for each distinct item in MySQL,"SELECT a.question, a.answer_id, a.user_id, a.totalvotes
FROM
(
    SELECT a.question, b.answer_id, c.user_id, COUNT(d.vote_id) AS totalvotes
    FROM questions a
    LEFT JOIN answers b ON a.question_id = b.question_id
    LEFT JOIN users c ON b.user_id = c.user_id
    LEFT JOIN votes d ON b.answer_id = d.answer_id
    GROUP BY a.question, b.answer_id
    ORDER BY RAND()
) a
GROUP BY a.question
"
38953,30672,SQL get first matching results,"    select * from (
select id , substr(id,0,3),rank() over ( partition by substr(id,0,3) order by id) rank 
from mytable
WHERE ID LIKE 'R43%' OR ID LIKE 'D32%' OR ID LIKE 'F22%')
where rank = 1
"
5491,64444,PostgreSQL - Joining 3 tables returning too many results,"select 
requirements.description
from requirements 
inner join advancement_requirements on requirements.requirement_id = advancement_requirements.requirement_id 
inner join advancements on advancement_requirements.advancement_id = advancements.id
WHERE advancements.id = 1;
"
24227,24578,Relationship table in MySQL database,"SELECT people.fname, hats.hat
FROM people
INNER JOIN hats_collection
  ON hats_collection.person_id = people.person_id 
INNER JOIN hats
  ON hats_collection.hat_id = hats.hat_id
WHERE people.person_id = 1;
"
15438,26743,Date format in SQL Server 2008 R2," select convert(date, left('29-01-2008 AM 12:00:00', 10), 105)
"
8919,5045,how to group by and return sum row in Postgres,"SELECT id, SUM(amount) AS amount
FROM yourtable
GROUP BY id
"
2171,4672,"Clickable ListView item needs SQL function new item, how?","lv.setOnItemClickListener(new OnItemClickListener(){
                public void onItemClick(AdapterView<?> parent, View view,
                        int position, long id) {
     String rowData = (String) lv.getItemAtPosition(position); //you'll need to make the lv as final
     String[] data = rowData.split("" ""); //split the result using the spaces (so you could obtain the name, hotness and the other string you use)
     entry.createEntry(data[0], data[1]);
}
"
23381,64535,Return all id's from table in store procedure,"declare @userId table (uid int)
declare @feedId table (id int)

insert into @userid(uid)
select id 
from Users 
where name = @userName

insert into @feedid(id)
select feedid 
from userstofeed 
where userid in (select uid from @userId)

select * from feed where id in (select id from @feedId)
"
32032,25895,How to Optimize a Query With GROUP BY and ORDER BY,"  SELECT u.*, p1.* FROM
  users u 
  INNER JOIN 
  (
      SELECT p.user_id, p.created_at, p.id FROM posts p 
      WHERE  p.type IN ('post', 'page', 'file')  GROUP by p.user_id 
      ORDER BY p.created_at DESC LIMIT 30
  )xxx ON xxx.user_id = u.id
   INNER JOIN posts p1 ON (p1.id = xxx.id)
"
2275,24694,MySql get duplicate id where other column condition,"SELECT item_id FROM my_table 
WHERE image_id = 1 
  AND item_id IN (SELECT item_id FROM my_table GROUP BY item_id HAVING COUNT(*) > 1);
"
16936,63595,How to group quantities in a period of time,"SELECT extract(year from DATE) as yr, extract(month from date) as mon, ITEM, SUM(QUANTITY) 
FROM SALES 
WHERE DATE BETWEEN ""DATE1"" AND ""DATE2""
group by extract(year from DATE), extract(month from date)
order by 1, 2
"
23367,15777,Xquery get value from attribute,"SELECT <xmlfield>.value('(/xml/fields/field/@name)[1]', 'varchar(60)')
FROM <table>
WHERE <xmlfield>.value('(/xml/fields/field/value/)[1], 'int') = 1
"
13208,54502,Good or bad idea to include numbers in SQL table names?,"CREATE TABLE ""102S"" (
  col1 number
);

SELECT *
  FROM ""102S""
"
7811,65929,Joining two tables by date MySQL,"select
  the_date,
  amount,
  (
    select v.interest
    from value v
    where v.the_date <= h.the_date
    order by v.the_date desc
    limit 1
  ) as interest
from history h;
"
16455,29701,SUM specific set of values in SQL,"Select q.name, sum(q.value) 
from (YOUR_SELECT_QUERY) q
group by q.name
"
30109,33654,What is the command from shell to delete a database in sqlite?,"adb shell
cd /data/data
cd <your.application.java.package>
cd Databases
rm <your db name>
"
30080,52211,"Data size of result with join, how to optimize?","SELECT COUNT(*)
FROM tbl1
"
26484,10422,Split string using pl/sql using connect level on null value,"SELECT CAST(REGEXP_SUBSTR (str, '(.*?)(~|$)', 1, level, null, 1) AS CHAR(12))  output
FROM (select 'How~do~I~do~this' as str from dual)
CONNECT BY level <= regexp_count(str, '~') + 1;
"
24456,39508,write a query to identify discrepancy,"  Select StudentId, Count(*) DupCount
  From Table
  Group By StudentId
  Having Count(*) > 1
  Order By Count(*) desc, 
"
17234,15360,MySQL: SELECT First or Last Rows When Grouping By Multiple Columns,"SELECT o.`bid_id`,o.`buyer_id`,o.`item_id`,o.`amount`,o.`time` FROM `offers` o
JOIN
(SELECT MIN(`bid_id`) AS `bid_id`,`buyer_id`,`item_id`,`amount`,`time` FROM `offers` GROUP BY `buyer_id`,`item_id`)x
ON x.bid_id=o.bid_id  AND x.buyer_id=o.buyer_id
"
24597,68920,How to get those row where a field value exist in all foreign key type from a table,"SELECT Count(resource_id) AS cnt, 
       resource_name 
FROM   the_table 
GROUP  BY resource_name 
HAVING cnt = (SELECT Count(DISTINCT resource_id) 
              FROM   the_table); 
"
26698,31052,How do I specify that values in a column must already exist in another table?,"CREATE TABLE t1 (
    id integer PRIMARY KEY,
    txt character varying(30));

CREATE TABLE t2 (
    id integer PRIMARY KEY,
    t1_id integer,
    FOREIGN KEY (t1_id) REFERENCES t1(id));

CREATE VIEW t2ANDt1
AS
   SELECT 
     id,
     t1_id,
     t1.txt
   FROM t2
   INNER JOIN t1 ON t2.t1_id = t1.id
"
12015,51408,Oracle: Union columns if non-null value exists,"with unioncte as (
select name, value from table1
union
select name, value from table2
)
select name, value from unioncte
minus
select name, null from unioncte
where value is not null;
"
3723,62788,Compare and remove rows from a specific table,"CREATE TEMPORARY TABLE tmp (AssociateID INT);
INSERT INTO tmp (AssociateID)
SELECT  AssociateID
FROM    tbl_HR_Auditing_Reports
WHERE   DocumentName = 'Termination Statement (*)';

DELETE 
FROM    tbl_HR_Auditing_Reports 
WHERE   DocumentName = 'Restrictive Covenant Letters'
AND     NOT EXISTS
        (   SELECT  1
            FROM    tmp
            WHERE   tmp.AssociateID = tbl_HR_Auditing_Reports.AssociateID
        )
"
217,26102,Fetching the list of last values from SQL Server database and left join to a view,"CREATE VIEW vw_CurrentTherapists 
AS
   WITH CurrentTherapist AS
   (
       SELECT 
          SID, TID, [Date],
          RowNum = ROW_NUMBER() OVER(PARTITION BY SID ORDER BY Date DESC) 
       FROM 
          dbo.SessionList
   )
   SELECT 
      SID, TID, [Date]
   FROM 
      CurrentTherapist
   WHERE
      RowNum = 1
"
12546,42298,When I'm retrieving blob value from SQLite it gives different value as it is stored in database,"CREATE TABLE IF NOT EXISTS "" + DB_TABLE + ""(""+ 
               KEY_NAME + "" TEXT,"" + 
               KEY_IMAGE + "" BLOB);"";

ContentValues cv = new  ContentValues();
cv.put(KEY_NAME,    name);
cv.put(KEY_IMAGE,   image);
database.insert( DB_TABLE, null, cv );
"
33645,73229,How do I calculate the difference,"SELECT customer_balance, credit_limit, customer_balance - credit_limit as overage
FROM your_table
WHERE customer_balance > credit_limit
"
18684,40928,Need multiple rows with same value IN OPERATOR,"SELECT gcm_registration_token 
FROM orders o
INNER JOIN customer_details d ON o.customer_id = d.customer_id
WHERE order_id IN (4646, 4647, 4648)
"
22950,22685,SQL grammar for INSERT SELECT ON DUPLICATE UPDATE,"INSERT INTO tbdetail (detail, views)

SELECT detail, SUM(views) AS viewsall FROM tb GROUP BY detail

ON DUPLICATE KEY UPDATE views = views + VALUES(views);
"
27269,45408,Is there a way to force OracleCommand.BindByName to be true by default for ODP.NET?,"public class DatabaseCommand
{
    private OracleCommand _command = null;

    public DatabaseCommand(string sql, OracleConnection connection)
    {
        _command = new OracleCommand(sql, connection)
        {
            BindByName = true
        };
    }

    public int ExecuteNonQuery()
    {
        return _command.ExecuteNonQuery();
    }

    // Rest of impl removed for brevity
}
"
32273,31318,Difference between database level trigger and server level trigger in SQL Server,"CREATE TRIGGER [TriggerName]
ON [Scope (Server|Database)]
FOR [EventName...],
AS
-- code for your trigger response here
"
2378,44525,Hibernate Query with conditions in a complex db structure,"Product as p join fetch p.inventories as i join fetch i.inventoryUser as iu join fetch iu.user as u where u.name=:name
"
20074,32406,get records for the date in between dates,"WHERE Yourdatefield >= Cast(('08/15/2013' (Date,Format 'mm/dd/yyyy')) As Date)
"
29557,45999,Button to copy paste in Excel,"Sub Save_Click() 
Range(""C3:C9"").Copy
Dim curRange As Range
Dim curCol As Integer: curCol = 7
Dim completed As Boolean: completed = False
Do
    curCol = curCol + 1
    Set curRange = Range(Cells(3, curCol), Cells(9, curCol))

    If (WorksheetFunction.CountA(curRange) = 0) Then
       Exit Do
    End If
Loop While (Not completed)

curRange.PasteSpecial
End Sub
"
38419,43133,character range including closing square bracket in PATINDEX,"SELECT CASE WHEN PATINDEX('%[([<{]%', column1) = 0
           THEN column1
       ELSE LEFT(column1, PATINDEX('%[([<{]%', column1))
             + 'XXXXX'
             + SUBSTRING(column1, ISNULL(NULLIF(PATINDEX('%[)>}]%', column1), 0), CHARINDEX(']', column1)), 1)
       END
FROM myTable
"
21787,11641,Updating multiple rows which are in conflict with unique index,"Move 2 to 99
Move 3 to 2
Move 99 to 3
"
19749,19149,SQL Left Join Omit Rows Found,"SELECT * 
FROM TRANSACTION_TABLE 
WHERE transaction_id
NOT IN (
    SELECT transaction_id 
    FROM CANCELED_TABLE);
"
35112,25938,"Linq to sql, aggregate columns ,group by date into listview","Dim results = db.Orders.Where(Function(n) n.CustomerId = customerId).GroupBy(Function(n) n.Date.Year, Function(key, values) New With {.Year = key, .NetTotal = values.Sum(Function(n) n.NetPurchase * n.Quantity * (1 + (n.Discount/100))), .GrossTotal = values.Sum(Function(n) n.GrossPurchase)})
"
18898,23737,sql help please - get latest activity for customer,"UPDATE [TempUpdateTable] 
SET RecentActivityDate = Customers.MaxCreatedDate
FROM
(SELECT MAX(CreatedOnDate) as MaxCreatedDate, CA.CustomerId 
 FROM CustomerActivity CA WHERE CA.CustomerId = CustomerId 
 GROUP BY CA.CustomerId
) Customers
WHERE TempUpdateTable.CustomerId = Customers.CustomerId
"
19947,8926,Return all values including NULL,"SELECT t1.IPAddress,
t1.DNSRecord,
t2.SerialNo,
t2.IPAddress
FROM tableA t1
JOIN tableB t2 ON t1.IPAddress = t2.NetworkAddress
WHERE
IPAddress LIKE '%' +@IPAddress + '%'
AND ( SerialNo LIKE '%' +@SerialNo +'%' OR SerialNo is NULL)
"
19671,34596,What table should I host data linking two objects from seperate tables?,"Users Table:
    UserId
    UserName
    ...Etc

Groups Table:
    GroupId
    Name
    ...Etc

User_Groups Table:
    UserId
    GroupId
"
31248,15254,SQL Server - Query Execution Plan For Conditional Statements,"DECLARE @condition BIT

IF @condition = 1 
BEGIN 
 EXEC MyProc1
END 
ELSE 
BEGIN 
 EXEC MyProc2
END
"
6808,5193,MySQL conditional ORDER BY ASC/DESC for date column,"ORDER BY post_status ASC,
CASE post_status WHEN 'future' THEN POST_DATE END ASC,
CASE WHEN post_status <> 'future' THEN post_date END DESC
"
8351,11218,SQL Advance ORDER By,"select t1.* from mytable t1
join (
    select max(z) max_z, x
    from mytable
    group by x
) t2 on t2.x = t1.x
order by t2.max_z desc, t1.x, t1.z desc, t1.y desc
"
241,45347,Setting the Date Format in the SQL*Loader Control File,"LOAD DATA
INFILE 'c:/load/CW_COMPLIANCE.csv'
APPEND
INTO TABLE tbl_name
FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '""'
(
COMPLETED_ON DATE 'DD Month, YYYY HH:MI:SS AM',
)
"
18461,73535,Fetch the row which has the second max value in a column from a table postgres,"select max(pay) from table_name where pay NOT IN(select max(pay) from table_name) LIMIT 0,1
"
5214,54268,How to add a column based on certain date range,"SELECT st.*, ft.rate FROM second_table st LEFT JOIN first_table ft ON (MONTH(acct_date) = MONTH(eff_date) AND YEAR(acct_date) = YEAR(eff_date) )
"
10111,54700,How to format the columns in sqlplus while displaying it in the terminal?,"COLUMN LAST_NAME FORMAT A10 
"
23811,23381,How to count results from groupped subquery,"select distinct sr.SrcLngId, sr.SupplierId
into #myTable99
from SupplierLangs sl

select SrcLngId, count(SrcLngId) as [count] from #myTable99 temp
group by SrcLngId

drop table #myTable99
"
693,63780,Can I JOIN a table based on an SQL if-statement?,"SELECT * FROM SONGS s
WHERE
   accesstype='public'
   OR (accesstype='whitelist' 
      AND EXISTS (SELECT null FROM WHITELIST wl WHERE 
          wl.songid = s.id AND wl.userid=s.userid))
   OR (accesstype='blacklist' 
      AND NOT EXISTS (SELECT null FROM BLACKLIST bl WHERE 
          bl.songid = s.id AND bl.userid= s.userid))
"
6315,61855,Update statement in Sql based on condition,"With CTE as 
(
select task,status,DATE,flag,RANK() over (partition by task order by date asc, status  asc)  as Rnk
from tblTask
), CTE1 as
(
select * from CTE where
Rnk = 1 and status = 'Complete'
), CTE2 as
(
select tblTask.* from CTE1
left join tblTask on CTE1.task = tblTask.task
where tblTask.status <> 'Complete'
)
update  CTE2 set flag = 'To remove' 
"
38454,40065,Saving data to a table then retrieving the autonumber to save to another table,"Option Compare Database
Option Explicit

Sub test()
Dim cdb As DAO.Database, rst As DAO.Recordset, newID As Long
Set cdb = CurrentDb
cdb.Execute ""INSERT INTO Users (Email) VALUES (""""gord@example.com"""")"", dbFailOnError
Set rst = cdb.OpenRecordset(""SELECT @@IDENTITY"", dbOpenSnapshot)
newID = rst(0).Value
rst.Close
Set rst = Nothing
Set cdb = Nothing
Debug.Print newID
End Sub
"
1503,40227,Table1 Left Join Table2 Minus (join Data),"SELECT t.* FROM m_conservationsetting AS t
WHERE NOT EXISTS (
    SELECT cs.FacilityId,Cs.Unit,cs.CategoryId 
    FROM m_conservationsetting AS cs 
    LEFT JOIN l_maintelog ml on
       (cs.FacilityId=ml.FacilityId and cs.Unit=ml.Unit)
    WHERE ml.Status=0 
    group by cs.CategoryId
)
"
18301,17370,Best way to create a temp table with same columns and type as a permanent table,"select top 0 *
into #mytemptable
from myrealtable
"
3582,66104,Select many intervals from a single table based on column value,"SELECT * FROM TABLE1 
   WHERE wavelenght BETWEEN 341 AND 348 
         OR wavelenght BETWEEN 551 AND 664  
         OR wavelenght BETWEEN 998 AND 1021  
"
8941,73810,Select between dates and with initial values,"SELECT * FROM SomeTable a
JOIN (
    SELECT fk_b, MAX(timestamp) as latest
    FROM SomeTable
    GROUP BY fk_b
) b
ON a.id = b.id
WHERE a.fk_a = @someIdA
"
36960,67097,Getting the percentile the item belongs to in SQL,"SELECT
    author,
    [count],
    sum_score,
    PERCENT_RANK() OVER(ORDER BY sum_score DESC) percentile_sum_score,
FROM (
  SELECT
    [by] author,
    COUNT(1) [count],
    SUM(score) sum_score,
  FROM [bigquery-public-data:hacker_news.stories]
  GROUP BY author
)
"
12113,5434,Table with continuous dates,"DECLARE @startDate DATETIME
DECLARE @endDate DATETIME

SET @startDate = '2013-01-01'
SET @endDate = GETDATE()


;WITH CTE_Dates AS
(
    SELECT @startDate AS DT
    UNION ALL
    SELECT DATEADD(DD,1,DT) FROM CTE_Dates
    WHERE DT <= @endDate
)
SELECT * FROM CTE_Dates
OPTION (MAXRECURSION 0)
"
21212,64039,Update all recored below current record given by id,"Update table1 SET field2 = field2 -1 where feild2 > 
(SELECT t.feild2 FROM 
(SELECT feild2 from table1 WHERE id = 129) 
t)
"
8032,16010,SQL - Select unique rows from a group of results,"select  r.registration, r.recent, t.id, t.unittype
from    ( 
    select	registration, max([date]) recent
    from	@tmp 
    group by 
    	registration
    ) r
left outer join 
    @tmp t 
on  r.recent = t.[date]
and r.registration = t.registration
"
7118,14473,Break row out into multiple rows then collapse values back,"/*
--create numbers table if don't already have one...
select top 1000000 row_number() over(order by t1.number) as N
into dbo.Numbers
from   master..spt_values t1 
       cross join master..spt_values t2
*/

DECLARE @table TABLE (id int IDENTITY(1,1),code varchar(10), codeStatus varchar, qty int, val money)
INSERT INTO @table SELECT '12345', 'T', 2, 1

select t.id, t.code, t.codeStatus, t.qty, t.val
from @table t
     inner join dbo.Numbers n on n.N <= t.qty
"
10154,75529,Using CASE Statements in LEFT OUTER JOIN in SQL,"   SELECT mt.id, 
          COALESCE(yt1.id, yt2.id)
     FROM MYTABLE mt
LEFT JOIN YOURTABLE yt1 ON yt1.id = mt.id
                       AND yt.id = 2
LEFT JOIN YOURTABLE yt2 ON yt2.id = mt.id
"
7920,25560,Update query that will update a column that is generated recursivley,"with recursive cat_tree (id, parent_id, name, full_path) as (
   select id,parent_id,name, '/'||name as full_path
   from categories
   where parent_id is null
   union all
   select c.id,c.parent_id,c.name,p.full_path||'/'||c.name
   from categories c
     join cat_tree p on p.id = c.parent_id
)
update categories
  set path = c.full_path
from cat_tree c 
  where c.id = categories.id;
"
11792,32852,Using a Database Name as a Variable,"[[put code here that sets up @DBname]]
DECLARE @stmt NVARCHAR(MAX) = 'SELECT column FROM ' + @DBname;
EXEC sp_ExecuteSQL @stmt;
"
11661,23317,Convert Column from Date to Datetime Sql Server,"ALTER TABLE Tab ALTER COLUMN LastModified datetime2 not null
"
13769,10188,Selected columns that are not in group by,"select sum(price) as total_price, name, max(surname) as surname,
        max(address) as address
from table1 a
group by a.name;
"
4964,72383,"IF statements based on numerical value(1,0) in table to determine string result","SELECT a.id, a.company_id, 
(CASE WHEN p.teacher_status = '1' THEN  'YES' ELSE 'NO' END
) AS teacher,
(CASE WHEN p.student_status = 1 THEN  'YES' ELSE 'NO' END
) AS student,
p.teacher_status, /* for testing purpose only to view the field value */
p.student_status  /* for testing purpose only to view the field value */
FROM company a
LEFT JOIN person p
ON a.company_id = p.company_id
"
6955,45858,Oracle Stored Procedure List Parameters,"    SELECT 
         ARGUMENT_NAME
         , PLS_TYPE
         , DEFAULT_VALUE
    FROM 
         USER_ARGUMENTS
    WHERE
         OBJECT_NAME = '<my_stored_proc>'
"
11724,60740,Retrieve Individual character from varchar field in SQL Server,"select  case when CHARINDEX('A', columnName, 1) > 0 then 1 else 0 end has_a,
        case when CHARINDEX('B', columnName, 1) > 0 then 1 else 0 end has_b,
        case when CHARINDEX('C', columnName, 1) > 0 then 1 else 0 end has_c,
        case when CHARINDEX('D', columnName, 1) > 0 then 1 else 0 end has_d
from    tableName
"
5711,38597,how to change the beginning position of the field in sql loader,"...
(
skip_1     FILLER,
skip_2     FILLER,
skip_3     FILLER,
skip_4     FILLER,
skip_5     FILLER,
nickname1,
nickname2,
class      CONSTANT '10',
Address    CONSTANT 'NA'
)
"
30210,49520,F# Select from SQL Server table synonym,"open FSharp.Data

[<Literal>]
let connectionString = @""Data Source=MyServer\MyInstance;Initial Catalog=MyDatabase;Integrated Security=SSPI;""

[<Literal>]
let query = ""select Id, Name from MyTable"" 

type OptionQuery = SqlCommandProvider<query, connectionString>
let cmd = new OptionQuery()

cmd.AsyncExecute() 
|> Async.RunSynchronously
|> Seq.iter (fun row -> printfn ""Found row: %d %s"" row.Id row.Name)

System.Console.Write(""Done"")
System.Console.ReadKey()
"
24564,36755,how to get maximum value of two fields from two different tables in ORACLE,"select MAX(uid_proc) from(
(SELECT MAX(uid_proc) as uid_proc FROM LOG_MIG) UNION ALL (SELECT MAX(uid_proc) FROM log_mig_error)
)
"
17721,15832,SQL Query to return all column values in a single row,"SELECT CONCAT(CONCAT('+', LISTAGG(Employee.Name, '+')), '+') FROM Employee WHERE Salary >= 10000
"
2809,8169,Save Result of SQL Statement to Use Elsewhere,"select count(0)
from messages as m
join files as f on f.messageid=m.messageid
where m.datesent>'2014-07-01'
"
14815,43796,How to get second record onwards,"SELECT  yt.*
FROM    your_table yt INNER JOIN
        (
            SELECT  [id],
                    MIN([datetime]) first_datetime
            FROM    your_table
            GROUP BY    [id]
        ) f ON  yt.id = f.id
            AND yt. [datetime] > f.first_datetime
"
26544,63053,MySQL compare emails and match even if one upper the other lowercase,"SELECT * FROM yourtable WHERE LOWER(col1)=LOWER(col2);
"
5975,32147,SQL Tables: Store references to an unknown number of rows in table A in a single record in table B,"PeopleServiceLink:
PersonID,
ServieTicketID,
PRIMARY KEY (PersonID, ServieTicketID)
"
13762,8450,Everything is showing rather than what i need,"SELECT `inmate`.`fname`
     , `inmate`.`lname`
     , `facility`.`name`  
FROM inmate LEFT JOIN `prison`.`facility_inmate` ON `inmate`.`inmate_id` = `facility_inmate`.`inmate_id` 
            LEFT JOIN `prison`.`facility` ON `facility_inmate`.`facility_id` = `facility`.`facility_id` 
"
2926,46816,SQL max product price,"SELECT Product, MAX(Price)
FROM YourTable
GROUP BY Product
"
29129,60094,How to match and display the data from more than one tables in android SQLite?,"Cursor cursor = db.rawQuery(""SELECT s.name, a.street FROM students_name s LEFT JOIN student_address a ON a.student_id = s.student_id"", null);
"
35331,28701,SQL Access COUNT in WHERE clause,"-- Updated statement
SELECT ordernum, COUNT(orderref) as Total
FROM orders 
GROUP BY ordernum 
HAVING COUNT(orderref) = 1 
ORDER BY ordernum
"
5131,51222,Concatenate and Remove spaces from 4 columns,"SELECT  CONCAT(RTRIM(LTRIM(A.col1)),RTRIM(LTRIM(B.col2)),RTRIM(LTRIM(C.col3)),RTRIM(LTRIM(D.col4)))
FROM        yourTable A
CROSS JOIN  yourTable B
CROSS JOIN  yourTable C
CROSS JOIN  yourTable D
"
32917,54928,"Learning ExecuteSQL in FMP12, a few questions","ExecuteSQL (""

SELECT M::MovieName FROM Movies M INNER JOIN Genres G ON
M::GenreId=G::GenreId

WHERE M::Rating =

(SELECT MAX(M2::Rating) FROM Movies M2 WHERE M2::GenreId = M::GenreId)

""; """" ; """")
"
28681,44661,Dropping XMLIndex group and parameters,"    select index_name, parameters from user_xml_indexes;


    <parameters>
      <structured>
        <group name=""YYY"">
          <xmltab name=""TABLE_NAME""> &apos;&apos;/entity/year&apos;&apos; columns &quot;year&quot; integer  PATH &apos;&apos;text()&apos;&apos; </xmltab>
        </group>
     </structured>
    </parameters>
"
8445,29597,How to filter an XML field on multiple conditions,"select *
from MyTable as T
where T.XmlField.exist('/dictionary[item[key/int/text() = 1 and value/string/text() = ""Web""] and   
                                    item[key/int/text() = 2 and value/string/text() = ""Email""]]') = 1
"
39295,42022,How to return in MySQL GROUP BY the first record by DATE?,"SELECT  a.*
FROM    tableName a
        INNER JOIN
        (
            SELECT  title, MIN(DATE) minDate
            FROM tableName
            GROUP BY title
        ) b ON a.title = b.titleAND
                a.date = b.maxDate
"
27362,53208,RowGuide and UNIQUE KEY,"I dont think because GUID are unique. 
"
1094,12881,Load data from db2 table to informatica,"month(update_user_timestamp) = month(current timestamp - 1 month)
"
33175,51477,MariaDB on Windows - getting started help?,"net start mysql
"
20964,35209,How to enable the record for delete after retrieve in sqlite?,"row.setTag(counter);  //  use counter or index for tag, so you can get the data from LocWiseProfile later
row.setOnClickListener(new OnClickListener()  {
    @Override
    public void onClick(View v)  {
        int tag = (Integer)view.getTag();
        LocWiseProfileBeans cn = LocWiseProfile.get(tag);
        //  Perform delete action here
        //  ...
    }   
});
"
38986,7543,Count and Order By Where clause Matches,"SELECT *
FROM ""faq""
WHERE
    ((LOWER(""Question"") LIKE '%what%'
   OR LOWER(""Question"") LIKE '%is%'
   OR LOWER(""Question"") LIKE '%a%'
   OR LOWER(""Question"") LIKE '%duck%'))
order by
    case when LOWER(""Question"") LIKE '%what%' then 1 else 0 end +
    case when LOWER(""Question"") LIKE '%is%' then 1 else 0 end +
    case when LOWER(""Question"") LIKE '%a%' then 1 else 0 end +
    case when LOWER(""Question"") LIKE '%duck%' then 1 else 0 end
descending;
"
6621,49449,Selecting LDF file using sys.master_files,"cmd.CommandText = (""select physical_name from sys.master_files where type = 1 and database_id = DB_ID('"" + ""mydatabasename"" + ""')"");
"
37209,27945,"Limit number of root entities in Doctrine query, but allowing any number of joined entities","SELECT A.id
FROM Article A
LIMIT 10

SELECT A, C
FROM Article A
LEFT JOIN A.comments C
WHERE A.id IN (4, 8, 15, 16, 23, 42, ...)
"
18838,32160,Selecting a grouped condition in an Aggregate query,"create view myview as
select
    avg(old_foo.stuff),
    foo.person_id,
    foo.date_ as this_date,
    offset
from
    generate_series(1, 100) as offset,
    foo,
    join ( select stuff, person_id, date_ from foo) as old_foo
        on old_foo.date_ < foo.date_
        and old_foo.date_ > foo.date_ - offset

group by person_id, this_date, offset
;


select * from myview where offset = 10;
"
16366,2562,Getting random rows based on column index,"select name, text
from (SELECT name, text, row_number() over (partition by name order by random()) as seqnum
      FROM testing t INNER JOIN
           users u
           ON u.id = t.id
      ) t
where seqnum = 1;
"
39961,37037,Select based on age at time of record creation,"select [Student Name], [Date of Birth]
  from <however your table is named>
 where DateDiff(month, [Date of Birth], [Notice Date]) between 3 * 12 and 5 * 12 + 1 
"
38937,60964,SQL query to count rows under 3 different conditions,"count(case when severity = 1 then 1 else null end) as one
"
38287,18474,How can you use COUNT() in a comparison in a SELECT CASE clause in Sql Server?,"SELECT CASE WHEN COUNT(ID) >=1 THEN 1 WHEN COUNT (ID) <1 THEN 0 END FROM table WHERE Column2=4
"
28616,60533,"In Oracle SQL, how to get the time for only this current week?","with dates as (select trunc(sysdate, 'mm') - 10 + level dt
               from   dual
               connect by level <= 40)
select dt
from   dates
where  dt >= trunc(sysdate, 'iw')
and    dt <= sysdate; -- only needed if the dates in the column could be beyond now.
"
10929,38512,How to fetch values with a MySQL query?,"SELECT GROUP_CONCAT(FirstName + ' ' + LastName
                    ORDER BY FirstName, LastName
                    SEPARATOR ', ') AS Names
FROM People;
"
35431,3895,How to generate image of graphics for data from Microsoft SQL Server 2005?,"EXEC sp_xp_cmdshell 'trendsgen.exe [param1], [param2]'
"
31983,40615,How to get the max version records?,"select distinct t2.FId, t2.UId, t2.Version
from
(
    select FId, max(Version) as ""Version""
    from MyTable
    group by FId
) t1
inner join MyTable t2 on (t1.FId = t2.FId and t1.Version = t2.Version)
order by t2.FId, t2.UId
"
21424,52949,SQL get the products with more attributes in common with another product,"select a1.prod_id,p.name,count(*) as num_attr_in_common
from attr_rel as a1
inner join (
select attr_id
from attr_rel
where prod_id = 3) as a2
on a1.attr_id = a2.attr_id and a1.prod_id <> 3
inner join products as p on p.id = a1.prod_id
group by a1.prod_id
order by num_attr_in_common desc
"
6826,32259,Oracle - merge rows into 1 from the output,"SELECT datetime_up, logic_id, eqp_name, max(ack), created
...
GROUP BY datetime_up, eqp_name, logic_id, created
"
23884,40827,Comparing dates in SQL Server," SELECT COUNT(*)
 FROM DB
 where EXP_DATE < DATEADD(month, -1, GETDATE())
"
16603,45291,Is it possible to standardise data in SQL Queries,"...
SELECT 
  SUM(CASE survived WHEN 'Y' THEN 1 ELSE 0 END) / 
  COUNT(r.call_date) AS NormalisedEvents,
....
"
28658,67542,Sqlite on Android: select time only from datetime,"SELECT * FROM tablename WHERE SUBSTR(timestampcolumn, 9, 4) BETWEEN '1800' AND '2000';
"
7763,15271,How to find the minimum values of a query's column,"SELECT userId, COUNT( id ) AS count
FROM X
GROUP BY userId
HAVING COUNT(id) = (SELECT MIN(cnt)
                    FROM (SELECT COUNT(id) as cnt
                          FROM X
                          GROUP BY userId
                         ) xx
                   );
"
4127,35970,SQL: Query 2 columns; if one is valid then ignore the other,"SELECT a.ID,
        CASE    
            WHEN a.OVER_80 = 'Y' THEN 'OVER80'
            WHEN a.OVER_60 = 'Y' THEN 'OVER60'
        END
FROM    MY_TABLE
WHERE   a.OVER_60 = 'Y'
"
33156,9334,SQL function to get count of how many times string appears in column?,"(LENGTH(`my_column`) - LENGTH(REPLACE(`my_column`, 'my word', '')))/LENGTH('my word')
"
17230,19659,How can I insert a row for each day within a date range?,";WITH d AS 
(
  SELECT TOP (366) d = DATEADD(DAY, ROW_NUMBER() OVER (ORDER BY object_id), '20111231')
  FROM sys.all_objects
)
INSERT dbo.[a table]([Date])
  SELECT d FROM d 
  WHERE d NOT IN (SELECT [Date] FROM dbo.[a table])
  AND d <= DATEADD(DAY, 0-DATEPART(WEEKDAY, GETDATE()), GETDATE());
"
14522,57741,Why a Violation of Unique Constraint on date time column?,"update Scheme.MyTable set DateTime = getutcdate() where ID= 1
"
34803,43849,"How can I transfer data from one table to another, overwriting old data?","truncate table Contrinex.GPOQA.dbo.PrinterSet
go
insert into Contrinex.GPOQA.dbo.PrinterSet
select * from Contrinex.GPO.dbo.PrinterSet
"
8346,39711,Load specific ID range on MySQL,"SELECT * FROM Test LIMIT 10, 15
"
17273,7382,SQL delete query with foreign key constraint,"No Action
Cascade
SET NULL
SET Default
"
37003,7612,Oracle: enumerate groups of similar rows,"select id, x, sum(new_group) over (order by id) as group_no
from
( select id, x, case when x-prev_x = 1 then 0 else 1 end new_group
  from
  ( select id, x, lag(x) over (order by id) prev_x
    from mytable
  )
);
"
4620,19156,SQL count number of each actions performed on one object (using different tables),"SELECT a.UserId, a.ActionId, b.ActionTypeName, COUNT(*) AS ActionCount
FROM Activity a
INNER JOIN ActionType b
ON a.ActionId=b.ActionId
GROUP BY a.UserId, a.ActionId, b.ActionTypeName
"
1483,33136,How to replace values present in multiple columns?,"set 
   x = case when x is null then '' else x,
   y = case when y is null then '' else y,
   z = case when z is null then '' else z
   ...
"
23684,43716,How to get a list of all tables from the database together with column names,"SELECT TABLE_NAME, COLUMN_NAME, DATA_TYPE, IS_NULLABLE, COLUMN_DEFAULT
  FROM INFORMATION_SCHEMA.COLUMNS
  WHERE table_name = 'tbl_name'
  [AND table_schema = 'db_name']
  [AND column_name LIKE 'wild']
"
34116,24736,How to subtract Total from conditioned sum in SQL,"SELECT COUNT(EmployeedID) as non_brazilians 
FROM Employees 
WHERE Nationality <> 'Brazil';
"
13171,54814,Laravel newbie and external (Moodle) database,"$teachers2 = DB::connection('moodle')->select(DB::raw(""SELECT DISTINCT u.firstname, u.lastname
FROM mdl_user u
JOIN mdl_user_enrolments ue ON ue.userid = u.id
JOIN mdl_enrol e ON e.id = ue.enrolid
JOIN mdl_role_assignments ra ON ra.userid = u.id
JOIN mdl_role r ON r.id = ra.roleid AND r.shortname = 'editingteacher'
WHERE e.status = 0 AND u.suspended = 0 AND u.deleted = 0
AND (ue.timeend = 0 OR ue.timeend > NOW()) AND ue.status = 0""));
"
4348,19966,Using SubQuery with Single Table,"SELECT DAYNAME(""DAY"", 'CLDR 1.5:en_US'), FORM, COUNT(*) AS UniqueTimeAppeared
FROM formhist
-- where DAYNAME(""DAY"", 'CLDR 1.5:en_US')='Monday'
GROUP BY DAY, FORM;
"
10409,32323,How can i get group count by sql with group by keywords?,"SELECT COUNT(DISTINCT postid) FROM `table`
"
31205,53571,Select the last updated row in oracle,"create trigger mytable_trg
before insert or update on mytable
for each row
begin
   :new.col1 := upper(:new.col1);
   :new.col2 := upper(:new.col2);
end;
"
17269,63377,Oracle SQL Sum dollars into quarters,"select * from (
  select vendor_id, to_char(invoice_dt, 'yyyy-q') yyq, sum(gross_amt) amt
  from ps_voucher
  group by vendor_id,  to_char(invoice_dt, 'yyyy-q')
)
pivot (
  sum(amt)
  for yyq in ('2013-1', '2013-2', '2013-3', '2013-4', '2014-1', '2014-2', '2014-3', '2014-4')
)
order by vendor_id;
"
11293,3211,MySQL- Count the most occurring string in a column,"SELECT club, COUNT(club)
FROM sport
GROUP BY club
ORDER BY COUNT(club) DESC
LIMIT 1
"
17628,61603,How can I use an alias inside a sub-query?,"WITH Full_Table AS (---Long Sub Query---)
SELECT A,B,C 
FROM Full_Table
WHERE RATIO=(SELECT MAX(RATIO) FROM Full_Table);
"
1393,74117,"Design database for category, subcategory and associated books","// categories table
id
name
user_id
parent_id
"
24317,40424,Sql query to derive a column value based on the entry in another table,"SELECT p.id,p.email,IF(COUNT(s.category_id)>0,1,0) as is_subscribed
FROM
person as p
LEFT JOIN subscription as s ON s.person_id=p.id
GROUP BY p.id
"
7974,69170,how can i make this select statement,"select 
    c.CourseNum, 
    c.CourseName, 
    c.CreditHours
from course c
left join studentcoursecomplete cc
  on cc.CourseID = c.CourseID
  and cc.SID = 1
where c.TypeID=1
  and cc.CourseID is null
"
17712,49624,Query parents without children,"SELECT m1.cod_menu
    FROM menu m1
    WHERE NOT EXISTS(SELECT NULL 
                         FROM MENU m2 
                         WHERE m1.cod_menu = m2.cod_menu_parent)
        AND m1.isSubMenu = 'T'
"
81,53360,Inserting to selected table name,"SET @alias = (SELECT Alias FROM Aliases WHERE id = 1);
SET @sql = CONCAT('INSERT INTO ', @alias, ' (somevalue) VALUES (value)');
PREPARE stmt1 FROM @sql;
EXECUTE stmt1;
"
21707,26763,Select a column if other column is null,"Select ISNULL(a, b)
"
39804,2242,Postgres select all columns but group by one column,"select unit_id, time, diag
from (
    select unit_id, time, diag,
           rank() over (partition by unit_id order by time desc) as rank
    from diagnostics.unit_diag_history
) as dt
where rank = 1
"
8453,62528,MYSQL online members in past 30 days,"select 
count(*) as users 
from table 
where from_unixtime(lastonline) >= now() - interval 30 day
"
15259,9320,Multiple conditions with CASE statements,"    SELECT * FROM [Purchasing].[Vendor] WHERE  

      ( (@url IS null OR @url = '' OR @url = 'ALL') and   PurchasingWebServiceURL LIKE '%')
    or

       ( @url = 'blank' and  PurchasingWebServiceURL = '')
    or
        (@url = 'fail' and  PurchasingWebServiceURL NOT LIKE '%treyresearch%')
    or( (@url not in ('fail','blank','','ALL') and @url is not null and 
          PurchasingWebServiceUrl Like '%'+@ur+'%') 
END
"
3020,30000,Return row where diff between start/end date is highest,"WITH RankedResults AS 
(
    SELECT id, keyword, shortcode,
           ROW_NUMBER() OVER (PARTITION BY keyword 
                              ORDER BY DATEDIFF(n, datefrom, dateto) DESC) rank
      FROM keywordschedules
)
SELECT id, keyword, shortcode 
  FROM RankedResults
 WHERE rank = 1 AND keyword = 'gig'
"
26979,67389,how to get all possible query for a same goal?,"SELECT t.City
FROM 
(SELECT City, COUNT(sup_id) as [totalSuppliers]
    FROM tb_supplier
    GROUP BY City 
    HAVING COUNT(sup_id) > 1) as t
"
13202,18586,SQL: Sort and Group by Time,"SELECT `Line`, `Order`, Sum(Qty) 
From MyTable 
Group by `Line`, `Order` 
order by `Line`, `Date`, `Time`, `Order`;
"
5827,74562,Return true or false as custom column based on condition,"SELECT
    a.Id,
    a.Title,
    a.Description,
    HasCommented = CASE WHEN COUNT(c.Id) > 0 THEN 'True' ELSE 'False' END
FROM tbl_Posts p
LEFT JOIN tbl_postsComment c
    on c.PostId = p.Id
    AND c.UserId = @userId
GROUP BY
    a.Id, a.Title, a.Description
"
39170,71409,select query in where condition based on the main select query values,"SELECT i.invoice_id
FROM invoice_table i 
    LEFT JOIN
    (SELECT invoice_id, SUM(bill_amt) AS sum_bill_amt 
     FROM bill_table
     GROUP BY invoice_id) b 
    ON i.invoice_id = b.invoice_id
    LEFT JOIN 
    (SELECT invoice_id, SUM(credit_amt) AS sum_credit_amt 
     FROM credit_table
     GROUP BY invoice_id) c 
    ON i.invoice_id = c.invoice_id
WHERE b.sum_bill_amt - c.sum_credit_amt > 0;
"
3293,4557,Combine two columns together from separate tables,"INSERT INTO newtable
SELECT *
FROM oldtable
ON DUPLICATE KEY column1=oldcolumn1, ...
"
10495,56509,Write XML with SQL Command,"SELECT c.[id_Cust]
      ,[Name]
      ,[Omset]
      ,[Colour]
      ,[seq]
      ,(SELECT a.[Address],a.[no1],a.[no2] FROM address_BSM a
      WHERE a.id_cust = c.id_cust
  FOR XML PATH ('address_bsm'), TYPE)
  FROM [dbo].[Customer_BSM] c
  FOR XML PATH ('customer_bsm')
"
25550,70660,How to return multiple values in one column (T-SQL)?,"CREATE FUNCTION [dbo].[GetAliasesById]
(
    @userID int
)
RETURNS varchar(max)
AS
BEGIN
    declare @output varchar(max)
    select @output = COALESCE(@output + ', ', '') + alias
    from UserAliases
    where userid = @userID

    return @output
END

GO

SELECT UserID, dbo.GetAliasesByID(UserID)
FROM UserAliases
GROUP BY UserID

GO
"
9683,16868,How to remove xml nodes without attribute in Sql Server,"DECLARE @xml XML = '....'
SET @xml.modify('delete //root/*[not(@ln)]')
"
1327,25597,Bigquery: array of values in a field,"SELECT LEFT( FORMAT_UTC_USEC(UTC_USEC_TO_DAY(timestamp*1000000)),10) as date_day,
AVG (download_speed)avg_download,
AVG (upload_speed)avg_upload,
GROUP_CONCAT(real_address)as real_address_list
FROM [xxxxxxx:xxxxx.xxxxx]
GROUP BY date_day
ORDER BY date_day ASC
"
19620,15781,How can I perform an AND on an unknown number of booleans in postgresql?,"select bool_and(someBool)
  from myTable
  where someKey = $1
  group by someKey;
"
27106,41582,how to match values in sql ?,"with fact
as(
select Id,digit1,digit2,digit3,digit1*digit2*digit3 as [mult],digit1+digit2+digit3 as [sum]
from Data),part as(
  select Id,digit1,digit2,digit3,[mult],[sum],row_number() over(partition by [mult],[sum] order by [mult],[sum]) as [Part]
  from fact
  )
select Id,digit1,digit2,digit3,(select count(*) 
                                 from fact f where f.[mult]=p.[mult] and f.[sum]=p.[sum]) as amount
from part p
where part=1
"
23826,12946,Select Row as a Column,"SELECT Name, Filter1, Filter2
FROM
(SELECT Name, Attribute, Value
    FROM PivotEx) AS SourceTable
PIVOT
(
MAX(Value)
FOR Attribute IN (Filter1, Filter2)
) AS PivotTable
"
6025,47311,what is the meaning of this SQL query,"1001
1002
1001
1003
1002

count(person.person.BusinessEntityID) = 5 // all
count(distinct person.person.BusinessEntityID) = 3 //1001, 1002, 1003
min(person.person.BusinessEntityID) = 1001
min( distinct person.person.BusinessEntityID) = 1001
"
5020,49687,Joining user table with user_follows table twice,"User.all(:joins => [:user_follows, :reverse_user_follows ], :conditions => [""user_follows.user_b_id = ? AND reverse_user_follows_users.user_id = ?"", current_user.id,  current_user.id])
"
36636,75124,Is it possible to create a column in MySQL with an expression as a default value?,"DELIMITER |

CREATE TRIGGER default_yearly BEFORE INSERT ON employee
  FOR EACH ROW BEGIN   
    SET NEW.employeeyearly = NEW.employeemonthly * 12;
  END;
|

DELIMITER ;
"
930,19277,"SQL - Changing "" or ' in SQL so adding text is easier","insert into Table (txt) values ('It\'s an ""example"" with a backslash(\\).')
"
19121,40800,Compare result of 'as' expression in 'where' statement,"SELECT (mytable.field1 + 10) AS x FROM `mytable` WHERE (mytable.field1 + 10) < 50;
"
13771,66237,How to delete all records in an access table except most recent,"Delete from [TableName] as T1
Where Exists(
SELECT [log],[name],Max([date]) FROM [TableName] 
Where [log] = T1.[log]
And [name] = T1.[name]
Group By [log],[name]
Having T1.[date] < Max([date]))
"
25173,20746,sql - how to merge different rows into one without group_concat," select user_id, 
       max(case when `key` = 'name' then value end) as name,
       max(case when `key` = 'url' then value end) as url,
       max(case when `key` = 'email' then value end) as email
from your_table
group by user_id
"
36930,13917,SQL query to select rows where the year is between two dates,"SELECT * FROM Articleprice
WHERE '2007-12-31' >= from_Date AND to_date > '2007-01-01'
"
5427,30942,Merge column with random values,"select * from 
(select round(dbms_random.value(1000000000,10000000000)) num from dual connect by rownum < 10),
(Select round(dbms_random.value(1,5)) num1 from dual connect by rownum = 1)
"
25852,49325,Copy data between two columns using where with SQL,"UPDATE table SET two = one WHERE LENGTH(one) = 2
"
33351,66390,Firebird howto count all record in table and sort max to min,"select customer, count(*) as freq
from table_1
group by customer
order by 2 desc, 1
limit 10
"
17138,67511,"How to explain ""inner join Vehicle v on v.Id = d.VehicleId""?","select
 d.SeriePolita,
 d.NumarPolita,
 d.Status,
 v.CascoCategorieVehicul,
 v.NumarInmatriculare
from Document AS d
     inner join Vehicle AS v on v.Id = d.VehicleId
where EndDate>'2015-06-30'
     and d.Class='CASCO'
     and Status in ('Polita', 'Anulat');
"
17601,74567,posgresql accessing the 1st element of the record,"with q as (
    select array[ status::text, log ] as x from a() as (status bool, log text)
)
select x[1], x[2] from q;
"
27213,53214,Regex to match everything between a string and a caret (^) excluding occurrence of caret (^),"(?<=\[StupidHtml\]\:)(.*?)(?=\^)
"
2447,40555,SQL Server 2008 select top 100 defined by a variable,"SELECT top (@top)
"
11311,26586,Keeping tables synchronized in Oracle,"CREATE VIEW A
AS
SELECT  *
FROM    A_underlying

CREATE VIEW B
AS
SELECT  *
FROM    B_underlying
"
24750,31754,How to find records in one table which aren't in another,"select * from employees
where employee_id not in ( select employee_id from job_history)
/
"
32788,45045,Why would a database trigger be invalid in an oracle DB?,"select sequence_name from user_sequences;
"
28107,14227,Sql insertion via insensitive unique key,"create unique index on tableName (lower(columnName))
"
10331,50052,SQL Select for each Age Group and COUNT Members,"SELECT AgeGroups.GroupID, AgeGroups.GroupTitle, COUNT(1) AS MemberCount
FROM AgeGroups
JOIN Events ON EventID = 1
JOIN Members 
ON DATEDIFF(year, Members.DOB, Events.EventStart) >= AgeGroups.MinAge
AND DATEDIFF(year, Members.DOB, Events.EventStart) <= AgeGroups.MaxAge
ORDER BY AgeGroups.GroupID
"
16341,28859,Checking Statuses,"select st134.area,st134.status
from (select area
      from mytable
      where status = 2) st2,
     mytable st134
where st134.area = st2.area
"
14559,34764,Refine Query Results from MySQL Database,"SELECT routes.route_date, time_slots.name, sum(time_slots.openings), sum(time_slots.appointments)
FROM routes
INNER JOIN time_slots ON routes.route_id = time_slots.route_id
WHERE route_date
BETWEEN 20140109
AND 20140115
AND time_slots.openings > time_slots.appointments
group by routes.route_date, time_slots.name
ORDER BY route_date, name
"
24312,51883,Combining tables in SQL (only for for certain rows),"SELECT * 
FROM Contacts C 
LEFT JOIN ( SELECT * 
            FROM Invoices
            WHERE Product = 'EADP Package') I
    ON C.ContactID = I.ContactID 
"
23488,70115,add number before dates on visual studio,"DECLARE @StartDate date

SELECT @StartDate = GETDATE();

WITH cte AS 
(
     SELECT -1 AS idx, DATEADD(d,-1,@StartDate) AS idxDate
     UNION ALL
     SELECT idx -1, DATEADD(d,-1,idxDate)
     FROM cte
     WHERE idx >-30
)

SELECT idx DateValue, CONVERT(VARCHAR(10),idxDate,110) + ', ' + CAST(idx as nvarchar(max)) DateLabel
FROM CTE
OPTION (MAXRECURSION 0) 
"
29457,26634,Find common users in multiple tables in SQL,"select *
from   table1 a
join   table2 b on (a.userid = b.userid)
join   table3 c on (a.userid = c.userid)
left join table4 d on (a.userid = d.userid)
left join table5 e on (a.userid = e.userid)
where d.userid is null and e.userid is null;
"
26975,16850,sql rows containing column twice (or more),"select f.room
from facilities f
where f.facility in ('Computer', 'DVD Player')
group by f.room
having count(distinct f.facility) = 2;
"
21202,344,Group By data from a text column,"select substring(notes, 13, 4) filledby -- should be -G J- if I counted right
, count(*) records
from invoice
where notes like '% ' + @date + '%'
group by substring(notes, 13, 4)
"
29220,31279,How to output data from tables with same column names in CodeIgniter?,"select type_of_source.description as type_of_source_description, origin.descripotion as origin_descripotion from ....
"
9578,55232,MYSQL nested queries in JPA NativeQuery,"Query query = em.createNativeQuery(""SELECT rgt FROM nested_category
    WHERE name = 'TELEVISIONS';"");
List<Object> rightSiblings = query.getResultList();
for (Object sibling : rightSiblings)
            {
                Integer siblingId = (Integer) sibling;
                query = em.createNativeQuery(""UPDATE nested_category SET rgt = rgt + 2 WHERE rgt >""+siblingId);
                query.executeUpdate();
            }
"
18458,51831,Criteria. Select biggest of two,"cb.selectCase().
    when(cb.greaterThanOrEqualTo(fromT.get(""xValue""), fromS.get(""yValue"")), fromT.get(""xValue"")). //-- If T has max value
    otherwise(fromS.get(""yValue"")); //-- Else, by default select value from S
"
21084,56738,(T-SQL) Join two columns to one common column,"select t2.id, f1.description, f2.description
from table2 t2
left join table1 f1 on f1.id = t2.fruit1
left join table1 f2 on f2.id = t2.fruit2
"
19554,5425,Needed guidance for MySql select,"SELECT
  COUNT(Activity) AS ""Day-wise total"",
  SUM(CASE WHEN Activity = 0 THEN 1 ELSE 0 END) AS ""0's"",
  SUM(CASE WHEN Activity = 1 THEN 1 ELSE 0 END) AS ""1's"",
  `Date` AS ""Date""
FROM Table
GROUP BY `Date`;
"
14920,31449,Generating a Date Span from a Table with Monthly Entries,"SELECT MIN(YYYYMM) AS CMonth_Start, MAX(YYYYMM) AS CMonth_End, 
       Mbr_ID, Product_ID
FROM (
SELECT Mbr_ID, Mbr_ID, Product_ID,
       ROW_NUMBER() OVER (PARTITION BY Mbr_ID ORDER BY YYYYMM) - 
       ROW_NUMBER() OVER (PARTITION BY Mbr_ID, Product_ID ORDER BY YYYYMM) AS grp
FROM mytable ) AS t
GROUP BY Mbr_ID, Product_ID, grp
"
13312,34890,Choosing and assigning a value based among the duplicate records in sql,"WITH x AS
-- eliminate all duplicates,set up a counter for each distinct record
-- as well as flag for WI
(SELECT DISTINCT studentID, STATE, 1 AS cnt, CASE WHEN STATE = 'WI' THEN 1 ELSE 0 END WI
 FROM DataTable)
SELECT studentID, 
CASE 
    WHEN MAX(wi) = 0 THEN 'OUT' -- this student is not in WI at all
    WHEN MAX(wi) = 1 AND SUM(cnt) > 1 THEN 'MULTI' -- this student is in WI as well as another state
    WHEN MAX(wi) = 1 AND SUM(cnt) = 1 THEN 'IN' END AS Status  -- this student is in WI and and no other state
FROM x GROUP BY studentID
"
26820,5501,Calculated columns in mysql on INSERT statements,"create trigger log_date before insert on log 
for each row begin
   set new.date = current_date()
end;
"
25393,8375,counting non-unique rows in table with additional criteria,"SELECT email, COUNT(*) AS occurs
WHERE provider = x AND YEARMONTH(date) = y
GROUP BY email
HAVING occurs > 1
"
11564,27885,Oracle Installed Operating system,"
select dbms_utility.port_string from dual;
"
25176,70079,Sum over Timerange overlapping to next day over several days,"SELECT
  DATE(DATE_SUB('Date', INTERVAL 15 HOUR)),
  SUM(VAL)
FROM
  tblVals
WHERE
  TIME(DATE_SUB('Date', INTERVAL 15 HOUR)) < '19:00'
GROUP BY
  DATE(DATE_SUB('Date', INTERVAL 15 HOUR))
"
37390,32601,Oracle SQL query - unexpected query plan,"select owner, table_name, last_analyzed, stale_stats
from all_tab_statistics
where owner = 'ML' and table_name = 'OBS';

select owner, index_name, last_analyzed, stale_stats
from all_ind_statistics
where owner = 'ML' and table_name = 'OBS';
"
7797,17718,One Way Relationships,"Select 
greatest(Name,Friend),least(Name,Friend)
from Friends
group by greatest(Name,Friend),least(Name,Friend)
having count(1)=1
"
31360,53438,Taking sum of column based on date range in T-Sql,"SELECT SUM(AMOUNT) SUM_AMOUNT FROM <table>
WHERE VoucherDt >= DATEADD(MONTH, DATEDIFF(MONTH, 0, CURRENT_TIMESTAMP), 0)
AND VoucherDt < DATEADD(DAY, DATEDIFF(DAY, 0, CURRENT_TIMESTAMP), 1)
"
13701,66287,"Does a database table exist, using bash","sql $db <<< ""select 'TRUE' from iitables where table_name like '$tablename%'
\p\g"" | grep 'TRUE' > /dev/null
result=$?
"
11904,11243,How do I structure this SQL query?,"select c.id
from conversation_participant cp1
inner join conversation_participant cp2
    on cp1.conversation_id=cp2.conversation_id and cp2.user_id=2
inner join conversation c
    on cp1.conversation_id=c.id and c.type=0
where cp1.user_id=1;
"
4817,6113,Return results where first entry is 1 and all subsequent rows are 0,"SELECT
patient_id
,CASE WHEN r.rank = 1 
 THEN 1
 ELSE 0
 END
, order_number
FROM
(
  SELECT 
  order_number
  ,patient_id
  ,ROW_NUMBER() OVER (PARTITION BY patient_id ORDER BY order_number)[rank] 
  FROM 
  PatientTable
)r
"
18062,1613,How to pass function a output of select query,"select p.*
from   product p
join   product_category_maping pcm
on     p.id = pcm.productid
join   category c
on     c.id = pcm.categoryid
where  dbo.[checkcharindex](@keyword, p.name + ' ' +  c.name) = 1
"
10159,46541,Sum query for MySQL where field contain certain values,"select c.code, count(*)
from codes c join
     table t
     on find_in_set(c.code, t.codehwos) > 0
group by c.code;
"
31782,74213,How to format a wildcard query for dates in MS SQL?,"SELECT *
FROM   Table1
WHERE  DATEADD
       (
           year,
           -DATEDIFF(year,'19000101',dateField),
           dateField
       ) BETWEEN'19000801' AND'19000818'
"
19726,44395,How to increment primary key during postgres COPY batch insert?,"copy pricing_cache (column_1, column_2) from stdin with csv
col_1_value,col_2_value
col_1_value,col_2_value
\.
"
10876,57412,Cannot perform aggreagate function on an expression,"SELECT field1,
       (SELECT COUNT(*) FROM yy Where zz AND t.value = xx ) as field2
FROM xx t
GROUP BY field1;
"
25715,61628,SQL statement to find last word in string,"SELECT SUBSTRING_INDEX(col1, ' ', -1) FROM table
"
31659,28864,SQL update in specific day of week,"UPDATE `record` t
SET t.is_cheap = 1
WHERE DAYOFWEEK(t.date_time) = 2 
      AND DATE_FORMAT(t.date_time,'%H:%i:%s') BETWEEN '14:00:00' AND '14:45:00'
      AND YEAR(t.date_time) = 2016
"
29503,66830,Get data sorted even if some references are NULL,"SELECT p.desc, p.price, m.title
FROM products AS p
LEFT JOIN manufacturer AS m ON m.id = p.manufacturer_id
ORDER BY m.title
"
12662,17048,Separating varchar(max) string into a list in sql server,"declare @Testdata table (  Data varchar(max))
insert @Testdata select   '1¬2¬4¬5¬7'

;with tmp(DataItem, Data) as (
select   LEFT(Data, CHARINDEX('¬',Data+'¬')-1),
    STUFF(Data, 1, CHARINDEX('¬',Data+'¬'), '')
from @Testdata
union all
select   LEFT(Data, CHARINDEX('¬',Data+'¬')-1),
    STUFF(Data, 1, CHARINDEX('¬',Data+'¬'), '')
from tmp
where Data > ''
)

select * from tmp 
"
4172,1413,Sails.js expireAfterSeconds option in the model,"// config/bootstrap.js
exports.bootstrap = function (done) {

    YourModelName.native(function (err, collection) {
        // define index properties
        collection.ensureIndex( { ""createdAt"": 1 }, { expireAfterSeconds: 3600 } );

        // be sure to call the bootstrap callback to indicate completion
        done();
    });
}
"
38728,56648,Efficient updating of a row on one table with data from multiple rows on another table,"UPDATE Parent
SET (Number_Of_Children, Average_Child_Age, Oldest_Child_Age,
     Youngest_Child_Age, MODE_EYE_COLOR, BLOODTYPES_THAT_CAN_BE_ACCEPTED,
     SOMETHING_COMPLEX ) = 
(
  SELECT COUNT(*), AVG(Age), MAX(Age), MIN(Age), STATS_MODE(EYE_COLOR),
    ListBloodTypes(BLOODTYPE), ComplexCombine(SOMETHING_COMPLEX)
  FROM Child
  WHERE Parent.ID = Child.Parent_ID
)
"
22286,65405,SQLite - Negative value by substracting months of different years,"SELECT round((julianday(Date('now')) - 
        julianday(Dates))/30) as MonthsDiff
from demo;


| MonthsDiff |
--------------
|       11.0 |
|        2.0 |
"
20807,8925,"Using MySQL, is there any way to dump the count of records in each of all 200 tables in a database?","SELECT table_name,
       table_rows
  FROM `information_schema`.`tables`
 WHERE table_schema = '<Your Database Name>'
 ORDER BY table_rows DESC
"
5751,58800,"sql, select top 5 occurences for certain dates","SELECT date, occurrences, diagnosecode,     
FROM (SELECT diagnosecode, date, COUNT(*) as occurrences,
             ROW_NUMBER() OVER (PARTITION BY date ORDER BY COUNT(*) DESC) as seqnum
     FROM diagnoses 
     GROUP BY diagnoses, date
    ) dd
WHERE seqnum <= 5
ORDER BY date DESC, occurrences DESC;
"
24157,57783,mysql INNER_JOIN subquery,"SELECT stock_groups.name FROM stock_groups_styles_map, stock_groups WHERE stock_groups_styles_map.style ='N26';
"
5936,33444,Sql -after group by I need to take rows with newest date,"SELECT * FROM (
    SELECT t.*,
    ROW_NUMBER() OVER ( PARTITION BY t.1st_num,t.2nd_num,t.3rd_num order by t.cancel_flag asc,t.opening_date desc) as row_num
    FROM YourTable t ) as tableTempName
WHERE row_num = 1
"
19123,26484,Elasticsearch query to return all records,"curl -XGET 'localhost:9200/foo/_search?search_type=scan&scroll=10m&size=50' -d '
{
    ""query"" : {
        ""match_all"" : {}
    }
}'
"
5450,1471,Remove last 2 digits from column1 and append those 2 digits to column2,"SELECT LEFT(Column1, LEN(Column1) - 2) Edited_Column1,
       RIGHT(Column1, 2) + ' ' + Column2 Edited_Column2
FROM   table1
"
14871,62626,"How can I join 3 tables and calculate the correct sum of fields from 2 tables, without duplicate rows?","select * 
from A
join (select B.a_id, sum(B.cost) as cost 
  from B 
  group by B.a_id) B on A.id = B.a_id
left join (select C.keyword_id, sum(C.clicks) as clicks
  from C
  group by C.keyword_id) C on A.keyword_id = C.keyword_id
group by A.id
having sum(cost) > 10
"
25862,41447,Isolate SQL field using regex,"^(?:(?:'[^\r\n']*'|[^,\r\n]*), ){6}('[^\r\n']*'|[^,\r\n]*)
"
20576,61065,MySQL: Should I prefer a lot of columns or a lot of rows,"meter_number, num_records, summation.
"
19579,68501,SQL Query Multiple Tables,"SELECT * 
FROM 'veg_tech' v
LEFT JOIN table_2 t2 ON v.BOR_ID= t2.BOR_ID
LEFT JOIN table_3 t3 ON v.FERTILIZER_KG_ROP_ID = t.FERTILIZER_KG_ROP_ID 
LEFT JOIN table_4 t4 ON v.DOR_DISTANCE_ID = t4.DOR_DISTANCE_ID ;
"
73,37758,SQL - passing variable from first select to second select,"SELECT a.ItemID, a.Name
FROM things a
WHERE name IN (SELECT name FROM things WHERE itemID = 1)
"
19412,43317,SQL - Selecting a field from another table using a primary key in a trigger,"select @TransactionTypeName = TT.Name
from inserted as i
    left outer join TransactionTypes as TT on TT.TransactionTypeId = i.TransactionType_TransactionTypeId
"
38062,26107,"What kind of join, if any, is appropriate here?","select 
S.userName,
S.firstName,
S.lastName,
A.actionDetails,
A.actionDate
from Departments D 
join Staff S on d.departmentID=s.departmentID
join Actions A on s.staffID=A.staffID
WHERE D.departmentID = YourDeparmentID;
"
26935,70739,Double join on a table on the same field,"SELECT 
  fly.codeAirport1, 
  a1.value as valueAirport1,
  fly.codeAiport2,
  a2.value as valueAirport2
FROM
  fly
LEFT JOIN 
  airports a1 ON a1.code = fly.codeAirport1
LEFT JOIN 
  airports a2 ON a2.code = fly.codeAirport2
"
13152,18201,How to select multiple values with join in sql,"SELECT * FROM forum.comments AS c
JOIN forum.posts AS p ON (comments.post_id = posts.post_id)
JOIN forum.users AS u1 ON (posts.user_id = users.user_id)
JOIN forum.users AS u2 ON (comments.user_id = users.user_id)
"
2871,29734,Select fields containing at least one non-space alphanumeric character,"SELECT * FROM  tbl_loyalty_card  WHERE TRIM(CUSTOMER_ID) != '';
"
4754,1680,Shortest way to GROUP BY similar values and retain latest rows?,"SELECT A,B,max(Date) GROUP BY Text
"
1385,46325,Flexible select query,"select 
        ID,
        Name,
        Order
from tbl
where 
  Order = @order
  OR (@order IS NULL AND order IS NULL)
"
13506,45546,SQL group by 1 column but include TOP 1 of other columns,"SELECT BoxNo, MAX(MuffinType) AS  MuffinType, MAX(FrostingType) AS FrostingType
FROM MuffinData 
WHERE FrostingTimeApplied >= CONVERT(date, GETDATE()) 
GROUP BY BoxNo
"
3100,57236,SQL: find all items on left side where right side items all have specific field value,"SELECT * from job where Id not in (SELECT JobId from item where Status <> 'PROCESSED');
"
30965,1082,"PostgreSql + Date Format Convert YYYY-MM-DD to Day, Date Month Year","SELECT 
  * 
FROM 
  table_name 
WHERE 
  user_id=('11') 
AND 
  to_char(effective_date, 'Dy, Mon DD, YY') = trim('Fri, Nov 26, 10');
"
13493,26799,How can I have my Postgresql SELECT return data from columns with the same name?," SELECT table1.name,
         table1.timetag,
         table1.status,
        table2.timetag AS theothertimetag,
        table2.description

    FROM
"
37137,39966,How can I compare two tables and delete the duplicate rows in SQL?,"DELETE a
FROM a  -- first table
INNER JOIN b -- second table
      ON b.ID = a.ID
      AND b.Name = a.Name
      AND b.Foo = a.Foo
      AND b.Bar = a.Bar
"
27833,63861,Cascading deletes like ON DELETE CASCADE for a one time operation in MySQL,"DELETE a, b, c, d
FROM a
  LEFT JOIN b  ON  b.a_id = a.a_id
  LEFT JOIN c  ON  c.a_id = a.a_id
  LEFT JOIN d  ON  d.b_id = b.b_id 
WHERE
    a.a_id = 1 ;
"
10836,58707,Insert a row into a SQL Server table only if total count is less than a threshold,"INSERT INTO users (
  name, email, [password]
)
SELECT
  'newUser' AS name
  , 'email@example.com' AS email
  , 'fsfsfs' AS [password]
FROM
  users
HAVING
  COUNT(*) < 100000;
"
36393,23007,Fetch result based on result of another query,"select * from tableA where cloInAB in (select colInAB from tableB where colB = 5);
"
34153,42666,"""!=""/NOT perhaps not working properly in SQLite","SELECT * FROM yourTable WHERE is_gallery IS NOT 1
"
18258,42130,Trying to find the most expensive book written by a certain author in Oracle SQL,"select b.title, b.retail
from books b join bookauthor ba using (bookid, authorid)
join author a using (authorid)

join (select max(retail) highestprice
from books bb join bookauthor ba using (bookid, authorid)
join author aa using (authorid)
where aa.lname = 'WHITE' and aa.fname = 'LISA'
group by bb.bookid) temp on retail = highestprice

where a.lname = 'WHITE' and a.fname = 'LISA'
"
4469,22162,Simplifying the case statement,"UPDATE A
    SET OAP.GradeRange = 
            CASE WHEN (ABS(CAST(A.GRADE_FROM AS INT) - CAST(A.GRADE AS INT)) > 1) AND ((grade_from NOT IN ('13','15')) OR (GRADE NOT IN ('13','15')))  THEN 'Y'  
            ELSE 'N' END  
    FROM   dbo.Table A
"
15053,21531,use next_day and to_date in where clause,"SELECT  next_day(((to_date(20140203, 'yyyymmdd') - 90) -7), 'SUNDAY')
FROM DUAL;
"
22927,72342,Transact SQL Procedure or Function that exists within scope of the program,"SET NOCOUNT ON
GO

CREATE PROC #temporaryStoredProcedure
AS
BEGIN

     Do Work Here

END
GO

DROP PROC #temporaryStoredProcedure
GO
"
24289,53774,Rails 3 Joins Active Record query,"<% @bees.each do |b| %>
  <%= b.a.name %>, <%= b.a.date %>
<% end %>
"
12494,65196,SQL - find the closest pair of numbers to a provided pair,"SELECT   *
FROM     my_table
ORDER BY ABS(2.5-num1) + ABS(10.2-num2)
LIMIT    1
"
16719,25578,SQLITE3: Creating database from command line takes forever,"strace -f -s 1000 -tt sqlite3 newDatabase.db < myschema.sql
"
23088,62519,SQL -5 minutes from a existing column,"WHERE begin_execution >= DATEADD(MINUTE, -5, GETDATE())
"
16279,34549,"Select Distinct, Order By Non-Returned Column Error","select col_a, col_b
from t
group by col_a, col_b
order by max(col_c), col_a
"
21596,27891,Oracle aggregate function to return a random value for a group?,"select deptno,max(sal),min(sal),max(rand_sal) 
from(
select deptno,sal,first_value(sal) 
     over(partition by deptno order by dbms_random.value) rand_sal
from emp)
group by deptno
/
"
30454,23829,"Two group-bys in a query, one without an aggregate function.","ORDER BY region_id, regs
"
4052,39062,Getting additional info on the result of a SQL max query,"set rowcount 1
select * from data order by timestamp desc
"
24355,3426,How do I compare overlapping values within a row?,"SELECT * FROM appts 
WHERE timeStart <='$timeEnd' 
AND timeEnd >='$timeStart' 
AND dayappt='$boatdate'
"
29593,16533,"Using ""Update to a local variable"" to calculate Grouped Running Totals","UPDATE @salestbl
SET @RunningTotal = RunningTotal = sales +
    CASE WHEN daycount=@lastday THEN @RunningTotal ELSE 0 END
   ,@lastday=daycount
FROM @salestbl
"
33892,60895,How do I get rid of these subselects?,"select pdi.height, pdi.width, pj.jobnum,
        SUM(CASE pdi.alternaterating WHEN 'PARTICLE' THEN 1 ELSE 0 END) particleqty,
        SUM(CASE pdi.alternaterating WHEN 'PARTICLE' THEN 0 ELSE 1 END) laminatedqty
from productiondoorinformation pdi 
     inner join view_productionjobs pj on pj.ctr=pdi.productionjobsctr
     where pj.jobnum='' + @Jobnum + ''
group by pdi.height, pdi.width, pj.jobnum 
"
7340,58220,SQL Server - Calculate Student GPA and Insert Into Table Variable,"DECLARE @StudentGrades TABLE(StudentId INT, ClassId INT, Grade DECIMAL(4,2))

-- Sample Entries:
INSERT INTO @StudentGrades
(StudentId, ClassId, Grade)
VALUES (1, 1, 60.0), (1, 2, 70.0), (2, 1, 75.0), (2, 2, 90.0);

-- Check table values.
SELECT * FROM @StudentGrades;

-- This is the report you were looking for.
SELECT StudentId, CONVERT(DECIMAL(4,1), AVG(Grade)) As [GPA]
FROM @StudentGrades
GROUP BY StudentId
ORDER BY GPA Desc; <---- EDITED BY FOXDONUT (GPA in descending order)
"
32769,63170,SQL query combined column values,"SELECT t1.object
FROM table t1
    INNER JOIN table t2 ON t1.object = t2.object
WHERE t1.attribute = 'country' AND t1.value = 'Germany'
    AND t2.attribute = 'position' AND t2.value IN (12,5)
"
18809,20403,Selecting nvarchar 'like' in a left join - inner join combination,"select * 
    from dbo.Items i
        LEFT JOIN dbo.tags t
            INNER JOIN @input in
                on in.[input] = left(t.Tag, len(in.[input]))
            on i.ID = t.ID
    where (t.ID is not null or not exists(select 1 from @input))
"
36074,45223,Combine 4 SELECT queries on mysql,"(SELECT * FROM entrancequestion
WHERE Subject='Abstract Reasoning'
ORDER BY RAND()
LIMIT 10)

UNION

(SELECT * FROM entrancequestion
WHERE Subject='English'
ORDER BY RAND()
LIMIT 30)

UNION

(SELECT * FROM entrancequestion
WHERE Subject='Mathematics'
ORDER BY RAND()
LIMIT 30)

UNION

(SELECT * FROM entrancequestion
WHERE Subject='Science'
ORDER BY RAND()
LIMIT 30 )
"
21098,9383,Enforce check constraint on uncommitted data,"CREATE FUNCTION CheckDuplicateValues(@value1 INT, @value2 INT) RETURNS INT AS 
BEGIN 
    RETURN (
        SELECT COUNT(*) FROM Table1 WITH (READCOMMITTEDLOCK)
        WHERE Value1 = @value1 
          AND Value2 = @value2
    );
END; 
GO
"
7410,27004,Reordering data in a table,"declare @maxcoord int;
declare @rowid int; set @rowid = 35395

select @maxcoord = max(value) from table where row = @rowid

update table set value = @maxcoord - value 
where row = @rowid
"
23806,50215,row_nums without using row_number function?,"SELECT id, name, ROW_NUMBER() OVER (ORDER BY name)
  FROM dbo.color
  ORDER BY name;
"
14814,2679,"SQL Homework - ""IN"" Subquery","SELECT
   CustomerNum, CustomerName, StateProv
FROM
   tblCust
WHERE StateProv IN(SELECT StateProv FROM tblState WHERE StateProvDesc LIKE 'co%')
"
28483,36188,MySQL Query Complex Relationship of One Way Linking,"SELECT post.post_id, website.website_id
FROM test_posts post
  JOIN test_posts website ON website.website_id NOT IN
(
  SELECT sl.website_id
  FROM test_posts f
    INNER JOIN test_smartlink_to_websites sl ON f.post_id = sl.post_id
  WHERE f.post_id = post.post_id
)
ORDER BY post_id
"
37614,2070,How to order the ngrams in Google's database (or the one hosted on AWS) by frequency,"raw = LOAD '/foo/input' USING PigStorage('\t') AS (ngram:chararray, year:int, count:int, pages:int, books:int);
filtered = FILTER raw BY year >= 1980;
grouped = GROUP filtered BY ngram;
counts = FOREACH grouped GENERATE group AS ngram, SUM(filtered.count) AS count;
sorted = ORDER counts BY count DESC;
limited = LIMIT sorted 10000;
STORED limited INTO '/foo/output' USING PigStorage('\t');
"
11885,27012,taking a very efficient join between two tables in Oracle,"SELECT *
FROM Post p
JOIN (SELECT *
      FROM Comment
      WHERE comment_creation_date > ? and comment_creation_date < ?
              AND 'stringlist' LIKE '%'||comment_type||'%'
     )c
ON c.post_id = p.post_id
"
27267,23249,calculate the min of a table grouped by a unique id - mysql,"SELECT * FROM out_of_offer o,
(SELECT offer_id, MIN(ABS(hour-hour_offer)) AS diff FROM out_of_offer
GROUP BY offer_id) x
WHERE o.offer_id = x.offer_id AND ABS(o.hour-o.hour_offer) = x.diff;
"
38582,18294,How do you make an Oracle SQL query to,"select 
    m.sup_email, r.sup_rating 
from 
    (select substr(value, 1, length(value) - length('_email') as sup_name, info as sup_email from table where value like '%_email') as m 
left join 
    (select substr(value, 1, length(value) - length('_rating') as sup_name), info as sub_rating from table where value like '%_rating') as r on m.sup_name = r.sup_name 
order by 
   sup_rating desc 
limit 
    1;
"
20419,33191,each item wise count,"select coalesce(job, 'Total') status, count(*) status_numbers,
       coalesce(job, 'Total') status2, count(*) status_numbers2
  from jobs
 group by rollup(job)
 order by grouping_id(job) desc;
"
7108,72600,mysql select data from multiple rows,"SELECT * FROM TABLE WHERE keyword = 'guy' AND name in (SELECT name FROM TABLE WHERE keyword = 'developer')
"
22442,12767,Oracle optimizing query involving date calculation,"create index myindex on table2(starttime, starttime + Duration / 24);
"
5295,69787,SQL Server: Change current database via variable,":setvar dbname ""MyNewDatabaseName"" 

IF DB_ID('$(dbname)') IS NULL
    BEGIN

    DECLARE @SqlQuery NVARCHAR(1000);
    SET @SqlQuery = N'CREATE DATABASE ' + QUOTENAME('$(dbname)') + ' 
            COLLATE SQL_Latin1_General_CP1_CI_AS'
    EXEC(@SqlQuery) 

    END

GO

USE $(dbname)

GO
"
15925,41176,SQL Query Return All Date which is weekend from a table,"WHERE
    DATEPART(""w"", yourField, vbMonday) >= 6
"
4905,5253,How can I move a dot 6 spaces to the left on all values of a column in MySQL?,"SELECT weight/1000000 as Weight
FROM yourtable
"
25750,57439,Creating a foreign key with SQLAlchemy,"class Account(db.Model):
    __tablename__ = 'accounts'
    id = db.Column(db.Integer, primary_key=True)
    name = db.Column(db.String(100), nullable=False)
    questions = relationship(""Question"", backref=""accounts"")

class Question(Base):
    __tablename__ = 'questions'
    id = db.Column(db.Integer, primary_key=True)
    account_id = db.Column(db.Integer, db.ForeignKey('accounts.id'))
    body = db.Column(db.String(500), nullable=False)
"
34573,25806,how to subtract a Date from a Date in database,"select datediff(DateReturned, DateRented)
. . .
"
15633,53818,Need partial record from 2 tables,"SELECT company_info.t_id, company_info.company_name, company_info.remark,
CASE WHEN tender.company_selected =company_info.company_name THEN tender.company_selected ELSE '' END,
CASE WHEN tender.company_selected =company_info.company_name THEN company_info.company_document ELSE '' END FROM 
company_info LEFT OUTER JOIN tender ON company_info.t_id = tender.t_id
"
36263,26310,MySQL percentage (a bit complex?),"  SELECT x.movieid,
         x.score,
         COUNT(x.userid) / y.score_count  AS percentage
    FROM YOUR_TABLE x
    JOIN (SELECT t.movieid,
                 COUNT(t.score) AS score_count
            FROM YOUR_TABLE t
        GROUP BY t.movieid) y ON y.movieid = x.movieid
GROUP BY x.movieid, x.score
"
38091,38890,Changing group by statement to get field not being grouped,"SELECT id, date_modified, value
FROM
(
    SELECT
        id, date_modified, value, ROW_NUMBER() OVER (PARTITIOn BY Id ORDER BY date_modified DESC) RN
    FROM tbl
) A
WHERE RN = 1
"
15366,6157,Mysql results from multiple tables where ids match don't appear,"...
FROM drives 
LEFT OUTER JOIN clients ON drives.client = clients.id
LEFT OUTER JOIN drivers  ON drives.driver = drivers.id
LEFT OUTER JOIN vehicles ON drives.vehicle = vehicles.id
WHERE
.... 
"
32490,70912,Equivalent of SQL SELECT in Pig,"selected = FOREACH AB GENERATE science_score, math_score;
"
38612,10515,SQL How to convert date DD-MM-YYYY to MM-YYYY and retrieve most recent records?,"SELECT TOP(1) * 
FROM your_table 
WHERE date_time_field >= '20120101' 
  AND date_time_field < '20120201' 
ORDER BY date_time_field DESC
"
36860,58171,mysql query confusion using in and natural join quantity,"SELECT *
FROM   person
  JOIN invited   USING (pid)
  JOIN event     USING (pid, eid)
  JOIN friend_of   ON  friend_of.sharer = invited.pid
WHERE  friend_of.viewer = 'AA'
"
27588,68623,Import database from phpmyadmin to webmin,"1.Log into your Virtual control panel
2.Select the domain that the MySQL database belongs to
3.Click on the Edit Databases link towards the left and then click import database.
"
19022,20120,record addition in sql,"--Product info--
CREATE TABLE PRODUCT
(
PRODUCTID INT NOT NULL,
PRODUCT_NAME VARCHAR2(20) NOT NULL,
CONSTRAINT PRODUCT_PK PRIMARY KEY(PRODUCT_ID)
);

--sales info--
CREATE TABLE SALES
(
RECIPT_ID SMALLINT DEFAULT (0) NOT NULL,
PRODUCTID INT DEFAULT (0) NULL,
CONSTRAINT SALES_PK PRIMARY KEY(RECIPT_ID),
CONSTRAINT SALES_PRODUCT_FK FOREIGN KEY(PRODUCTID) REFERENCES PRODUCT(PRODUCT_NAME)
);
"
32871,58380,Ensuring a webapp user can only add records to a database that they own,"INSERT INTO homework_completion (student_fk, homework_fk)
  SELECT s.student_id, :homework_id
  FROM student s
  WHERE s.student_id = :student_id
  AND s.teacher_fk = :teacher_id
"
38230,28459,How to write a relatively simple UPDATE query with two linked tables,"UDPATE
  orders
  JOIN CARS ON orders.Vrm = cars.VRM
SET orders.Mileage = cars.mileage
WHERE orders.mileage = ''
"
39415,70585,Count item across multiple columns in same table,"select c as Result, count(1) as Counter from (
    select ColumnA c from TableA
    union all
    select ColumnB c from TableA
    union all
    select ColumnC c from TableA ) t
group by c
"
32661,11275,How to join a table with array(set?) in sql?,"select * from history where entry_id in (45,234,435)
"
34420,31168,How to select IDs from a table if two conditions in other tables match,"SELECT
   *
FROM
   tblQuestions Q
WHERE
   EXISTS (SELECT *
      FROM
          tblAnswers A
          JOIN
          tblFeedback F ON A.Submission_ID = F.Submission_ID
      WHERE
          Q.Q_ID = A.Q_ID AND F.Module_ID = @moduleID)
"
31429,75211,Mysql: Query to find row with max with tie breaker,"SELECT
     T1.User
FROM
     MyUnnamedTable T1
LEFT OUTER JOIN MyUnnamedTable T2 ON
     T2.Region = T1.Region AND
     (
          T2.Points > T1.Points OR
          (T2.Points = T1.Points AND T2.Last_Updated > T1.Last_Updated)
     )
WHERE
     T2.User IS NULL AND
     T1.Region BETWEEN x AND y
"
20519,30693,Make only 1 column distinct in SQL?,"SELECT TableA.n AS ColumnA, TableB.n AS ColumnB, (TableA.n + TableB.n) as [Sum]
FROM MyTable AS TableA CROSS JOIN
      MyTable AS TableB
WHERE TableA.n < TableB.n AND
      TableA.n <= 3 AND TableB.n <= 3 ;
"
19500,51999,A column with Check constraint that accepts only caps A to caps Z,"CONSTRAINT check_column_name CHECK (REGEXP_LIKE(column-name, '^[A-Z]+$'));
"
6074,38434,Make table ID appear as a column and select across all tables,"SELECT ID, 'YourTable' TableName
FROM YourTable
UNION ALL
SELECT ID, 'YourOtherTable' 
FROM YourOtherTable
....
"
25911,9642,Generating Random String in PL/SQL(oracle 9i) with restricted Letters,"select xmlagg(xmlelement(""r"", ch)).extract('//text()').getstringval()
from
(
  select distinct first_value(ch) over (partition by lower(ch)) as ch
  from (
    select substr('abcdefghijklmnpqrstuvwxyzABCDEFGHIJKLMNPQRSTUVWXYZ123456789',
        level, 1) as ch
    from dual 
    connect by level <= 59
    order by dbms_random.value
  )
  where rownum <= dbms_random.value(10,13)
);
"
21357,71023,MySQL search algorithm for best match,"select *  from department  where Name like ""%Samsung"" or (Name like ""%Tv%"" and Name like ""%Samsung%"") UNION select  from department  where Name like ""%tv"" or (Name like ""%Samsung%"" and Name like ""%TV%"")
"
11858,26595,"SQL query, select values of a column only if","select id, 
   id_pedido, 
   p.id_articulo, 
   p.descripcion, 
   p.fecha, 
   u.nombre, 
   p.local,
   case when a.tipo = 'X' then a.inicia+a.entra-a.sale end Existencias, 
   a.tipo
from pedidos p 
   join usuarios u on p.id_usuario=u.id_usuario 
   join articulos a on a.id_articulo=p.id_articulo
where estado='activo'
"
14563,54354,How to specify what happens for each trigger event in oracle pl sql,"create or replace trigger Trig_test
AFTER INSERT OR UPDATE
OF name
ON people
AFTER EACH ROW
begin 
  if inserting
  then
    null;
  elsif updating
  then
    null;
  end if;
end;
"
37755,60055,Complex MySQL Query who can solve?,"SELECT product_id,product_name, min(c) Qty
FROM
(
  SELECT p.product_id, p.product_name, p.material_id, count(sd.product_id) c
  FROM product p
  LEFT JOIN scaledata sd
    ON p.product_id=sd.product_id
   AND p.material_id = sd.material_id
  GROUP BY product_id, p.product_name, p.material_id
) a
GROUP BY product_id
"
5156,42371,"DB schema help, linking variations of products","Products:
--id
--name
--code
--price


Products_Variants:
--id
--id_product
--id_feature
--value


Features:
--id
--name
"
5010,7851,Identifying equivalent sets in SQL Server,"WITH cte AS (
 SELECT DISTINCT a.SET_ID aid, b.SET_ID bid, a.EntriesPerSet
 FROM mysets a
 JOIN mysets b ON a.EntriesPerSet = b.EntriesPerSet AND a.SET_ID < b.SET_ID
)
SELECT aid, bid FROM cte
WHERE EntriesPerSet = (
 SELECT COUNT(*) FROM (
  SELECT K1,K2 FROM mysets WHERE SET_ID=aid
  INTERSECT
  SELECT K1,K2 FROM mysets WHERE SET_ID=bid
 ) a
)
"
21576,57747,Regular Expressions Query,"^[A-Za-z]?(\d+)$
"
34991,23047,Select rows based on MAX values of a column,"select * from attributes a
where attribute_id := given_attribute_id
and version_id = (
 select max( version_id ) from attributes b
where attribute_id := given_attibute_id 
and b.id = a.id 

)
"
25305,18898,sp_executesql and table output,"DECLARE @DBName varchar(255) 
DECLARE @q varchar(max) 
CREATE table #tempTable(myParam1 int, -- other params)

SET @DBName = 'my_db_name'
SET @q = 'insert into #tempTable exec ['+@DBName+'].[dbo].[my_procedure]'
EXEC(@q)

SELECT * FROM #tempTable
drop table #tempTable
"
10701,2003,Matching two databases and insert same rows to another,"UPDATE db1.table1 JOIN db2.table2 on db1.table1.movie_name = db2.table2.movie_name AND db1.table1.year = db2.table2.year SET db1.table1.synopsis = db2.table2.synopsis, db1.table2.AKA = db2.table2.AKA
"
29071,3469,OR Operator in inner join,"SELECT  VendorID,VendorName,VendorType,FirstName,LastName,  
VendorCompany,Contact,Phone,AltContact,Email,
OpeningBalance,OpeningDate,VendorAccountNo ,Photo,VendorNotes FROM 
Vendor inner JOIN VendorTypeTable ON 
Vendor.VendorTypeID=VendorTypeTable.VendorTypeID
UNION
SELECT  VendorID,VendorName,FirstName,LastName, VendorCompany,
Contact,Phone,AltContact,Email,OpeningBalance,OpeningDate,
VendorAccountNo ,Photo,VendorNotes FROM 
Vendor WHERE VendorTypeID IS NULL;
"
35825,45822,Order by highest number of records in a field in mysql,"select
  t.*
from
  table1 t
  inner join (select 
                name, 
                count(*) as cnt 
              from table1 
              group by name
              order by count(*) desc
              limit 2) as c on t.name = c.name
order by c.cnt desc
"
14901,43526,Use a 'in' statement inside a 'case' expression,"SELECT TYPEOFPRODUCT
      ,SUM( CASE WHEN BRANCH IN('Mumbai1','Mumbai2') THEN 1 ELSE 0 END) AS Mumbai
      ,SUM( CASE WHEN BRANCH IN('Delhi1', 'DelhiMain') THEN 1 ELSE 0 END) AS Delhi
FROM los_ext  
GROUP BY TYPEOFPRODUCT
"
17744,9262,Join two tables with max aggregation on one table,"SELECT c.ID, d.BookPrice, d.PriceDate 
FROM Material as c
INNER JOIN
    (SELECT MaterialID, BookPrice, PriceDate 
     FROM Price as a
     WHERE PriceDate = 
          (SELECT MAX(PriceDate) 
           FROM Price as b 
           WHERE a.MaterialID = b.MaterialID
          )
    ) as d 
ON c.ID = d.MaterialID
"
12189,9364,XML transformation with xsl and DB query,"ResultSet rset = stmt.executeQuery();
OracleResultSet orset = (OracleResultSet) rset;
XMLType qRes = XMLType.createXML(orset.getOPAQUE(1));
"
11475,50809,How to combine columns from 2 tables into 1 without using JOIN,"SELECT FirstName AS First, LastName AS Last
FROM
(
  SELECT ROW_NUMBER() OVER (ORDER BY ID) AS RowNum, FirstName
  FROM FirstName
) t1
INNER JOIN
(
  SELECT ROW_NUMBER() OVER (ORDER BY ID) AS RowNum, LastName
  FROM LastName
) t2
ON t1.RowNum = t2.RowNum
"
21976,57189,Mysql: Select rows in which all fields are equal,"SELECT DISTINCT
    FirstName,
    LastName,
    BirthDate

FROM YourTable;
"
26789,3842,MySQL - Count only if the last associated_statut = 2,"SELECT count(t1.id) FROM mytable t1
  INNER JOIN (SELECT id_conv, MAX(id) id FROM foo GROUP BY id_conv) t2
    ON t1.id = t2.id 
    WHERE t1.associated_statut = 2
"
20239,70165,SQLite equivalent query of the given MSSQL query.,"select *
from yourtable
where
    id in (
        select min(y.id)
        from yourtable as y
            inner join (
            select [TKG], max([CAP]) as [CAP]
            from yourtable
            group by [TKG]
        ) as y2 on y2.[TKG] = y.[TKG] and y2.[CAP] = y.[CAP]
        group by y.[TKG]
    )
"
9779,42283,SQL - Rounding decimals from a count sum without a column,"cast((COUNT(v.id) * r.res_cpm/1000)as decimal (10,2))
"
19695,39725,database schema one column entry references many rows from another table,"select p.name 
from parts p inner join workorders_parts wp on wp.partId = p.partId
where wp.workorderId = x;
"
9497,4029,SELECT DISTINCT: control priority when there are accents?," SELECT name FROM city_i18n
 WHERE (name != (SELECT name FROM city_i18n WHERE ID = 2745 AND culture = 'es_ES') 
        OR culture = 'es_ES')
 AND ID = 2745 AND culture IN ('es_ES', 'en_GB');
"
25904,20573,does it worth switching a PRIMARY KEY from the type NVARCHAR to the type INT?,"EXEC sp_spaceused 'TableName'
"
38490,6117,Combining data sets without losing observations in SAS,"Data ftest;
Merge ftest tryf1 ;
By ticker month;
Run;
"
418,61377,"Can the Oracle ""with clause"" be moved or rearranged such that the first keyword is select?","Select * from 
  (with mytable as 
  (select something from sometable) 
   select somestuff from mytable connect by level <= 50) B
"
14802,39715,How to update table using foreign key in sql,"UPDATE employee  
SET E.image = '123.jpg' 
FROM employee,personal_data
where employee.emp_id = personal_data.emp_id
"
39010,58218,Having an Issue creating a one to many relation using Entity framework,"protected override void OnModelCreating(DbModelBuilder modelBuilder)
{
    modelBuilder.Entity<buildingInfo>().HasMany(b=>b.curRooms).WithRequired().HasForeignKey(r=>r.buildingId);
}
"
393,7426,SQL - return only where specific rows match,"    SELECT
      p1.PASS_NUMBER 
    FROM
      PASS p1
    WHERE
      p1.PASS_LOCATION = 'A'
      AND EXISTS
      (SELECT 
          * 
       FROM 
         PASS p2
        WHERE 
          p1.PASS_NUMBER=p2.PASS_NUMBER 
          AND p2.PASS_LOCATION='B')
    ;
"
35155,31749,SQL date to a float then back to a date,"DECLARE @Float FLOAT
SET @Float = 41819.3798611111
SELECT DATEADD(ms, 500 - DATEPART(ms, CAST(@Float AS DATETIME) + '00:00:00.500'), CAST(@Float AS DATETIME))
"
6831,55193,obtaining unique/distinct values from multiple unassociated columns,"select ts.system, town.owner
from (select system, row_number() over (order by system) as seqnum
      from (select distinct system
            from t
           ) ts
     ) ts full outer join
     (select owner, row_number() over (order by owner) as seqnum
      from (select distinct owner
            from t
           ) town
     ) town
     on ts.seqnum = town.seqnum
"
21279,44524,Using Table As Input to Query for Substrings,"select distinct wt.operation
from words_table wt
where YOURSTRING like '%' || wt.words || '%';
"
14056,8504,SQL Delete with Subquery,"DELETE t1
FROM Table1 t1
inner join 
(
   select col1, col2 
   from other_table 
   where ...
) t2 on  t2.col1 = t1.col1 
     and t2.col2 = t1.col2
"
20067,2575,Calculate totals of field based on current fiscal year only - SQL,"SELECT userid, SUM(total_hours) - SUM(missed_hours) AS hours    
FROM mytable
WHERE startdate >= cast( cast(year(dateadd(MM,-6,getdate())) as varchar(4)) + 
                         '-07-01' as date ) and
      startdate <  cast( cast(year(dateadd(MM, 6,getdate())) as varchar(4)) + 
                         '-07-01' as date )
GROUP BY userid
"
15835,7385,Using results from COUNT to filter those results,"SELECT studentName, COUNT(lessonCode) 
FROM Lessons
GROUP BY studentName
HAVING COUNT(lessonCode) = 10
"
39860,70053,How can I write this Query in another way,"SELECT u.firstname, u.lastname, u.username, u.alt_id, u.email, cg.group_name
FROM user u LEFT JOIN
     class_group cg
     ON find_in_set(u.id, list_students_id) > 0;
"
22759,12393,Insert rows autoincrement on multiple columns,"declare @StartValue int
SELECT @StartValue = MAX(UserFile) FROM tbl_Users 

INSERT INTO tbl_Users (UserFile,Name)   
    SELECT 
        (@StartValue + ROW_NUMBER() over (order by (select 1))) as IncrementNumber, 
        Name  
    FROM 
        tbl_ContactPerson  
    WHERE 
        (ContactType = 'U') 
"
33532,57071,SQL Query that suggest next quizes of every user,"SELECT user_id, IFNULL((q_count+1) % 4, 0) AS next
FROM   users LEFT JOIN (
  completed_quizes NATURAL JOIN (
    SELECT   user_id, MAX(completion_date) AS completion_date
    FROM     completed_quizes
    GROUP BY user_id
  ) AS t
) USING (user_id)
"
5720,1699,Set values from 0 to n in SQL,";WITH x AS (SELECT ID, OrderValues, 
    rn = ROW_NUMBER() OVER (ORDER BY ID)
   FROM dbo.tablename
)
UPDATE x SET OrderValues = rn;
"
14440,9269,Storing multiple values from SQL query to stored procedure variable,"declare @ColumnAVal varchar(20);
declare @ColumnBVal varchar(20);

select @ColumnAVal = ColumnA , @ColumnBVal = ColumnB from TableA where....
"
29276,12120,Database Structure for 1-many-many,"-- Field_table (list_id, field_name, field_value)
"
6618,56609,"Replace ""And"" with ""and"" in mysql using replace query","update TABLENAME set columnname = replace(columnname, ' And ', ' and ');
"
5342,11155,Oracle Procedure Grant privileges List,"SQL> select * from V$OBJECT_PRIVILEGE where object_type_name = 'PROCEDURE';

OBJECT_TYPE_NAME     OBJECT_TYPE_ID PRIVILEGE_ID PRIVILEGE_NAME
-------------------- -------------- ------------ ---------------
PROCEDURE                         7           12 EXECUTE
PROCEDURE                         7           26 DEBUG
"
15326,61337,Need MySQL help,"SELECT kid_id, status, MAX(`timestamp`) as `timestamp`
FROM actions
WHERE DATE(`timestamp`) = CURDATE()
GROUP BY kid_id, status
"
2982,8025,How to figure out when a SQL query will end?,"mysqladmin extended -r -i 10 | grep Handler_read_rnd_next
-- ignore the first line of output...
| Handler_read_rnd_next             | 429224      |
"
22279,30197,Selecting by two fields in UNION ALL and ordering between rows,"SELECT DISTINCT c.* FROM categories c, categories p
WHERE c.status<>0 and (c.parent_id = 0 OR (c.parent_id=p.id and p.parent_id=0))
ORDER BY c.id,c.position
"
34128,7599,Cast/Convert Text-Decimal,"DECLARE @T01 TABLE([2 37] text, [2 37 Floor] int, [2 37 Ceiling] int)
INSERT @T01 ([2 37]) VALUES('1.5')
INSERT @T01 ([2 37]) VALUES('4.1')
INSERT @T01 ([2 37]) VALUES('5.9')

update t
set [2 37 Floor]=floor(CONVERT(decimal(8,2),(CAST([2 37] AS varchar(10))))  )
,  [2 37 Ceiling] =ceiling(CONVERT(decimal(8,2),(CAST([2 37] AS varchar(10)))))
from @T01 t
WHERE [2 37] LIKE '%.%'
select * from @T01
"
8666,17038,Simple SQL Query workbench,"SELECT name FROM pizzas WHERE toppings LIKE '%cheese%'
"
29877,60744,How to use two LEFT JOINs on one query?,"SELECT E.id, E.time, E.title, E.body, E.type, C.comments, E.googleID, L.likeCount
FROM elements E
LEFT JOIN(
    SELECT elementID, GROUP_CONCAT(body SEPARATOR '|-|') AS comments
    FROM comments
    GROUP BY elementID
) C on C.elementID = E.id
LEFT JOIN (
    SELECT elementID, COUNT(id) AS likeCount
    FROM likes
    GROUP BY elementID
) L ON L.elementID = E.id;
"
30825,38776,Using subqueries in SQL," SELECT animal_id, (SELECT owner_name FROM Owners WHERE owner = Animals.owner_id)
   FROM Animals
"
14106,36684,Aggregate Self-Referencing Table,"with cte as (
    select t.Id, t.Amount, t.Id as [Parent Id]
    from Table1 as t

    union all

    select c.Id, t.Amount, t.Id as [Parent Id]
    from cte as c
        inner join Table1 as t on t.[Parent Id] = c.[Parent Id]
)

select Id, sum(Amount) as Amount
from cte
group by Id
"
28423,46719,Substring and replace together?,"SELECT REPLACE(SUBSTRING(CreateDate,2,8),'/','')
"
10110,36327,Is there a better way to extract the time of day?,"SELECT
    CAST(colname AS time)
FROM
    tablename;
"
4865,49830,Dynamic Columns in SQL Query with count and join,"SELECT Phases_ID, Project, Customer
FROM (
    SELECT Phases_ID, Milestones_PhaseID, Milestones_Category
    FROM Phases INNER JOIN Milestones ON Phases_ID = Milestones_PhaseID
) AS src
PIVOT (
    COUNT(*)
    FOR Milestones_Category IN ([Project], [Customer])
) AS pvt
"
34662,34307,Select columns other than the one specified in GROUP BY clause,"SELECT MAX(c.name), COUNT(distinct e.student_id)
FROM Enrollment e
INNER JOIN Course c ON c.id = e.course_id
GROUP BY e.course_id, c.name
"
17381,62530,How to subtract the one row from another MySQL,"SELECT macs_sales.Date, (MacsSold - WindowsSold) AS sales_difference
FROM
(
  SELECT Date, Sold as MacsSold
  FROM computer_sales
  WHERE Products=""Mac""
) macs_sales
INNER JOIN
(
  SELECT Date, Sold as WindowsSold
  FROM computer_sales
  WHERE Products=""Windows""
) windows_sales
ON macs_sales.Date = windows_sales.Date
"
408,12010,How to select the same value only once in MysQL?,"select id, a, b from table 
where id in (1,2,5)
"
31281,33491,SQL Server : find duplicates in a table based on values in a single column,"select
 employeename,
 IDs = STUFF((SELECT ','+ CAST(e2.[ID] AS VARCHAR(10)) 
  FROM emp e2
  WHERE e2.employeename = e1.employeename
  For XML PATH('')
 ),1,1,'')
FROM emp e1
GROUP BY employeename having COUNT(*) > 1
"
10516,31873,Setting a variable,"SET @MinOrder = SELECT MIN(UnitPrice)
                  FROM [Order Details]
                 WHERE CustomerNumber = 'ALFKI'
"
26115,25479,SQL Arithmetics with unique cells of tables,"SELECT tom08/tom, tom920/tom, tom2135/tom, tom3650/tom, tom51/tom  
FROM table1 t1, table2 t2 
WHERE t1.ppoint = t2.ppoint;
"
38628,43299,Sql Query for finding Orders having same order lines,"SELECT DISTINCT Orders.OrderID
FROM Orders
INNER JOIN OrderDetails ON Orders.OrderID = OrderDetails.OrderID
WHERE OrderDetails.ProductID IN ('ProductX', 'ProductY', 'ProductZ')
GROUP BY Orders.OrderID
HAVING COUNT(*) = 3
"
28425,8965,Multiple OR Clauses in MySQL,"  ....
WHERE id IN (3, 9, 100, ...)
"
21472,39429,A SELECT statement as subquery with two conditions,"WITH rownums(TIMESTAMP, ECGVALUE, RN) AS (
    SELECT TIMESTAMP, ECGVALUE, ROW_NUMBER() OVER(ORDER BY TIMESTAMP) AS RN
    FROM EKLUND.DEV_RAWECG
)
SELECT allrows.TIMESTAMP, allrows.ECGVALUE, allrows.RN
FROM rownums allrows
     CROSS JOIN rownums rown
WHERE rown.RN = n
      AND allrows.RN >= n
      AND rown.TIMESTAMP + offset >= allrows.TIMESTAMP;
"
22357,23169,Copy row to same table with different ID,"INSERT INTO Match (Team1,Team2)
SELECT
  Team1,Team2
FROM
  Match
WHERE ID='1';
"
24587,6973,Access form: How to map values for a checkbox,"Option Compare Database
Option Explicit

Private Sub chkMyCheckbox_AfterUpdate()
    Me.txtMyIntAsBoolean.Value = IIf(Me.chkMyCheckbox.Value, 1, Null)
End Sub

Private Sub Form_Current()
    Me.chkMyCheckbox.Value = (Not IsNull(Me.txtMyIntAsBoolean))
End Sub
"
18673,36467,Oracle - return multiple counts as one query,"SELECT
    COUNT(CASE OPP WHEN 'FOO' THEN 1 END),
    COUNT(CASE OPP WHEN 'BAR' THEN 1 END)
FROM tablename
WHERE OPP IN ('FOO', 'BAR') AND date = 'BAZ'
"
34575,60507,SQL Grouping: Most recent record between users,"SELECT Message.*
FROM Message
WHERE Message.MessageID IN
(SELECT MAX(MessageID) FROM Message 
    GROUP BY 
        CASE WHEN ReceivingUserID > SendingUserID 
            THEN ReceivingUserID ELSE SendingUserID END,
        CASE WHEN ReceivingUserID > SendingUserID
            THEN SendingUserID ELSE ReceivingUserID END
)
"
8297,61100,Date in sql database,"select MONTH('10/15/1981') --10
select DAY('10/15/1981') --15
select YEAR('10/15/1981') --1981

Select Dates
from tablename
Where MONTH(Dates) = 10
"
27470,60320,Abort a PL/SQL program,"MWATSON@> set serveroutput on
MWATSON@> !cat test.sql

BEGIN
 IF 1 = 1 THEN
    DBMS_OUTPUT.PUT_LINE('ABOUT TO EXIT');
    RETURN;
  END IF;
  DBMS_OUTPUT.PUT_LINE('DID NOT EXIT');
END;

MWATSON@> @test
  8  /
ABOUT TO EXIT

PL/SQL procedure successfully completed.

MWATSON@>
"
328,39353,stock query not show exact result,"select p.Product_Name Product
      , p.Purchase_Qty
      , isnull(sum(i.qty),0) Issue_Qty
      , p.Purchase_Qty-isnull(sum(i.qty),0) InStock
from (select p.id, p.Product_Name, isnull(sum(d.qty),0) Purchase_Qty      
      from product p left join purchase_dtl d on p.id = d.Product_ID
      group by p.id, p.Product_Name) p
      left join issue_dpt i on i.Product_ID = p.id
group by Product_Name, p.Purchase_Qty
"
8853,30341,How to serialize (to comma separated list) SQL rows,"SELECT ID, Name, Properties = STUFF((
    SELECT ',' + PropertyName FROM dbo.Properties
    WHERE ID = x.ID
    FOR XML PATH(''), TYPE).value('.[1]', 'nvarchar(max)'), 1, 1, '')
FROM dbo.ViewName AS x
GROUP BY ID, Name;
"
23142,5235,SQL query to select from same column but multiple values,"SELECT DISTINCT customer FROM tblname t1
WHERE EXISTS (SELECT * FROM tblname WHERE product = 'Pen' AND customer = t1.customer)
    AND EXISTS (SELECT * FROM tblname WHERE product = '19"" LCD Screen' AND customer = t1.customer)
"
37022,44984,"Search for ""whole word match"" in MySQL","SELECT *
FROM table 
WHERE keywords REGEXP '[[:<:]]rid[[:>:]]'
"
18413,49306,Finding how many users have table creation privileges,"select *
from dba_sys_privs
where privilege = 'CREATE TABLE' or privilege = 'CREATE ANY TABLE';
"
18822,46035,how to sum up by hour in mysql,"select hour(StartTime), count(StartTime)
from table1
group by hour(StartTime)
"
14037,43080,how i can do this SQL Query?,"SELECT * FROM EMPLOYEES WHERE EID=...
"
8595,52243,Can you select the Nth row in the dataset returned by SELECT statement?,"SELECT  *
FROM    (
        SELECT  *, ROW_NUMBER() OVER (ORDER BY col2) rn
        FROM    mytable
        WHERE   col1 = condition
        ) q
WHERE   rn = 4
"
20217,30444,Get distinct result,"SELECT name FROM student
WHERE (SELECT COUNT(*) FROM grade WHERE grade = 'F'
         AND id = student.id) = 0
"
2092,61919,Setting date for mysql database table,"update Persons set Birthday='2001-09-19';
"
18427,52129,joining 4 tables in mysql," SELECT r.* FROM room r LEFT JOIN `reservationroom` rr ON r.`hotelID` = rr.`hotelID` AND r.`roomID` = rr.`roomID`
 WHERE ( rr.`reservationroomID` = '' OR rr.`reservationroomID` IS  NULL );
"
5691,45829,How to ensure that a user in Rails can update/insert/delete only his/her record in a database,"    current_user.fragile_records.find(params[:id]).destroy
"
23883,16046,Extracting only one data in a table using select,"select transferId, userId, subDeptId
from (select t.*,
             row_number() over (partition by userid order by TransferId desc) as seqnum
      from t
     ) t
where seqnum = 1
"
37075,19366,oracle 10g IN clause query,"select saalry from emp
where INSTR( ',' || :id || ','
           , ',' || TRIM(TO_CHAR(emp_id)) || ','
           ) > 0;
"
17213,19824,"In SQL Query, use CASE to print desired result if condition is met","SELECT 
     name, 
     process_code AS Status,
     CASE process_code
       WHEN '7' THEN 'Rejected'
       ELSE 'Approved'
     END
FROM association
"
8233,27502,Prevent slow INNER JOIN in Django model calls when unnecessary,"class Book(models.Model):

    (...)

    class Meta:
        ordering = ['author', 'title']
"
32210,27811,SQL SELECT Replace country names with abbreviations,"SELECT  o.CustomerID, null emptyColumn, o.ShipFirstName, 
        case when o.ShipCountry = 'United States' then 'US'
        when o.ShipCountry = 'Canada' then 'CA'
        end,
        c.EmailAddress
FROM Orders o, Customers c
WHERE o.CustomerID = c.CustomerID
"
31318,34434,Updating two dependent columns using a single update statement in Oracle,"UPDATE VARS V
    SET (B,C) = 
        (SELECT B, B+10 AS C 
          FROM (SELECT A*A AS B, ROWID AS X FROM VARS) 
          WHERE V.ROWID = X
        );
"
16412,45689,What does Oracle call a SID?,"select sys_context('userenv', 'instance_name') from dual
"
32311,16031,Rebuild Execution Plan In Sql Server 2012 on Stored Procedures Using Specific Table," USE YourDatabaseName;
    GO
    EXEC sp_recompile N'Product';
    GO
"
9099,36861,SQL - assorting data,"SELECT  
    CONTACTS.name,
    EMAILS.email
FROM 
CONT_EMAIL INNER JOIN CONTACTS 
ON CONT_EMAIL.name_ID = CONTACTS.ID
INNER JOIN EMAILS
ON CONT_EMAIL.email_ID = EMAILS.ID
ORDER BY CONTACTS.name;
"
28447,29283,Using grouped value instead of table value in MySQL query,"SELECT `date`, SUM(pageviews) AS pageviews FROM
(SELECT DATE_FORMAT(`date`, ""%Y-%m"") AS `date`, SUM(pageviews) AS pageviews
    FROM `domains_data`
    GROUP BY `date`) AS Ref
GROUP BY `date`
ORDER BY `date` DESC
"
4592,28512,SQL query to retrieve distinct elements using a date,"select sensor_id, event_type, value, date
from table1 T1
where date>= all ( select max(date) from table1 T2 where
T1.sensor_id = T2.sensor_id and T1.event_type = T2.event_type)
order by sensor_id, event_type
"
38960,5472,sql: how to query foreign key not based upon ID,"SELECT COUNT(il.DocumentNumber) AS TotalNumberIncomingLetters
FROM IncomingLetter il
 INNER JOIN Department d on d.ID = il.Assigned_To_Department
WHERE d.Short_Name=""My Department Name"";
"
3662,71459,"Getting two rows ""in scope"" for a PostgreSQL function call: cross join?","SELECT similarity((SELECT a FROM users a WHERE a.id=123), 
   (SELECT b FROM users b WHERE b.id=456));
"
30986,60123,sql query returns 0 if parameter is null (Open Office base),"SELECT ""IDpupil"", 
       ""name"", 
       ""class"" 
  FROM ""pupils"" 
"
16240,54153,How to create custom abbreviations in SQL?,"with t as (
      select city as c, destination as d
      from thetable
     )
select c, d
from t;
"
14337,2554,How to Perform Innerjoin in access,"SELECT account.acno, account.Name,Sum(agro.Price*agro.qty)
FROM account 
INNER JOIN data ON account.acno= data.acno;
INNER JOIN agro On data .BillNo = agro.BillNo 
GROUP BY account.acno, account.name
"
34484,26433,Help with sql query,"select artist.name, album.title, song.title
from artist
     inner join album on album.artistid = artist.artistid
     inner join albumsongs on albumsongs.albumid = album.albumid
     inner join songs on songs.songid = albumsongs.songid
where artist.name = 'Pere Ubu'
"
27185,24927,Mysql - INSERT INTO table IF table exists otherwise CREATE TABLE,"CREATE TABLE IF NOT EXISTS `table` (
id INT(10),
word VARCHAR(500)
);
INSERT INTO `table` VALUES (NULL,""1234"");
"
27307,19796,Postgresql method for finding the slope of a line and forcing through origin,"SELECT 
  sum(y*x) / sum(x*x) as slope
FROM findslope INTO slope_variable
"
24732,18952,SQL select statement with a quotename removing the last character on the last row,"SELECT QUOTENAME(field1,'''')+
   case when row_number() over(order by (select 1))= 
   count(*) over () then '' else ',' end AS [1]
FROM <table>
"
21343,10083,How do I create a parameterized SQL query? Why Should I?,"Public Function GetBarFooByBaz(ByVal Baz As String) As String
    Dim sql As String = ""SELECT foo FROM bar WHERE baz= @Baz""

    Using cn As New SqlConnection(""Your connection string here""), _
        cmd As New SqlCommand(sql, cn)

        cmd.Parameters.Add(""@Baz"", SqlDbType.VarChar, 50).Value = Baz
        Return cmd.ExecuteScalar().ToString()
    End Using
End Function
"
5915,27791,PostgreSQL calculate difference between rows,"select year, 
       month,
       fixes,
       fixes - lag(fixes) over (order by year, month) as increase,
from the_table;
"
21962,61388,null and empty string in Firebird,"CREATE OR ALTER TRIGGER YOUR_TABELE_BIU0 FOR YOUR_TABELE
ACTIVE BEFORE INSERT OR UPDATE POSITION 0
AS
begin
  IF (CHAR_LENGTH(new.YOURFIELD)=0) THEN
    exception E_NOT_EMPTY 'field can not be empty';
end
"
9469,10300,SQL Search Help,"SELECT SKU, COUNT(*) AS Ranking
FROM tblKeyWords T1     -- or whatever the name
WHERE Keyword IN ('Lord', 'Ring')  -- here the keywords
AND KeywordType = 'T'   -- Optionally be specific on type
AND SKU IN (            -- filter to only take items that are DVDs
     SELECT SKU
     FROM tblKeywords
     WHERE KeywordType = 'X' AND Keyword = 'DVD'
     )
GROUP BY SKU
ORDER BY COUNT(*) DESC
"
38520,67738,Alternative to dense_rank in sybase ASE,"select t.*,
       (select 1 + count(distinct foo + ':' + bar)
        from table t2
        where t2.foo < t.foo or
              t2.foo = t.foo and t2.bar < t.bar
       ) as rank
from table t;
"
10870,54146,How Can I Automatically Populate SQLAlchemy Database Fields? (Flask-SQLAlchemy),"created_on = db.Column(db.DateTime, server_default=db.func.now())
updated_on = db.Column(db.DateTime, server_default=db.func.now(), onupdate=db.func.now())
"
19048,48291,Duplicate Checks with Multiple Values,"SELECT ColumnA, COUNT(*) TotalCount
FROM TableA INNER JOIN TableA_1 on fID = hID
WHERE dateCreated > '2013-05-08 00:00:00'
GROUP BY ColumnA
HAVING COUNT(DISTINCT ColumnE) > 1
ORDER BY COUNT(*) DESC
"
24736,53355,Need SQL Query to coallate data from two tables in a desired format,"SELECT BRANCH, 
       Stuff((SELECT ',' + CLIENTIDS 
              FROM   CLIENTDETAILS a 
              WHERE  a.BRANCH = t.BRANCH 
              FOR xml path('')), 1, 1, '') AS ClientId 
FROM   CLIENTDETAILS t 
GROUP  BY BRANCH 
"
10793,53427,Transforming union to single select with the unions inside from clause,"SELECT CurrentSelectedCost,
       PreviousCost, 
       NextCost 
FROM (
    SELECT cost as CurrentSelectedCost, 0 as PreviousCost, 0 as NextCost FROM A
        UNION
    SELECT 0 as CurrentSelectedCost, cost as PreviousCost, 0 as NextCost  FROM B
        UNION
    SELECT 0 as CurrentSelectedCost, 0 as PreviousCost, cost as NextCost  FROM C
) as COSTS
"
22708,70989,SQL concatenating strings?,"OR f_name + ' ' + l_name = user-input
"
39030,71525,One column condition in sql,"SELECT letter, Name, 
  COUNT(*),
  SUM(CASE WHEN price>10 THEN 1 ELSE 0 END)
FROM TableThatShouldHaveAppearedInTheQuestionInTheFromClause
GROUP BY letter, Name
"
16946,51160,Optional Reporting Parameters (is there a better way?),"WHERE 
  col1 = isnull(@col1, col1) 
  and col2 = isnull(@col2, col2)
  ...etc
"
1770,75275,Do a Postgres for loop that SELECTs data from each table,"EXECUTE 'SELECT count(*) FROM ' || tabname::regclass;
"
35429,32040,How to check if there exist only one record for a certain Id,"SELECT comp.companyid, count(distinct emp.employee_id), 
FROM Tbl_Company comp
           , Tbl_Employee emp
WHERE 
           emp.company_id = comp.company_id 
           AND emp.company_id = 1234
GROUP BY comp.companyid
"
508,41943,SQL Cross Tab Function,"SELECT DISTINCT T1.UserId,
Stuff(
      (SELECT N', ' + T2.Str_Value 
       FROM t T2
       WHERE T2.userId = T1.userid
       ORDER BY T2.Str_Value
       FOR XML PATH(''),TYPE).value('text()[1]','nvarchar(500)'),1,2,N'') 
        AS Str_Value
FROM t T1
"
18752,45053,What is a SQL statement that can tally up the counts even including the Zeros? (all in 1 statement),"SELECT g.gift_id, COUNT(v.gift_id) AS given_count
FROM gifts AS g
LEFT OUTER JOIN gifts_given AS v USING (gift_id)
GROUP BY g.gift_id;
"
17161,47950,Select where column not in an other one 2 times,"SELECT * FROM table WHERE id NOT IN 
(SELECT c2 FROM table GROUP BY c2 HAVING Count(c2) = 2)
"
35613,31326,How to format date from oracle database using hibernate,"<%@ taglib prefix=""fmt"" uri=""http://java.sun.com/jsp/jstl/fmt"" %>

....

  <fmt:formatDate value=""${det.fecha}"" pattern=""dd-MMM-YYYY"" />
"
3901,38197,PostgreSQL query performance and variations,"select * from
    (select
        e.user_id,
        sum(e.points) as total_points,
        sum(points) filter (where extract(month from created) = 1) as month_points,
        rank() over (order by sum(points) desc)
    from
        event e
    group by
        e.user_id
    ) as inner_query
where user_id = 1;
"
5869,34710,How to view table of index in database?,"select * from sys.indexes

select * from sys.index_columns
"
25924,5338,PHP MySQL Returning Different Results From MySQL,"SELECT RowNum,store_ID,businessType,createDate,expirationDate 
FROM (SELECT IF(@businessType = @businessType:=businessType, @ctr := @ctr + 1, @ctr := 1) as RowNum, 
             businessType, store_ID, createDate, expirationDate 
      FROM stores, (SELECT @ctr := 1, @businessType := 0) AS a 
      WHERE businessType IN (1,2,3) AND ZIP = '11217' AND state = 'NY' 
      ORDER BY businessType, createDate DESC
    ) AS b 
WHERE RowNum in (1,2,3);
"
22895,7922,Oracle SQL Sort Groups,"SELECT PartNum, OrderNum, NeedDate
  FROM SomeTable
 ORDER BY MIN(NeedDate) OVER (PARTITION BY PartNum), PartNum
"
4062,56028,pl sql. 0 rows merged,"MERGE INTO regions r
   USING regions_temp t
   ON (r.id_region = t.id_region)
    WHEN MATCHED THEN update  set r.region_name =  t.region_name
"
6694,42786,i want to merge two select statements,"SELECT KeywordId,currentposition,PsnUpdateDate,PsnUpdateBy
FROM seo.Tbl_KeywordPosition
WHERE psnupdatedate = '2015-01-22'
UNION
SELECT KeywordId,currentposition,PsnUpdateDate,PsnUpdateBy
FROM seo.Tbl_KeywordPosition
WHERE psnupdatedate ='2015-01-23';
"
1249,46183,Return when 1 value is bigger than another,"SELECT Manufacturer 
FROM Tbl
GROUP BY Manufacturer 
HAVING MAX(CASE WHEN Size = '10mm' THEN Cost END) > MAX(CASE WHEN Size = '5mm' THEN Cost END)
"
9357,71811,How to use IN in SQL Server with Select,"SELECT * FROM HR_CATEGORY 
INNER JOIN 
  (SELECT CATEGORY FROM PEA_TEMPLATE WHERE TEMP_ID = 000001 AND TEMP_VERSION = 2) PEA
  ON PEA.CATEGORY LIKE '%'''+CAT_CODE+'''%'
"
5393,35757,Sql string adding problem,"SELECT ISNULL(a.one,'') + ' test ' + ISNULL(b.two , '')
from table1 a 
right join table1 b 
  on a.id =b.id 
"
11068,23981,How should I get the dummy columns using the Query in SQL Server (like 'select name from dual' in Oracle)?,"select PayType = 'PDC'
union all
select PayType = 'NoPDC'
union all
select PayType = 'ECS'
"
5134,52392,loop a variable delimited by comma and enter each item to each row of the table SQL,"declare @S varchar(20)
set @S = '1,2,3,4,5'
declare @tempTable as table (col1 varchar(max), col2 varchar(max))

While len(@s) > 0
begin
    insert into @tempTable(col1) select left(@S, charindex(',', @S+',')-1)
    set @S=stuff(@S, 1, charindex(',', @S+','), '')
end

select * from @tempTable
"
35157,74893,JPA How to build a join criteria query,"    javax.persistence.criteria.CriteriaBuilder cb = getEntityManager().getCriteriaBuilder();
    javax.persistence.criteria.CriteriaQuery cq = getEntityManager().getCriteriaBuilder().createQuery();
    javax.persistence.criteria.Root<Person> e = cq.from(perdon.class);
    cq.where(cb.equal(e.get(""idCompany"").get(""idCategory""), cat));
    cq.orderBy(cb.desc(e.get(""idPerson"")));
    return getEntityManager().createQuery(cq).getResultList();
"
16231,71044,MySQL : Select all the rows except those having the specified values in columns,"SELECT  *
FROM    pledger
WHERE   dcno <> 1 OR pledger.etype <> 'sale'
"
29960,62691,Mysql data warehouse SQL Query Help please,"select * from exam_2011.score_07
union all
select * from exam_2011.score_08
union all
select * from exam_2011.score_09
union all
select * from exam_2011.score_10
union all
select * from exam_2011.score_11
union all
select * from exam_2011.score_12
union all
select * from exam_2012.score_01
union all
select * from exam_2012.score_02 where day <= 2
"
31749,33948,help for a JOIN query,"SELECT 
    ads.*,
    c.description as categoryDescription,
    sc.description as subcategoryDescription,
FROM
    ads 
    INNER JOIN category c ON c.categoryID = ads.categoryID
    INNER JOIN subcategory sc ON sc.subcategoryID = ads.subcategoryID
"
5501,10723,What characters are allowed in Oracle bind param placeholders?,"create or replace function F0416B
RETURN VARCHAR2
is
    V_STMT    VARCHAR2(1999);
    V_RESULT  VARCHAR2(1999);
BEGIN 
    V_STMT := 'INSERT INTO TEST0411(FIELD1, FIELD2) VALUES ( :""A.1"" , :""A.2"")';
    EXECUTE IMMEDIATE V_STMT USING  'AS201', 'AS202';
    RETURN 'INSERT-OK';
    COMMIT;
EXCEPTION
WHEN OTHERS THEN RETURN SQLERRM;
END;    
"
304,6090,how to find and replace a word in a mysql column?,"UPDATE table 
   SET column = REPLACE(column, 'Street', 'St');
"
13744,71620,"How do I search ""many LIKE"" in the database (mysql)?","SELECT ... 
FROM rooms 
WHERE dates LIKE '%09/08/10%' 
  Or dates LIKE '%08/08/10%'
"
29729,34530,Find strings within text in SQL,"select ID from tablename
where 'Twinkle, twinkle, little star, How I wonder what you are! Up above the world so high, Like a diamond in the sky.'
LIKE CONCAT('%', word, '%');
"
6985,4213,Sql Query Need help,"SELECT u.userid, u.username, max(lt.lastlogin) FROM
user u, logintrack lt
WHERE u.userid = lt.userid
GROUP BY u.userid, u.username
"
11892,21584,"How to format time to '2:34 hrs', '0:34 hrs' etc in MySQL","SELECT operator_no, log_in_time,
       TIME_FORMAT(
           TIMEDIFF(log_in_time, log_out_time),
           '%H:%i hrs'
       ) AS Duration
"
8180,59654,SQL Query to count Unique records ignoring sub string,"select count(distinct substring_index(col, '-', 1))
from t;
"
34776,3136,Excel vlookup incorporating SQL table,"SELECT TOP 1 [Value] FROM [MyTable] WHERE [Postcode] = 'AB12 1AA';
"
23996,2465,UPDATE from SELECT query in SQL,"UPDATE Template_Structure
SET StructureTypeRef = (SELECT StructureTypeRef
                        FROM dbo_StructureType
                        WHERE StructureType = 'External Areas')
WHERE StructureType = 0
"
28662,68995,SQL Group by different time periods with day,"SELECT CAST([Date] AS Date) AS [Date],
COUNT(CASE WHEN DATEPART(hour, [Date]) BETWEEN 9 AND 11 THEN 1 ELSE NULL END)
    AS [Sales 9am-12pm],
COUNT(CASE WHEN DATEPART(hour, [Date]) BETWEEN 12 AND 14 THEN 1 ELSE NULL END) 
    AS [Sales 12pm-3pm],
COUNT(CASE WHEN DATEPART(hour, [Date]) BETWEEN 18 AND 20 THEN 1 ELSE NULL END) 
    AS [Sales 6pm-9pm]
FROM Table
GROUP BY CAST([Date] AS Date) /*For SQL2008*/
"
27022,9185,How to use symbols in SQL column names?,"select
    a.ID as ""Article-Number"", a.Name as ""Name""
from
    Articles a
where
    (a.ID = '3264')
"
30997,33126,Replace parts in a string using REGEXP_REPLACE,"select regexp_replace('temp_a, temp_b, temp_c',
              '([a-zA-Z0-9_]+)(,?)', 
               'e.\1\2') from dual;
"
21673,28285,'dynamic' SQL join possible?,"Select Action.*  
From   Action 
       Left Join Pro 
             ON Action.ActionConnectionID=Pro.ProID and ActionTypeID=1
       Left Join Project 
             ON Action.ActionConnectionID=Project.ProjectID and ActionTypeID=2
"
18364,62026,SQL server count another rows,"Select id, 
       count(case when  no1='B' then 1 END) +
       count(case when  no2='B' then 1 END) +
       count(case when  no3='B' then 1 END) AS count_all
From yourtable
Group by id
"
18837,46514,How to store only time; not date and time?,"create table t1 (time_of_day interval day (0) to second(0));

insert into t1 values (TO_DSINTERVAL('0 23:59:59'));

select date '2009-05-13'+time_of_day
from   t1;
"
1417,41509,T-SQL Extract portion of xml or nvarchar(max) column matching pattern,";WITH CTE AS(
    SELECT CAST (xmlData as nvarchar(max)) as X
    FROM SampleTable
)
SELECT SUBSTRING(X,CHARINDEX(N'Þ',X),50) as [String]
FROM CTE
WHERE CHARINDEX(N'Þ',X)>0
"
14054,46136,How to add 1 records data to previous?,"Select a.AccountID, a.AccountTitle, t.DateTime as TranasactionDateTime, 
       t.Amount,
       sum(t.Amount) over (partition by t.Account_Id order by t.DateTime) as RunningAmount    
from Payments.Accounts a Inner Join
     Payments.Transactions t
     on a.AccountID = t.Account_ID
where t.Account_ID = 1;
"
22059,52948,SQL group by and count by value," select  type, 
         sum(if(approval is null, 1, 0)) as pending,
         sum(if(approval=0, 1, 0)) as denied,
         sum(if(approval=1, 1, 0)) as approval
   from test
   group by type
"
24895,13722,Condition AND OR with Drupal db_select,"$and_1 = db_and()->condition('b.date' , $date, '=')->condition('b.time', $begin_time, '>');
$and_2 = db_and()->condition('b.date' , $tomorrow, '=')->condition('b.time', '00:00', '>=')

$query->condition(db_or()->condition($and_1)->condition($and_2));
"
13368,58580,SQL to get user's first picture and most common item,"select
    u.id_user,
    u.name,
    (select p.filename from user_picture as p where p.id_user=u.id_user and ord=1) as userpicture,
    (select max(s.id_sticker) from user_sticker as s where s.id_user_to=u.id_user) as userstickerid
from user as u
where u.id_user = $$$$
"
4671,36884,SQL - returning two matching values,"SELECT PARTNER_WORKORDER.statusNo as number, count(statusNo) as total
FROM PARTNER_WORKORDER inner join
     PARTNER_WORKORDER_ADDRESS
     ON PARTNER_WORKORDER.salesOrderNo = PARTNER_WORKORDER_ADDRESS.salesorder_no
WHERE orderDt <= '2012-11-20 00:00:00.000' AND country_code <> 'US'
group by PARTNER_WORKORDER.statusNo
ORDER BY total desc
LIMIT 1
"
1995,25595,Extracting functions arguments using RegExp (PREG),"/(?:""(?:[^\x5C""]+|\x5C(?:\x5C\x5C)*[\x5C""])*""|'(?:[^\x5C']+|\x5C(?:\x5C\x5C)*[\x5C'])*'|[^""',]+)+/g
"
23327,60835,SQL Find original data and where fielda+1 = value of a fieldb,"SELECT * 
FROM MyTable A
JOIN MyTable B ON (A.TranID + 1) = B.TranID
WHERE A.Code1 = 1 AND B.Code2 = 'SR'
"
29444,43661,node.js mongoose foreign key retrieval,"var str = JSON.stringify(req.projectTemplate)
req.projectTemplate._doc.taskTemplates = req.projectTemplate.taskTemplates
str = JSON.stringify(req.projectTemplate)
res.send(JSON.stringify(req.projectTemplate))
"
31370,30953,Schedule sql query on create of new record,"CREATE TRIGGER [dbo].[TableInsert]
ON [Table] 
AFTER INSERT
AS
--Do your magic
"
5447,5879,Inner join returns same columns from two tables access sql,"SELECT table1.*, table2.EID
"
5457,69395,How to obtain Max(Rank) for a Specific Month,"select v.*
from (select v.*, rank() over (partition by month order by [rank] desc) as rankrank
      from view v
     ) v
where rankrank = 1;
"
12756,47905,Why does this SQL code returns true when both operands operated by operator OR are False?,"false OR false => false
false OR true => true
true OR false => true
true OR true => true
"
34811,57237,PostgreSQL Deployment Script Stalls,"#!/bin/sh
echo 'postgres:newpassword' | chpasswd
"
13254,66395,use an if...else statement as a return value in sql,"IF(Field = """" or Field IS NULL,'b',concat(Field,'_b'))
"
20621,52118,Automate process by running excel VBA macro in SSIS,"oExcel = CreateObject(""Excel.Application"")
oExcel.Visible = False
oBooks = oExcel.Workbooks
oBook = oBooks.Open(Dts.Variables(""filePath"").Value.ToString())
//Your macro here:
oExcel.Run(""Yourmacro"")
"
38271,32442,How to search in Clusterpoint DB for full text match only?,"<query>
  <team>college</team>
  <studies>==""mathematics""</studies>
</query>
"
764,28581,Days Unavailable,"DATEDIFF(d, RunOutDate, ResupplyDate) + 1
"
17088,14169,Retrieving data from column depending on another column in mysql,"SELECT e.id, e.name, s.name 
FROM Employee e LEFT JOIN Supervisor s ON e.supervisor = s.id
"
11889,5219,Optionally join tables in SQL with possible NULL values," DECLARE @SpecCount INT 
 DECLARE @BrandCount INT 

 SELECT @SpecCount = COUNT(*) FROM @SPEC 
 SELECT @BrandCount = COUNT(*) FROM @BRAND 

 SELECT p.*, 
     s.*, 
     b.* 
 FROM @PRODUCT p 
 LEFT JOIN @BRAND b 
     ON b.BRANDID = p.BRANDID 
 LEFT JOIN @SPEC s 
     ON s.SPECID = p.SPECID 
 WHERE ((s.SPECID IS NOT NULL OR @SpecCount = 0) 
     AND (b.BRANDID IS NOT NULL OR @BrandCount = 0))
"
3642,2041,JOINING Same Table gives duplicate information,"SELECT  b.FirstName Patient_FirstName, 
        b.LastName Patient_LastName,  
        b.Address Patient_Address,
        c.FirstName Responsible_Firstname, 
        c.LastName Responsible_LastName, 
        c.Address Responsible_Address
FROM    Patient a
        INNER JOIN Person b
            ON a.PersonID = b.PersonID
        INNER JOIN Person c
            ON a.ResponsiblePersonId = c.PersonID
"
10791,24635,How to show the Table Without cutting in Oracle,"set pagesize 1000;
"
10773,5766,Remove rows with the same value in specific column from Datagridview.,"SELECT *
FROM dbo.yourTable t
WHERE EXISTS (         
              SELECT 1
              FROM dbo.yourTable t2
              WHERE t2.Column3 = t.Column3
              HAVING COUNT(*) = 1
              )
"
15430,66862,SQL Server 2008 Convert from GUID to Bigint and Back?,"------------------------------------
C50B0567-F8CC-4219-A1E1-91C97BD9AE1B

(1 row(s) affected)


--------------------
7423352504965404994

(1 row(s) affected)


------------------------------------
C50B0567-F8CC-4219-0000-000000000000

(1 row(s) affected)
"
25457,51495,Getting parent>child1_1>child1_1_1>child1_1_1_1 structure only from query,"select  coalesce(t3.id,t2.id, t1.id) as deepChildId, 
        concat_ws('->', t.name ,t1.name, t2.name, t3.name ) as childList
from Table1 t
left join Table1 t1
on t.id = t1.parent_id
left join Table1 t2
on  t1.id = t2.parent_id
left join Table1 t3
on  t2.id = t3.parent_id
where t.parent_id =0
"
13316,52950,MySQL how use correlated query in join,"SELECT
  x.*, COUNT(y.ID) AS y_count
FROM tableX x
  LEFT JOIN tableY y
    ON y.xFK = x.ID
GROUP BY
  x.ID
HAVING
  y_count > 1
"
11774,31479,MySQL: alter unique key name?,"ALTER TABLE `test`.`UniqueKeys` 

DROP INDEX `InputOutputConfigurationServerAccountId`, 
ADD UNIQUE INDEX `CompositeKey` (`InputOutputConfigurationServerAccountId`,
`Identifier`,`TimeStampReceived`) ;
"
22947,42570,simple mysql query with a condition,"SELECT * FROM RestaurantName ORDER BY RestaurantTime ASC;
"
33857,65800,"Meta table VS table with many fields, on a large scale. Performance-wise","- Entity    = User, in your Wordpress Example  
- Attribute = 'First Name', 'Last Name', etc  
- Value     = 'John', 'Smith', etc  
"
27063,44699,SQL - Calculate percentage on count(column),"SELECT event, 
       count(event) as event_count,
       count(event) * 100.0 / (select count(*) from event_information) as event_percent
FROM event_information
group by event
"
30886,35252,How to Select rows from a field starts only with A-Z in sql,"SELECT * FROM cities where name REGEXP '^[A-Za-z]';
"
1398,57316,SQL Query for compiling Post metadata,"SELECT wp_posts.*, GROUP_CONCAT(meta_value SEPARATOR ', ')
FROM wp_posts INNER JOIN wp_postmeta USING post_id
GROUP BY wp_posts.post_id;
"
8526,27602,"sql sort by int, except for one int value which has a different order","    SELECT name, to_order
FROM Table1
ORDER BY
    (
     CASE
       WHEN to_order = 1 THEN 0
       WHEN to_order = 3 THEN 1
       ELSE 2
     END
    ),
    to_order
"
27573,16334,Cross-server SQL,"Select * From ServerName.DbName.SchemaName.TableName
"
30097,46596,Can a stored procedure work with two different databases? How about two servers?,"CREATE PROCEDURE `SynchroniseMessages` ()
LANGUAGE SQL
NOT DETERMINISTIC
MODIFIES SQL DATA
SQL SECURITY DEFINER
BEGIN

DELETE FROM `mydb2`.`messages`;

INSERT INTO
    `mydb2`.`messages`
    SELECT * FROM `mydb1`.`messages`;

END
"
12530,332,For an n:m relation how can I search for all n that have at least the m defined in another table?,"select items.id, tags.id
from items
left join itemTags on (items.id=itemTags.itemId)
left join tags on (tags.id=itemTags.tagId)
where not exists(
   select 1 from tagSearch
   left join itemTags on (itemTags.tagId=tagSearch.tagId)
   where itemTags.tagId is null and tagSearch.searchId=?
)
"
16635,12424,Matching column to column SQL,"select s.shareId, s.shareName, s.shareCategory, T.AvgPrice
from share_tbl s
join ( select shareCategory, avg(ShareSellPrice) as AvgPrice
       from share_tbl
       group by shareCategory
     )T 
on s.shareCategory = T.shareCategory
and s.ShareSellPrice >= T.AvgPrice
"
8712,38883,Sql server update multiple columns from another table,"UPDATE table1 
SET a = t2.a,
    b = t2.b,
    (...)
FROM 
(
SELECT ..... with join ... WHERE .... 
) t2
WHERE table1.id = table2.id
"
22166,849,"Group on ID, and sum from different table (3 table total)","select top 10 s.SALESID,
    SUM(sp.LINEAMOUNT) as 'TotalLineamount'
from AX_CUSTPACKINGSLIPJOUR as s
right outer join AX_SALESLINE as sp on s.SALESID=sp.SALESID 
left outer join AX_INVENTTRANS as p on sp.ITEMID=p.ITEMID
where s.SALESID is not null
group by s.SALESID
"
4257,55222,Sql group data ?combine?,"SELECT petid1, petid2, (a.total + b.total) as combinedtotal
FROM
    (SELECT petid1, COUNT( * ) AS total FROM cdc_padchat WHERE petid1 !=0 GROUP BY petid1) a
INNER JOIN
    (SELECT petid2, COUNT( * ) AS total FROM cdc_padchat WHERE petid2 !=0 GROUP BY petid2) b
ON a.petid1 = b.petid2
ORDER BY combinedtotal DESC
"
6048,73445,Find 3rd Greatest Value with MySQL GROUP BY,"SELECT   department, (
  SELECT   salary
  FROM     my_table t2
  WHERE    t2.department = t1.department
  ORDER BY salary DESC
  LIMIT    2, 1
)
FROM     my_table t1
GROUP BY department
"
12846,22267,Count rows that have at least one associated item,"SELECT count(distinct(sale_id)) FROM sale_items
WHERE item_id='<your_item_id>'
"
35750,68112,Iterating Stores over a set of Dates,"SELECT Calendar.Date, Stores.Store, COUNT(T1.transaction_id) AS Number
FROM Calendar, Stores
LEFT JOIN Transactions T1 ON T1.date_of_transaction = Calendar.date 
    AND T1.store = Stores.store
GROUP BY Calendar.Date, Stores.Store
"
5723,65424,SQL Multiple Values in Same Column,"WITH malePatrons AS

( 
   SELECT name, m.movID 
   FROM movie JOIN ticket tic ON movie.movID = tic.movID 
   JOIN patron pat ON pat.PID = tic.patronID
   WHERE pat.gender = ""male""
), femalePatrons AS

(
   SELECT name, m.movID 
   FROM movie JOIN ticket tic ON movie.movID = tic.movID 
   JOIN patron pat ON pat.PID = tic.patronID
   WHERE pat.gender = ""female""
)
   Select * FROM malePatrons JOIN femalePatrons fem ON malePatrons.movID = fem.movID
"
29057,60743,SQL Duplicate Entries (Having Blackout),"; WITH cte AS (
    SELECT RelationID, ROW_NUMBER() OVER (PARTITION BY ConID, ProID ORDER BY [INT]) AS rnum
    FROM YourTable
)
DELETE FROM YourTable 
WHERE RelationID in (SELECT RelationId FROM cte WHERE cte.rnum > 1)
"
3042,52631,Getting SQL results in parts,"SELECT 
    col1, 
    col2 
FROM 
(
     SELECT 
         col1, 
         col2, 
         ROW_NUMBER() OVER (ORDER BY ID) AS RowNum
     FROM 
        MyTable
) AS MyDerivedTable
WHERE 
    MyDerivedTable.RowNum BETWEEN @startRow AND @endRow
"
30115,42070,How do I count the number of times each keyword from a table appears in a table of phrases?,"MERGE INTO KEYWORDS masterList
USING (
    SELECT COUNT(*) AS OCCURRENCE,KEYWORDS.KEYWORD AS KEYWORD FROM
    KEYWORDS AS keywordList
    CROSS JOIN PHRASES AS phraseList 
    WHERE (dbo.RegExIsMatch('.*' + keywordList.KEYWORD + '.*',phraseList.PHRASE,1) = 1)
    GROUP BY KEYWORD
) frequencyList
ON (masterList.KEYWORD = frequencyList.KEYWORD)
WHEN MATCHED THEN 
    UPDATE SET masterList.OCCURRENCE = frequencyList.OCCURRENCE;
"
1663,54633,T-Sql select and group by MIN(),"WITH cte AS 
(
  select pc.CategoryId, pp.LanguageId, pp.ProductId, pp.Price,
    rnk = RANK() OVER(PARTITION BY pc.CategoryId ,pp.LanguageId ORDER BY pp.Price) 
  from ProductCategory as pc
  join Product as p on pc.ProductId = p.Id
  join ProductPrice as pp on p.Id = pp.ProductId
)
SELECT CategoryId, LanguageId, ProductId, Price
FROM cte
WHERE rnk = 1;
"
4410,28010,MySQL - Total count & rate of change in a single SQL query,"select 
  t1.HitDate,
  t1.City,
  t1.Client,
  SUM(t1.NumVisits)  -   IFNULL((SELECT SUM(t2.NumVisits) FROM PAGE_HITS t2 WHERE t2.HitDate = t1.HitDate-1 AND t2.City = t1.City AND t2.Client = t1.Client), 0)  as rate_of_change
from
  PAGE_HITS t1
WHERE
t1.Client='C'
 group by
   HitDate,
   City
   ORDER BY HitDate;
"
3063,6721,SQL query get distinct records,"SELECT  DISTINCT a.cID
        , a.firstname
        , a.lastname
        , b.typeId
        , b.email 
FROM    TableA a
        INNER JOIN (
          SELECT  cID, MIN(typeID), MIN(email)
          FROM    TableA 
          GROUP BY
                  cID
        ) b ON b.cID = a.cID
"
19925,36014,POSTGRES: Appending where clause while using in a loop,"    finalsql := 'SELECT a, b FROM table_abc' || whereClause;
    RAISE INFO 'Final sql is: % ', finalsql;

      for r in EXECUTE finalsql
      LOOP
        return next r;
      END LOOP;
"
28381,49507,RANK() - Multiple columns in one query,"select
  person,
  A,
  rank() over (order by A) as A_RANK,
  B,
  rank() over (order by B) as B_RANK,
  C,
  rank() over (order by C) as C_RANK
from
  sales
"
37674,15315,sql to match number in string,"SELECT * FROM table WHERE activitiesids REGEXP '[[:<:]][0-9]+[[:>:]]';
"
11672,46252,Is it possible to update the cell value only to the specific maximum value?,"UPDATE table_1 SET
   premium_photos = IF(premium_photos+2>4, 4, premium_photos+2)
WHERE number = '1234'
"
34589,27448,How can I update multiple tables via a trigger when updating a column in one table?,"CREATE OR REPLACE TRIGGER COSO_BT
 BEFORE UPDATE
 ON BASE_INFORMATION REFERENCING NEW AS NEW OLD AS OLD
 FOR EACH ROW
BEGIN
    if :new.balance != :old.balance
      then 
            update USER_TABLE
               set balance = :new.balance
             where account_no = :new.account_no;
    end if;

END;
/
"
10143,64530,mysql command - Update if char length,"update table t
    set pin = lpad(pin, 3, '0')
    where length(pin) < 3;
"
25654,4071,SQL Query to find no of records created per day,"select trunc(created_date), count(*) as num_created
from the_table
group by trunc(created_date);
"
38470,64533,is this query COUNT is impossible?,"select T2.id,
       coalesce((T1.classement=T2.classement),0)+
       coalesce((T1.aptitude=T2.aptitude),0)+
       coalesce((T1.A=T2.A),0)+
       coalesce((T1.B=T2.B),0)+
       coalesce((T1.C=T2.C),0) match_count
from Temp T1
cross join Temp T2
where T1.id = 1 and T2.id <> 1 
order by 2 desc
"
20136,27955,Parent without child sql,"SELECT * 
FROM parentTable p
WHERE NOT EXISTS(
              SELECT 1
              FROM childTable1 c1
              WHERE c1.parentId = p.id)
     AND NOT EXISTS(
              SELECT 1
              FROM childTable2 c1
              WHERE c1.parentId = p.id)
"
38006,1716,Add multiple rows in a SQL SELECT query," With Ints(n) As
 (Select 1 Union All
  Select n + 1 From Ints
  Where n < 1000)    
 Select t.Name, i.n 
 from myTable t join Ints i 
   on i.n <= t.Quantity
 option(MaxRecursion 1000)
"
30223,18485,MySQL combine row results into a new column,"  SELECT m.date,
         m.sponsor,
         m.match_no,
         GROUP_CONCAT(m.team, SEPARATOR ' vs ')
    FROM MATCH_NO m
GROUP BY m.date, m.sponsor, m.match_no
"
10599,4749,M2M relationship or 2 FKs?,"groups = models.ManyToManyField(Group, through='GroupMember')
"
29993,9905,Convert yyyymmdd(int type) to date,"SELECT DATE(20150101) FROM dual;
"
11912,61536,Updating the cloned element values in db without deleting the Previous cloned field records,"@pre_data=MgMultiSelect.where(:mg_details_id=>params[:id])

@selected_data=params[:team_id_new]
if params[:team_id_new].present?

  params[:team_id_new].each do |id|
   obj = @pre_data.where(:team_id_new => id).first
   if obj.present?
    obj.update_attributes(:mg_details_id => @task_data.id,:is_deleted => 0 )
   end
  end
end
"
29014,20126,counting number of entries in a month,"select month(order_date) as orderMonth, count(*) as orderCount
from order
where year(order_date) = 2009
group by month(order_date)
order by month(order_date)
"
24344,25190,SQL Server: Retrieve auto-incremented ID inside a stored procedure?,"declare @myid int
INSERT INTO table (field) VALUES ('value')
SELECT @myid = SCOPE_IDENTITY()
"
38212,73970,SQL - Retrieve Closest Lower Value,"SELECT TOP 1 (pay) as incentivePay
FROM incentive
WHERE yearsOfService <= '10'
ORDER BY yearsOfService desc
"
23947,7975,What is a good design for Ranking System,"SET @rownum := 0;

SELECT rank, userId, point 
FROM (
       SELECT @rownum := @rownum + 1 AS rank, userId, point
       FROM user ORDER BY point DESC
     ) 
as result WHERE userId = xxxxxxxx
"
29540,56391,SQL Server: How to extract comments from stored procedures for deployment,"CREATE PROCEDURE dbo.foo 
WITH ENCRYPTION 
AS 
BEGIN 
    SELECT 'foo' 
--Try this just to make sure
END
"
33730,384,Select rows where field in joining table is same in every row,"SELECT parent_id
FROM children
GROUP BY parent_id
HAVING MIN(Status) = 'TRUE'
   AND MAX(Status) = 'TRUE'
"
6317,68058,sql dynamic replacement,"UPDATE dsopi_person_addr_rule ADDR
SET new_col = addr.src_address_line1
WHERE regexp_like (UPPER(addr.src_address_line1),   
                     'DEP|DPT$|ABT|DIP.|DIPART|AFDEL|AVDEL|AVD.|DIV|PGRD|PGP|PPG')
"
10922,35319,updating rows where a datetime column is outside 9-5,"UPDATE checkins
SET status = 0
WHERE HOUR(checked_in) NOT BETWEEN 9 AND 17 
  OR HOUR(checked_out) NOT BETWEEN 9 AND 17
"
21693,16320,calculate elapsed time in oracle between entries from one particular condition to whatever condition is next,"SELECT to_char((EVENT_DURATION) + trunc(sysdate), 'HH24:MI:SS') 
FROM (SELECT (DATE_DT - LEAD(DATE_DT) OVER (ORDER BY DATE_DT DESC)) AS EVENT_DURATION
      FROM TEST_CHRIS
     ) tc
WHERE ASSET_ID = 4380 AND EVENTTYPE = 1 AND
      trunc(DATE_DT) = trunc(SYSDATE);
"
11074,46415,"How to get Result from database by order the condition put in ""IN"" clause?","SELECT *
FROM bfproduct
WHERE productid
IN (23,5,54,3132,32)
ORDER BY
   CASE productid
      WHEN   23 THEN 0
      WHEN    5 THEN 1
      WHEN   54 THEN 2
      WHEN 3132 THEN 3
      WHEN   32 THEN 4
   END
"
4893,33636,Two Tables Relationship based on conditions,"SELECT DISTINCT Pr.SKU, Pr.Title, Pr.Weight_GM, MIN(PO.Postal_Charges) as PO_Charges
FROM Products Pr
   JOIN Postage Po ON Pr.Weight_GM <= Po.Weight_GM
GROUP BY Pr.SKU, Pr.Title, Pr.Weight_GM
"
23284,8798,Oracle + Zend Framework. Get one not null value of three fields,"$select = ...
$select->columns(
    ""id"" => ""id"",
    ""value"" => new Zend_Db_Expr(
        ""COALESCE(number_column_name, string_column_name, bool_column_name)""
    )
);
"
9893,33298,Join containing mid function,"SELECT ....
FROM (SELECT *, MID(t1.f1, 1, 13) KeyValue FROM T1) as t1 
LEFT JOIN (SELECT *, MID(t2.f2, 1, 13) KeyValue FROM T2) as t2
    ON t1.KeyValue = t2.KeyValue
"
11755,47353,Are 2 SET / WHERE instructions in SQL possible?,"  UPDATE tblFinalOrder 
  SET Status = Switch (
               System_Qant = 1, ""won"",
               System_Qant = 2, 'cancelled'
  );
"
22387,61950,multi-table query when there is no record in one table,"select a.id, 
  a.name, 
  count(b.id) as contact_email_total_count
from tablea a
left join tableb b
  on a.id = b.id
group by a.id, a.name
"
10862,52524,"SQL (Access): Multiple values per ""ID"" - Store as TRUE unless any FALSE","SELECT internal.ParticipantID, Max(internal.Internal) AS MaxOfInternal
FROM internal
GROUP BY internal.ParticipantID;
"
2006,53296,Update one row only out of two identical rows in sybase,"update top 1 table 
set col1 = XYZ
where col1 = ABC
"
12947,9639,"SQL join, get result where 2 values are different","SELECT Table1.productNr, Table1.info2 
FROM Table1 INNER JOIN Table2 ON Table1.productNr=Table2.productNR 
WHERE Table1.info2 <> Table2.info2
"
6394,38544,Total a Value and Return Value in Same Column,"select
   SUM(ISNULL(CAST(A.ODENEN_ANAPARA AS FLOAT),0)+ISNULL(CAST(A.FAIZ AS FLOAT),0)+
      ISNULL(CAST(A.BSMV AS FLOAT),0)+ISNULL(CAST(A.GECIKME_FAIZ AS FLOAT),0)+
      ISNULL(CAST(A.GECIKME_BSMV AS FLOAT),0)) 
   + dbo.fngcodeme(@HESAP,@BAS,@BIT,@DOV)
from ...
"
25139,31841,Database Schema For Private Messages,"User
----------------
userID
userName
...
...
...

Messages
---------------
messageID
title
body

User_Messages
----------------
senderID (userID of sender)
recieverID (userID of reciever)
messageID (messageID of relative message)
"
35760,14071,"How can I make a query, selecting only CATEGORIES which have PRODUCTS into it?","SELECT *
FROM Categories
WHERE EXISTS(
  SELECT NULL
  FROM products
  JOIN SubCategories ON products.fkSubCatID = SubCategories.PkSubCatID
  WHERE SubCategories.fkCatID = Categories.pkCatID
  HAVING Count(*) > 2)
"
38035,31142,Getting Unique 1:1 results with many to many is possible,"SELECT DISTINCT PO_NUMBER, PO_TRACKING_NO
FROM tableName
"
14023,39436,"Group BY Having COUNT, but Order on a column not contained in group","SELECT TOP 1 ID
FROM TABLE
WHERE Name = 'ABC'
GROUP BY ID,Name
HAVING COUNT(ID) > 2
ORDER BY MAX(Date) DESC
"
4843,17756,How to check connection of cassandra with pentaho data integrator,"sh pan.sh -file=my_cassandra_transformation.ktr -level=Rowlevel
"
1760,5559,How to use count(*) and Division Operation in SQL statements,"select ( count(*)/20000.0 ) from table
"
36425,26131,ORACLE - Custom ORDER BY to order pairs of data rows,"ORDER BY
   MAX(AMOUNT) OVER (PARTITION BY VOUCHER_NO) DESC, -- voucher with highest amount first
   VOUCHER_NO,  -- all rows of that voucher
   CASE WHEN JOURNAL_TYPE = 'CREDIT' THEN 0 ELSE 1 END, -- credit first
   AMOUNT DESC
"
575,58875,How to query against a large list of words with an IN clause,"SELECT x, y
FROM Table1
WHERE 
   x IN (SELECT word FROM word_table) OR
   y IN (SELECT word FROM word_table)
"
5035,61514,How would you implement a one-to-many relationship?,"**Owner**
ID

**Car** 
ID
OwnerID
"
36840,25826,Efficient SQL to calculate # of shared affiliations,"select pairs.from_person, pairs.to_person, count(*)
from links pairs join
     grp_affil fromga
     on fromga.person_id = pairs.from_person join
     grp_affil toga
     on toga.person_id = pairs.to_person and
        toga.grp_id = fromga.grp_id
group by pairs.from_person, pairs.to_person;
"
11416,63655,Group and Sum with dynamic column names,"SELECT year, type, COUNT(type) FROM table_name GROUP BY year, type;
"
17808,27744,How to get XML value in SQL Server,"DECLARE @id VARCHAR(100) = 'contactTitle';

SELECT *, T.Content.value('(/XmlDataPairDocument/dataitem[@id=sql:variable(""@id"")]/@value)[1]', 'VARCHAR(100)')
FROM tblApplications T;
"
19962,526,sql query for many to one relationship,"select * from 
( 
   select StaffId, max(AssignedFromDate) as adate
   from StaffDepartmentAssgnment 
   group by staffid
) x
inner join StaffDepartmentAssgnment y
      on y.staffid = x.staffid and adate = y.AssignedFromDate
where DepartmentId = 'dept2'
"
34715,48138,SQL Concat or LIKE with wildcard?,"SELECT name,capital FROM world
WHERE capital LIKE '%name&'
"
28985,37058,Result set with triple union,"select col
from (select 'Header' as col, 0 as ordering
      union
      select Col1, 1
      from table
      union
      select Col2, 1
      from table
     ) t
order by ordering;
"
37020,73897,sql count mismatch,"select count(*) from TMP_ORDER_ACTION_PSTN_CP_11035 where STATUS is null;
"
26114,57905,How does SQL Server handle the following query?,"SELECT u.UserId,
       u.FullName,
       u.Location
FROM   [User] U
WHERE  NOT EXISTS (SELECT 1
                   FROM   ClubSponsorRelation csr
                   WHERE  u.UserId = csr.SponsorId
                   AND    csr.ClubId = @clubId)
       AND u.UserType = 'Sponsor' 
"
34937,65274,Get Weeks in SQL,"SELECT DATEPART(wk, DateField) AS WeekNumber, COUNT(*) AS HitsForWeek
FROM SomeTable
WHERE DateField >= '20090101' AND DateField < '20100101'
GROUP BY DATEPART(wk, DateField)
"
30832,24554,How do I check whether the time has reached the next half hour in SQL?,"CREATE TABLE EMAIL_AUDIT_TRAIL
(
    EMAIL_SEND_TIME AS DATETIME NOT NULL,
    EMAIL_SUMMARY AS VARCHAR(100)
)
"
27628,5751,Duplicating all SQL rows and simultaneously changing the data,"INSERT INTO `performers`(col1, col2, col3, piano, singing)
SELECT col1, col2, col3, singing, singing
FROM `performers` 
"
1210,28224,How can I get connected values of two times the same foreign key?,"select sim.id
,base.id
,base.name
,base.latex
,similar.id
,similar.name
,similar.latex
from similarity as sim
join symbol as base on base.id=sim.base_symbol_id 
join symbol as similar on similar.id=sim.similar_symbol_id
"
18384,69282,sql query case statement multiple criteria,"and exists(select 1 from SurveyResponse SR2 where QuestionId = 24 and 
QuestionPossibleAnswerId = 111 and SR2.SurveyId = s.Id)
"
9465,61838,Date returned as Day of week Number 1-7,"weekday(date)
"
19244,23605,How do I limit a query with distinct values in MariaDB,"select *
from Table1 as T1
join (
  select distinct num
  from Table1 
  order by num
  limit 2 ) as T2
on T1.num = T2.num  
  ;
"
6692,3639,Link Server Optimization Help,"if isnull(@d_email,'') <> isnull(@i_email,'')
begin
    update server2.database2.dbo.Table2
       set email = @i_email
      from server2.database2.dbo.Table2 t2
           inner join
           server2.database2.dbo.Table1 t1
           on (t1.user_id = t2.user_id)
     where t1.login = @login
end
"
28580,23344,How can i groupBy using multiple column name?,"   select...
    from (
    select { beauty,general-health,pregnency } as health
    from table) t
    group by health
"
23821,31721,Entity Framework 5 and Oracle: Expression with closure affecting performance when querying against a non-unique indexed field,"using System.Data.Objects;

EntityFunctions.AsNonUnicode( myUnicodeParam)
"
23408,72050,Execution of oracle procedure multiple times in powerbuilder 12.0,"close PROC_FILE_EXISTS;
"
38014,1310,"sql query search into two tables, performance issue","select a.`ID_CLIENT`
from clienti a
where  a.`ClientName` LIKE '%blue%' 
union
SELECT b.`ID_CLIENT`
FROM Details b
WHERE b.`Details` LIKE '%blue%';
"
2245,6487,group rows in plain sql,"WITH   CTE AS(
       SELECT * ,ROW_NUMBER() OVER (ORDER BY [DATE] ) - 
                 ROW_NUMBER() OVER (PARTITION BY NUMBER ORDER BY [DATE] ) AS ROW_NUM
       FROM TABLE1)
SELECT NUMBER,MIN(DATE) AS DATE
FROM   CTE
GROUP BY ROW_NUM,NUMBER
ORDER BY DATE
"
17765,33158,Relational Database Design - Create an Entity Class for Payment Type?,"CREATE TABLE `SALE` (
`SALE_ID`  int(11) NOT NULL AUTO_INCREMENT ,
`SALE_TYPE`  enum('Cash','Card') CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL ,
`SALE_AMOUNT`  decimal(18,4) NULL DEFAULT NULL ,
`CUSTOMER_ID`  int(11) NULL DEFAULT NULL ,
PRIMARY KEY (`SALE_ID`)
)
ENGINE=InnoDB
DEFAULT CHARACTER SET=utf8 COLLATE=utf8_general_ci
AUTO_INCREMENT=1
ROW_FORMAT=COMPACT
;
"
33141,52066,SQL using MAX and COUNT,"SELECT TMP.S, TMP.my_count
FROM (
      SELECT T1.something S, COUNT(*) my_count
      FROM table T1, table2 T2
      WHERE T1.value = T2.value
      GROUP BY T1.something 
      ) TMP
Where 
TMP.my_count = (select max(count(*)) from table1 T3 group by t3.something)
"
18282,16272,Calculating de-cumulatived values in TSQL?,";with cte ( rn, id, date, mileage )
as
(
  select
     row_number() over ( partition by id order by id, date )
     , id
     , date
     , mileage
   from
      cars
   where
      mileage is not null
)
select
  ""current"".id
  , ""current"".date
  , delta = isnull( ""current"".mileage - predecessor.mileage, ""current"".mileage )
from
  cte as ""current""
  left join cte as predecessor
    on ""current"".id = predecessor.id
    and ""current"".rn - 1 = predecessor.rn
"
32103,65770,Purposely having a query return blank entries at regular intervals,"SELECT a, b, c, d
FROM  (
    SELECT rn, 0 AS rk, (x[rn]).*
    FROM  (
        SELECT x, generate_series(1, array_upper(x, 1)) AS rn
        FROM  (SELECT ARRAY(SELECT tbl FROM tbl) AS x) x
    ) y

    UNION  ALL
    SELECT generate_series(3, (SELECT count(*) FROM tbl), 3), 1, (NULL::tbl).*
    ORDER  BY rn, rk
) z
"
35100,43096,Parallelism in PL/SQL,"EXAMPLE
CREATE OR REPLACE PROCEDURE target_deletion
IS
   number_of_the_job   NUMBER;
BEGIN
   DBMS_JOB.submit (number_of_the_job, 'begin stored_procedure_for_deletion; end;', SYSDATE);
END;
/
"
10696,66986,How to get the affected rows in stored procedure,"if dbinfo('sqlca.sqlerrd2') = 0 then
   return 0;
else
   return 1;
end if;
"
12553,60529,Duplicate all data in the same table MYSQL,"INSERT INTO your_table_name(parent_id,priority,text,shortname,weighting,g_or_a,
     dept,ksf,day_start,day_end,date_start,date_end,depends_on,is_question,budget,
     ccode,responsible,accountable,consulted,informed)
(SELECT parent_id,priority,text,shortname,weighting,g_or_a,dept,ksf,
    day_start,day_end,date_start,date_end,depends_on,is_question,budget,ccode,
    responsible,accountable,consulted,informed FROM your_table_name);
"
33473,22325,"ORDER BY ""ENUM field"" in MYSQL","ORDER BY CAST(noticeBy AS CHAR)
"
2175,46734,Left Outer Join in sql query,"SELECT e.Lname, e.ssn
FROM Employee e   
JOIN works_on w
  ON e.ssn = w.essn
JOIN Project p
  ON w.pno = p.pnumber
GROUP BY e.ssn
HAVING 
     SUM(CASE WHEN p.plocation = 'Cleveland' THEN 1 ELSE 0 END) = 0
AND  COUNT(*) >= 3
"
15664,51462,SQL How would I select the row with the largest of one field in several nearly-identical rows?,"select name, max(expirationdate)
from contracts t
group by name;
"
36412,54473,ASP.net MVC How to run multiple instances of the same app at the same time in different subdomains?,"/website/sub1
/website/sub2
"
2765,20232,How to extract info from database to excel,"select t1.SKU SKU, concat(t1.SerialNo, ""  "", t1.grade) SerialGrade from yourTable t1
    join tempTable t2 on t2.SerialNo = t1.SerialNo
    orderby t1.SerialNo ASC
"
3744,54988,Creating a Stored Procedure,"WHERE TripStopID = (SELECT T.TripStopID FROM TripStopOrder O
INNER JOIN TripStop T ON O.TripStopID = T.TripStopID
WHERE OrderID = @OrderID AND StopTypeCode = 'Drop')
"
23532,35912,MySQL - group by a timestamp range," select name, count(when_logged) 
 from user_logins 
 where when_logged >= curdate() - interval 14 day
 group by name, date(when_logged)
"
29851,58739,Understanding the MySQL Engine vs Database Type?,"ALTER TABLE TableName ENGINE=MyISAM
"
24008,1241,MySQL query involving complicated summing function,"SELECT languageUsed, SUM(UnitsSold)
FROM yourTABLE
GROUP BY languageUsed
"
3796,39485,Select the first occurence in a table in Hive,"select s.id as id, s.msts as msts, s.action as action from (
  select min(named_struct('msts', msts, 'id', id, 'action', action)) as s
  from A group by id
) t;
"
37945,19339,Sql query to show minutes as hours,"select 
 PSProjectId,CodePattern,NCR,sum(totaltime)/60.0 as totaltime --totaltime is in minutes
  from ct2
group by PSProjectId,CodePattern,NCR
"
25984,4490,How to select same word in desc order,"SELECT Name
FROM YOUR_TABLE
GROUP BY Name
HAVING COUNT(Name) > 1
ORDER BY Name DESC
"
19344,49921,Increment the value of one column basing on another column,"update T
set bus_day_mtd = (
    select sum(bus_day) from T t2 where t2.ymd <= T.ymd
    --or cast(bus_day_flag as int) if referencing the bit column
)
"
19876,21511,How to combine these two SQL statements?,"select sum(case when ws.ID_WorkflowType = 1 then 1 else 0 end) as cntCM_PRWK
     , sum(case when ws.ID_WorkflowType = 3 then 1 else 0 end) as cntCM_CMQ
from dbo.CaseWorkflow cw 
join vew_CasePersonnelSystemIDs vcps on cw.ID_Case = vcps.ID_Case
join dbo.WorkflowStates ws on ws.ID_WorkflowState = cw.ID_WorkflowState
where CMSUID = @nSUID
"
13724,67354,How to ignore a part of a string on a column value,"SELECT user_data.alternative_mail
FROM user_data
RIGHT OUTER JOIN users_map
ON users_map.user_id = user_data.user_id
WHERE users_map.service_id = 1 AND 
    users_map.service_user_id = 0 AND
    user_data.alternative_mail NOT LIKE '%@info.com'
"
2590,70353,Two SK's in one table,"SELECT CURRENCY_SK_FROM,
       (SELECT CURRENCY_NAME
            FROM CURRENCY
            WHERE CURRENCY_SK = CURRENCY_SK_FROM) AS CURRENCY_NAME,
       CURRENCY_SK_TO,
       (SELECT CURRENCY_NAME
            FROM CURRENCY
            WHERE CURRENCY_SK = CURRENCY_SK_TO) AS CURRENCY_NAME_TO,
       CONVERSION_RATE
    FROM CONVERSION_RATE_TABLE;
"
27078,69672,MySQL: how to get x number of results per grouping,"SELECT item_id, item_name, catid FROM 
  (SELECT t1.*, COUNT(*) cnt FROM items t1
    LEFT JOIN items t2
      ON t2.catid = t1.catid AND t2.item_id <= t1.item_id 
  GROUP BY
    t1.catid, t1.item_id
  ) t
WHERE
  cnt < 6
-- LIMIT 20
"
29015,73488,How to Display 1 Column sum in other Column," select inStation.name as TapInStation , outStation.name as TapOutStation, 
        count(trx.passengerCount) as PassengerCount,
        sum(trx.amount) as Fare,
        (select sum(passengerCount) from transactions iTrx) as PassengerPercent  
"
20905,64361,oracle call stored procedure inside select,"BEGIN
   FOR c IN (SELECT field1, field2 FROM mytable) LOOP
       my_proc(c.field1, c.field2);
   END LOOP;
END;
"
10650,47142,MySQL JOIN returns unexpected values,"SELECT c.currency_id, c.currency_name, c.currency_symbol, c.currency_active, er.exchange_rate_id, er.exchange_rate_date, er.exchange_rate_value
FROM currencies c
LEFT JOIN (SELECT * FROM 
    (SELECT er1.exchange_rate_id, er1.currency_id, er1.exchange_rate_date, er1.exchange_rate_value
    FROM exchange_rates er1
    ORDER BY er1.exchange_rate_date DESC) AS A GROUP BY currency_id 
    ) AS er
ON er.currency_id=c.currency_id
WHERE c.currency_active='1' 
"
7563,35666,Oracle Unique Constraint based on column value,"CREATE UNIQUE INDEX idx_dup_active
    ON <<table name>>( CASE WHEN is_active = 1
                            THEN question_no
                            ELSE NULL
                        END );
"
12020,64194,How to write a SQL statement which gets results via a relationship table? (many to many),"SELECT s.* 
FROM section s INNER JOIN archive_to_section ats ON s.id = ats.section_id 
WHERE ats.archive_id = 1
"
25710,72329,Can I optimize this sql Query?,"SELECT u.UserID,
    SUM(CASE WHEN Success = 1 THEN 1 ELSE 0 END) AS Successful,
    SUM(CASE WHEN Success = 0 THEN 1 ELSE 0 END) AS Unsuccessful,
    MAX(LoginDate) AS LastLogin
FROM Users u
INNER JOIN Logins l on u.UserID = l.UserID
GROUP BY u.UserID
"
23059,75292,Join on foreign key of table with the max primary key of that table,"SELECT w.*, e.*
FROM workers w
LEFT JOIN events e
    ON w.id = e.workerID 
        AND e.id = (
            SELECT MAX(e2.id) 
            FROM events e2 
            WHERE e2.workerID = w.id
        )
"
19132,60488,What is the MLSLABEL Oracle datatype?,"SQL> select * from v$version;

BANNER
-----------------------------------------------------------------------------
Oracle Database 11g Enterprise Edition Release 11.1.0.6.0 - Production
PL/SQL Release 11.1.0.6.0 - Production
CORE    11.1.0.6.0      Production
TNS for 32-bit Windows: Version 11.1.0.6.0 - Production
NLSRTL Version 11.1.0.6.0 - Production

SQL> create table mls (id number, lbl mlslabel);

Table created.

SQL> 
"
3841,34896,Need to find the number of strings starting with each character of the alphabet. Using SQL Developer from Oracle,"SELECT    SUBSTR(LOWER(col), 1, 1) AS letter,
          COUNT(*)
FROM      mytable
GROUP BY  SUBSTR(LOWER(col), 1, 1);
"
31942,57307,mySQL all results with score less than a value in every case,"SELECT s.studentName, sc.score, sc.subject
FROM students s JOIN scores sc ON sc.studentID = s.studentID
WHERE NOT EXISTS ( SELECT 'a'
                   FROM scores ss
                   WHERE ss.studentID = s.studentID
                   AND ss.studentScore > 30
                  )
"
21302,4179,SQL joining two tables,"SELECT e.id, e.name , s.salary FROM employees e 
INNER JOIN salary s
ON e.id=s.id
ORDER BY e.id ASC
"
39217,14998,Same query but different tables,"SELECT t1.col1, t1.col2, ..., t1.col10
FROM table1 t1
WHERE pVar = 1 and ...
UNION
SELECT t2.col1, t2.col2, ..., t2.col10
FROM table1 t2
WHERE pVar <> 1 and ...
"
19839,41968,Matching values in two tables query (SQL and ColdFusion),"<cfquery name=""getRows"" datasource=""XXXX"">
    SELECT pe.prodtree_element_name_l, MAX(rs.resource_value) AS resource_value
    FROM prodtree_element pe
    LEFT JOIN resource_shortstrings rs
    	ON pe.prodtree_element_name_l_rk = rs.resource_key
    WHERE rs.language_id = '5'
    	AND pe.prodtree_element_name_l <> ''
    GROUP BY prodtree_element_name_l
</cfquery>
"
30871,3862,Month sorting in sql,"SELECT * 
FROM TABLE_NAME
ORDER BY RIGHT([Month], 4) DESC , SUBSTRING([Month], 5, 2) DESC
"
11696,37367,SQL sort string with numbers certain pattern first,"SELECT * FROM category 
ORDER BY (CASE WHEN cat_name LIKE 'Level%' THEN 0
ELSE 1
END)ASC,
LEFT(cat_name,LOCATE(' ',cat_name)), CAST(SUBSTRING(cat_name,LOCATE(' ',cat_name)+1) AS SIGNED),
  cat_name ASC
"
37630,23321,Select rows with the same field values,"SELECT a.*
FROM Table1 a
JOIN (SELECT RecordT, ReadLoc
      FROM Table1
      GROUP BY RecordT, ReadLoc
      HAVING COUNT(*) > 1
      )b
ON a.RecordT = b.RecordT
 AND a.ReadLoc = b.ReadLoc
"
35003,21671,SQL query for difference between two tables,"SELECT
    COALESCE(b1.ToyId, b2.ToyId)  AS ToyId,
    b1.Price                      AS PriceTab1,
    b2.Price                      AS PriceTab2,
    (b2.Price-b1.Price)           AS Diff
FROM
    Bucket1 AS b1
  FULL JOIN
    Bucket2 AS b2
      ON b1.ToyId = b2.ToyId ;
"
14241,13189,Pick a random attribute from group in Redshift,"SELECT id, first_value as attribute 
FROM(SELECT id, FIRST_VALUE(attribute) 
    OVER(PARTITION BY id ORDER BY random() 
    ROWS BETWEEN unbounded preceding AND unbounded following) 
    FROM dataset) 
GROUP BY id, attribute ORDER BY id;
"
23536,22136,Select from an explicit table in mysql,"SELECT val
    ,campaign
FROM
VALUES
LEFT JOIN (
    SELECT 'Spring 2104' campaign
        ,'2014-05-01' start
        ,'2014-08-01' [end]

    UNION ALL

    SELECT 'Winter 2014'
        ,'2014-08-01'
        ,'2014-12-31'
    ) AS campaign_table ON
VALUES.DATE > campaign_table.start
    AND
VALUES.DATE < campaign_table.[end]
"
21899,1786,SQL Query using multiple JOINS without sub query,"SELECT players.id, events.id as event_id,
     player_one_name=player_one.name,
     player_tow_name=player_two.name
FROM events 
INNER JOIN games on events.id = games.event_id 
INNER JOIN players player_one on games.first_player_id = player_one.id
INNER JOIN players player_two on games.second_player_id = player_two.id
"
29342,66667,Join Tables On Two Columns,"SELECT t2.*, u1.name as user1name, u2.name as user2name
FROM table2 t2 LEFT JOIN
     users u1
     ON u1.user_id = t2.user_one LEFT JOIN
     users u2
     ON u2.user_id = t2.user_two;
"
30423,52181,select multiple columns which are null for a row,"update table t
    set col1 = coalesce(col1, 0),
        col2 = coalesce(col2, 0),
        col3 = coalesce(col3, 0)
    where col1 is null or col2 is null or col3 is null;
"
13775,50913,sql query for fetching correct year,"SELECT
    *
FROM
    tablename
WHERE
    CONCAT(from_y, LPAD(from_m, 2, 0)) <= '201201' AND
    CONCAT(to_y, LPAD(to_m, 2, 0)) >= '201201'
"
33554,23730,how to get similar objects based on tags,"SELECT movie.*, count(DISTINCT similar.tag) as shared_tags FROM movie INNER JOIN 
    ( tagged AS this_movie INNER JOIN tagged AS similar USING (tag) )
    ON similar.movie = movie.id
WHERE this_movie.movie=<current_movie_id>
AND   movie.id != this_movie.movie
GROUP BY movie.id
ORDER BY shared_tags DESC
"
30137,72104,Select value in mysql but check another database at clause WHERE,"SELECT * 
  FROM `mc_region` AS r LEFT JOIN 
       `mc_region_flags` AS f ON r.`id` = f.`id_region`
 WHERE r.`is_subregion` = 'false' AND 
       r.`lastseen` < CURDATE() - INTERVAL 20 DAY AND
       COALESCE(f.`flag`, '-') <> 'expire'
LIMIT 0, 30;
"
7351,39756,Join string and add character between them in mysql,"SELECT 
  a.name,
  GROUP_CONCAT(s.name SEPARATOR '|') store_name
FROM
  agents a 
  JOIN stores s 
    ON (a.id = s.agent_id) 
GROUP BY a.id 
"
27938,11139,Import only sequences from an Oracle exp dump,"SELECT DBMS_METADATA.GET_DDL('SEQUENCE', u.sequence_name, decode(u.sequence_owner,'SYS','',sequence_owner)) ddl
     FROM all_sequences u where sequence_owner = 'SOE' order by sequence_owner, sequence_name;
"
30171,3999,Insert date and time as unix_timestamp in Mysql,"INSERT INTO `skadate`.`ow_base_user_online` (`id`, `userId`, `activityStamp`, `context`, `misc`) 
VALUES (NULL, '1402', UNIX_TIMESTAMP(), '1', '1');
"
28087,15342,inner join for a query?,"SELECT * FROM table_2 WHERE ID IN (SELECT ID FROM table_1 WHERE parent_ID = 'x')
"
6082,26087,Id starting with 150. Data transfer between sql server & after that,"SET IDENTITY_INSERT [table name] ON
GO

INSERT INTO table (ID, Name) VALUES (1, 'value')
GO


SET IDENTITY_INSERT [table name] OFF
GO
"
19293,23366,SQL Stored Procedure(s) - Execution From Multiple Databases,"Exec somedb.dbo.sp_GetTableDocumentation
Exec anotherdb.dbo.sp_GetTableDocumentation
"
37960,34204,SELECT column/s based on boolean value,"$value = '1'; 

if($variable == '1') {
  $select = ""select users.user, table2.total1, table2.total2 "";
}
else {
  $select = ""select users.user, table2.total "";
}

$conn->query(
  $select . ""
  FROM users 
  LEFT JOIN table2 on users.user = table2.total AND $table2.date = CURDATE() 
  WHERE users.user = 'marketing' OR users.user = 'sales'
"");
"
35312,63619,Is it possible to change the values in a database column to lowercase?,"SELECT lower (field_id_90)
FROM exp_channel_data;
"
11682,50828,How to reference a custom field in SQL,"order by 3
"
33453,63693,Oracle SQL Select Statement Calculations,"select 
  task_name, 
  to_char(ses_start, 'DD-MON-RR') DATE,
  to_char(ses_start,'HH:MI PM') START, 
  to_char(ses_end, 'HH:MI PM') END,
  round((ses_end - ses_start) * 24, 2) DURATION_IN_HOUR
...
"
22107,56141,How to compare column values of different rows with SQL,"SELECT
  TeacherID,
  Class,
  SUM(CASE WHEN PassFail = 'Fail' THEN Count ELSE 0 END) * 100.0 /SUM(Count) as FailPersent
FROM tbl
GROUP BY TeacherID, Class
"
31339,24477,Join same table twice on different key,"select accounts.id, 
    count(distinct s1.id) as num_req, 
    count(distinct s2.id) as num_grab
from accounts left join subs as s1 on accounts.id = s1.requester_account_id
    left join subs as s2 accounts.id = s2.grabber_account_id
group by accounts.id
"
9149,72702,SQL query to add values of two columns containing null values?,"SELECT (COALESCE(ONE, 0) + COALESCE(TWO, 0)) FROM (TABLE) 
"
15292,73906,how to check the coulmn null in sql,"SELECT (CASE WHEN params IS NULL THEN '' ELSE params END) as params FROM Table1
"
7724,45451,How do I insert into two tables all at once in a stored procedure?,"DECLARE @NewID INT

INSERT INTO Customer(LastName,FirstName,......) VALUES(Value1, Value2, .....)

SELECT @NewID = SCOPE_IDENTITY()

INSERT INTO Employment(CID,Employer,.....) VALUES(@NewID, ValueA,..........)
"
34245,54894,SQL insert and id with auto_increment,"INSERT INTO persons(Column1, col2, ...)
VALUES (16, 'First Name', ...)
"
23564,64653,Oracle query not returning results when a value is missing,"SELECT NVL(IR16, 'N/A') AS CODE,
NVL(IR15, 'N/A') AS AMOUNT
from table a
LEFT JOIN table b
ON a.pk = b.pk 
and regexp_substr(ir16,'\d+$') = regexp_substr( ir15,'\d+$')
"
28035,44759,Position of a column in a table,"SELECT ORDINAL_POSITION
FROM information_schema.columns
WHERE table_name = 'YourTableName' AND COLUMN_NAME = 'YourColumnName'
"
7680,47515,Return Order Date Format Differently,"CONVERT(VARCHAR(10),OrderDate,10) as OrderDate
"
16963,35159,Query to extract highest value for each ID submitted,"SELECT *
FROM (  SELECT *, ROW_NUMBER() OVER(PARTITION BY peh_pmt_id ORDER BY eh_id DESC) Corr
        FROM employer_history 
        WHERE eh_pmt_id in (131,3725)) t1
WHERE Corr = 1
"
5310,18906,Oracle Cursor with conditional Select statement,"SELECT * FROM Test1 WHERE condition = 't1'
UNION ALL
SELECT * FROM Test2 WHERE condition = 't2'
"
7070,56057,Reading and updating 10 data records (tuples) in MySql Table at the same time(Using a single query);,"START TRANSACTION;
select * from tablename where IsRead=0 ORDER BY created_or_whatever_column limit 10 for update;
update tablename set IsRead = 1 ORDER BY created_or_whatever_column LIMIT 10;
COMMIT;
"
12738,12895,SQL Server Status Monitor,"ServiceController sc = new ServiceController(""MSSQLSERVER"", serverName); 
string status = sc.Status.ToString();
"
23699,52436,How to optimize UPDATE statement?,"WHERE ta.id=tb.id and ta.price <> tb.price
"
20464,33505,SQLite delete from only if the table exists,"SELECT count(*) FROM sqlite_master WHERE type='table' AND name='table_name';
"
25308,5422,Update specific rows from one table to another,"UPDATE GeneralTable g
JOIN   ClientTable c ON g.invoice_number = c.invoice_number
SET    g.date = c.date, g.accno = c.accno
"
3027,25787,Query with COUNT() and GROUP BY,"SELECT COUNT(DISTINCT USER) 
FROM assigned_roles 
WHERE ROLE = 1 
"
16483,14189,SQLite subquerie select statement,"SELECT
x.id
, (
  SELECT 
     COUNT(y.id) 
  FROM y 
  WHERE y.id = x.id
  ) as YCount
FROM x
WHERE value = 1
ORDER BY  YCount;
"
37406,32960,Last day of month with H2,"SELECT DATEADD(dd, -DAY(DATEADD(m,1,@Today)), DATEADD(m,1,@Today))
"
10484,5063,Find units with zero categories,"SELECT u.id, u.name
FROM Unit as u
LEFT JOIN UnitCategoryIndex as uci
ON u.id = uci.UnitId
where uci.id is null
"
24508,74086,SaaS architecture PHP login form,"$database = $_SESSION['username'];
$mysqli = new mysqli(""localhost"", ""db_user"", ""db_pass"", $database);
"
38590,23845,Reference a Microsoft Access 2010 Table Value in a VBA Subroutine,"strPath = DLookup(""Path"" , ""Paths"" , ""Tool = 'Eclipse'"")
Shell(strPath)
"
34916,54253,SQL Order One Column By Value in Another,";with cte as (
   select *, cast([Item] as nvarchar(max)) as [path] from IndentedBOM where Depth = 0

   union all

   select i.*, c.[path] + '/' + i.[Item]
   from cte as c
       inner join IndentedBOM as i on i.[Assembly] = c.[Item]
)
select *
from cte
order by [path]
"
15075,25198,How do I write a query that outputs the row number as a column?,"SELECT ROW_NUMBER() OVER (ORDER BY beatle_name ASC) AS ROWID, * FROM beatles
"
15127,69230,Getting MIN date,"select
  a.ID,
  a.DATE,
  b.name,
  c.price
FROM tablea a 
INNER JOIN
(
   SELECT Id, MIN(Date) AS MinDate 
   FROM tablea
   GROUP BY Id
) As minA ON a.date = mina.mindate AND a.id = mina.id
inner join tableb b on a.ID = b.ID
inner join tablec c b.ID = c.ID
"
37086,43527,Please explain middle join in SQL,"SELECT . . . FROM . . . SomeTable MIDDLE JOIN . . .
"
6860,1947,Oracle: how to add a text node into an existing element,"update t
set xml = updateXML(xml, '/a/b', XMLType('<b>gaga</b>'))
"
17507,2037,Checking if each value is assigned a unique name,"select name, count(distinct value) from table group by name having count(distinct value) > 1
"
13032,57081,Oracle SQL -- decode to multiple elements,"WHERE (table2.encoded_value = 1 AND table1.value_1 = 'a')
   OR (table2.encoded_value = 2 AND table1.value_1 = 'b')
   OR (table2.encoded_value = 3 AND table1.value_1 = 'c')
   OR (table2.encoded_value = 4 AND table1.value_1 in( 'd', 'e', 'f'))
"
25105,17608,SQL Distinct by ID and Latest By Date,"SELECT * FROM WorkItems w
JOIN (
SELECT     [System.Id],MAX([System.RevisedDate])
FROM WorkItems
WHERE ([System.WorkItemType] = 'Change Request') 
AND ([System.CreatedDate] >= '09/30/2008') 
AND ([System.TeamProject] NOT LIKE '%Deleted%') 
AND ([System.TeamProject] NOT LIKE '%Sandbox%')
GROUP BY {System.Id]
) x ON w.[System.Id] = x.[System.Id] AND w.[System.DateRevised] = x.[System.DateRevised]
"
19757,9565,Oracle : Decode for more than one key field,"SELECT date_pkp,
       date_pkp_delete
       CASE WHEN ((date_pkp IS NULL AND date_pkp_delete IS NULL) OR
                  (date_pkp IS NOT NULL AND date_pkp_delete IS NOT NULL))
            THEN 'Non PKP'
            WHEN (date_pkp IS NOT NULL AND date_pkp_delete IS NULL)
            THEN 'PKP'
       END AS status
FROM   my_table
"
29265,65108,SQL: Returning unassigned rows,"select * 
from prospects p
where not exists (select null from 
                  assignments a
                  where a.prospectid = p.id)
"
7243,71405,How to sort based on keyword first?,"select *
from mytable
order by case when country = @country then 0 else 1 end, first_name
"
28754,29217,Simple calculation in SQL Server,"CREATE PROCEDURE SumDistances
AS
BEGIN
    SELECT SUM(Distance)
    FROM MyTable
END
"
12185,59239,How to query two fields (different) into one field,"select DISTINCT master.item
from master
left join [Size List]
master.[item] = [Size List].[item]
where [Size List].subItem is  null
UNION
SELECT DISTINCT [Size List].subitem
FROM    [Size List] 
"
21640,27771,Link one table to another through two columns in SQL,"select
  name, attribute
from
  users inner join attributes
  on users.qualification in (attributes.qual1, attributes.qual2)
group by attribute, name
having count(*)=2
"
21902,15173,What SQL statement will return rows with a matched date and datetimes?,"SELECT pf.timestamp, tf.timestamp, date
FROM stnrain s join
     puyforecast pf
     on date(pf.timestamp) = s.date and
        hour(pf.timestamp) = 18 join
     tacforecast tf
     on date(tf.timestamp) = s.date and
        hour(tf.timestamp) = 18
"
17476,55779,Delete from database if time is greater than 4 hours,"delete 
from posts 
where timestampdiff(hour, current_timestamp, time_published)>=4
"
17823,60258,Deriving a column's data from a matching column in SQL,"SELECT empGrunt.ename Employee
     , empGrunt.empno EmpNum
     , empSuper.ename SupervisorName
     , empSuper.empno SupervisorName
FROM   emp empGrunt LEFT OUTER JOIN emp empSuper 
       ON empGrunt.super = empSuper.empno
"
30212,74823,PostgreSQL search column for like strings,"select
  Col_2,
  count(*)
from 
  your_table
group by
  Col_2
having
  count(*) > 1
"
28640,36116,Oracle Date Subtraction,"select trunc(5.3574585) days, 
       trunc(mod((5.3574585) * 24, 24)) hours, 
       trunc(mod((5.3574585) * 24 * 60, 60)) minutes, 
       trunc(mod((5.3574585) * 24 * 60 * 60, 60)) seconds 
  from dual;
"
39327,8972,SQL Rearrange row order,"...
ORDER BY CASE WHEN YourColumn = 4 then 0
              WHEN YourColumn = 2 then 1
              ELSE 2 END, yourcolumn
"
26455,23434,How to specify a query for COUNT?,"SELECT TOP (SELECT COUNT (DISTINCT Name) FROM Logg WHERE Id= 1) * -- Need to specify columns
FROM Logg WHERE Id= 1;
"
34172,29759,Does setting serializable make 2 select statements atomic? (no change in tables between the 2 selects),"START TRANSACTION;
Select * from Burgers where ID = 299;
Select * from BurgerIngredients where BurgerID = 299;
COMMIT;
"
3976,36954,T SQL: Inner join in sub select query?,"select r.longName, a.Country, count(*)
from ises.tbarticles a
INNER JOIN ref.tbRegions r
On a.RegionCode = r.regionCode
group by  r.longName, a.Country
order by longName
"
13370,28252,Selecting 1 word out of a field using SQL,"select 'SRN='+left(stuff(@S, 1, charindex('SRN=', @S)+3, ''), patindex('%[^0-9]%', stuff(@S, 1, charindex('SRN=', @S)+3, '')+' ')-1)
"
23205,17279,Ranking the user with points in users table,"SELECT COUNT(*) + 1 AS rank
  FROM tbl
 WHERE point > (SELECT point
                  FROM tbl
                 WHERE id = 5)
"
30319,18202,Mysql date less than week operation,"mysql> create table daten (a date, b date);
mysql> insert into daten values ('2011-04-14', '2011-04-12');
mysql> insert into daten values ('2011-04-14', '2011-04-22');

mysql> select * from daten where (week(a)=week(b) and year(a)=year(b)) or a<b;
+------------+------------+
| a          | b          |
+------------+------------+
| 2011-04-14 | 2011-04-12 |
+------------+------------+
"
4252,29817,Execute stored procedure in mvc through EnterpriseLibrary,"public IEnumerable<UserViewModel> GetUserList()
{
    DatabaseProviderFactory factory = new DatabaseProviderFactory();
    Database db = factory.Create(""MySqlConnection"");
    IEnumerable<UserViewModel> results = db.ExecuteSprocAccessor<UserViewModel>(""uspGetUserList"");

    return results;
}
"
24179,41666,how to add percentages and insert the result into different table," insert into Transaction Set 
 Trans_id = your_transaction_id ,
 Buying_ID = (select (rate + (3*Rate)/100) as ratepos from Currency 
              where currency_code = 'euro'),
 Selling_ID = (select (rate - (3*Rate)/100) as rateneg from Currency 
               where currency_code = 'euro' )
"
34790,42806,Database Design - Drop Down Input Box Issue,"ID |  TYPE  | VALUE
1  | PET    | BIRD
2  | PET    | DOG
3  | PET    | FISH
4  | SEASON | FALL
5  | SEASON | WINTER
6  | SEASON | SPRING
7  | SEASON | SUMMER
"
14540,53625,"oracle query - something similar to pivot, but","select * From(
    select * from YourTable
  ) PIVOT (sum(DISTANCE) for (ID_DEST) IN (101, 102, 103));
"
7578,64037,"sp_change_users_login 'auto-fix', '<local_account>'","declare @userVar varchar(30)
declare users cursor for select name from sys.database_principals where type = 's';

open users
fetch next from users into @userVar
while @@FETCH_STATUS = 0
begin
    exec sp_change_users_login 'auto-fix', @userVar
    fetch next from users into @userVar
end


close users
deallocate users
"
12461,1221,Merging count(*) from different tables with different WHERE condition,"SELECT name, COUNT(posts.pk), COUNT(replies.pk)
  FROM owners, OUTER (posts, OUTER replies)
  WHERE owners.pk = posts.owner_pk
    AND posts.pk = replies.post_pk
    AND (posts.post_date BETWEEN ? AND ? OR replies.reply_date BETWEEN ? AND ?)
  GROUP BY name
"
6585,36615,Oracle: how to select rows that are not duplicated,"SELECT Id,
       Value
  FROM(SELECT Id,
              Value,
              COUNT(*) OVER (PARTITION BY Id) cnt,
              SUM(DECODE(Value, 'X', 1, 0)) OVER (PARTITION BY Id) sumx
         FROM your_table
      )
 WHERE cnt = 1 OR sumx = 0;
"
12041,52979,Python 3.3.2 - How to Set Out a Small Database?,"from sqlalchemy import *
db = create_engine('sqlite:///people.db')

metadata = MetaData()

user = Table('people', metadata,
Column('ID', Integer, primary_key = True),
Column('name', String(16), nullable = False),
Column('area', String(16)),
Column('job', String(60))
)
"
13181,62894,"Rolling up remaining rows into one called ""Other""","select *,    row_number() over (order by complaints desc) as sno
into #temp
from
(
SELECT 
  a.StoreName
  ,COUNT(b.StoreID) AS [Complaints]
FROM Stores a
LEFT JOIN 
(
  SELECT 
    StoreName
    ,Complaint
  ,StoreID
  FROM Complaints
  WHERE Complaint = 'yes') b on b.StoreID = a.StoreID


GROUP BY a.StoreName
) as t ORDER BY [Complaints] DESC

select storename,complaints from #temp where sno<4
union all
select 'other',sum(complaints) as complaints from #temp where sno>=4
"
26519,30655,What is difference in performance of following 2 queries,"A (id, name)
B (id) includes (class, std)
C (id) includes (result)
D (name) includes (grade)
"
1128,66508,Determine the number of items to fetch,"index -> destination index (within the collection)
diff_to_index -> index - current_index
items_to_fetch -> (current_index + 1) + items_to_fetch >= total_count ? total_count - (current_index + 1) : max(diff_to_index, fetch_size)
"
22865,51261,Obtain substring in SQL,"select (regexp_split_to_array(registrationno, '\.'))[3]
from subscriber
"
35721,57132,SQlite Design Advice,"T1(id,c1_tbl,c1_id,c2_tbl,c2_id)
"
29136,52964,How to delete unwanted SQL databases?,"String[] list = context.databaseList();
for(String name : list){
    if (!name.equals(MyDatabaseOpenHelper.DATABASE_NAME))
        context.deleteDatabase(name);
}
"
35694,10493,How to generate random boolean value in sql server 2008?,"SELECT CAST(ROUND(RAND(),0) AS BIT)
"
4152,18337,Getting tables with no rows without counting,"SELECT relname FROM pg_class JOIN pg_namespace ON (pg_class.relnamespace = pg_amespace.oid) WHERE relpages = 0 AND pg_namespace.nspname = 'public';
"
21611,24229,SQL IN query from multiple tables,"SELECT DISTINCT addresses.email
FROM addresses
JOIN user_group
    ON user_group.id_user_groups = adresses.USER_ID
JOIN news_group
    ON news_group.groupid_newsg = user_group.id_group_groups
WHERE newsid_news_good = 1
"
32130,54007,After updating a field some columns are blank,"update GCCC_ATCOM_CLOSING_REASON_I18N a 
set a.DESCRIPTION = 
    (select b.CLOSING_REASON_DESCRIPTION from GCCC_ATCOM_CLOSING_REASON b where b.ID_CLOSING_REASON = a.ID_PARENT)
WHERE a.DESCRIPTION ='I HAVE A CAR'
"
7496,72265,Select rows from table but retrieve override where possible,"(select name, value
from <your_table_name>
where domain = 'example.com')
union
(select name, value
from <your_table_name>
where domain is null
and name not in
    (select name
    from <your_table_name>
    where domain = 'example.com'))
"
18397,3850,how to select the second row if the first row in empty,"select s.name, u.*
from site s
outer apply (
                select top(1) * 
                    from user u 
                    where u.phone like '+01%' 
                    and u.id in (select userId FROM siteUser su WHERE su.SiteId = s.Id)
                    order by u.registrationDate
            ) as u
"
30604,4094,SQL Computed Column Case with Multiple Criteria,"(CASE WHEN [Control_ClosedDateRev] IS NULL AND DateDiff(day,opendate,getDate()) > 4 THEN '1' ELSE '0' END)
"
34339,5800,Mysql COUNT and IF usage,"SELECT itemid, COUNT(*), 
CASE WHEN uid = 1001 THEN TRUE ELSE FALSE end AS toggled 
FROM unlikes 
WHERE itemid IN ('9999', '8888') GROUP BY itemid;
"
2413,31813,intersecting n number of queries in mysql,"SELECT file_name 
FROM file_info 
WHERE  file_id IN 
(
  SELECT file_id 
  FROM index_group 
  WHERE word_id IN 
  (
    SELECT word_id 
    FROM word_index 
    WHERE word IN ('abc','def','ghi')
  )
  GROUP BY file_id
  HAVING COUNT(DISTINCT word_id) = 3 -- all three words
);
"
21583,55633,Better ways to write this SQL Query,"select yourfields  -- or delete
from userroles 
where userid in 
(select userid 
from userroles join etc
where system.name = the one you want
except
select userid 
from userroles join etc
where system.name <> the one you want
)
"
31310,34794,Query to get a register same value in a column and different in other column,"select Name, min(Direction), max(Direction)
from table
group by Name
having min(Direction) <> max(Direction)
"
18409,72269,SQL Queries in Oracle,"SELECT COUNT(v.FK_patients)
FROM visit v
JOIN Diagnosis d on d.ID_Diagnosis = v.FK_diagnosis --Here is where you connect the tables
WHERE v.Date_Visit BETWEEN
TRUNC(ADD_MONTHS(SYSDATE,-12),'YEAR') AND TRUNC(SYSDATE,'YEAR')-1 ;
"
16982,5293,How to get the objects from an oracle table of row objects,"declare
  plsql_table scd_type_table;
begin
  select VALUE(t) bulk collect into plsql_table from scd_table t;
  -- do stuff
end;
/
"
7154,48894,Stuck in database structuring,"create table users_cartoons (user_id int, cartoon_id int)
"
12962,70027,Select 2 COUNT()'s from MySQL query,"SELECT username, SUM(outcome) AS wins, COUNT(*) - SUM(outcome) AS losses
  FROM tblBattleHistory 
  WHERE battle_type = '0'
  GROUP BY username 
  ORDER BY wins DESC, losses
"
8839,43628,"Query, check where values are the same","ON formas.id_f = SMS_SERVISI.IDTICKET
"
33515,65629,How can I create a copy of an Oracle table and add new columns to it in same statement?,"CREATE TABLE TEST02
AS
SELECT  COL1                            AS COL3
,       CAST(COL2 AS VARCHAR2(20))      AS COL4
,       CAST(NULL AS DATE)              AS COL5
FROM    TEST01;
"
31079,31656,MySQL is not inserting a backslash,"INSERT INTO gender
(sex, date) VALUES (
'male are allowed \\ female are not allowed',
""2012-10-06"")
"
25768,41451,"MySQL - if row is duplicate, return only the first one","SELECT *
FROM results r
WHERE NOT EXISTS (select 1 from results r2 where r2.user_id = r.user_id and r2.id > r.id)
ORDER BY score DESC;
"
20225,16551,select rows with max date till current date as well as all the rows greater than today date,"SELECT T.*
FROM mytable T
WHERE T.effective_date =
    (SELECT MAX(T2.effective_date)
    FROM mytable T2
    WHERE T2.groupname = T.groupname
    AND T2.effective_date <= GETDATE())
OR T.effective_date > GETDATE()
"
22681,1201,Join statement with different conditions on different row set,"RowID <100 on t1.ColA=t2.ColB 

UNION ALL

If RowID >=100 on t1.ColA=t2.ColB+1
"
7709,62273,How to find trigger in system which is using two DB?,"SELECT name,create_date 
FROM sys.triggers 
ORDER BY create_date DESC
"
27351,10744,How to execute an oracle stored procedure?,"begin 
    temp_proc;
end;
"
3812,15290,DATEDIFF rounding to the nearest 30 minutes,"ROUND(CAST(DATEDIFF(MINUTES, CAST(CAST(dbo.QuickLabDump.[Date Entered] AS DATE) AS DATETIME) 
                      + CAST(dbo.QuickLabDump.[Time Entered] AS TIME), CAST(CAST(dbo.QuickLabDump.[Date Completed] AS DATE) AS DATETIME) 
                      + CAST(dbo.QuickLabDump.[Time Completed] AS TIME)) AS FLOAT)/60,0)  AS [Hours TurnAround]
"
19714,50487,COUNT ifnull mysql query,"SELECT f.fleet_id,
       Count(pof.id) AS onboard
FROM   fleets f
       LEFT JOIN personnel_onboard_fleets pof
              ON f.fleet_id = pof.fleet_id
GROUP  BY f.fleet_id
ORDER  BY f.status;  
"
8044,70318,select row of minimum value without using rownum,"SELECT * 
FROM (
  SELECT NAME, DATE, ROW_NUMBER() OVER (ORDER by DATE) AS RowNum
  FROM LIST
  WHERE NAME = 'BLABLA'
) X
WHERE RowNum = 1;
"
2596,57898,SQL Query with Sum of Related Table,"select c.ID, c.LastName
from Clients c
join Orders o on o.ClientId=c.Id
join Payments p on p.OrderId=o.Id
where p.PaymentDate >= '2011-01-01'
group by c.ID, c.LastName
having sum(p.PaymentAmount) > 1000
"
8060,13841,TSQL- Rollup SQL 2005,"SELECT
	a.name,
	a.age,
	a.recordDate,
	SUM(a.weight - b.weight) as WeightDiff
FROM Details a
JOIN Details b 
	ON (b.age        = a.age
	AND b.name       = a.name
	AND b.recordDate = dateadd(dd, -1, a.recordDate)
		)
GROUP BY a.age, a.name, a.recordDate WITH ROLLUP
"
25100,33037,Opposite of IN operator in SQL,"WHERE lastname NOT IN ('Hansen', 'Pettersen')
"
17632,18492,Validate person without value in date column,"UPDATE employees 
   SET is_valid = (CASE WHEN datecolumn1 IS NULL
                        THEN 1
                        ELSE 0
                    END)
 WHERE empid IN (SELECT e.empid
                   FROM employees e
                  GROUP BY emempid
                 HAVING COUNT(*) > 1)
"
28556,59643,Postgresql - Merging three columns into one adds slash notation to end of ip addresses,"SELECT (host(thetablename.ipaddress::inet) || thetablename.firstname::text || thetablename.age::integer) 
AS personal_details
FROM thetablename
"
12822,12918,Access And/Or exclusions,"SELECT * FROM someTable WHERE (someTable.Field NOT LIKE '%RISK%') AND (someTable.Field NOT LIKE '%Blah%') AND someTable.SomeOtherField <> 4;
"
30434,15025,Select several latest values for different IDs,"SELECT t1.serialNumber,
    value,
    masterID
FROM TABLE t1
INNER JOIN (
    SELECT MAX(masterID) AS maxid,
        serialNumber
    FROM TABLE
    GROUP BY serialNumber
    ) t2
    ON t1.masterid = t2.maxid
        AND t1.serialNumber = t2.serialNumber
"
244,370,How convert '1305' char to the time format,"where    from_time < '0920'
         and to_time > '0850'
"
633,36834,Output between two dates mysql,"SELECT * FROM date_table 
WHERE start_date < '2013-06-10'
  AND to_date   > '2013-04-01'
"
34203,69218,seen getdate() to go 30 days ahead,"Update brugere Set trydato = DateAdd(Day,30,GetDate())
"
38754,23550,SQL left joining tables with ambiguous column names,"SELECT L.Title Listing_Title, LC.Title ListingCategory_Title,
       ... all your other columns ...
FROM ListingCategory_Listings LCL
LEFT JOIN Listing L ON LCL.ListingID = L.ID 
LEFT JOIN SiteTree_Live STL ON L.ID = STL.ID 
LEFT JOIN ListingCategory LC ON LCL.ListingCategoryID = LC.ID 
LEFT JOIN File F ON LC.IconID = F.ID
"
15717,49059,SQL stored procedure that needs to execute based on look up table value,"DECLARE @Today DATE
SET @Today = GETDATE()

IF EXISTS (SELECT 'x' FROM MyTable WHERE CAST(ColumnName as DATE) = @Today)
    BEGIN
      EXEC Sproc Here
    END
"
17258,5632,How to get previous row value,"select (ID, Value) from table as table1 join
inner join table as table2
on table1.ID = (table2.ID -1)
"
16046,28422,mysql - add column with precalculated values using closest representation from other table,"SELECT value.*,mapping.* 
  FROM value
  JOIN mapping
  JOIN
     ( SELECT value.id
            , MIN(ABS((value.value1+value.value2)-mapping.value))min_abs 
         FROM value
         JOIN mapping
        GROUP 
           BY id
     ) x
    ON x.id = value.id
   AND x.min_abs = ABS((value.value1+value.value2)-mapping.value)
 ORDER
    BY id;
"
30518,56393,update date if it is one day late,"    update t1
    set t1.curr_value_datetime = t2.curr_value_datetime
    from #temp t1
       join #temp t2
          on t1.curr_value_datetime - 1 = t2.curr_value_datetime
"
27553,15216,SQL to find last alpha value in a string,"select regexp_replace(col, '.*([a-zA-Z]).*', '\1')
from yourTable
"
10544,51231,Applying conditions to different sort than final one,"SELECT *
FROM
  ( SELECT ...
    FROM tableX
    WHERE created_at > @CheckDate 
    ORDER BY created_at ASC, id ASC
    LIMIT 5
  ) AS tmp
ORDER BY created_at DESC, id DESC
"
6335,49904,PostgreSQL constraint - only one row can have flag set,"create unique index on my_table (actual) 
where actual = true;
"
6610,72734,When does a deterministic function use the previous calculated value?,"select ( select get_name(:id) from dual )
   from your_table
"
9215,8014,Grouping of data,"select name, max(initial) as initial, max(followup) as followup
from t
group by name;
"
39899,69832,Total Quantity for each product query,"SELECT A.PRODUCTCODE, A.STOCKLEVEL, SUM(A.QUANTITY)
FROM PRODUCT A 
INNER JOIN PRODLINE B ON A.PRODUCTCODE=B.PRODCODE
GROUP BY A.PRODUCTCODE
"
31788,15085,two queries returning different data,"DECLARE @myF NVARCHAR(4), @FromDate DATE
SET @myF = 'abc4'
"
10148,15529,SQL: Set record to system Date,"ColumnName >= select DATEADD(MILLISECOND, 
((DATEPART(hh, GETDATE())*3600000)+(DATEPART(mi, GETDATE())*60000)+(DATEPART(s,  GETDATE())*1000) +DATEPART(MILLISECOND,GETDATE()))*-1,
    GETDATE())
"
25963,11174,Installing UDFs in Netezza (Aginity),"[nz@netezza group_concat]$ ls -1
GroupConcat.cpp
GroupConcatSep.cpp
install
[nz@netezza group_concat]$ ./install testdb
CREATE AGGREGATE
Created uda
Done
CREATE AGGREGATE
Created uda
Done
"
8608,3055,Conditional Split in SSIS based on the number of times a character appears in a string,"LEN([email]) - LEN(REPLACE([email], ""@"", """"))
"
24269,24905,Symfony query on intermediate table,"$id = 1; // Your event id

$repository = $this->getDoctrine()
    ->getRepository('AcmeDemoBundle:Entity');

$query = $repository->createQueryBuilder('g')
    ->select('e')
    ->leftJoin('g.events', 'e', 'WITH', 'e.id = :id')
    ->setParameter('id', $id)
    ->getQuery();

$events = $query->getResult();
"
31375,52428,SQL Adding Within Statment,"SELECT 
    OrderID,
    OrderNum,
    Amount ,
    SUM(Amount) OVER (PARTITION BY OrderID) as Total
FROM OrderLine
"
23412,38947,How to make Shiny reactivity work with SQL database?,"output$download <- downloadHandler(filename = function() {paste(Sys.time(), ' Fltered_data.csv', sep='')}, content = function(file) {write.csv(sqlOutput()[input$table_rows_all, ], file, row.names = FALSE)})
"
35377,5694,MySQL regex matching at least 2 dots,"SELECT * FROM `users` where mail REGEXP '([^.]*\\.){2}'
"
9409,71243,Reference a field on a form within a query using SQL,"""SELECT * FROM ["" & FROM [FORMS]![DASHBOARD]![Combo0] & ""]""
"
31990,31263,T-SQL and/or LINQ query with multiple criteria,"SELECT d.DocumentID
FROM tmpDocument d
LEFT JOIN tmpBatchDocument bd 
    ON bd.DocumentID = d.DocumentID
LEFT JOIN tmpBatch b
    ON b.BatchID = bd.BatchID
WHERE
    d.IsVoid = 0
GROUP BY d.DocumentID
HAVING 
    COUNT(bd.BatchDocumentID) = 0
    OR COUNT(CASE WHEN b.IsVoid = 0 THEN 1 END) = 0
"
3648,28851,First timers database schema for a MySQL database,"Q> Is this a structurally sound design?
A> Yes
Q> Is it inadvisable to have columns besides foreign keys in a linking table?
A> It's common to have additional columns
"
23261,52737,SQL intersect get all matching rows,"with cte as
(select t2.*,
        count(t1.field1) over (partition by t1.field2) t1c,
        count(t2.field1) over (partition by t2.field2) t2c
 from table1 t1
 full join table2 t2 on t1.field2 = t2.field2)
select distinct field1 from cte where t1c=t2c
"
20169,42205,How to restrict a user to access objects of only one schema in SQL Server 2008?,"DENY SELECT ON schema::[dbo] TO [user_name]
DENY SELECT ON schema::[other_schema] TO [user_name]
GRANT SELECT ON schema::[safe_schema] TO [user_name]
"
30810,40211,Find unmatched records,"SELECT * FROM forms 
LEFT OUTER JOIN records
ON forms.form_id = records.form_id
WHERE records.form_id IS null
"
23462,36560,Adding elements in a Varray,"UPDATE employees
  SET ls_pnm = list_surname('<list of values>')
 WHERE name ='<conditions>';
"
8771,64038,Comparing in SQL and SUM,"select
   month
   ,year
   ,subcategory
   ,privatelabel
   ,sum(price) as [total sales]
from
   a inner join b ...
where
   any where clauses 
group by
   month
   ,year
   ,subcategory
   ,privatelabel
"
39379,30677,Transferring data to another table using SQL,"insert into CatProduct(CatID, ProductID)
select 1, ProductID
from Product
where Cat1 = 'Y'
union all
select 2, ProductID
from Product
where Cat2 = 'Y'
union all
select 3, ProductID
from Product
where Cat3 = 'Y'
"
33741,42841,Add two different tables with one matching column name in SQL server 2005,"select 
    isnull(t1.name,t2.name) as name,
    isnull(t1.Tpens, 0) as Tpens,
    isnull(t1.Tpencils, 0) as Tpencils,
    isnull(t1.Tbooks, 0) as Tbooks,
    isnull(t2.Dpens, 0) as Dpens,
    isnull(t2.Dpencils, 0) as Dpencils,
    isnull(t2.Dbooks, 0) as Dbooks
from table1 as t1
full outer join table2 as t2 
    on t1.name = t2.name
"
31243,24500,How to select last row from a series of linked rows,"with recursive all_redirects as 
(
   select from_url, 
          to_url, 
          1 as level
   from redirects
   where from_url = 'orange'

   union all

   select c.from_url,
          c.to_url,
          p.level + 1
   from redirects c
     join all_redirects p on p.to_url = c.from_url
)
select to_url
from all_redirects
order by level desc
limit 1;
"
37340,36623,SQL DELETE using DATE,"delete from customer
where not exists (select 1 
                  from sale
                  where sale.custId = customer.CustNo
                    and sale.saledate >= date '2009-01-01')
"
30994,8564,Caché SQL - Convert Minute format to Hours,"SELECT ((myField*100)+RIGHT(myField,2))/60 
         || ':' 
         || RIGHT('00'(((myField*100)+RIGHT(myField,2))#60),2) 
From myTable
"
11419,293,Biased random in SQL?,"DECLARE @sample TABLE (id int, boost int)

INSERT @sample VALUES (1, 1), (2, 2), (3, 7)

SELECT
    RAND(CHECKSUM(NEWID())) * boost  AS weighted,
    SUM(boost) OVER () AS boostcount,
    id
FROM
    @sample
GROUP BY
    id, boost
ORDER BY
    weighted DESC
"
3364,67720,"DataMapper query - last year, last month etc","d = DateTime.today
p = d.prev_month
py = d.prev_year
last_month = Data.all(:date => (DateTime.new(p.year, p.month)..DateTime.new(d.year, d.month))
last_year = Data.all(:date => (DateTime.new(py.year)..DateTime.new(d.year))
"
18237,29375,List columns of multiple row as rows (postgres SQL),"select a.key
from anothertable a
where exists (select 1 from tbl_keys_link p pairs.key_1 = a.key and pairs.key_2 = 1) or
      exists (select 1 from tbl_keys_link p pairs.key_2 = a.key and pairs.key_1 = 1);
"
30089,4062,"SQL joining tables (a,b) - but only rows from a","select o.customer_email, 
     a.prefix 
from sales_flat_order o 
 left JOIN (Select  distinct a.prefix, a.parentid 
            from sales_flat_order_address) a
 on o.entity_id = a.parent_id
"
3311,35521,How to get count of last null values rows of column,"select count(RowId)
from table1
where StartTime > (select MAX(EndTime) from table1)
and EndTime IS NULL
"
4648,23809,Setting the parameters of a SP from a table row,"declare @uploadedBy varchar(50)
declare @anothervariable whatevertype 

select @uploadedBy=uploadedBy, 
       @anothervariable=anotherColumn 
from CommonImport 
where CommonImportID=@CommonImportID
"
36570,69881,Calculate Duration between two dates (Month and Year will be Considered),"Declare @SDate DateTime ='06-Jan-2009'
Declare @EDate DateTime ='12-Oct-2009'


select case when DateDiff(M,@sDate,@EDate) <=12 
            then DateDiff(M,@sDate,@EDate) 
            else Round( ( Convert(Decimal(18,0)
                                   ,DateDiff(M,@sDate,@EDate)/12.0)),0) end
"
16372,8895,Solution to #13 of SQL Join in SQLZoo,"SELECT mdate, 
       team1, 
       SUM(CASE WHEN teamid = team1 THEN 1 ELSE 0 END) AS score1, 
       team2, 
       SUM(CASE WHEN teamid = team2 THEN 1 ELSE 0 END) AS score2 FROM
    game LEFT JOIN goal ON (id = matchid)
    GROUP BY mdate,team1,team2
    ORDER BY mdate, matchid, team1, team2
"
6929,9930,SQLite3 performance with OR of BETWEEN ranges,"SELECT * FROM sometable WHERE ID BETWEEN 10 AND 11
UNION ALL
SELECT * FROM sometable WHERE ID BETWEEN 20 AND 21
UNION ALL
SELECT * FROM sometable WHERE ID BETWEEN 30 AND 31 
...
"
16397,37248,How to classify specific data in groups with an sql query,"DECLARE @test TABLE 
(
    id int IDENTITY,
    value int
)

INSERT INTO @test (value) VALUES
(1),
(2),
(3),
(95),
(140),
(141),
(193),
(240),
(300),
(301)

SELECT value, 
    CASE 
        WHEN value <= 90 THEN 1
        WHEN value <= 140 THEN 2
        WHEN value <= 190 THEN 3
        WHEN value <= 300 THEN 4
        ELSE 5
    END AS group
FROM @test
"
37854,8763,create query with fetch,"select distinct r from Route r 
inner join r.places p
left join fetch r.places
where p.city = :city
"
21519,73291,SQL Exclude duplicate entries meeting specific criteria (traditional where logic wont work),";With Cte As
(
    Select  ID, ACCT, TYPE, 
            Sum(Case When TYPE = 'A' Then 1 Else 0 End) Over (Partition By ID) NumA
    From    YourTable
)
Select  ID, ACCT, TYPE
From    Cte
Where   NumA < 2
"
4959,19051,Referencing variable length relation path in where clause,"MATCH (u:user{id:1})-[]->(e:event)
OPTIONAL MATCH (e)-[]->(x)
RETURN coalesce(x, e) as n;
"
21158,30037,Access - Merge two databases with identical structure,"SELECT t.ID, t.Field1, t.Field2 INTO NewTable FROM
(SELECT a.ID, a.Field1, a.Field2
FROM Table1 A
UNION
SELECT x.ID, x.Field1, x.Field2
FROM Table1 x IN 'C:\docs\db2.mdb'
WHERE x.ID NOT IN (SELECT ID From Table1)) t
"
15191,4608,MySQL Query: Consider A Value As Another Value,"SELECT COUNT(*), CASE Type WHEN ""I"" THEN ""V"" ELSE Type END as NewType
FROM Table 
GROUP BY CASE Type WHEN ""I"" THEN ""V"" ELSE Type END
"
22918,32700,SQL Server : get part of string between 'ServicePassword=' and '&' in a url string,"SELECT
    substring(
        Parameters, 
        charindex('ServicePW=', Parameters) + 10, -- len('ServicePW=')
        charindex('&', substring(Parameters, charindex('ServicePW=', Parameters), len(Parameters))) - 11 -- (- len('ServicePW=') - 1)
    )
FROM
    Table 
WHERE 
    TestID = 8
"
37502,14159,How to write dynamic SQL using values from a table,"/* set up a few parameters */
DECLARE @table_name AS nvarchar(100)
DECLARE @column_name AS nvarchar(100)
DECLARE @SQLQuery AS NVARCHAR(1000)

/* set the parameter values */
SELECT @table_name=TheTable, @column_name=TheColumn 
FROM TestTable
WHERE -- ADD SOME LOGIC HERE TO GET SINGLE ROW

/* Build SQL String with parameters */
SET @SQLQuery = 
'SELECT ' + @column_name + 
' FROM ' +  @table_name 
-- + ' WHERE clause if required'

/* Execute SQL */
EXECUTE(@SQLQuery)
"
8748,20333,Why does LIKE '%%' depend on irrelative joins?,"SELECT *
FROM
(
  SELECT ... FROM mytable t
  LEFT OUTER JOIN mytable2 t2 ON t2.attr = t.attr1
  LEFT OUTER JOIN mytable3 t3 ON t3.attr = t.attr3
  ...
  LEFT OUTER JOIN mytableN tN ON tN.attr = t.attrN
)
WHERE tK_attrP LIKE '%Something%';
"
20711,12282,How to copy multiple records in MySql?,"INSERT INTO tb_products
SELECT NULL id, field1, field2, field3, ...
FROM tb_products
WHERE id IN (id1, id2, id3, ...)
"
24849,803,SQL conditional join with deifferent fields,"select * from table as x where x.field1 = 1 AND x.field2 = x.field3
union [ALL]
select * from table as y where x.field1 = 2 AND y.field4 = y.field5
"
4193,62442,access help to dynamicaly determin a records date changes across fields,"Retest Estimate
-----------------
defect_id
estimate_date
ready_date
"
12617,48996,How do I create tables for the following schema ?,"CREATE TABLE users
(
  id INT NOT NULL PRIMARY KEY, 
  name VARCHAR(64),
  user_id INT,
  CONSTRAINT fk_users_user_id FOREIGN KEY (user_id) REFERENCES users (id)
);

CREATE TABLE accounts
(
  id INT NOT NULL PRIMARY KEY, 
  user_id INT NOT NULL, 
  email VARCHAR(64), 
  password VARCHAR(32),
  CONSTRAINT fk_accounts_user_id FOREIGN KEY (user_id) REFERENCES users (id)
);
"
34240,61746,How to design a database schema for an approval system,"select *
from users u
join sportClub sc on u.ClubId = sc.ClubId and 
                 (u.NumberApproved > 3 or u.NumberApproved = 
                 (select Count(*) from users us where us.Name <> ""Name Variable""))
where u.Name = ""Name Variable""
"
39778,23758,Stored Procedures - To pass two values to a stored procedure,"foo like '%ab_d'
"
6058,2800,Splitting a column over a comma & inserting into a (many-to-many) table,"CREATE TABLE posts_tags (
  id      serial  PRIMARY KEY,
  post_id integer REFERENCES posts,
  tag_id  integer REFERENCES tags
);

INSERT INTO posts_tags (post_id, tag_id)
  SELECT p.id, t.id
  FROM posts p, regexp_split_to_table(p.tags, ',') AS x(tag), tags t
  WHERE btrim(x.tag) = t.""text"";
"
19922,8264,How to write a query which fetches data from a table without the quotes and double quotes in the data stored,"select EmpID,
         replace(replace(EmpName,'""', ''),'''','') Empname, 
          replace(replace(CompName,'""', ''),'''','') CompName 
from table 
"
211,16600,Combining two columns into one column with text added,"select 
  'There were a total of '
  + cast(count(*) as varchar(10)) 
  + ' invoice(s) on '
  + convert(varchar(12), yourDateCol, 107)
from invoices
group by convert(varchar(12), yourDateCol, 107)
"
10923,27386,SQL Server efficiently filter rows where times are not near another table's times,"SELECT t1.id,
       t1.value
  FROM temp1 t1
 WHERE NOT EXISTS(SELECT NULL
                    FROM temp2 t2
                   WHERE t2.value BETWEEN DATEADD(MINUTE, -1, t1.value)  
                                      AND DATEADD(MINUTE, 1, t1.value))
"
35336,71572,SQL Between Dates- Format an Issue?,"Select EmailAddress,Birthday From table1 Where Birthday Between to_date('01-01-1946','MM-DD-YYYY') AND to_date('01-01-1988','MM-DD-YYYY');
"
28281,3223,Doctrine Query <timestamp,"$datetime = // your timestamp

->where('t.somefield < ?', date('Y-m-d H:i:s', strtotime($datetime))
"
25695,802,SAS/SQL Choose random row by group,"Proc SurveySelect data=Have out=Want noprint
    Method = urs
    N = 1
    outhits
    rep = 1;
    Strata Id ;
run;
"
28831,8358,SQL - Compare Values from Ajax array and DELETE them IF NOT in TABLE,"delete from table1
where not exists (
  select null from table2 where table2.word = table1.word
)
"
30090,9811,Sql query split by a date range,"SELECT 
    student, 
    DATE_FORMAT(ApplicationDate,'%m/%Y') as Month
    count(id) as Applications
from YourTable
group by ApplicationDate
"
26074,28182,Extracting multiple choice answers stored in single database field as integer,"SELECT Customer, answer, 
answer & POWER(2,0) pos1,
answer & POWER(2,1) pos2,
answer & POWER(2,2) pos3,
answer & POWER(2,3) pos4,
answer & POWER(2,4) pos5,
answer & POWER(2,5) pos6,
answer & POWER(2,6) pos7
from (
SELECT 1 Customer, 6 answer
union all
SELECT 1 Customer, 2 answer
union all
SELECT 1 Customer, 62 answer
) F
"
4643,74818,How to generate better SQL from Linq2Sql query,"DateTime now = DateTime.Now;
var data = from d in dc.GAMEs 
    where (d.GAMEDATE > now.Date) ||
          (d.GAMEDATE == now.Date && d.GAMETIME.Value.TimeOfDay >= now.TimeOfDay)
    select d; 
"
8606,53761,"MYSQL: how to return 0 on count foreign key, if its not exist","SELECT IFNULL(COUNT(cf.id), 0) AS reserved, f.id 
FROM flights f
LEFT JOIN clientflights cf 
ON f.id = cf.idFlight 
GROUP BY f.id
"
8255,29462,Returning the 4 most recent orders for each customer,"SELECT CustomerId, OrderDate
FROM Orders as ExtOrders
WHERE OrderId IN (
     SELECT TOP 4 OrderId
     FROM Orders
     WHERE CustomerId LIKE ExtOrders.CustomerId
     ORDER BY OrderDate DESC)
ORDER BY CustomerId; -- Might not work in SQLFiddle if CustomerId is text
"
13311,56172,Selecting groups in which all elements satisfy a condition,"SELECT position_id
FROM trades
GROUP BY position_id
HAVING COUNT(*)=COUNT(exit_date)
"
17596,4525,XML Mapping in Mule,"//parse
records = new XmlSlurper(false,false).parseText(payload)
//find Party with type XXXXXXXX
party = records.Parties.Party.find { e -> e.PartyType.text().equals('XXXXXXX') }
//set data
party.Zip.replaceBody(flowVars['zip'])
party.City.replaceBody(flowVars['city'])
//rebuild the xml
import groovy.xml.XmlUtil
import groovy.xml.StreamingMarkupBuilder
streamingMarkupBuilder=new StreamingMarkupBuilder()
result = XmlUtil.serialize(streamingMarkupBuilder.bind{mkp.yield records})
"
26700,22462,Index in query plan is skipped when using OR condition in Postgres,"SELECT *
FROM my_table
WHERE kind = 'type1'
UNION ALL
SELECT *
FROM my_table
WHERE kind IS NULL;
"
31230,11075,How to query selection of cells in two columns alternatly hidden or replaced with character,"SELECT
    ID,
    CASE (ID % 2) WHEN 1 THEN Enlish ELSE '***' END,
    CASE (ID % 2) WHEN 0 THEN Polish ELSE '***' END

FROM
    Translations
"
16235,62739,Get Difference for Matching Records in ORACLE,"select name_col,
  min(case when extract(year from date_col) = 2014 then size_col end)
    - min(case when extract(year from date_col) = 2013 then size_col end)
from <your table>
group by name_col
order by name_col;
"
38543,17567,Get rid from one column duplicate values in two column select,"    SELECT t1.NAME, t2.ITEMS
    FROM t1 INNER JOIN t2 ON t1.id = t2.names_id
"
325,24430,Need to see if a set of dates put together are bigger or equal than a fixed range in sql,"with cte as (
      select cast('2015-07-01' as date) as dte
      union all
      select dateadd(day, 1, dte)
      from cte
      where dateadd(day, 1, dte) <= cast('2015-08-01' as date)
)
select loft
from t join
     cte
     on cte.dte between t.startdate and t.enddate
group by loft
having count(distinct cte.dte) = (select count(*) from cte);
"
18583,22376,Update Command with Case in SQLite,"UPDATE tableA
SET B = 'abcd',
    C = CASE
        WHEN C = 'abc' THEN 'abcd'
                       ELSE C
        END
WHERE column = 1;
"
31137,67394,SELECT all items in common between two users from a SINGLE TABLE,"SELECT Item_ID
FROM xyz
WHERE  User_ID IN ('A','B')
GROUP BY Item_ID
HAVING COUNT(distinct user_id) = 2
"
20151,23667,Selecting Multiple ID's in one Select,"select group_concat(id, ',') as ids, name, surname, sum(time) as time
from table t
group by name, surname;
"
29370,29345,Teradata / Report Buildeer 3.0 cast date between 2 different data types,"  select jsdate, jsn, junit, jmyear, jmake, jmodel, jseries, jbuyid
    from vehicle_mgmt.AA0888
    where jfinowngp = 'B1' and jfinownbr = '99' and 
CAST(jsdate - 19000000 AS DATE FORMAT 'mm/dd/yyyy') between 
CAST('2015/11/05' AS DATE) 
and CAST('2015/12/31' AS DATE)
"
4527,9763,SQL Foreign key to a table with a composite primary key," ...
 FOREIGN KEY(FIELD_1,FIELD_2) REFERENCES regioni(FIELD_1,FIELD_2)
 ...
"
22459,54409,Return row counts for field that appears more than x times,"SELECT StateCode, Count(*) As StateCodeCount
FROM ZipCodeTerritory
Group By StateCode
HAVING COUNT(*) > 300
"
832,69042,DateDiff is not working,"con = DriverManager.getConnection(Module.url, Module.username, Module.password);
String sql3 = ""Update resume set DateDifference=cast(DATEDIFF(End, Now()) as char(50))"";
ps3 = con.prepareStatement(sql3);
ps3.executeUpdate();
"
28125,68904,Can't delete all records except first one,"DELETE FROM `History`
    WHERE ID = '3' AND
           Date NOT IN (select mindate
                        from (SELECT min(Date) as mindate FROM `History` WHERE ID = '3')
                       )
"
14715,73323,MySQL string to set and get intersection,"SELECT col1,
       col2,
       CONCAT('(', REPLACE(col2, ',', '(\\,|$)|'), '(\\,|$))') AS regex,
       col1 REGEXP CONCAT('(', REPLACE(col2, ',', '(\\,|$)|'), '(\\,|$))') AS intersect
FROM tbl
"
24015,4265,Calculate the time after converting into a new datatype,"SELECT ROUND(CAST( Mins AS FLOAT)/60,2) AS [hour]
FROM (
SELECT DATEDIFF(minute, CAST(StartTime AS TIME),CAST(EndTime AS TIME)) AS Mins 
    FROM  Data
) A
"
38954,2908,Can i get a SUM(Qte) in incremental manner,"select t.*,
       (select sum(t2.qte) from table as t2 where t2.id <= t.id) as QteLevel
from table as t;
"
8439,39357,Select non-matching record in same table - SQL,"select distinct(report_number)
from reports 
where report_type='A' and report_number not in (select report_number from reports where report_type='B')
"
17267,67994,SQL AND OR query,"SELECT Date, From, To, Data 
FROM Ccustomers WITH (NoLock)
WHERE MSGowner = 'ABC' 
AND Data LIKE '%ABCDEF%' 
AND 
(
   ([From] = 'Customer'  AND [To] = 'CSservice') OR 
   ([From] = 'CSservice' AND [To] = 'Customer')
)
ORDER by Date
"
4247,60962,How to convert fields to rows in Sql,"with fnames as
(
 select fname Name, ROW_NUMBER() over (order by fname,lname) rank from myTable
), lnames as
(
 select lname Name, 0.5 + ROW_NUMBER() over (order by fname,lname) rank from myTable
),
merged as 
(
 (select * from fnames) union (select * from lnames)
)
select Name from merged order by rank
"
28795,34660,ROR How to limit user actions,"before_action :check_admin, only: [:admin_actions_array]
before_action :check_user, only: [:create, :delete]

def check_user
  return false unless current_user
end

def check_admin
  return true if current_user.admin
end
"
27569,29857,MySQL: Query in a Query?,"INSERT INTO shared (type, account, id)
SELECT 'twitter' type, 'my-twitter-account' account, MIN(a.id) ID
FROM    items a
        LEFT JOIN shared b
            ON a.id = b.id
WHERE   b.id IS NULL
"
19227,15036,How to update value of fields in a table found in every schema on an Oracle Server,"FOR tbl IN (SELECT owner, table_name
              FROM dba_tables
             WHERE table_name = 'MYTABLE')
LOOP
  EXECUTE IMMEDIATE 'update ' || tbl.owner || '.' || tbl.table_name ||
                    '  set field1 = ''N'', ' ||
                    '      field2 = null ';
END LOOP;
"
16850,30183,Combining duplicate results,"SELECT REQUESTS.CUST, SUM(PRICE.COST)
FROM REQUESTS
JOIN PRICE ON REQUESTS.SERV = PRICE.SERV
GROUP BY REQUESTS.CUST
ORDER BY REQUESTS.CUST ASC
"
18766,19487,SQL Server - CTE - With Intersect in recursion,"declare @startdate date, @enddate date
set @startdate = '20140101' 
set @enddate = '20140103'

select cusip
from asset_data
where t >= @startdate and t <= @enddate
group by cusip
having count(distinct t) = datediff(d, @startdate, @enddate) + 1
"
14818,51707,SQL Conditional Join (with/without parameter) in Stored Procedure,"ALTER PROCEDURE [dbo].[SPSample]
@gender varchar(20) = null
@username varchar(20) = null
AS

SELECT
per.firstName,
per.lastName,
per.gender

FROM person per
LEFT JOIN account ac 
ON     @username is not null 
   AND @username = ac.username 
   AND ac.idPerson = per.idPerson

WHERE --(
gender = @gender
--AND (@username is null or (@username is not null and @username = acc.username))
"
7819,27666,T-SQL: Include a row count as a column for unique rows,"SELECT Col1, Col2, Col3, COUNT(*) AS Total
FROM TableA
GROUP BY Col1, Col2, Col3
"
27141,8344,SQLite - Index of record,"select count(*) as position
from town t
where t.name <= (select t2.name from t2 where t2.idtown = 9961)
"
18522,42032,Change database of a ColdFusion website,"<cfscript>
    if (cgi.path_info contains ""dwtest"") {
    dsn = ""AntibioticsTest"";
    } else {
    dsn = ""Antibiotics"";
}
</cfscript>

<cfquery name=""GetLastInsertDates"" datasource=""#dsn#"">
sql not relevent
</cfquery>
"
26774,51103,Size/Length and Type of a SQL table,"select DATA_TYPE, CHARACTER_MAXIMUM_LENGTH, NUMERIC_PRECISION
from INFORMATION_SCHEMA.COLUMNS
where TABLE_NAME = 'tableName' and COLUMN_NAME = 'ColumnName'
"
17913,74045,SQL Table Rows to Columns - Possible PIVOT?,"SELECT p.*
FROM (
  SELECT dnId, propertyName, propertyValue FROM myTable
) AS t
PIVOT(
  MAX(propertyValue)
  FOR propertyName IN (objectsid, _objectclass, cn, samaccountname, name)
) AS p;
"
25063,32878,"Maintaining order in MySQL ""IN"" query","SELECT * FROM foo f where f.id IN (2, 3, 1)
ORDER BY FIELD(f.id, 2, 3, 1);
"
5199,52393,Limiting the number of columns in a chart in an access-report,"SELECT (Format([Date_Consumption],""mmm"")) AS Date_Cons, Consumption FROM Cons 
where Date_Consumption > '08-Feb-2012'(if you run your report today)
"
29810,69434,MySQL: Update all rows in 2 table matching results of another query,"UPDATE T1
SET ID = T2.Value
FROM    Table_1 AS T1
    INNER JOIN Table_2 AS T2 ON T1.ID = T2.post_id
WHERE
    T2.pos_key = 'E_key'

UPDATE T2
SET post_id = NewIDs.Value
FROM    Table_2 AS T2
    INNER JOIN Table_2 AS NewIDs ON T2.post_id = NewIDs.post_id
WHERE
    NewIDs.pos_key = 'E_key'
"
16201,63687,How to delay loading a property with linq to sql external mapping?,"    private System.Data.Linq.Link<String> _content;
    [Column(Name = ""content"", DbType = ""NVarChar(MAX) NOT NULL"", Storage = ""_content"")]
    public String Content
    {
        get { return this._content.Value; }
        set { this._content.Value = value; }
    }
"
29666,52114,Ensuring Atomicity sql,"BEGIN TRANSACTION
UPDATE accounts set balance = balance - amount WHERE ac_num = 101
UPDATE accounts set balance = balance + amount WHERE ac_num = 102
COMMIT TRANSACTION
"
26214,35722,Right join with no main table needed (mysql),"SELECT t.last_date_chckin, COUNT(DISTINCT t.emp_id) AS CountEmp
FROM (
   SELECT emp_id, MAX(checkin_date) AS last_date_checkin
   FROM empcheckin
   GROUP BY emp_id
) AS t
GROUP BY t.last_date_chckin
"
4344,41895,SQL Query to split 1 value into 3 rows,"create table test(cola varchar(10),colb varchar(10),colc varchar(10))

insert into test select 'a','b','123'


    ;WITH CTE AS(
    select cola,colb,LEFT(colc,1) colc,RIGHT(colc,len(colc)-1) as rem from test
    union all
    select cola,colb,LEFT(rem,1) colc,RIGHT(rem,len(rem)-1) as rem from CTE
    where LEN(rem) >= 1
    )
    select cola,colb,colc from CTE
"
13520,44293,"New to sql, how to insert column values into new column?","update countryb set gnppercap = gnp/population
"
11736,36574,MySQL Stored Procedure pass in very large string values,"TINYTEXT   up to 2^8-1 bytes
TEXT       up to 2^16-1 bytes
MEDIUMTEXT up to 2^24-1 bytes
LONGTEXT   up to 2^32-1 bytes
"
20881,25266,SQL Server loop and insert in sql,";WITH Numbers (Number) AS 
(
    SELECT 0 
    UNION ALL
    SELECT 1 + Number FROM Numbers 
    WHERE 1 + Number <= 14
)
INSERT INTO [campusMap].[dbo].[zoom_levels] ([zoom_start],[zoom_end])
SELECT n1.Number, n2.Number 
FROM
    Numbers n1 CROSS JOIN
    Numbers n2
WHERE
    NOT (n1.Number = 0 AND n2.Number = 14)
"
12346,57353,"Get only results from table ""products"" if they have entries in two other tables (identified by ID and product type columns)","SELECT * FROM products p
LEFT JOIN tvs tvs ON tvs.id=p.idProduct AND p.type=""tv""
LEFT JOIN phones phones on phones.id=p.idProduct AND p.type=""phone""
WHERE (tvs.id IS NOT NULL OR phones.id IS NOT NULL)
"
518,72566,"In SQL, how to select the top 2 rows for each group","SELECT *
FROM   test s
WHERE 
        (
            SELECT  COUNT(*) 
            FROM    test  f
            WHERE f.name = s.name AND 
                  f.score >= s.score
        ) <= 2
"
11182,48442,Remove XML attribute based on value,"SET @XML.modify('delete (/person/@MobileNumber)[1]')
"
34568,15287,"Update query ""updatable query"" issue","UPDATE T1 SET Indicator = 1 
WHERE Indicator = 0
AND EXISTS (SELECT * FROM T1 AS T2 WHERE T2.Indicator = 1 AND T1.ID = T2.ID)
"
36718,16165,SQL Server - Default value,"CREATE TRIGGER CountriesTrigger ON Countries AFTER INSERT        
AS
BEGIN

  SET NOCOUNT ON

  UPDATE Countries
  SET
    Countries.CountryRegion = inserted.Country
  FROM Countries, inserted
  WHERE Countries.ID = inserted.ID 
        AND inserted.CountryRegion is null

END
"
6197,38106,SQL Query to List,"DECLARE @MyCSV Varchar(200) = ''

SELECT @MyCSV = @MyCSV +
CAST(faulttype AS Varchar) + ','
FROM @Simfaults
GROUP BY faultType

SET @MyCSV = LEFT(@MyCSV, LEN(@MyCSV) - 1)

SELECT @MyCSV
"
1657,26166,SQL Query for combining two tables even if certain fields are blank empty,"SELECT T1.VchID, T2.CustomerName 
FROM Table1 T1
   LEFT JOIN Table2 T2 ON T1.CustomerID = T2.CustID
"
20565,11030,SQL server return only single row or null,"SELECT whatever FROM
    (
       SELECT whatever, COUNT(*) As NumRecords
       FROM MyTable
       WHERE something = myQuery
       GROUP BY whatever
       HAVING NumRecords = 1
    )
"
11708,63001,How to use GROUP BY syntax in this multi-JOIN statement with a CASE statement?,"SELECT s.s_id, s.t_id, c.c_id, c.desc, sm.user_id,
  MAX(sm.user_id = @userid) AS does_user_own_product
FROM s s
INNER JOIN c c
ON s.c_id=c.c_id
INNER JOIN sm sm
ON s.t_id = sm.t_id
WHERE s.c_id=8
GROUP BY s.s_id;
"
31023,64877,merge two queries with different where into 1,"SELECT  MeasureDate, col1, col2
FROM Table1
WHERE Col3 = 2
  or (Col3 = 1 AND Col4 = 7000);


SELECT  sum(col1) / sum(col2) AS Percentage , GROUP BY MeasureDate
FROM Table1
WHERE Col3 = 2
  or (Col3 = 1 AND Col4 = 7000)
GROUP BY MeasureDate;
"
37972,53520,Select from one table where not in another,"SELECT pm.id FROM r2r.partmaster pm
WHERE pm.id NOT IN (SELECT pd.part_num FROM wpsapi4.product_details pd)
"
32665,56774,How to retrieve top 10 entries?,"select atheletename from table order by time limit 0,10
"
2824,55073,SQL between dates including start and end dates,"CURDATE() BETWEEN start_date AND DATE_ADD(end_date, INTERVAL 1 DAY)
"
8342,32025,How to generate values in dataset," INSERT INTO newTable
 SELECT tb1.userID, tb1.SongID, tb1.Rating, tb2.GenreID
 FROM tab1
 LEFT JOIN tab2
 ON tab1.SongID = tab2.SongID
"
20218,51414,How to count using LEFT JOIN?,"SELECT
    e.Company,
    COUNT(l.LeadId) AS Actions
FROM
    Exhibitors AS e 
    LEFT JOIN Leads AS l
        ON l.ExhibitorID = e.ExhibitorID
        AND l.ContractorID = 100
        AND l.ShowID = ""20120228AB""
GROUP BY e.Company
ORDER BY Actions DESC
LIMIT 20;
"
27200,2641,Don't return any result if the precedent query has at least 1 result?,"select t1.* 
   from 
      ( select if( count(*) > 0, 1, 2 ) IncludeType
           from tbl t2
           where t2.type = 1 ) preCheck,
      tbl t1
   where 
      t1.type = preCheck.IncludeType
"
3982,66649,SQL auto increment range or exclude numbers,"  Set Identity_Insert [TableName] On
  -- --------------------------------------------
  Insert TableName (pkCol, [OtherColumns])
  Values(pkValue, [OtherValues])
  -- ---- Don't forget to turn it back off ------
  Set Identity_Insert [TableName] Off
"
34654,58361,Neo4j Match statement that includes a property that isn't in the database,"MATCH n 
RETURN n.Name, n.City, 'yes' AS status
"
6631,10146,how to subtract in mysql at the same row based on another column,"SUM(currency_Amount * IF(Tran_type = ""Bought"", 1, -1))
"
9487,21858,SQLite SELECT with JOIN and GROUP?,"SELECT p.product_code AS ""Product Code"",
    p.description AS ""Description"", 
    SUM(CASE WHEN ri.quantity IS NULL THEN 0 ELSE ri.quantity END) AS ""Quantity"" 
FROM products AS p
    LEFT JOIN receipts_items AS ri ON ri.product_code = p.product_code
GROUP BY p.product_code
ORDER BY SUM(ri.quantity) DESC
"
28426,774,How to Structure Table to Model Mutually Exclusive 1:n Relationships?,"Food
    (
    food_id,
    foodName,
    foodType
    )

favoriteFoods
    (
    favoritefood_id,
    fkfood_id
    )
"
28981,33760,Filter students that have not passed a subject yet,"SELECT `Reg.No`, SubjectCode, SUM(`Pass/Fail` = 'Pass')
FROM results
GROUP  BY `Reg.No`, SubjectCode
HAVING SUM(`Pass/Fail` = 'Pass') = 0;
"
28550,23629,Simultaneous conflicting update queries,"UPDATE table 
   SET HatSize = CASE 
                      WHEN HatSize = '3' THEN '4'
                      WHEN HatSize = '4' THEN '3'
                 END
"
18261,996,Copying rows from one table to another without duplicates using eloquent/fluent,"// Get the books you want to copy
//using your query or you can also use (distinct()) to get unique records
// iterate through the books that have a unique name
foreach ($products as $product){
    // save them in your music table using either your model or an insert query
    $song = Music::create(array($product->name ...etc...));
}
"
8840,52584,Convert enum value to some labels in SQL Power Wabit," declare @OrderStatus as int = 10

 Select Case When @OrderStatus = 10 Then 'Pending'
        When @OrderStatus = 20 Then 'Processing '
        When @OrderStatus = 30 Then 'Completed '
        When @OrderStatus = 40 Then 'Cancelled'
        Else '' End
"
24116,20329,Oracle SQL - Maximum from two select statements,"SELECT MAX(SALARY) FROM TABLE1 WHERE ROLE = 'MANAGER' OR ROLE = 'DEVELOPER'
"
1614,61598,check date between two dates or NULL in sql,"declare @fromDate date = null
declare @toDate date = null

select * from Mytable 
where date between coalesce(@fromDate,date) and coalesce(@toDate,date)
"
34980,10331,Subquery necessary for comparison?,"SELECT channels.* 
FROM channels
LEFT JOIN items_channels
  ON channels.id = items_channels.channel
LEFT JOIN items
  ON items_channels.item = items.id AND items.active = 1
WHERE channels.active = 1
GROUP BY channels.id
HAVING COUNT(items.id) = 0
"
27469,18896,PostgreSQL COALESCE with IN,"SELECT 
    coalesce(1 = any(null), true) a,
    coalesce(1 = any(array[1,2,3]), true) b,
    coalesce(1 = any('{1,2,3}'), true) c;

 a | b | c 
---+---+---
 t | t | t
(1 row)
"
31377,24159,Select data in range 5 month from different year in MySQL,"select * from t
where dt between date_sub('2015-03-01',interval 5 month) and
date_sub('2015-03-01',interval 1 month)
"
2166,46858,"SQL group by year+month, but get months w/o records too","select
dt.theyear,
dt.themonth,
sum(t1_count)

from
DateTable DT
left outer join table1 t1
  on dt.theyear = t1.t1_year
  and dt.theMOnth = t1.t1_month
group by
dt.theyear,
dt.themonth
"
9493,39710,How to delete using inner join in C-TreeACESQL?,"Create Table admin.dupes( col1, col2, col3 )
AS
select col1, col2,right(rtrim(col3),1) as col3 
FROM table
GROUP BY col1, col2,right(rtrim(col3),1)
having COUNT(NULLIF(ltrim(col4), '')) =1 and COUNT(*)=2

delete from table
where 
table.col4 is not  null and LTRIM(table.col4)<>''
and exists (select 1 from dupes d where table.col1 = d.col1 and table.col2= d.col2 and right(rtrim(table.col3),1) = d.col3
)

Drop Table admin.dupes
"
27430,52777,ORDER BY inside Decode Oracle Function,"DECODE(controlNumber, NULL, myOldNUmber, (SELECT myNewNumber FROM (SELECT myNewNumber FROM tableA A, tableB B WHERE A.control_id = B.control_id AND A.other_id = B.other_id ORDER BY createdTime) WHERE rownum=1) AS finalnumber
"
32924,55877,Combining count(*) with SQL statements into one table,"SELECT 'Number of Female users from table 2:' as Msg, 
       count(*) as Entries
  FROM table1
  WHERE age >57
UNION ALL
SELECT 'Number of users over the age of 57 from table 1:' as Msg, 
       count(*) as Entries
  FROM table2
  WHERE gender = ""female""
"
10576,29715,Select daily amount of specific values from same column,"SELECT
  DATE(timestamp),
  IFNULL(sum(case when satisfaction = 0 then 1 end), 0) as 'unhappy',
  IFNULL(sum(case when satisfaction = 5 then 1 end), 0) as 'neutral',
  IFNULL(sum(case when satisfaction = 10 then 1 end), 0) as 'happy' 
FROM feedback
GROUP BY DATE(timestamp)
"
29042,31936,Have a subquery return a row instead of a column,";WITH LastEmails
AS
(
   SELECT *, 
     ROW_NUMBER() OVER(ORDER BY Timestamp DESC) rownum
   FROM Emails
   WHERE Contact = @emailId
     AND (IsSent is null OR isSent = 0)
)
SELECT * FROM LastEmails
WHERE rownum = 1;
"
501,56498,.Net Dynamic table name in SQL query?,"""INSERT INTO `""+tableName+""` (`ADUC`, `DHCP`, `DISK`, `DNS`, `Exchange`, `HOSTNAME`, `HWID`, `IP`, `OS`) values (@aduc,@dhcp,@disk,@dns,@exchange,@hostname,@hwid,@ip,@os)""
"
364,45810,How to work with cross tables in MySQL?,"INSERT INTO book_author(book_id,author_id) 
SELECT 
    book.id, 
    author.id 
FROM 
    book 
JOIN 
    author 
WHERE 
    book.name = 'Mody Dick' 
    AND author.name = 'Melville'
"
7394,63830,Oracle - SQL with recursive WHERE clause,"WITH WGS (
    WORKGROUPID,
    NAME
) AS (
    SELECT WORKGROUPID,
        NAME
    FROM WORKGROUPS
    START WITH WORKGROUPID = :top-lev-dept
    CONNECT BY WORKGROUPID = PRIOR PARENTWORKGROUPID
)

SELECT DISTINCT T.*
FROM TASKS
INNER JOIN WGS W
    ON (T.WORKGROUPID = W.WORKGROUPID)
"
39831,18814,applying a query as a filter on another query's result MySQL,"SELECT  A.meta_value, A.meta_id 
FROM `wp_postmeta` A
INNER JOIN wp_posts  B
ON meta_id = id
WHERE A.`meta_key`= 'destination'
AND B.post_status = 'publish' 
GROUP BY   A.meta_value
"
19993,67568,Getting value from cursor,"Declare
    v_avgSal employees.salary%TYPE;
Begin    
    SELECT AVG(salary) into v_avgSal 
    FROM employees
    WHERE employee_id = 10 And 
          (payDate >= To_Date('01012015', 'MMDDYYYY') AND payDate < To_Date('01012016', 'MMDDYYYY'));
    Dbms_Output.Put_Line(v_avgSal);
End;
"
7137,59655,Separate SQL queries per word for dynamic pages?,"SELECT page_title, page_text, page_footer, page_blah 
FROM page_table
WHERE page_id = 123 AND lang = 'FR'
"
27835,52010,Django - filter by foreign key string,"def list(request, cat):
    c = example.objects.filter(category__catname=cat)
"
7145,53207,Is there any way to speed up a query using a CASE statement?,"(SELECT id
 FROM table
 WHERE columnName is not null
 GROUP BY columnName
)
union all
(select id
 from table
 where columnName is null
)
"
10881,37353,How to create a non-SQLEXPRESS instance for SQL Server 2012 developer edition,"SELECT SERVERPROPERTY('EDITION')
"
9284,72869,"mysql - group, but show all row of a column","SELECT  staff.name,
        staff.designation_id_designation,
        staff.status_id_status,
        GROUP_CONCAT(Concat_Ws('=', leave_remain.leave_type_id_leave_type, leave_remain.days)) AS remain
FROM    staff 
        INNER JOIN leave_remain 
            ON staff.id_staff = leave_remain.staff_id_staff
GROUP   BY staff.name, staff.designation_id_designation, staff.status_id_status  
"
35980,57750,MySQL Query to order by on two fields,"select *
from your_table
order by (mor + even), even;
"
14203,60868,Query not returning rows in a table that don't have corresponding values in another [associative] table,"SELECT a.id, a.content, w.name 
FROM articles a LEFT JOIN articles_to_writers atw ON a.id = atw.article_id  
  LEFT JOIN writers w ON w.id=atw.writer_id
WHERE a.content LIKE '%the%'
"
2079,25184,How to use distinct and count for multiple columns in SQL query,"WITH CTE_Testtable AS (
 SELECT 
  Cust_Name,
  Contract,
  Status 
 FROM
  TESTTable
 WHERE
 Status = 'Active'
 GROUP BY 
 Cust_Name, Contract, Status
)
SELECT
 Cust_Name,
 COUNT(Cust_Name) Active_Count,
 STUFF((SELECT ', ' + Contract
  FROM 
   TESTTable B
  WHERE 
   B.Cust_Name = A.Cust_Name 
   AND Status = 'Active'
  GROUP BY Contract
  FOR XML PATH('')), 1, 2, '') 
FROM
 CTE_Testtable A
WHERE
 Status = 'Active'
GROUP BY 
 Cust_Name
"
31532,13373,Can a single column of a table be grouped and concatenated into a single cell in SQL Server?,"select 
F.FacilityId,
F.[Address],
F.CountryCode,
STUFF(
(SELECT Distinct ', '+E.mail
from Facility F1
inner join ManagementDivision MD on F1.CountryCode=MD.CountryCode
inner join Manager M on MD.ManagementDivisionId=M.ManagementDivisionId
INNER JOIN Employee E ON M.ManagerID=E.EmployeeId
WHERE F1.Address=F.Address
AND F1.CountryCode=F.CountryCode
AND F1.FacilityId=F.FacilityId
FOR XML PATH (''))
  ,1,2,'') AS Email
from Facility F
"
20717,20518,SQL - GROUP BY not working with DateName,"SELECT Source , Event, max(Qty) --or min of qty
,DateName(WEEKDAY,( TranDate )) As DayOfWk
FROM OurDB
GROUP BY Source, Event, DateName(WEEKDAY,( TranDate ))
"
37194,40210,How can i use the query to get the output with comma seperator in oracle?,"select to_char(rate, '999.99'), to_char(amount, '999,999,999,999,999') from tt_table
"
26834,65327,Dynamically loading images from database to webpage momentarily messes up how the masterpage looks like,"imageClient.Style(""Width"") = ""100px""
imageClient.Style(""Height"") = ""100px""
"
27809,10908,MVC3 - Sorting db query when using Include,"storeDb.Albums.Where(a => a.Genre.Name == genre).OrerBy(a => a.Artist.Name)
"
9733,62885,hotel reservation system SQL: identify any room available in date range,"SELECT r.* 
FROM rooms r
  LEFT JOIN availability a ON (r.id = a.room_id 
 AND a.date_occupied BETWEEN :start_date AND :end_date)
WHERE a.id IS NULL
"
3599,22810,"How can I change a MySQL Text field so that all values are prefaced by ""-""","UPDATE foo SET text = concat('-', text) WHERE substring(text, 1, 1) <> '-'
"
298,75574,adding a case statement,"CASE WHEN nature_sites is null THEN '' else REPLACE ( ( SELECT VALUE FROM view_params 
WHERE parameter = 'nature_sites_url'),
'[nature_sites]',
nature_sites) END
"
21264,70712,Select On COUNT < x in a relational database,"SELECT TG.RecordNumber
FROM TestGroup TG
   LEFT JOIN Test T ON TG.RecordNumber = T.TestGroupRecordNumber 
   LEFT JOIN Result R ON T.RecordNumber = R.TestRecordNumber 
GROUP BY TG.RecordNumber
HAVING COUNT(R.TestRecordNumber) < X
"
23494,3488,Insert when does not exist but update on a condition if it does,"insert into mytable(EmpId, EmpName, Salary, Version)
    values ($EmpId, $EmpName, $Salary, $Version)
    on duplicate key update
        EmpName = (case when Version > 20 then Values(EmpName) else EmpName end),
        Salary = (case when Version > 20 then Values(Salary) else Salary end);
"
26078,62547,Best database field type for CONTENT_LENGTH Http Header,"   Content-Length: 3495
"
23908,64803,Is there a way I can concatenate two columns with different functions?,"select ('Q' + datename(quarter, [Evaluation Date]) + ' ' +
        datename(year, [Evaluation Date])
       ) as QYYYY
"
28153,62509,Sql select query with where from multiple columns,"select aprime.*
from (select cast (id as varchar(3))+cast (x as varchar(3)) c from a) aprime
where aprime.c='1a';
"
13558,38661,Update multiple rows based on values in other rows in same table,"UPDATE data_tab tab1
   SET value = (SELECT tab2.value
                FROM data_tab tab2
                WHERE tab1.id = tab2.id AND
                      tab2.sub_id = 3
              )
   WHERE tab1.id in (select id from ids_table) and
         tab1.sub_id = 2;
"
3761,8013,strip character in Oracle,"select (case when substr(termnum,1,3) = '011'
             then substr(termnum,4)
             else termnum
         end) as newTermNum
  from reject
"
21791,14778,"creating user profiles, each with personal mysql data, using php","user table
room table
item table
relational user->item (id, user_id, item_id, room_id) OR:
relational item->room
"
38873,31911,SQL: Select a string_id that only occurs once per page_id,"SELECT page_id, count(distinct string_id) 
FROM lang_strings
WHERE string_id != 'content'
GROUP BY page_id
HAVING count(distinct string_id) = 1
"
31541,6015,Maximizing performance of SQL indexes for VARCHAR columns with homogeneous prefixes,"SELECT * FROM Products WHERE ProductID LIKE 'FrobBar%'
"
28539,65814,Search for values apart from the letter case - ORACLE,"SELECT company_name 
FROM   companies 
WHERE  UPPER(companies) IN ('ABC', 'DEF', 'BDE', 'MNO'); 
"
19598,29748,How do I return the column name in table where a null value exists?,"select column_name+' is null or '
from information_schema.columns c
where c.table_name = 'table_name'
"
29519,25082,Check Contents of Field before using Concat in MySQL Update Statement,"update tableName
set columnName = 
  case when LENGTH(columnName) > 1
    then select concat(columnName, ',NEW DATA')
    else select 'NEW DATA' end
"
35736,20090,Is update with nested select atomic operation?,"WITH    q AS
        (
        SELECT  TOP 10000 *
        FROM    mytable WITH (ROWLOCK, READPAST)
        WHERE   batch_id IS NULL
        ORDER BY
                date
        )
UPDATE  q
SET     batch_id = @myid
"
26119,9647,Force postgres dump to use copy rather than INSERTS,"pg_dump -Fp -t some_table -h localhost -d thisDB -f /some_dir/bkup
                                      ^^^^
"
34959,49166,SQL - OVER and ORDERBY,"SELECT Foo.*,
    ROW_NUMBER() OVER (
        ORDER BY 
            NULL ASC,
            Foo.MeetingDate DESC
    ) AS RowOrder
"
27834,23861,SQL script to show posts from groups where user is member,"Select ...
From cs_post
Inner Join cs_group_member On cs_post.group_id = cs_group_member.group_id
Where cs_group_member.member_id = $MY_MEMBER_ID
"
22763,63983,how to check length of file using utl function,"DECLARE
 v_fexists      BOOLEAN;
 v_file_length  NUMBER;
 v_block_size   BINARY_INTEGER;
BEGIN
 UTL_FILE.FGETATTR
   ('MY_DIR', 'filename.extension', v_fexists, v_file_length, v_block_size);
 DBMS_OUTPUT.PUT_LINE (v_file_length);
END;
"
25064,14372,How can I count an SQL field for the number of results within a range?,"SELECT CASE WHEN OverdueBy >= 50 THEN '50+' 
WHEN OverdueBy >= 40 and OverdueBy < 50 THEN '40-49'
WHEN OverdueBy >= 30 and OverdueBy < 40 THEN '30-39'
.....
ELSE 'Less than that' END AS OverdueRange,
Count(*) as OverdueCount,
Sum(Amount) as [Total Amount]
From yourtable
group by CASE WHEN OverdueBy >= 50 THEN '50+' 
WHEN OverdueBy >= 40 and OverdueBy < 50 THEN '40-49'
WHEN OverdueBy >= 30 and OverdueBy < 40 THEN '30-39'
.....
ELSE 'Less than that' END 
"
37382,657,Select max from multiple tables using angularjs and sqlite,"SELECT MAX((SELECT MAX(_modification) FROM clientes),
           (SELECT MAX(_modification) FROM phones  )) AS lastS
"
29524,72100,Could I put a condition to filter my COUNT clause? mysql,"SELECT
    c.uid
info.fname,
info.lname,
info.phone,
info.email,
info.country,
info.date_create,
    COUNT(c.fid) AS [NoOfFriends]
FROM coin AS c
    JOIN users AS friend
        ON c.fid = friend.id
    LEFT JOIN users AS info
        ON c.uid = info.id
WHERE friend.date_create < '20121031'
GROUP BY c.uid
"
19097,35569,mysql - How can I get the first result from a subquery?,"SELECT pa.albumId, pa.title, p.src
FROM Album pa
LEFT JOIN Photo p 
  ON p.photoId = (SELECT MIN(photoId) FROM Photo WHERE albumId = pa.albumId)
WHERE pa.userId = 1
"
11387,27233,rows to columns of multiple rows,"SELECT *
FROM
(
  SELECT Emp_id, Dept_id, 'Column' + CAST(RowNum AS VARCHAR(10)) AS ColumnName
  FROM
  (
      SELECT Emp_id, 
             Dept_id, 
             ROW_NUMBER() OVER(PARTITION BY Dept_id ORDER BY Emp_id) AS RowNum  
      FROM myTable
  ) AS mainTable
)d
PIVOT
(
  MAX(Emp_id)
  FOR ColumnName IN ([Column1],[Column2],[Column3])
) piv
"
2600,45462,Deleting partly duplicate rows in a table,";WITH x AS (
    SELECT rowid,
           rownumber() OVER (PARTITION BY user_id,productid ORDER BY times) AS rn
    FROM   tbl
    )
DELETE FROM x
WHERE  rn > 1;
"
8384,49737,What is the most efficient way of analysing and identifing candle sticks?,"SELECT * 
FROM tbl t1 
     join tbl t2 ON (t1.date=DATE_ADD(t2.date, INTERVAL 1 DAY))
WHERE
  t1.date>=start_date
and t1.date<end_date
-- plus all the candle restrictions here  --
"
13832,17626,Aggregate function in inline view,"select x.""Number of orders placed"",count(x.CustomerName) as
       ""Number of customers that have purchased this many orders"" 
from 
(select count(OrderNumber) as ""Number of orders placed"", CustomerName 
 from PURCHASES 
 group by CustomerName
) x
group by x.""Number of orders placed"" 
"
38430,33722,Mystery of rownum in oracle,"SELECT MI.* FROM (
  SELECT USER_ID,CUSTOMER_NAME, RANK() OVER (ORDER BY CREATION_DATE DESC) AS the_rank
  FROM ELEC_AUTO_MERC 
  ) MI
WHERE the_rank BETWEEN 2 AND 4;
"
4615,54456,Select according to string ending,"select TO_NUMBER(SUBSTR(OBJNAME,INSTR(OBJNAME,'.',-1)+1,LENGTH(OBJNAME))) as LAST_VERSION, OBJNAME from MY_TABLE order by LAST_VERSION
"
39301,30354,Get written user posts and the posts that he promoted,"SELECT *
FROM Posts
LEFT JOIN Promotions ON Promotions.post_id = Posts.id
WHERE Posts.author_id = $userId
OR Promotions.promoter_id = $userId
"
36618,38008,How do I use GROUP BY to show multiple objects rather than just one for each grouping?,"select
timezone,
group_concat(name) as names  
FROM users GROUP BY timezone;
"
2802,69033,Count no of occurences of elements in single row,"select table_name.*,
       case score1 when -1 then 1 else 0 end +
       case score2 when -1 then 1 else 0 end +
       case score3 when -1 then 1 else 0 end +
       case score4 when -1 then 1 else 0 end +
       case score5 when -1 then 1 else 0 end
        as score_count
  from table_name;
"
21712,10099,"SQL Query, SELECT Top 2 by Foreign Key Order By Date","SELECT PlanId, ClientId, PlanDate FROM (
    SELECT ROW_NUMBER() OVER (PARTITION BY ClientId ORDER BY PlanDate DESC) rn, *
    FROM [dbo].[tblPlan]
) AS T1
WHERE rn <=2
"
652,60038,CHECK CONSTRAINT of string to contain only digits. (Oracle SQL),"REGEXP_LIKE(PROD_NUM, '^[[:digit:]]{9}$')
"
30831,69433,NHibernate RowCount in LINQ produces SQL Exception,"var a = from b in table where b.something = 5 select b; 
var isMatch = a.Any();
"
32583,62938,Select query question,"""SELECT cd_id, SUM(tracks) as tracks FROM my_table GROUP BY cd_id""
"
4192,39942,Oracle: Sorting by date and id,"order by to_date(date, 'dd/mm/yyyy'), id
"
4161,14007,Limit a Left Join on the first table,"   SELECT * FROM A
      INNER JOIN ( SELECT * FROM A WHERE A.FIELD1='X' ORDER BY A.FIELD2 LIMIT 10) X
             ON (A.KEYFIELD=X.KEYFIELD)
      LEFT JOIN B ON (A.FIELD = B.FIELD)
      LEFT JOIN C ON (A.FIELD = C.FIELD)
"
32886,49523,"checking age of a person, the person has date of birth stored as a date","SELECT * FROM person
 WHERE dob <= TRUNC(ADD_MONTHS(SYSDATE, -12));
"
14780,5021,MySQL - Select All Except what is in this Table,"SELECT * FROM image WHERE id NOT IN 
    (SELECT image_id FROM user_image WHERE user_id = THE_USER_ID);
"
22441,29563,SQL join to find inconsistencies between two data sources,"SELECT *
FROM report_1 r1 
FULL OUTER JOIN report_2 r2 
    ON r1.SAMAccountName = r2.SAMAccountName
    OR r1.NetbiosName = r2.NetbiosName
    OR r1.DisplayName = r2.DisplayName
WHERE r2.NetbiosName IS NULL OR r1.NetbiosName IS NULL
"
23604,33270,Re-Sequence a set of data in SQL Server,"WITH OrderedByName AS
(
  SELECT Name1, Name2, 
  ROW_NUMBER() OVER(ORDER BY Name2, Name1) as 'RowNum'
  FROM YourTable
)
UPDATE YourTable
SET Sequence = obn.RowNum
FROM OrderedByName obn
WHERE obn.Name1 = YourTable.Name1 
  AND obn.Name2 = YourTable.Name2
"
2889,70966,Error conversion varchar datetime,"UPDATE dbo.table 
SET initTime = '2012-08-20T09:30:00.000' 
WHERE id = '0124'
"
13719,18822,How to make this query return result for a specific column,"$columnExist->next();
$columnExist->getInt('count')
"
14875,57076,Assign row numbers to a set of results retrieved via a PL-SQL Stored Procedure,"SELECT ROW_NUMBER() OVER (ORDER BY column1) AS row_num, t.* 
FROM (
   SELECT column1, columns2 ... FROM table1 WHERE myCondition
   UNION
   SELECT column1, column2 ... FROM table2 WHERE myCondition
   UNION
   SELECT column1, column 2.... 
) t;
"
35786,47009,How do I return results of a date range of >=2 days?,"SELECT * FROM DD WHERE DateAdd(DAY, 2, ResponseBegin) <= ResponseEnd
"
39912,62369,Restore PostgreSQL database from mounted volume,"/etc/init.d/postgresql-8.4 stop 
datadir=/var/lib/postgresql/8.4/main
rm -rf ""$datadir""
cp -aR /<mount_dir>/etc/postgresql/8.4/main/ ""$datadir""
chown -R postgres:postgres ""$datadir""
/etc/init.d/postgresql-8.4 start
"
21631,41747,"SQL Server, Select CASE with different casting","IF @id = 1 THEN
 SELECT code ...
ELSE 
 SELECT Cast(Code AS int) as Code
"
34234,62884,Getting the count of result respect to a column,"select c.kupon,count(*) as count
from kuponbahis c
join bahis b on b.sonuc = c.secim and b.ID=c.bahis AND c.durum=0
group by c.kupon
"
30071,46486,JSON parsing in MySQL while selecting," SELECT COUNT(*) FROM `items` WHERE `fields` like '%""id"":""2"",""value"":""2""%'
"
33465,53596,SQL insert to fill an associative table with conditions,"INSERT INTO ATab(Tab1Id, Tab2Id) 
(SELECT Tab1.Id, Tab2.Id
FROM Tab1, Tab2 WHERE Tab1.Name = 'Foo' AND Tab2.Name = 'Bar')
"
24387,16119,Sybase DB SQL Anywhere - push notifications on database changes,"SET tmp = (SELECT C2 From proc_http_post(adr.AdrId) with (C1 long varchar,C2 long varchar) WHERE C1 = 'Body');
"
30676,37099,Compare home and away scores. Then update another column with the winner's name (home or away),"UPDATE games 
  SET winner = CASE WHEN score1 > score2 THEN visitor
                    WHEN score2 > score1 THEN home
                    ELSE 'tie' END;
"
32385,25342,SQL - ordering results by child attribute in a parent-child join,"SELECT
  S.*, SI.*
FROM
  SALE S JOIN SALE_ITEM SI
  ON S.id = SI.sale_id JOIN
  (select SALE_ITEM.sale_id, min(item_name) as min_name
   from SALE_ITEM
   group by SALE_ITEM.sale_id) SI_MIN
  ON S.id=SI_MIN.sale_id
ORDER BY SI_MIN.min_name, SI.id
"
23848,529,convert 8-digit number to date type in mysql,"SELECT STR_TO_DATE('20141012','%Y%m%d') FROM `table`
"
2344,65911,SQL - Sum within UNION query,"SELECT null,
sum(IIF(layer='key info',1,0)) AS [Key Info],
sum(IIF(layer='approaches',1,0)) AS [Approaches],
sum(IIF(layer='research',1,0)) AS [Research]
FROM resources
"
13794,4984,How to execute a stored procedure after it is created?,"SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO            

CREATE PROCEDURE sp_Transfer_RegionData
AS
BEGIN
    INSERT INTO Region (regionName)
    SELECT column1
    FROM openquery(ITDB, 'select * from db.table1')

END

GO

EXEC sp_Transfer_RegionData
"
26719,2691,SQL Server: Computed Column defintions retrievable from Database?,"create table dbo.Foo
(
StartDate int,
CallDT AS (CONVERT([datetime],dateadd(second,[StartDate],'01/01/1970'),(0)))
)

select definition 
from sys.computed_columns 
where name='CallDT' and object_id=object_id('dbo.Foo')
"
1682,49313,What is the difference between a keyword and a clause in SQL?,"SELECT  col1
        ,col2
        ,col3
FROM yourTable1 AS t1
INNER JOIN yourTable2 AS t2 ON t1.Id = t2.Id
WHERE col1 = 'aaaa'
AND col2 = 'bbbb'
ORDER BY col1
"
33309,52565,Ms-Access SQL Query,"SELECT top 1 Title, ExpiryDate  
FROM Table1  
WHERE PublishDate<=Date() 
AND ExpiryDate>=Date() 
ORDER BY ExpiryDate ASC 
"
27883,18039,Can't return recordcount with the stored procedure with the declaration in it,"CREATE PROCEDURE sp_SalesTaxV3(@ship_zip varchar(20))
AS BEGIN
   DECLARE @tax_rate INT
   SET @tax_rate = 0

   SELECT * FROM tax_rate WHERE zip = ''+@ship_zip+''  
END
"
35334,16355,SQL select columns from same table,"     SELECT q1.question AS Question1, 
            q1.answer AS Answer1,
            q2.question AS Question2,
            q2.answer AS Answer2,
            u.password AS Password
       FROM User u
       JOIN owner o ON u.id = o.userID
  LEFT JOIN secretQA q1 on o.secretQA1 = q1.id
  LEFT JOIN secretQA q2 on o.secretQA2 = q2.id
      WHERE owner.id = 1
"
15363,67917,What would a Database Diagram (ER Diagram/Table Layout) look like for measuring distribution of something?,"LOGID (PK)  ACTIVITYID  SOURCE  DATELOGGED
----------  ----------  ------  ----------
"
31311,28456,Filter duplicate rows based on a field,"SELECT * FROM (
   SELECT b.*,
   ROW_NUMBER() OVER (PARTITION BY BillID ORDER BY Lang) as num
   FROM Bills b
   WHERE Account = 'abcd'
) tbl
WHERE num = 1
"
24958,52700,DB2: How do I find if a column is present in a table or list of tables?,"SELECT TABNAME
FROM SYSCAT.COLUMNS
WHERE 
    TABNAME IN ('table name 1', 'table name 2') AND 
    COLNAME = 'column_name';
"
1122,20722,SQL Server joining temp table takes a very long time,"CREATE TABLE #StockedTbl
(
    PONo varchar(10),
    Stocked varchar(5),
    PONoMatch AS CONVERT(CHAR(5), RIGHT(LEFT(PONo,6),5)) PERSISTED
);
CREATE CLUSTERED INDEX x ON #StockedTbl(PONoMatch);
"
21840,61309,How to get saved text layout from database,"div{
    white-space: pre;
}
"
10580,34427,TSQL CASE WHEN id.id null then '' else '@' end,"Child.Tag + COALECE('@' + Parent.Tag, '')
"
26345,29434,Postgresql query current year,"SELECT * FROM mytable WHERE date_part('year', mydate) = date_part('year', CURRENT_DATE);
"
22128,540,Sql query to find Id tagged to multiple rows,"Select studentId 
from student  
where subject_Id in ('1', '3', '4')
group by studentId 
having count(distinct subject_Id) = 3
"
7508,6825,Apply rank using RowNumber based on multiple conditions,"WITH Cte AS(
    SELECT *,
        ZeroRatio = SUM(CASE WHEN Ratio = 0 THEN 1 ELSE 0 END) OVER()
    FROM TestData
),
CteRN AS(
    SELECT *,
        RN = ROW_NUMBER() OVER(ORDER BY 
            CASE WHEN ZeroRatio >= 5 AND Ratio = 0 THEN NumContracts END DESC,
            Ratio
        )
    FROM Cte
)
SELECT
    RN, Vehicle, NumContracts, SaleAmount, Ratio
FROM CteRN
ORDER BY RN
"
39061,73244,How to write this select statement?,"WITH tbl2 AS (SELECT DISTINCT ON (Name) Name,Nickname FROM table2 ORDER BY Name)

SELECT tbl1.Name, tbl2.Nickname, tbl1.col2, tbl1.col3 FROM
table1 tbl1 INNER JOIN tbl2 ON tbl1.Name = tbl2.Name
"
13833,44032,SQL - having VS where,"SELECT  L.LectID, Fname, Lname
FROM Lecturers L
JOIN Lecturers_Specialization S ON L.LectID=S.LectID
GROUP BY L.LectID, Fname, Lname
HAVING COUNT(S.Expertise)>=ALL
(SELECT COUNT(Expertise) FROM Lecturers_Specialization GROUP BY LectID)
"
8385,7628,SQL Delete duplicate rows with lowest number,";with c as
(
    select *, row_number() over(partition by [Key] order by Number desc) as n
    from YouTable
)
delete from c
where n > 1
"
12347,49810,Getting XML Schema from MS SQL Database,"create table Person
(
Age int not NULL check( Age > 0) ,
Height numeric(10,2) not NULL check( Height > 5),
Gender varchar(5) not null check( Gender in ('M', 'F', 'O')),
BirthDate datetime null,
)

DECLARE @schema xml
SET @schema = (SELECT * FROM Person FOR XML AUTO, ELEMENTS, XMLSCHEMA('PersonSchema'))
select @schema
"
36519,7392,ORDER BY in VIEW returns different results SQL,"CREATE TABLE A (C VARCHAR(100))
CREATE TABLE B (C VARCHAR(100))


SELECT TOP 1000 C 
FROM A
UNION ALL
SELECT TOP 1000 C
FROM B
ORDER BY C

GO

CREATE VIEW V
AS
SELECT TOP 1000 C 
FROM A
UNION ALL
SELECT TOP 1000 C
FROM B
ORDER BY C

GO

SELECT *
FROM V

GO

DROP TABLE A
DROP TABLE B
DROP VIEW V
"
34958,24959,Mysql composite key order relevance,"mysql> create trigger insert_check_associations before insert on associations
-> for each row
-> begin
-> if new.email1>new.email2 then
-> set @a = new.email2;
-> set new.email2 = new.email1;
-> set new.email1 = @a;
-> end if;
-> end;//
"
14781,1125,How to use datamapper callbacks (or hooks) properly?,"before :save do
  if self.created_at.strftime('%T') == ""00:00:00""
    self.created_at = ((self.created_at.to_time+1)-3600).to_datetime
  end
end
"
32527,33960,Simple But Slow Query,"SELECT Tournament_Result.*,
(select <<Col1>> from Tournament_Type where Tournament_Type.intTournamentType=t.intType)

FROM  Game 
inner join Tournament on Tournament.intGameId = Game.intGameId
inner join Tournament_Result on Tournament_Result.intTournamentId = Tournament.intTournamentId
WHERE Tournament.strStatus = 'live'
ORDER BY dtmCreated DESC
"
30186,9926,Conditional combining of multiple datasets/tables based on a value of one variable,"proc sql;
    select tab.v1, tab.v2, coalesce(t1.v3, t2.v3) as v3
    from tab left join
         t1
         on tab.v2 = 1 left join
         t2
         on tab.v2 = 2;
"
1855,9695,Dynamic fields in SQL Server,"CREATE TABLE dbo.YourTable (
    ...
    isDeleted AS CASE WHEN DeleteDate IS NULL THEN 0 ELSE 1 END 
);
"
25553,6481,MySql request returns duplicates on LEFT JOIN,"SELCT people.id, people.name, GROUP_CONCAT(goods.name)
FROM people
LEFT JOIN goods_owned ON goods_owned.person_id = people.id
LEFT JOIN goods ON goods.g_id = goods_owned.good_id
WHERE people.id = 3
GROUP BY people.id
"
24335,54776,SQL QUERY USING POSTGRESQL,"SELECT ""id"",""name"" from(
    SELECT ""stylists"".""id"", ""stylists"".""Name"",count(stylists.id) as cnt FROM ""stylists"" 
    INNER JOIN ""category_stylists"" ON ""category_stylists"".""stylist_id"" = ""stylists"".""id"" 
    WHERE category_stylists.category_id IN (1,2)
    group by ""stylists"".""id"", ""stylists"".""Name"")
order by cnt desc
"
27499,61884,How to count total id that answering a quiz in sql,"select
q.quizNum,
q.quizName,
count(sa.stuNum) as attempedstudent
from Quiz q
left join studentassessment sa on sa.quizNum = q.quizNum
group by q.quizNum;
"
38759,25654,Move multiple row values in a single row in SQL,"declare @temp table
(
S int,
D nvarchar(10)    
)

insert into @temp values (1,'01')
insert into @temp values (2,'01')
insert into @temp values (2,'03');

SELECT D,

     STUFF(
         (SELECT ',' + CAST(S AS VARCHAR(10))
          FROM @temp
          WHERE D = a.D
          FOR XML PATH (''))
          , 1, 1, '')  AS Remark
FROM @temp AS a
GROUP BY D
"
36437,71538,how can i concatenate fields inside of my dataset?,"SELECT ppl.FirstName + ' ' + ppl.LastName AS ReferredBy
"
13726,28947,Select most recent row with GROUP BY in MySQL,"SELECT users.*, payments.method, payments.id AS payment_id
FROM   payments NATURAL JOIN (
  SELECT   user_id, MAX(id) AS id 
  FROM     payments
  GROUP BY user_id
) t RIGHT JOIN users ON users.id = t.user_id
"
35562,74705,Displaying Time Intervals,"SELECT  A_Date,
        LEFT(A_Interval,2) + ':' + RIGHT(A_Interval,2) + ' - ' + LEFT(A_Interval,2) + ':' +
        CASE WHEN RIGHT(A_Interval,2) = '30' THEN '59' ELSE '29' END A_Interval,
        Acc_name
FROM Time_Summary
"
26920,52974,Group by two columns,"SELECT players.player,
      -- Use correlated subselects to count goals / assists
      (SELECT COUNT(*) FROM actions WHERE goal = players.player) goals
      (SELECT COUNT(*) FROM actions WHERE assist = players.player) assists

-- Get all distinct players (UNION = DISTINCT, here). Of course, if you
-- have an actual players table, use that one instead!
FROM (
  SELECT goal player FROM actions UNION
  SELECT assist      FROM actions
) players
"
20956,62087,Oracle - Query that only checks for a certain year,"select * 
from test1
where to_char(datecol,'yyyy')= '2015'
"
33615,28671,Android - Save location in SQLite database,"CREATE TABLE locs(
   id INTEGER PRIMARY KEY AUTOINCREMENT,
   lat TEXT,
   lng TEXT,
   num INTEGER
)
"
34945,15514,Get last image from query SQL,"$length = sizeof($image_list);
for ($i = 0; $i < $length; $i++)
{
    if ($i == $length) print ""<img src=\""icon-goes-here.png\"" />\n"";
    printf(""<img src=\""%s\"" />\n"", $image['image']);
}
"
39618,29740,List the contents of Oracle export dump file,"IMP SCOTT/TIGER SHOW=Y FILE=import_file.dmp
"
26363,20828,"SQL query with join, sum, group by, etc","WITH    calendar(mon) AS
    	(
    	SELECT	1
    	UNION ALL
    	SELECT	mon + 1
    	FROM	calendar
    	WHERE	mon < 12
    	)
SELECT  itemID, mon, SUM(value)
FROM    calendar c, t_item i
LEFT OUTER JOIN
    	t_value v
ON  	v.itemID = i.itemID
    	AND MONTH(date) = mon
GROUP BY
    	i.itemID, mon
"
29340,61670,Compare each row of a table to another table in SQL Server 2008,"-- t-sql
SELECT a.name
FROM table1 a
INNER JOIN (
  SELECT t1.name
  FROM table1 t1
  JOIN table2 t2 ON t1.name = t2.name
) b ON a.name = b.name
  OR SUBSTRING(a.name, 1, CHARINDEX('-', a.name)) <> SUBSTRING(b.name, 1, CHARINDEX('-',     b.name))
"
20408,42581,Checking for missing account numbers from one of the tables,"SELECT *
FROM [DS_PROD].[dbo].[Q04_ImportDetails] q04
WHERE Q04.ImportId = 680 AND q04.AccountNumber NOT IN 
    (SELECT AccountNumber 
    FROM [DS_PROD].[dbo].[T01_TransactionMaster] t01 
    WHERE t01.BatchNumber = '270864')
"
25884,68394,android: compare date with database,"$ sqlite3
sqlite> CREATE TABLE date_test(date DATE);
sqlite> INSERT INTO date_test VALUES('2012-01-01');
sqlite> INSERT INTO date_test VALUES('2012-02-01');
sqlite> INSERT INTO date_test VALUES('2012-03-01');
sqlite> SELECT date FROM date_test WHERE date < '2012-02-15';
2012-01-01
2012-02-01
"
14653,54027,mysql insert 2 tables into another table use JOIN,"INSERT INTO `table3` ( `ID`, `Nn` ) 
 SELECT `t1`.`ID`, `t2`.`Nn` 
 FROM `table1` as `t1` CROSS JOIN `table2` as `t2`;
"
16723,63851,Find a string within the source code (DDL) of a stored procedure in oracle,"select distinct name
from   user_source
where  type = 'PROCEDURE'
and    lower(text) like lower('%the_text_you_want%');
"
32619,20869,Oracle Substring after specific character,"regexp_replace(string, '^.*?-(\d+)[LR].*$', '\1')
"
31891,60890,Is it possible to use a nested select statement as a column that has multiple rows?,"select o.id, o.date, o.customer, o.status,
       group_concat(i.item_name, ' (item id ', i.item_id, ')' separator '
') as item_list
from order o inner join
     order_items i
     on o.id = i.order_id 
where o.status = 'open'
group by o.id, o.date, o.customer, o.status
order by date asc;
"
28697,36136,Oracle How to use distinct on one column,"SELECT 
  to_number(val.number_value), min(val.variant_number)
from
  val
left join
  mad on mad.id = val.madid
where 
  val.id = 227753377 and mad.fk_parent =18468
  and (val.language_id = 6003 or val.language_id is null)
  and mad.identifier = 'IDENTIFIER2'
group by to_number(val.number_value) 
"
12081,72315,How do I insert multiple columns into a table using OUTPUT in SQL Server?,"INSERT INTO TableName (Column1, Column2, Column3.....)
OUTPUT inserted.Column1 , inserted.Column2 INTO @TableName
SELECT  Column1, Column2, Column3.....
FROM Table_name
"
2374,41786,Select all payments by zip code,"SELECT permits.zipCode, SUM(payments.payment) 
FROM   permits 
       JOIN payments 
         ON permits.permitID = payments.permitID
GROUP  BY permits.zipCode
"
7045,39630,SQL query on multiple column order by,"SELECT IF(@Subject = @Subject:=X.id, '', X.name) AS `Subject`, 
       IF(@Semester = @Semester:=Y.id, '', Y.name) AS `Semester`, 
       Z.name 
FROM X
INNER JOIN Y ON Y.x_id=X.id 
INNER JOIN Z ON Z.y_id=Y.id
CROSS JOIN (SELECT @Subject:=0, @Semester:=0) A
ORDER BY X.id, Y.id, Z.id
"
12644,3222,join/subquery in OUTPUT clause,"INSERT INTO location VALUES(1,'Delhi')
INSERT INTO location VALUES(2,'Noida')


INSERT INTO [USER] VALUES(1,'Sandeep',1)

DECLARE  @result table(UserName varchar(50), OldLocationId Int,NewLocaionId Int)


UPDATE [USER] SET locationid=2
OUTPUT  INSERTED.UserName, DELETED.locationid,INSERTED.locationid INTO @result
WHERE userid=1

SELECT * FROM @result
"
37265,70382,Adding leading characters to string in SQL,"declare @p_FR as char(6),
    @fr as varchar(6)
set @p_FR = '8534'
set @fr = right('000000' + rtrim(@p_FR), 6) 
select @fr
"
35665,35463,Which PKCS#11 function does Oracle Database 11g makes use of?,"C_Initialize
C_GetFunctionList
C_GetInfo
C_GetSlotList
C_OpenSession
C_Login
C_CloseSession
C_Finalize
C_GenerateKey
C_FindObjectsInit
C_FindObjects
C_FindObjectsFinal
C_EncryptInit
C_Encrypt
C_DecryptInit
C_Decrypt
C_CloseSession
"
34392,69000,Using an sql statement select next 4 items,"SELECT  ID, Foo, Bar
FROM     (SELECT  ROW_NUMBER() OVER (ORDER BY ID ASC) AS Row,
          ID, Foo, Bar
FROM    SomeTable) tmp
WHERE   Row >= @RowRangeStart AND Row <= @RowRangeEnd
"
18523,21700,Does anyone know a neat trick for reusing identity values?,"SELECT a.id
FROM table AS a
LEFT OUTER JOIN table AS b ON a.id = b.id+1
WHERE b.id IS NULL;
"
38252,60100,Incrementing counter on each duplicate in column,"SELECT 
  t.*, 
  @i:=IF(id=@id, @i+1, 1) AS num, 
  @id:=id 
FROM 
  t 
  CROSS JOIN (SELECT @i:=0, @id:=0) AS init 
ORDER BY id
"
10708,40346,Sql count query with no data,"SELECT Shippers.ShipperName,COUNT(Orders.OrderID) AS NumberOfOrders 
FROM 
 Shippers
  LEFT JOIN Orders 
   ON Orders.ShipperID=Shippers.ShipperID
GROUP BY ShipperName
LIMIT 8
ORDER BY NumberofOrders DESC;
"
33111,46019,"How to group by column, order by a different column, and limit each group to one row?","SELECT ns.Name, MAX(ns.Score) AS Score
FROM NameScore AS ns
GROUP BY ns.Name
ORDER BY ns.Name ASC
"
25942,18522,Sql Query to get column name from another table,"@i_DocumentID varchar(MAX)   

 SELECT 
    a.DocumentID, 
    a.DocumentName,
    a.ClientID,
    b.AttachmentName
    from Documents  a 
    join Attachments b on a.DocumentId = b.DocumentId

    where a.DocumentID IN (SELECT * FROM dbo.CSVToTable(@i_DocumentID))
"
28771,22671,default value for switch in access 2007,"SELECT
Switch(MyTable.[MyCol]='1','Terrestrial',
MyTable.[MyCol]='2','Value is two',MyTable.[MyCol]='3','Value is three',
True,'Error') AS ColumnName
FROM MyTable;
"
1283,66286,How to provide a date variable an interval that consists of an integer variable in Postgresql,"specific_date + (number_of_years || ' years')::INTERVAL
"
33299,11701,Database Paging by stored procedure,"DECLARE @PageNumber INT, @PageSize INT
SET @PageNumber = 3
SET @PageSize = 5;

WITH CTE AS
(
    SELECT *, ROW_NUMBER() OVER(ORDER BY RateID) Corr
    FROM Rate
    WHERE Hourly = 0
)
SELECT *
FROM CTE
WHERE Corr BETWEEN @PageNumber*@PageSize AND @PageNumber*@PageSize+@PageSize-1
"
2294,75092,How to update table based on the value of other table in sql server,"UPDATE table2 
SET total = (
         SELECT value2 
         FROM table1 WHERE name = value1
        ) 
WHERE table2.type = Name2
"
28348,938,How to seperate SQL query result based on parts of the column input,"SELECT ROUND(SUM(pixeldatafilesize)/1048576,2) AS studysizemb,CONVERT(varchar(50),DateTime ,101)  AS DateTime FROM filename 
WHERE DateTime BETWEEN '2014-05-01' AND '2014-06-01' 
GROUP BY CONVERT(varchar(50),DateTime ,101) 
"
32096,31861,Breaking out yearly payments into monthly payments with month name in a 3 year period,"with months as
(
  select BeginDate
    , EndDate
    , Payment = Payment / 12.0
  from MyTable
  union all
  select BeginDate = dateadd(mm, 1, BeginDate)
    , EndDate
    , Payment
  from months
  where dateadd(mm, 1, BeginDate) < EndDate
)
select BeginDate
  , EndDate = dateadd(dd, -1, dateadd(mm, 1, BeginDate))
  , Month = datename(mm, BeginDate)
  , MonthlyAmount = Payment
from months
order by BeginDate
"
22623,57754,Migrate a query from Oracle to SQL Server,"SELECT TOP 1 POS
FROM TEST
ORDER BY LASTDATE DESC
"
1916,25133,making simple sql query count,"select count(distinct Party_Code) from tradeFile
"
8356,53273,SQL SERVER QUERY to select max value record per item,"select tenant, name, date, months
  from (select t.*,
               row_number() over (partition by t.tenant, t.name order by t.months desc, t.date desc) as rn
          from TableName t) x
 where rn = 1
"
39484,66586,How to check if something is not in the table,"SELECT l.levcode, 
       levnaam, 
       levadres, 
       levwoonplaats 
FROM   leverancier l 
WHERE  l.levcode NOT IN (SELECT b.levcode 
                         FROM   bestelling b) 
"
39491,751,finding out redundancy,"select foriegn_column_name,COUNT(foriegn_column_name) from table_name
group by foriegn_column_name
having COUNT(foriegn_column_name) > 1
"
21560,50478,Change oracle display message,"set feedback off
"
23657,44337,Translate data in MySQL database into another with slightly different structure?,"
INSERT INTO newdb.postattribute (id, attribute, value)
SELECT postid, 'post-body', body FROM olddb.post;
"
31453,40537,fetching upto a limited condition in oracle query,"      SELECT * FROM (select * from users order by joined DESC) u where rownum<=5
"
577,44763,"over partition by without an aggregate function, avoiding group by","WITH myDate AS ( 
      SELECT name, rD
      FROM YourTable
      WHERE d = e
)
SELECT
       t.*, m.rD as expectedCol           
FROM YourTable t
JOIN myDate m
  ON t.name = m.name
"
2592,6069,Automatically dropping PostgreSQL tables once per day,"TRUNCATE tablex, tabley, tablez;
"
13585,55090,sql statement help,"SELECT name FROM people WHERE age > 15
"
5385,53797,How do I get Sum of two Colunms with Same Foreign Key," SELECT C.DropShipperID, D.DropShipper, 
        SUM(S.Quantity) AS Quantity, 
        SUM(C.Cost) AS Cost, 
        SUM(S.Quantity * C.Cost) AS SubCost
 FROM C INNER JOIN D ON C.DropShipperID = D.DropShipperID 
        INNER JOIN S ON S.ProductID = S.ProductID
 WHERE (C.DropShipperID IN (1, 2, 3, 4, 5))
       AND (S.CartID = @cartid)
 GROUP BY C.DropShipperID, D.DropShipper
"
39396,10183,Update query Oracle,"   UPDATE table2 t2
       SET date_col = (SELECT t1.date_col
                         FROM table1 t1
                        WHERE t1.id = t2.id)
     WHERE EXISTS (
        SELECT 1
          FROM table1 t1
         WHERE t1.id = t2.id )
"
20313,41067,PostgreSQL: Create an index on timestamp::DATE,"CREATE INDEX event_creation_time_date_idx ON event ((creation_time::DATE));
"
30451,40842,Return output parameter from a stored procedure that includes several derived tables,"Select  RowNumber,NewsId,InnerCount From 
(
    Select Row_Number() Over (ORDER BY FirstVisit) as 'RowNumber', NewsId
      , COUNT(*) OVER () AS InnerCount
    From 
       (
        Select Distinct NewsId,FirstVisit,PublishDate From VwNewsPack 
    ) as t
) as tt         
Where NewsId between 10 and 20
"
39818,11952,How to loop through rows in two tables and create a new set based on the merged results in SQL,"select *
from tableB union all
select *
from tableA
where tableA.pk not in (select pk from tableB)
"
13651,71120,MySQL select all users who have not logged in for 30 days,"SELECT member_id, MAX(login_timestamp)
FROM logins 
GROUP BY member_id
HAVING MAX(login_timestamp) <= 1329461087
ORDER BY MAX(login_timestamp) DESC
"
25068,21999,PostgreSQL select max from rows,"select distinct on (product_id) o.*
from offers o
order by product_id, amount desc;
"
29088,47846,Full name and date - TSQL,"INSERT INTO table2 (fullName, todaysdate)
SELECT firstName + ' ' + lasName AS FullName,
    CONVERT(char(10), GetDate(),126)
FROM table1
"
36070,6538,MySQL: Getting count and sum of integer values in multiple columns,"SELECT 'images' as `columns`, SUM(images <> 0) as counts, SUM(images) as `sum`
FROM dpsreport where publisherId = 91
UNION ALL
SELECT 'videos', SUM(videos <> 0), SUM(videos)
FROM dpsreport where publisherId = 91
UNION ALL
SELECT 'reviews', SUM(reviews <> 0), SUM(reviews)
FROM dpsreport where publisherId = 91;
"
39226,47654,Query with rownum got slow,"SELECT T_PK
FROM (SELECT T_PK
      FROM table
      WHERE col1= 'text' AND col2 IS NULL
      ORDER BY T_PK DESC
     ) t
WHERE ROWNUM < 100;
"
8018,25185,Max Date with WHERE and HAVING clauses- Teradata,"SEL sumtran.acc_nbr, sumtran.error, latest.latest_dt 
FROM 
  ( SEL acc_nbr, SUM(tran_amt) AS error
    FROM DATABASE.TRAN_TBL
    WHERE tran_typ = 'xx' 
    GROUP BY acc_nbr
    HAVING sum(tran_amt)<0 ) AS sumtran
INNER JOIN
  ( SEL acc_nbr, MAX(tran_dt) AS latest_dt
    FROM DATABASE.TRAN_TBL
    GROUP BY acc_nbr ) AS latest
ON sumtran.acc_nbr = latest.acc_nbr
"
17156,43412,Configure SQuirrel SQL Client to work for DB2/AS400,"set CLASSPATH=%CLASSPATH%;c:/jt400.jar  
"
2633,52016,SQL Server: generating varchar as number with some conditions,"With x as (
    Select
        reference_subjektu,
        min(reference_subjektu) over (partition by ico) nval
    from
        expozitura
) update
    x
set
    reference_subjektu = nval
where
    reference_subjektu != nval;
"
13326,43059,A grouping and count select for tabular results in SQL Server 2008,"SELECT a.Name AS 'Area', t.Name AS 'Town',
  SUM(CASE v.votingyn WHEN 'Y' THEN 1 ELSE 0 END) AS 'Yes'
  SUM(CASE v.votingyn WHEN 'N' THEN 1 ELSE 0 END) AS 'No'
FROM VOTES AS v
  JOIN TOWN AS t ON v.townid = t.id
  JOIN AREA AS a ON v.areaid = a.id
GROUP BY (a.Name, t.Name)
"
23033,4920,PostgreSQL query for current minute,"WHERE
    time >= date_trunc('minute', now()) AND
    time < date_trunc('minute', now()) + INTERVAL '1 minute';
"
36481,64345,Need help building SQL Query (simple JOIN),"SELECT *
  FROM Quests
 WHERE Quest_ID NOT IN (
       SELECT DISTINCT(Quest_ID)
         FROM Questing
        WHERE User_ID = 14)
"
33462,67006,How can I force a column to be unique for an entire table in SQL Server 2008 R2?,"CREATE UNIQUE NONCLUSTERED INDEX [IX_INDEXNAME] ON [dbo].[TABLENAME] 
(
    [Description] ASC
)
WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
GO
"
15032,66268,Getting the most recent autonumber field from another table,"SELECT Max([ID]) FROM [Table]
"
25818,27043,How to count unique records and get number of these uniques in table using SQL?,"select shop_id, count(1) from TABLE_NAME
  group by shop_id
"
6917,11506,Sqlite update field if it contains,"update <tablename>
  set widget_id = widget_id + ""somenumber/""
  where row_id = X
    and widget_id not like ""%/somenumber/%""
    and widget_id not like ""somenumber/%"";
"
8024,56561,"SQL to select Unique list of user, along with other data depending upon timestamp","SELECT t2.quotes_user, t2.email_address, t2.Sent_at AS '________Sent_at________'
FROM
(
   SELECT quotes_user, MAX(Sent_at) AS MaxDate
   FROM Table 
   GROUP BY quotes_user
) t1
INNER JOIN Table t2 ON  t1.quotes_user = t2.quotes_user 
                    AND t1.Sent_at = t2.MaxDate
"
12459,13167,grouping one to many relationship in a row,"SELECT
    p.name as name,
    f.stuff AS stuffF,
    d.stuff AS stuffD,
    e.stuff AS stuffE
FROM
    tableOne p JOIN tableTwo f on (p.id = f.id AND f.stufftype = 'F')
               JOIN tableTwo d on (p.id = d.id AND d.stufftype = 'D')
               JOIN tableTwo e on (p.id = e.id AND e.stufftype = 'E')    
"
2541,72828,Extract only 1 message from all senders,"SELECT u.uacc_username, max(m.msg_id) as LatestMsg
FROM messages m JOIN user_accounts u on m.msg_from_uacc_fk = u.uacc_id
WHERE m.msg_to_uacc_fk = ?
GROUP BY u.uacc_username
"
36376,63427,SQL-92 (Filemaker): How can I UPDATE a list of sequential numbers?,"
CREATE TABLE sorting (sid numeric(10,10), rn int);

INSERT INTO sorting (sid, rn)
SELECT SortID, RecordNumber FROM Beleg
WHERE Year ( Valuta ) = 2016
AND Ursprungskonto = 1210
ORDER BY SortID;

UPDATE Beleg SET SortID = (SELECT rn FROM sorting WHERE sid=Beleg.SortID)
WHERE Year ( Valuta ) = 2016
AND Ursprungskonto = 1210;

DROP TABLE sorting;
"
4544,61207,date format with inconsistant data Oracle SQL,"select to_date('2/12/15', 'mm/dd/rrrr') 
from dual;
"
30001,28621,sql join or subquery?,"select p.*,
group_concat(ps.url_little SEPARATOR ', '),
group_concat(ps.url_big SEPARATOR ', ')
from product p
     LEFT join product_photos ps
         on (p.id_prod = ps.id_product)
group by p.id_prod
"
7259,36001,sql query very slow in phpmyadmin,"SELECT * FROM comments c JOIN users u ON c.user_id = u.id_user_coms
JOIN posts p ON c.post_id=p.id
JOIN pages pa ON p.page_id=pa.id

WHERE c.text LIKE ""%iphone%"" 
AND pa.name LIKE ""%iphone%""
"
33364,9873,SQL WHERE and AND clause,"DECLARE @A Table(Val1 Int)
Insert Into @A Values(1),(2),(3),(4),(5)


DECLARE @B Table(Val2 Int)
Insert Into @B Values(1),(2),(3),(4),(5),(6)


DECLARE @C Table(Val3 Int)
Insert Into @C Values(1),(2),(3),(4),(5),(6),(7)


SELECT COUNT(*)
FROM @A a, @B b, @C c
WHERE a.Val1 = b.Val2
AND b.Val2 = c.Val3
"
7194,66267,Semivariance of variable,"SELECT COUNT(*)
FROM
Table1
WHERE Value < (SELECT AVG(Value) FROM Table1)
"
12820,41135,How to generate array from multiple mysql rows with a common value,"SELECT `group_id`, group_concat(`element_value`) as value, date FROM `table_name` group by `form_id`
"
5504,34613,SQL Rounding integers with no decimals,"SELECT CASE isMale
    WHEN 'True'
        THEN 'Male'
    ELSE 'Female'
    END AS Gender
   ,CAST(left(round(count(isMale) * 100.00 /(select count(*) from gendertable), 0),2) AS VARCHAR) + '%' AS GenderPercent
FROM genderTable
GROUP BY isMale
"
35645,47107,Get the closest record for every date,"select the first record
from skucompetition
where creationdate is before (input date + one day)
order by creationdate so most recent record comes first
"
3006,34227,using SELECT INTO with multiple rows,";WITH cte (Col1, Col2, Col3) AS
(
Select 1, 'a','2001-01-01 12:00'
UNION ALL
Select 83, 'z','2011-09-30 13:27'
UNION ALL
Select 777, 'k','1997-04-25 09:27'
)
SELECT *
INTO NewTable
FROM cte
"
14015,44809,MySQL copying a column from another table,"INSERT INTO table (column)
  SELECT a_column 
  FROM a_table
                       --- optional (multiple) JOINs
                       --- and WHERE
                       --- and GROUP BY      
                       --- any complex SELECT query
"
14463,7193,MySQL group by x characters on an id field,"select *
from tbl_item
where substr(tbl_item.`Product Group Code`, 1, 6) LIKE ':shopprodid%'
"
26569,56043,Calculating percentage participation across columns,";with infoCte as (
select pid, hid, count(*) as visitcount
from visits
group by pid, hid
) 

select * 
from infocte i
where visitcount > (
    select count(*) / 2 as midcount
        from visits v
        where v.pid = i.pid
) 
"
11541,21172,sql query to fetch data with a time interval,"select *
from
(
    select *, 
       datepart(minute, yourDate) mn, 
       row_number() over(partition by datepart(minute, yourDate) order by yourDate) rn
    from yourTable
) x
where (mn % 5) = 0
    and rn = 1
"
389,49424,Selecting financial values from db stored as text,"SELECT
  CASE WHEN LEFT(val, 1) = '('
       THEN -1 * CAST( REPLACE((val, '(', ''), ')', '') AS DECIMAL(10,4))
       ELSE CAST( val AS DECIMAL(10,4) )
  END AS num_val
FROM
  val_table
"
3244,26533,Update DB column that is specified at runtime,"create procedure updateColumn (pkey int, columnName varchar2, value int) as
begin
execute immediate 'update YOUR_TABLE set ' ||
    columnName || ' = ' || TO_CHAR(value) ||
    ' where KEY = ' || TO_CHAR(pkey);
end;
"
32901,19136,Joining data from 2 tables,"select 
    t.employeeid as employee_id, 
    t.manager_id as manager_id, 
    t2.contact_id as manager_contact_id 
from mytable t left outer join mytable t2 on t.managerid = t2.employeeid
"
37982,35155,SQL JOIN problem joining same table,"SELECT g.subgroup AS Subgroup, 
    mg1.maingroup AS G1, 
    mg2.maingroup AS G2, 
    mg3.maingroup AS G3
FROM (SELECT DISTINCT subgroup FROM Groups) g
LEFT JOIN Groups mg1 ON mg1.maingroup = 1 AND mg1.subgroup = g.subgroup
LEFT JOIN Groups mg2 ON mg2.maingroup = 2 AND mg2.subgroup = g.subgroup
LEFT JOIN Groups mg3 ON mg3.maingroup = 3 AND mg3.subgroup = g.subgroup
WHERE g.subgroup IN ('A','B','C');
"
7568,21705,SQL query that will retrieve set containing all entries from another set,"select m.organization
from isMember m join
     geo_desert d
     on m.country = d.country
group by m.organization
having count(distinct m.country) = (select count(distinct d.country) from geo_desert);
"
12908,53248,Select also zero-values while performing SELECT COUNT with GROUP BY,"select
    count(u.id) as ile,
    d.day
from generate_series('2013-09-23'::date, '2013-09-29'::date, '1d') as d(day)
    left outer join users as u on u.date_created >= d.day and u.date_created < d.day + '1d'::interval
    -- or left outer join users as u on date_trunc('day', u.date_created) = d.day
    -- but I think that >= and < will be faster if you have index on `date_created`
group by d.day
"
1098,49357,Locating a schema that owns a role,"select grantee from dba_role_privs where granted_role='LANDING_R'
"
24070,34287,Select into tables in SQL. How are they stored?,"CREATE TEMP TABLE tbl AS
SELECT a.run_uid, s.object_uid
FROM   dt.table_run_group a 
JOIN   dt.table_segment   s ON a.group_uid = s.object_uid;
"
18847,13381,How to resequence an oracle table id,"update your_table
set id = rownum
"
13953,75029,Is there an alternative to TOP in MySQL?,"SELECT field1, field2
FROM myTable
ORDER BY field1 ASC
LIMIT 10
"
34921,19982,SQL 2 counts with different filter,"SELECT
    SUM(CASE WHEN CoumntA < 0 THEN 1 ELSE 0 END) AS LessThanZero,
    SUM(CASE WHEN CoumntA > 0 THEN 1 ELSE 0 END) AS GreaterThanZero
FROM TableA
"
2100,24652,sql - using group by and count,"SELECT a.numRows, b.id, b.NAME
FROM xe.emp b
INNER JOIN (
  SELECT COUNT(*) AS numRows, dept_id
  FROM xe.dept
  GROUP BY dept_id
  ) a ON b.id = a.dept_id
"
10363,68681,SQL Server stored procedure to insert/update data from one source to multiple destination tables,"INSERT INTO [Book] (BookName)
    SELECT DISTINCT Book
    FROM [Source]
    WHERE Book NOT IN (SELECT BookName FROM Book)

INSERT INTO [Employee] (EmployeeName)
    SELECT DISTINCT Employee
    FROM [Source]
    WHERE Employee NOT IN (SELECT EmployeeName FROM Employee)

INSERT INTO [BookEmployee] (BookID, EmployeeID, StartDate, EndDate)
    SELECT Book.ID, Employee.ID, Source.StartDate, Source.EndDate
    FROM [Source]
    INNER JOIN Book ON Book.BookName = Source.Book
    INNER JOIN Employee ON Employee.EmployeeName = Source.Employee
"
19952,68454,Look for consecutive rows based on Hour and grouped by Date,"select 
  date, hour, v1, v2, 
  count(*) over (partition by date, v1, v2, groupkey) as cons
from
(
  select 
    mytable.*, 
    hour - row_number() over (partition by date, v1, v2 order by hour) as groupkey
  from mytable
  where cnt <> 0
) grouped
union all
select date, hour, v1, v2, 0 as cons
from mytable
where cnt = 0
order by date, hour, v1, v2;
"
38249,63698,MySQL: Creating Table with Calculated Constraint,"CREATE TRIGGER checkFieldsValid 
BEFORE INSERT ON employee_comments
FOR EACH ROW BEGIN

    DECLARE errmsg VARCHAR(255) DEFAULT ""REQUIRED DATA NOT FOUND"";

    IF NOT NEW.franchise_branch_id = 0 XOR NEW.corporate_branch_id = 0 THEN

        SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = errmsg;

    END IF;
END;
"
14723,53279,How to implement First_Value() over() in SQL Server 2008?,"select spisznacka, VdruhStavRizeni
from (select spisznacka, VdruhStavRizeni,
             row_number(VdruhStavRizeni) over (partition by spisZnacka order by id desc) as seqnum
      from isirshort
      where VdruhStavRizeni <> ''
     ) sv
where seqnum = 1;
"
37576,40033,database design: best way to store multiple options with multiple selects,"SELECT c.car_id
FROM `car` c 
   INNER JOIN `car_selected_options` AS o ON c.car_id = o.car_id
WHERE 
   (o.key = 'exterior_color' AND o.value = 10) OR
   (o.key = 'electronics' AND o.value = 100) OR
   (o.key = 'electronics' AND o.value = 101) OR
GROUP BY c.car_id
HAVING COUNT(*) = 3;
"
23174,54053,Alternative for 'CharIndex' in SQL,"(charindex('0000000171', Codes) > 0
or
charindex('0000000172', Codes) > 0
or
charindex('0000000173', Codes) > 0)
"
18603,42790,"Stored Proc, how to select into multiple variables?","print @Phone
print @Fax
"
37035,41221,insert a single value into new created column,"updatE myTable
    set newColumn = newValue
    where oldColumn = 'something';
"
4688,53348,H2 DB CSVWRITE Duplicate Double Quotes Inside a String,"CALL CSVWRITE(
  '#DELTA_CSV_DIR#/DELTA.csv', 
  'SELECT ccc from temptemp', 
  'fieldSeparator=| fieldDelimiter= escape=');
"
4916,67703,How to audit deletes in a certain table with Oracle?,"BEGIN
  DBMS_FGA.ADD_POLICY(
   object_schema      => 'HR',
   object_name        => 'FOO',
   policy_name        => 'my_policy',
   policy_owner       => 'SEC_MGR',
   enable             =>  TRUE,
   statement_types    => 'DELETE',
   audit_condition    =>  'USER = ''myuser''',
   audit_trail        =>  DBMS_FGA.DB);
END;
/
"
26593,36815,SQL Server - Procedure executed data Type in SQL Server,"DECLARE @Param3 bigint
exec dbo.MySPName @Param1, @Param2, @Param3 output
SELECT @Param3 --gives you output value

--This will give you the names and data types of all output parameters in this SP
SELECT p.name, t.name as [type], p.max_length, is_output 
FROM sys.parameters p 
JOIN sys.types t ON p.user_type_id = t.user_type_id 
WHERE p.object_id = OBJECT_ID(N'MySPName') 
AND p.is_output = 1
"
38804,25989,EXISTS + LAG in SQL Server 2008,"SELECT date, action_id, inc_id,
       (select top 1 usr_n
        from table t2
        where t2.inc_id < t.inc_id
        order by t2.inc_id desc
       ) AS prevusr,
FROM table t;
"
38211,74361,How to delete records that match a condition and leave one?,";WITH CTE AS(
    SELECT *,
        rn = ROW_NUMBER() OVER(PARTITION BY code ORDER BY (SELECT NULL))
    FROM #TEMP_RESULTS  
    WHERE result LIKE '<%'
)
DELETE FROM CTE WHERE rn > 1
"
23400,45590,Where/How are (My)SQL Databases Stored on Webservers?,"mysql> show variables like ""datadir"";
+---------------+-----------------+
| Variable_name | Value           |
+---------------+-----------------+
| datadir       | /var/lib/mysql/ |
+---------------+-----------------+
"
32135,5554,Combining SQL join with count,"select count(distinct registered), 
       count(distinct attended), 
       SessionId
from (select AttendantId registered, null attended, SessionId
      from registered
      union all
      select null registered, AttendantId attended, SessionId
      from Attended) sq
group by SessionId
"
11961,33326,cursor values in SQL query,"declare
  l_count pls_integer;
begin
  for r_cur in (
    select columnname
    from shiv_tab_col
  )
  loop
    execute immediate 
      'select count(1) from ser_shiv_syn where '||r_cur.columnname||' is null' 
    into l_count;
    dbms_output.put_line(l_count);
    dbms_output.put_line(r_cur.columnname);
  end loop;
end;
/
"
6239,30273,SQL Date Range from current year,"where PerformanceDate between
  case when month(getdate())>=9 
       then cast(year(getdate()) as char(4)) + '0901' 
       else cast(year(getdate())-1 as char(4))+ '0901' end
and
  case when month(getdate())>=9 
       then cast(year(getdate())+1 as char(4)) + '0901' 
       else cast(year(getdate()) as char(4))+ '0901' end
"
11522,13703,"SQL query for something like ""not having""?","SELECT Host FROM HostSoftware
WHERE NOT EXISTS (
    SELECT * FROM HostSoftware AS InnerSoftware
    WHERE InnerSoftware.Host = HostSoftware.Host AND InnerSoftware.Software ='Title2'
)
"
19521,43170,writing a query to to generate two records from one record based on some condition,"select flag1 as flag,
       flag1_column1 as c1, 
       flag1_column2 as c2, 
       flag1_column3 as c3 
from t where flag1=1
union
select flag2 as flag,
       flag2_column1 as c1, 
       flag2_column2 as c3, 
       flag2_column3 as c3 
from t where flag2=1
"
37794,41457,R loop to query all tables within a database,"doCountQuery <- function(con, table) {
    query <- paste(""SELECT COUNT(message_id) FROM "", table, sep = """")
    t     <- dbGetQuery(con, query)

    return(t)
}

list <- dbListTables(con)
counts <- numeric(0)       # this will store the counts for all tables

for (i in 1:length(list)) {
    count <- doCountQuery(con, list[i])
    counts[i] <- count[[1]]
}
"
39936,34007,Select rows from yesterday's date,"SELECT pdate FROM table 1
WHERE pdate >= Date(NOW()) - INTERVAL 1 DAY
AND pdate < Date(NOW())
"
11938,72927,how do i combine and sum two results in sql?,"    select IIF(MyColumn<>'CCC', 'AAA+BBB', 'CCC'), 
     100*count(MyColumn='CCC')/(select count(*) from MyTable) from MyTable
     group by MyColumn='CCC'
"
39289,34593,Mysql display values if i have only user entered value,"(SELECT * FROM myTable WHERE STR_TO_DATE('07.11.1986', '%d./%m./%Y')  < data ORDER BY data ASC LIMIT 1)
UNION ALL
(SELECT * FROM myTable WHERE STR_TO_DATE('07.11.1986', '%d./%m./%Y')  > data ORDER BY data DESC LIMIT 1)
"
8783,72036,Count rows in a join against another table,"SELECT COUNT(offers_id) AS offers, image1, product_type, product.amount, product.price, description, product.product_id  
FROM product INNER JOIN offers ON product.product_id = offers.product_id  
WHERE product_type LIKE '%$product_type%'""
GROUP BY image1, product_type, product.amount, product.price, description, product.product_id
"
12432,5857,Nested GROUP BY optimization,"SELECT trip_id, stop_id, COUNT(*) as cnt 
FROM operation_ticket_part_stops 
GROUP BY trip_id, stop_id
ORDER BY cnt DESC
LIMIT 1
"
23229,18556,In MySQL How do I specify Collation for WHERE-IN clause?,"WHERE email_address IN ('foo@bar.com' COLLATE utf8_general_ci, 'test@test.com' COLLATE utf8_general_ci)
"
34158,5068,SQL - find rows having n duplicate values,"select customerId, count(*) 
from mytable
group by customerId
having count(*) >= 2
"
23493,69460,Sync two tables one way in the same database using stored procedure,"UPDATE t2 
SET t2.field2 = t1.field2 and t2.field3 = t1.field3 
FROM table2 AS t2
INNER JOIN table1 AS t1 
      ON t2.field1=t1.field1
"
18423,8934,$wpdb MySQL select from main table and join each row with two rows of another table,"select
  main_table.user_id,
  concat(s1.meta_value, ' ', s2.meta_value) as name
from
  main_table left join secondary_table s1
  on main_table.user_id = s1.user_id and s1.meta_key = 'first_name'
  left join secondary_table s2
  on main_table.user_id = s2.user_id and s2.meta_key = 'last_name'
where
  referrer = $referrer
"
30942,47720,Bringing MAX on SQL JOIN,"SELECT
   regions.*, a.max_status
FROM
   regions
JOIN
   (SELECT id, MAX(status) as max_status
    FROM auditoria WHERE entidade_tipo = 'Terceiro'
    GROUP BY id) AS a 
 ON
   regions.id = a.id
ORDER BY regions.id
"
31302,33988,filter postgresql query result,"Group By Name
having sum(money) > 500
"
30593,13214,Constraint on multiple columns,"ALTER TABLE <your_table>
  ADD CONSTRAINT TWO_FILLED
  CHECK(NVL2(F_NAME, 1, 0) + NVL2(L_NAME, 1, 0) + NVL2(BIRTH_DATE, 1, 0) >= 2);
"
7856,13609,Select row that has max total value SQL Server,"SELECT Top 1 WITH TIES c.CustomerName, SUM(s.SUM) AS TotalSum
FROM Customer c JOIN Sales s ON s.CustomerId = c.CustomerId
GROUP BY c.CustomerId, c.CustomerName
ORDER BY SUM(s.SUM) DESC
"
33249,10062,Pagination in Oracle without specifying all columns,"SELECT *
  FROM (SELECT t.*,
               row_number() over (order by column1 ASC) rnk
          FROM tableName t)
 WHERE rnk BETWEEN 10 and 20
"
2851,3486,Join and Display 2 Columns from One Table refer by Another Table,"SELECT a.username as User_1, b.username as User_2 FROM
table_A t
JOIN table_B b on b.id = t.id_B
JOIN table_B a ON a.id = t.id_A
"
37395,10386,Delete values returned by function,"DELETE TABLE_NAME
FROM TABLE_NAME A
INNER JOIN FUNCTION_NAME B
   ON A.PTC_CD = B.PTC_CD
   OR A.PTC_PTCID = B.PTC_CD
"
22470,32797,Return rows with maximum value of a column,"select date, product, price
from table t1
where date = (select max(date) from table t2
              where t1.product = t2.product)
"
28033,51748,Select from one table different values and limit them,"(SELECT first_column, last_column
FROM MyTable
WHERE last_column = 'text'
ORDER BY first_column
LIMIT 80)
UNION ALL
(SELECT first_column, last_column
FROM MyTable
WHERE last_column = 'NO text'
ORDER BY first_column
LIMIT 80);
"
3882,70948,SQL: Key-Value: values in columns?,"select 
  key
, max( case value-name when 'color' then value else NULL end)      as color
, max( case value-name when 'heght' then value else NULL end)      as height
, max( case value-name when 'whatever' then value else NULL end)   as whatever
from 
  table
group by key
"
31965,55302,How to get Nth big item,"WITH AgeOrderedPersons AS (
    SELECT usr.*
          ,ROW_NUMBER() OVER (ORDER BY Age) AS Number
    FROM Users usr
)
SELECT *
FROM AgeOrderedPersons
WHERE Number = 11
"
9081,17874,"SQL where two fields are similar using ""GROUP BY""","SELECT name_normalized, count(*) as c
FROM (
  SELECT CASE WHEN FIRSTNAME < LASTNAME THEN FIRSTNAME||LASTNAME
              ELSE LASTNAME|| FIRSTNAME END as name_normalized
  FROM names
) X
GROUP BY name_normalized
"
22375,17909,SQL pivot result simplification,"SELECT  [1] as 1,[2] as 2,[3] as 3,[4]  as 4     
        FROM        
        (
            SELECT top 4 dovizId ,satis FROM tblKur  ORDER BY tarih DESC
        )PivoitData

        PIVOT
        (
        SUM(satis) for dovizId  in ([1],[2],[3],[4])        
        ) AS Pivoting
"
31387,28784,Split Full Name into First Name and Last Name fields Access,"SELECT Employee_Table.Full_Name, Left([Full_Name],InStr([Full_Name],"" "")-1) AS First_Name,
       mid([Full_Name],InStr([Full_Name],"" "")+1) as Last_Name
FROM Employee_Table;
"
18115,64071,Query between three tables,"select images.image_id, ... from images
inner join favs on images.image_id = favs.image_id
inner join users on users.user_id = favs.user_id
where users.user_id = [...]
"
39009,58870,"SQLITE: unexplainable behaviour - comparison works for some numbers, not for others","SELECT invoiceId, total
FROM invoice
WHERE total = (SELECT Round(SUM(unitPrice),2)
            FROM invoiceLine
            WHERE invoiceId = 5)
"
16386,71395,crystal reports - display mtd ytd lytd per family,"//{@MonthToDate}
If {table.paiddate} IN MonthToDate Then
  {table.revenue}
Else
  0

//{@YearToDate}
If {table.paiddate} IN YearToDate Then
  {table.revenue}
Else
  0

//{@OtherPeriodToDate}

//no clue what LYTD means; demonstrate a custom-range instead; substitute actual logic for Date(YYYY,MM,DD)
If {table.paiddate} IN Date(YYYY,MM,DD) TO Date(YYYY,MM,DD) Then
  {table.revenue}
Else
  0
"
18526,60272,Android : How to append String after SQLite Funciton?,"(""INSERT INTO network_data (DateTime, Signal, GPSLat, GPSLong, NetLat, NetLong) VALUES (datetime()||' GMT', '"" +Signal+ ""', '"" +GPSLat+ ""', '"" +GPSLong+ ""', '"" +NetLat+ ""', '"" +NetLong+ ""');"");
"
8880,70516,create single array from different values,"$sql = ""SELECT * FROM vendor"";
$result = mysqli_query($conn, $sql);
$resulyArray = array();
if (mysqli_num_rows($result) > 0) 
    {
        while($row = mysqli_fetch_assoc($result)) 
            {
    array_push($resulyArray , $row);


            }
    } 


echo""<pre>"";
  print_r($resulyArray);
echo ""</pre>"";
"
11634,48596,selecting distinct column name with respectives values,"select p_id, userid, min(the_date) from table group by p_id, userid
"
16631,71990,selecting partially matching data,"SELECT *
FROM
(
SELECT name AS 'Asset' FROM Table1 WHERE name NOT LIKE '%.%'
) AS A 
JOIN 
(
SELECT name AS 'Files' FROM Table1 WHERE name LIKE '%.%'
) AS B 
ON A.Asset = SUBSTRING(B.Files, 1, INSTR(B.Files, '.') - 1)
"
3557,47192,T-SQL: Paging WITH TIES,"select *
from @temp
where [timestamp] in (select top 4 [timestamp] from @temp order by [TimeStamp])
"
11240,16889,Converting cartesian coordinates to latitude/longitude in Geographical Data,"INSERT INTO SpatialTable (GeogCol1)
VALUES (geography::STGeomFromText('POINT(122 47)', 4121));
"
31685,53738,Trying to figure out top 5 land areas of the 50 states in the U.S,"SELECT m.state, m.landArea
FROM Map m
LEFT JOIN Map m2 on m2.landArea > m.landArea
GROUP BY m.state, m.landArea
HAVING count(*) < 5
ORDER BY m.landArea DESC
"
19352,4159,sql server insert copy rows multiple tables one field changing,"EXEC sp_MSforeachtable  'DECLARE @Chars VARCHAR(MAX)

SELECT @Chars = ISNULL(@Chars + '', '' +COLUMN_NAME, COLUMN_NAME)   
FROM INFORMATION_SCHEMA.TABLES TAB
INNER JOIN INFORMATION_SCHEMA.COLUMNS COL
ON TAB.TABLE_NAME = COL.TABLE_NAME
AND TAB.TABLE_SCHEMA = COL.TABLE_SCHEMA
WHERE TAB.TABLE_NAME =PARSENAME(''?'',1)

SELECT ''SELECT ''''newvalue'''' as department, ''+@Chars+''  INTO ? FROM ? WHERE department =''''old_value'''''''
"
3235,68222,Generate DATE value alone in SQL Server," select cast(received as date),status FROM Notification   -- or convert(date,received)
 WHERE project='proj001'  
 GROUP BY cast(received as date),status 
 ORDER BY cast(received as date);
"
22605,6707,Oracle: apply multiple updates in single statement?,"update t1
   set (a, b) = (select a,b from t2 where t2.id=t1.id)
 where t1.id in (select id from t2 where ...);
"
3498,58591,Next 5 Available Dates,"with offsets(n) as (
    select  1 union all
    select  2 union all
    select  3 union all
    select  4 union all
    select  5 union all
    select  6 union all
    select  7 union all
    select  8 union all
    select  9 union all
    select 10 union all
    select 11
)
select top 5 dateadd(dd, n, cast(getdate() as date)) as dt from offsets
where dateadd(dd, n, cast(getdate() as date) not in (
    select dt from <exclude_dates>
)
order by dt
"
37428,45987,is setautocommit(true) needed after conn.commit(),"public <T> T withTransaction( TxCallback<T> closure ) throws Exception {
    Connection conn = getConnection();
    try {
        boolean autoCommit = conn.getAutoCommit();
        conn.setAutoCommit(false);

        T result = closure.call(conn); // Business code

        conn.commit();
        conn.setAutoCommit(autoCommit);
    } catch( Exception e ) {
        conn.rollback();
    } finally {
        conn.close();
    }
}
"
25961,29874,Improving a basic SQL query - grouping results,"SELECT
  id,
  summary,
  status,
  date_submitted,
  last_updated,
  GROUP_CONCAT(value SEPARATOR ',') as values
FROM
  table
GROUP BY
  id,
  summary,
  status,
  date_submitted,
  last_updated
"
36485,24011,Normalise data into one table,"INSERT INTO userssteps
(status,user_id,step_id) 
select 0,
users.id,
steps.id
from users
inner join steps
"
2843,70239,SQL: Best way to write a condition that checks the value of a variable when the variable could be null,"SELECT * FROM table WHERE column IS NOT DISTINCT FROM var
"
9886,1749,"Database design for a blog with separate tables for users, comments and posts in cakephp","users('id', 'username', 'password'),
posts('id', 'title', 'content', 'slug', 'user_id'),
comments('id', 'content', 'date', 'post_id', 'user_id')
"
18497,12534,How to select unique values in MySQL and order by another field,"SELECT  CASE WHEN Sender = 1 THEN Receiver ELSE Sender END `sender/receiver`,
        MAX(timestamp) time_stamp
FROM    tableName
WHERE   1 IN (Sender, Receiver)
GROUP   BY CASE WHEN Sender = 1 THEN Receiver ELSE Sender END
ORDER   BY time_stamp DESC
"
10642,46344,How does this SQL TO_CHAR function work?,"select TO_CHAR('01-JAN-99', 'mm/dd/yyyy') from dual; --should return the string '01/01/1999'
select TO_CHAR('20-APR-15', 'dd/mm') from dual; --should return '04/20'
"
12388,11739,getting last record from the database with some conditions,"SELECT  *
FROM    (
        SELECT  *,
                ROW_NUMBER() OVER (PARTITION BY mobileNumber ORDER BY year DESC, month DESC, recordId DESC) rn
        FROM    mytable
        ) q
WHERE   rn = 1
"
34003,59470,Checking the identity of a new table for database unit tests,"-- {0} is your table name
-- {1} is your identity value of the reset

IF EXISTS (SELECT null FROM sys.identity_columns WHERE OBJECT_NAME(OBJECT_ID) = '{0}' AND           last_value IS NOT NULL) 
    DBCC CHECKIDENT ({0}, RESEED, {1});
"
35294,42792,Delete a row in a table after an hour it is inserter using sql query,"DELETE FROM detail1 WHERE date < DATETIME('NOW', '-1 hours');
"
10054,61716,How to Merge Some Column from Row into another Column,"select UnitName, Requisition_No, max(14.11), max(14.141), max(14.144)
from your_table
group by UnitName, Requisition_No  
"
8135,68353,Get row with the smallest time interval per value in a table,"SELECT DISTINCT ON (extension)
       start_time, stop_time, extension
FROM   tbl
ORDER  BY extension, (stop_time - start_time);
"
21855,44717,sql zero leading in comparing 2 record set,"SELECT * FROM Inventory_NBP.v_dmnd_rsrv_dpnd_rqr_mrp
WHERE plnt_id ='WA01' 
and mtrl_id in('G29329-001',CAST(CAST('000000000000909120' AS INT) AS VARCHAR(10)), '13-0006-001') 
and 
 (mtrl_id, plnt_id)
      IN
      (    SELECT itm_cd, sap_plnt_cd
           FROM PDM_Analysis.v_itm_plnt_extn
      )
"
38150,55204,MySQL select that returns a dummy column?,"Select column1, column2, 'waiting for table' as dummy_column, column4
from your_table
"
6458,26670,Fast search of nearest values in SQL,"select * from pos order by ((lat-48.00333)*(lat-48.00333)+(long-11.0)*(long-11.0)+(alt-652)*(alt-652));
"
24733,36932,Find and replace column values with Microsoft SQL?,"update yourtable set locations = 'Mexico' where locations = 'Canada';
"
4243,50319,How to get all records without duplicate,"select distinct productName,description from ForgeRock;
"
5818,46005,"Android app, SQLite, FTS3, create virtual table if not exists","CREATE VIRTUAL TABLE IF NOT EXISTS User USING FTS4(...)
"
7346,6875,SQL Picking Top Date out of the Date Field,"WITH
  sorted_data AS
(
  SELECT
    ROW_NUMBER() OVER (PARTITION BY item_id ORDER BY item_date DESC) AS row_id,
    *
  FROM
    item_data
  WHERE
    item_date <= getDate()
)

SELECT * FROM sorted_data WHERE row_id = 1
"
7554,7167,How can i optimize this mysql query ? i use IN() operator,"SELECT users.* 
FROM users 
LEFT OUTER JOIN images ON user.usid = images.usid AND images.status = 0
WHERE images.usid IS NULL
AND us_status = 0
"
20187,27629,How do I need to change my sql to get what I want in this case?,"select * from (
    select t2.id2, t1.date, t2.data, 
        row_number() over (partition by t2.data order by t1.date desc) rn
    from table1 t1
    join table2 t2 on t1.id = t2.id2
) t where rn = 1
"
22291,40904,iPhone SQLite question,"if(appDelegate.easymediumhard == 2 && gameVarLevel == 5){

       globalScore = timeSeconds;
       scoreValid = YES;

} else {

      scoreValid = NO;

}
"
20491,36956,Recursive select statement,"select *
  from test
  connect by col1 = prior col2
  start with col1 = '3R9J'
union
select *
  from test
  connect by prior col1 = col2
  start with col1 = '3RDT';
"
6451,63602,SQL Update row with inner join with substring,"UPDATE
a_customer_test 
SET
a_customer_test.town = 
(SELECT TOP 1 b.town
FROM dbo.postcodes b   with(nolock)
left join  a_customer a  with(nolock) 
on SUBSTRING ( b.postcode,1,3) =  SUBSTRING ( a.postcode,1,3)
WHERE a.postcode IS NOT NULL)
"
8433,48865,Format MySQL number to datetime?,"SELECT NOW() - INTERVAL 10329 SECOND
"
14042,67423,How do I find the makers that sell one type but not another?,"SELECT maker
FROM product
GROUP BY maker
HAVING SUM(CASE WHEN type = 'PC' THEN 1 ELSE 0 END) > 0
   AND SUM(CASE WHEN type = 'Laptop' THEN 1 ELSE 0 END) = 0
"
8669,48946,How can I store a calendar data in database,"long millis = calendar.getTimeInMillis();
"
13802,50083,mysql- join multiple table depending on column,"SELECT USER_ID,FIRST_NAME,LAST_NAME
FROM m_user_info
WHERE USER_ID IN 
(select m_groups.GROUP_CREATOR_ID as GROUP_ADMIN 
from m_groups where m_groups.GROUP_ID='6'  
union
select m_group_admin.GROUP_ADMIN from m_group_admin 
where m_group_admin .GROUP_ID='6';)
"
35775,11307,Consolidate multiple columns into single column,"SELECT  ColName
FROM    myTable UNPIVOT
  ( COLName FOR col IN ( Col1, Col2, Col3, Col4, Col5, Col6 ) ) AS unpvt;
"
25133,52162,Outer join does not display wanted (null) rows,"SELECT b.User, p.Period, a.Qty
FROM (SELECT User FROM table WHERE Period = 11203) b
CROSS JOIN (SELECT DISTINCT Period FROM table 
            WHERE Period BETWEEN 11201 AND 11202) p
LEFT JOIN table a
ON a.User = b.User
AND a.Period = p.Period
"
38136,689,Sum of unique entries per day,"SELECT 
  SUM(comission), 
  token, 
  DATE(transdate) 
FROM
  t 
GROUP BY 
  token, 
  DATE(transdate)
"
32592,44725,SELECT only records which must fill two conditions,"select a.*
from table1 a
    left join table1 b on b.otherid = a.otherid and b.type = 5
where a.type = 4 and b.id is null
"
23546,50394,query to count number of different values?,"SELECT url, count(id) as CountOfId
FROM
(
   SELECT distinct id, url
   FROM yourtable
) x
GROUP BY url
"
28135,12443,mysql select count resource id #10,"$result = mysql_query(""SELECT COUNT(`category_id`) as count FROM `products_has_product_category`
WHERE `category_id`=1"");

$row = mysql_fetch_object($result);
$count = $row->count;
echo $count;
"
18077,5872,Convert SQL DateTime format,"select stuff(convert(varchar, getdate(), 105), 3, 1, '/') + ' ' + left(convert(varchar, getdate(), 8), 5)
"
650,21482,SQL Server query don't retrieves expected result,"SELECT 
    S.STORE_ID
    ,S.FK_STORE_ID, C.STORE_ID AS CERTIFICATE_STORE_ID
    ,C.PERSON_ID
    ,CERTIFICATE_ID 
FROM CERTIFICATE C 
     INNER JOIN STORE S ON C.STORE_ID = S.STORE_ID
WHERE 
    C.PERSON_ID = 100258    
    AND (C.STORE_ID = 1464 OR C.FS_STORE_ID = 1464)
"
23892,9512,deleting from table (join),"DELETE from t1 where t1.ID not in (SELECT ID FROM t2)
"
33967,70800,sql lists out all foreign keys of a primary key,"select ku.* 
from INFORMATION_SCHEMA.table_constraints tc   
INNER JOIN INFORMATION_SCHEMA.KEY_COLUMN_USAGE ku ON
(tc.CONSTRAINT_NAME = ku.CONSTRAINT_NAME and tc.CONSTRAINT_SCHEMA =   
ku.CONSTRAINT_SCHEMA )
where constraint_type='FOREIGN KEY' and ku.REFERENCED_TABLE_NAME =     
'your_table_name'
"
6134,22876,Insert into table from another using custom data,"INSERT INTO books (title, author_id, subject_id, combined)
  SELECT title, author_id+1, subject_id/2, author_id || ' ' || title
    FROM book_queue WHERE approved;
"
17086,57274,SQL SELECT rows with max date,"SELECT * FROM `message` `t` 
WHERE `to_user_id`='1' AND 
`date` = 
   (SELECT MAX(`date`) FROM `message` `t2` 
    WHERE `t2`.`from_user_id`=`t`.`from_user_id`
    AND `t2`.`request_id`=`t`.`request_id`
   );
"
10855,30541,How to count number of records per day?,"select DateAdded, count(CustID)
from Responses
WHERE DateAdded >=dateadd(day,datediff(day,0,GetDate())- 7,0)
GROUP BY DateAdded
"
24137,46942,How to SELECT records using MIN and MAX when multiple records exist?,"WITH TEMP AS
(
SELECT  SM.Custnmbr AS Custnmbr, 
CONVERT (VARCHAR(10), MIN(LH.DateIn), 101) AS DateIn, 
CONVERT (VARCHAR(10), MAX(ISNULL(LH.DateOut,'9999-12-12')), 101) AS DateOut, 
FROM    dbo.toCustomer SM
LEFT OUTER JOIN dbo.toLocCustHist LH ON SM.CustomerId = LH.CustomerId
GROUP BY    SM.CustNmbr, SM.CustName, LH.LocationId
)
SELECT Custnmbr,DateIn,
CASE WHEN DateOut='9999-12-12' THEN NULL
ELSE DateOut
END
FROM TEMP;
"
300,6591,"when foreign key points to something else, move other data as well","create function trigger_before_update_on_articles()
...
    if new.book_id <> old.book_id then
        update images set book_id = new.book_id
        where article_id = new.article_id
...
"
7385,66763,Add grouping column to ordered table,";with q as (
    select *,
           row_number() over (order by id)
         - row_number() over (order by zoneid, id) as grp
      from thetable
)
select id, sog, zoneid,
       min (id) over(partition by zoneid, grp) as grp
  from q
 order by id
"
979,47485,"SQLLDR : merger year,mon and day","OPTIONS (SKIP=11, errors=12000) 
LOAD DATA  
APPEND INTO TABLE abc
fields terminated by "",""
(
year ""trim (:year)"",
mon ""trim (:mon)"",
day ""trim (:day)"",
date1 EXPRESSION ""to_date (:year||:mon||:day,'yyyymmdd')""
)
"
32602,10252,How to use ON DUPLICATE KEY UPDATE in MySQL without a UNIQUE index or PRIMARY KEY?,"INSERT INTO `table` (value1, value2) 
SELECT 'stuff for value1', 'stuff for value2' FROM `table` 
WHERE NOT EXISTS (SELECT * FROM `table` 
                  WHERE value1='stuff for value1' AND value2='stuff for value2') 
LIMIT 1
"
23959,40956,How to join two tables and show them in one listview?,"try
{
    Query = ""select id,Code,Description,Rate,Bottles,Supply,Empty,Amount,Received,
       Customer_New.Opening_Date,Customer_New.Clients_Title,Customer_New.Cust_Id 
         from Items INNER JOIN Customer_New on Customer_New.Cust_Id=Items.Cust_Id"";
    dba = new SQLiteDataAdapter(Query, GlobalVars.conn);
    testDs = new DataSet();
    dba.Fill(testDs, ""Items"");
...
}
catch (Exception ex)
{
    MessageBox.Show(ex.ToString());
}
"
3382,54676,SQL Contains query,"SELECT *
FROM A 
WHERE NOT EXISTS( SELECT * 
                  FROM  B 
                  WHERE ' '+B.ExecID+' ' LIKE '% '+A.ExecID+' %')
"
10246,68928,SQL- Ensuring query does not include results where a certain column in null?,"SELECT COUNT(*)
FROM TABLE_NAME
WHERE DATE_INSERTED
    NOT BETWEEN '01-JAN-2015 00.00.00.00' AND '18-JAN-2016 00.00.00.00'
    AND DATE_INSERTED is not null;
"
22131,67087,How to exchange records values?,"UPDATE table

SET role = CASE role
               WHEN 1 THEN 2
               ELSE 1
           END

WHERE role = 1 OR role = 2;
"
27210,44880,Why SELECT and UPDATE Return Different Record Counts/Affected,"SELECT count(distinct T1.ID)
FROM T1
JOIN T2 on T1.ID = T2.ID
WHERE T1.Name IS NULL
  AND T2.Status = 'happy'
"
37831,39296,"Import into MySQL from SQL file, but only rows where field = value","insert into realtable 
select * from temptable where origin = 'import';
"
8542,40763,Using sequential values for the primary key in an INSERT query,"CREATE SEQUENCE LD_USER_ROLE_SEQ;

INSERT INTO LD_USER_ROLE
   (USER_ROLE_ID,INS_USER,INS_DATE, USERNAME) 
VALUES 
   (ld_user_role_seq.nextval, 'sp22',to_date('2003/05/03 21:02:44','yyyy/mm/dd hh24:mi:ss'),'JOHN BARRY', )
"
12088,49425,Can I first SELECT and then DELETE records in one t-SQL transaction?,"delete from [tbl] output deleted.* WHERE [id] > 6
"
306,64818,SQL Server 2012 - Unique Priority Column,"#tempPriority(ID | OldPriority | NewPriority)
"
5430,31416,Retrieve two highest values in a table,"SELECT value
  FROM records
 ORDER BY value DESC
 LIMIT 2
"
6847,16341,Bypass last INNER JOIN in query,"FROM dbo.Activities act INNER JOIN ConvertCodeListToTbl(@Codes) i 
ON (act.ActivityCode = i.code OR @Codes = '')
"
34540,20007,grouping amount by date and person id,"select
    lge.emp_num, lge.emp_lname, lge.emp_fname,
    lgs1.sal_from, lgs1.sal_amount
from (
    select emp_num, max(sal_from) maxDate from lgsalary_history
    group by emp_num
) lgs2
join lgsalary_history lgs1
on lgs1.emp_num = lgs2.emp_num and lgs1.sal_from = lgs2.maxDate
join lgemployee lge
on lgs1.emp_num = lge.emp_num
where lge.dept_num in ('300')
order by lgs1.sal_amount desc
"
22501,4894,GROUP BY only rows with a certain condition and date,"SELECT  transaction_date, transaction_type, SUM(transaction_amount)
FROM    TableName
-- WHERE customer_id = $customer_id
GROUP   BY transaction_date, 
           CASE WHEN transaction_type = 'refund' THEN 1 ELSE RAND() END
ORDER   BY transaction_date DESC
"
2631,49165,mysql column data copy from one table to another with a join?,"update table2
  join table1
    on (table1.FEE, table1.FAI) = (table2.FEE, table2.FAI)
   set table2.id = table1.id
"
36817,51483,create view selecting the max in one column related with another column,"CREATE VIEW top_specialty_doctors AS 
SELECT DISTINCT ON (specialty)
       salary, name, specialty
FROM   doctor
WHERE  specialty IN ('family and community', 'psychiatry', 'Rheumatology')
ORDER  BY specialty, salary DESC, doc_number  -- as tiebreaker
"
37557,59697,Use decode in sql query,"SELECT osuser, machine,
       NVL(DECODE (process, 
                   '1234', 'JDBC', 
                    substr(process, 1, instr(process || '@','@')-1)), 
           'NA') ""PID""
FROM   v$session
WHERE  username IS NOT NULL;
"
9168,41005,SQl Server: Add seconds to a datetime field?,"UPDATE tbluser SET DateField = DATEADD(ss,numOfSeconds,DateField)
"
12143,14385,Amount of rows in database table,"SELECT COUNT(*) FROM table_name;
"
19471,27777,Merge two columns and group them,"select NAME from name
UNION
select NAME from name_old;
"
8330,7084,SQL select query help required,"SELECT  t.*
FROM    (
    SELECT  @lim := 2,
            @cg := ''
    ) vars,
    (select * from Table1 order by product,amount, make)  t
WHERE   CASE WHEN @cg <> product THEN @r := @lim ELSE 1 END > 0
    AND (@r := @r - 1) >= 0
    AND (@cg := product) IS NOT NULL
ORDER BY
    product,amount, make
"
23012,32201,"EF code first, polymorphism cast","using AutoMapper;

//Create Map from Person to RegisteredPerson
Mapper.CreateMap<Person, RegisteredPerson>();

//Load person from Database
Person p = context.Persons.SingleOrDefault(predicate);
//Map Person to RegisteredPerson
RegisteredPerson r = Mapper.Map<Person, RegisteredPerson>(p);
//Assign values to RegisteredPerson
r.ProxyId = SomeValue;
using (var context = new YourContext())
{
    context.Persons.Attach(r);
    context.SaveChanges();
}
//Load new RegisteredPerson
using (var context = new YourContext())
{
    RegisteredPerson rp = context.Persons.OfType<RegisteredPerson>().SingleOrDefault(predicate);
}
"
37018,60233,SQL to get distinct records with PK,"select min(id) as id, col1, col2
from Tablex
group by col1, col2
"
5067,10227,Find Row With Data Between A Range SQL,"select * from your_table
where @input between _begin and _end
"
38273,43464,Select values which are distinct in a group but not overall,"SELECT `title`
FROM `xyz`
GROUP BY `year`
       , `title`
ORDER BY `title
"
25713,37892,Auto-increment field that resets after a change in another field,"select  row_number() over (partition by Meal order by Time)
,       *
from    YourTable
"
2439,50885,SQL - Cast two alias in BigDecimal,"SELECT CAST(SUM(IF(create_month = MONTH(NOW() - INTERVAL 1 MONTH)
         AND create_year = YEAR(NOW() - INTERVAL 1 MONTH), 1, 0)) AS NUMERIC) AS lastmonth,
       CAST(SUM(IF(create_month = MONTH(NOW() - INTERVAL 2 MONTH)
         AND create_year = YEAR(NOW() - INTERVAL 2 MONTH), 1, 0)) AS NUMERIC) AS lastmonth2
FROM incident_view
WHERE customer_company_name = ""Company""
"
4032,2208,Computation inside select statement,"select col1, .... , 
      case col5 when 0 then ... 
                when 1 then ... , 
       col6, .... 
Where
   ...
"
22460,51505,database structure for letting users place tags on their profile?,"tags (id, userid, tag)
"
33668,47900,case condition then using two tables,"select firstname,lastname 
from table1 (nolock) 
left outer join table2 on table1.ID=table2.ID
where isnull(billingaddress, shippingaddress) like 'Lake street'
"
14603,56115,How to compare two columns in a table to highlight its difference using PL SQL,"SELECT REPLACE(REF_NO1,REF_NO2,'') as diff from mytable
"
12111,22961,How to join the tables for multiple condition?,"SELECT c.Country,
  o.ExRate,
  (SELECT ExRate
    FROM exRates
    WHERE `From` = 'EUR'
  ) AS EUR
FROM country c
INNER JOIN exRates o ON c.country = o.country
"
13231,3408,Sum between 3 linked tables SQL Server,"SELECT o.OrderID As [Order Number], l.Name As Location
    , o.OrderDate As [Date Ordered], SUM(i.Cost) As [Order Total]
FROM [Order] o
INNER JOIN Office_Locations l on l.id = o.LocationID
INNER JOIN OrderedItems oi on oi.OrderID = o.OrderID
INNER JOIN OrderItem i ON i.ItemID = oi.ItemID
GROUP BY o.OrderID, l.Name, o.OrderDate
"
27083,54809,mysql query doubt,"SELECT r.name, r.network, r.namestring, i.name, r.rid, i.id, d.dtime,
       d.ifInOctets
FROM router AS r
INNER JOIN interface AS i
ON r.rid = i.rid
INNER JOIN 1278993600_1_60 AS d
ON i.id = d.id
AND d.dtime BETWEEN 1279027200 AND 1279029000
WHERE r.network = ""ITPN""
AND i.status = ""active""
AND i.id BETWEEN 1418 AND 1518
"
14971,14297,SQL To find difference between multiple rows,"SELECT  id, ref, DATEDIFF(day, MIN(date), MAX(date)) / NULLIF(COUNT(*) - 1, 0)
FROM    mytable
GROUP BY
        id, ref
"
26267,56100,How to get related items without SELECT each id,"SELECT 
     u.name 
FROM 
     friends f 
     JOIN users s ON (u.id = f.user_id_2) 
WHERE 
     f.user_id_2 = 1234
"
1917,46582,How to get distinct results in one row from two column of same table?,"SELECT GROUP_CONCAT((case when senderid = 1 then recid else senderid end) SEPARATOR ', '
                   ) AS trans 
FROM test 
WHERE senderid = 1 or recid = 1 ;
"
16518,32964,select from table where both id exist,"select * from customer_appdata c1
where appdata_id in (11,12)
and exists (
    select 1 from customer_appdata c2
    where c2.appdata_id in (11,12)
    and c2.appdata_id <> c1.appdata_id
    and c2.customer_id = c1.customer_id
)
"
12983,37025,Generic set returning function,"CREATE OR REPLACE FUNCTION cs_get(_tbl_type anyelement, _colname text)
  RETURNS SETOF anyelement AS

..."
23692,19590,Way to select rows which fall on a specific day?,"SELECT * FROM foo WHERE DAYOFWEEK(bar) = 2
"
16105,15094,Screwed up table in oracle,"SELECT ...
FROM <table> 
AS OF TIMESTAMP TO_TIMESTAMP('12-FEB-2010 10.55.00.000000');
"
32772,30939,SQL column containing array of table row values,"Persons(id int, name varchar(40)...)

Tags(id int, name varchar(40)....)

PersonTags(id int,
           personid FOREIGN KEY References Persons(id), 
           TagId FOREIGN KEY references Tags(id))
"
31030,14184,How to get inserted value for trigger,"CREATE TRIGGER addCardForNewUser AFTER INSERT ON swiped.Users
FOR EACH ROW
  BEGIN
      INSERT INTO swiped.Card (userid) VALUES (new.userid);
  END
"
37009,2250,One query to select a record from table A that has both options in the relationship table B,"SELECT P.productId, P.name 
  FROM product AS P 
 WHERE 2 = (SELECT COUNT(*) 
              FROM product_option AS PO 
             INNER 
              JOIN option AS O 
                ON PO.optionId = O.optionId 
               AND PO.productId = P.productId 
               AND O.name IN ('value1', 'value2'));
"
20036,62565,"SQL: Select all rows that meet a condition if that condition is met, but only a certain nuber rows if it isn't",";WITH ranked AS (
  SELECT
    *,
    rownum = ROW_NUMBER() OVER (PARTITION BY ClientID ORDER BY BillingDate DESC)
  FROM Billings
)
SELECT ClaimID, ClientID, BillingDate
FROM ranked
WHERE BillingDate > @CutOffDate OR rownum BETWEEN 1 AND 3
"
11842,52497,Music library MySQL database,"Table artists
----
id (primary key),
name
description
years_active
otherinfo (whatever you need)

Table albums
----
id (primary key)
artistid (foreign key to artists table)
name,
releasedate
genreid (foreign key to genres table)
picture

Table tracks
----
id (primary key)
albumid (foreign key to albums table)
name
override_artist (overrides album artist if not null)
playtime
lyric
otherstuff as needed

Table genres
----
id (primary key)
name
description
"
14472,15840,How to get all parent names,"WITH C AS
(
  SELECT T.id, 
         T.name, 
         T.pid
  FROM @tblPagePath AS T
  WHERE T.id = 3
  UNION ALL
  SELECT T.id, 
         T.name, 
         T.pid
  FROM @tblPagePath AS T
    INNER JOIN C
      ON C.pid = T.id

)
SELECT *
FROM C
--WHERE C.id <> 3
"
12922,30239,Delete rows in one minute intervals with Postgresql,"delete from t
using (
    select
        sensor_id,
        date_trunc('minute', ""timestamp"") as ""minute"",
        min((extract(epoch from ""timestamp"") / 12)::integer * 12) as ""epoch""
    from t
    group by sensor_id, 2
) s
where
    sensor_id = s.sensor_id
    and
    date_trunc('minute', ""timestamp"") = s.minute
    and
    extract(epoch from ""timestamp"") / 12)::integer * 12 != s.epoch
"
9836,14838,How to get the matching db record,"select teamId 
from Player_Team 
where PlayerId in (P1_Id,P2_ID,P3_ID,P4_ID)
group by  teamId
having count(PlayerId) = 4
"
24012,69202,Oracle DELETE statement with subquery factoring,"DELETE FROM tbl WHERE tbl.id IN
(WITH X AS (), Y AS (), Z AS ()
SELECT id FROM TBL
 WHERE TBL.ID IN (SELECT ID FROM Z));
"
11941,11032,How to select each row into a variable in SQL Server,"declare @S varchar(100) = 'abc|123|test'

declare @Name varchar(10)
declare @Phone varchar(10)
declare @Comment varchar(10)

select @Name = X.value('x[1]', 'varchar(10)'),
       @Phone = X.value('x[2]', 'varchar(10)'),
       @Comment = X.value('x[3]', 'varchar(10)')
from (select cast('<x>'+replace(@S, '|', '</x><x>')+'</x>' as xml)) as T(X)

select @Name, @Phone, @Comment
"
4183,9895,convert varchar(8) values and use ASC in T-SQL,"SELECT 
    Total 
FROM Table A
ORDER BY CAST(Total AS FLOAT) ASC
"
39112,32687,Intermediate security layer (Django/SQL),"class Country(models.Model):
    name = models.CharField(max_length=64)
    iso_code = models.CharField(max_length=2)
    users = models.ManyToManyField(""auth.User"")

class MyModel(models.Model):
    country = models.ForeignKey(Country)
    ...

MyModel.objects.filter(country__users=current_user)
"
10925,64901,Executing two FOR SELECT statement in SP firebird,"for select id,date,particular
from TABLE_NAME
  into :id, :date, :particular
do begin
  suspend;
end

particular = null;

for select id,date,payor
from TABLE_NAME
  into :id, :date, :payor
do begin
   suspend;
end
"
39306,60288,SQL- How to query the whole table and grouped values,"SELECT Students.StudentID, Students.StudentName, Avg(Grades.Grade) AS StudentGradeAverage, qGradeAverage.OverallGradeAverage
FROM qGradeAverage, Grades INNER JOIN Students ON Grades.StudentID = Students.StudentID
GROUP BY Students.StudentID, Students.StudentName, qGradeAverage.OverallGradeAverage;
"
3834,31696,"Oracle query Java EE, Entity Manager","@Entity
@Table(schema=""SCHEMA"", name=""TABLE1"")
public class Table1Class { 
 ...
}
"
37426,23843,"Sql Server 2000: Return ""true"" or ""false"" based on any 1 of 25 columns being ""true""","CASE WHEN 1 IN (1a,1b,1c,1d) THEN 1 ELSE 0 END As IsDealerType1
"
20988,55296,Optimize query to find max timespan between orders,"SQLFiddle demo
select created,Previous_created,
       IF(tsd<>0,SEC_TO_TIME(tsd),0) as diff 
from
(
 select created,
       IF(@prev<>0,TIMESTAMPDIFF(second, @prev,created),0) tsd,
       @prev Previous_created,
       @prev:=created f2 
    from orders,(select @prev:=0) t1 
WHERE created >= '2012-06-01'
order by created
 ) t2 
order by tsd desc limit 100
"
33650,52740,Postgresql complicated case statement,"select cust_id, indicator, date,
       max(case when indicator = 'y' then date end) over (partition by cust_id
                                                          order by date) as NewCol
from table t;
"
37485,14017,SQL Trigger to update a field on insert if the inserted value conflicts with the unique constraint,"create trigger albums_ins_trig on albums instead of insert as begin
    -- update albums which already exist and are being inserted again
    update albums set IsDeleted=0 where IsDeleted=1 
    and exists (select * from inserted where albums.name=inserted.name)
    -- insert new albums
    insert into albums select * from inserted 
    where not exists (select * from albums where albums.id=inserted.id) 
end
"
18056,39801,SQL Get count of users who participated in a survey,"SELECT stab.Name, COUNT(si.ID)
FROM SurveyTable as stab INNER JOIN SurveyInfo si ON si.SurveyId = stab.SurveyId
GROUP BY stab.Name
"
27494,18825,get count from sql query result,"SELECT COUNT(*)
FROM (
  --your current query here
) WHERE `id`=9
GROUP BY `id`
"
35370,39520,Find and group duplicates,"SELECT  a.names NAME,
        b.names DUPE_NAME,
        COUNT(*) NUM_DUPES
FROM    names_tbl a, names_tbl b, md5_tbl md5a, md5_tbl md5b
WHERE   a.id < b.id
AND     a.id = md5a.id
AND     b.id = md5b.id
AND     md5a.md5 = md5b.md5
GROUP BY a.names, b.names
ORDER BY a.names
"
6807,2143,WHERE conditions in subquery while using ANSI joins,"SQL> SELECT a.*
  2  FROM dual a
  3       JOIN (SELECT * FROM dual WHERE 1=1) b
  4       ON (1=1);

D
-
X

SQL> quit
Disconnected from Oracle9i Enterprise Edition Release 9.2.0.8.0 - Production
With the OLAP and Oracle Data Mining options
JServer Release 9.2.0.8.0 - Production
"
9633,55276,NVL function in Oracle 11g,"SELECT    NVL(T8.COLLECTION_BALANCE_AMT, 0)
FROM      BV_COLLECTION_CLAIM T8 
LEFT JOIN BV_CLAIM_LIABLE_INDV T2 -- here!
       ON T8.CLAIM_ID = T2.CLAIM_ID
LEFT JOIN BV_CLAIM_RECOVERY T3  -- here too!
       ON T8.CLAIM_ID = T3.CLAIM_ID
"
27874,58372,SQL Server - get list of dates between two dates from a table,"declare @TblHoliday table (StrDate date, EndDate date)
insert @TblHoliday values ('2016-03-26', '2016-03-26'), ('2016-04-07', '2016-04-09')

-- Build a tally table using date range from the data
;with cte as
(
    select min(StrDate) as value, max(EndDate) as maxvalue from @TblHoliday
    union all select dateadd(day, 1, value), maxvalue from cte where dateadd(day, 1, value) <= maxvalue
)
select value from cte 
-- filter out the dates
where exists(select * from @TblHoliday where value between StrDate and EndDate)
option(maxrecursion 0)
"
13441,50322,Skip a loop with Firebird 2.5,"While (v_counter <= :v_total) do begin

  If (NOT <condition>) then
  BEGIN
     ...
  END

end
"
37874,71089,SQL Select and find rows that not exists in other table,"select a.* from addressbook a
left outer join users u on a.phone = u.phone1
where
(u.phone1 is null)
"
21237,71067,Query all the employees under a single employee,"    SELECT *
      FROM employees
START WITH employee_id = 123
CONNECT BY PRIOR employee_id = manager_id
"
5228,63226,How to keep a specific row as the first result of a query (T-SQL)?,"SELECT Name FROM (
    SELECT 'All'       as Name
    UNION 
    SELECT DISTINCT    Manager
    FROM               IS_Projects
) T
ORDER BY CASE Name WHEN 'All' THEN 0 ELSE 1 END, Name
"
23677,36595,Sorting months in sql,"ORDER BY Year, CASE Month WHEN 'Jan' THEN 1 WHEN 'Feb' THEN 2 .... END
"
14830,9500,Filtering count results in sql query,"HAVING COUNT(*) > 1
"
11623,12024,Where do i place the 'Max' function in my SQL query to display the most recent 'LastCallBack'?,"WHERE [Last Call Back] = (SELECT MAX([Last Call Back]) 
                            FROM table_where_last_call_back_column_is)
"
31430,44503,Fill the table with data (Player Rankings),"INSERT INTO totals (id_gamer, name_gamer, total_points)
SELECT p.id, p.name, IFNULL(SUM(g.points), 0)
FROM players AS p
LEFT JOIN games AS g ON p.id = g.id_gamer
GROUP BY p.id
"
24327,29844,Handle Violation of PRIMARY KEY while insert in sql server,"-- MERGE statement with the join conditions specified correctly.
USE tempdb;
GO 
BEGIN TRAN;
MERGE Target AS T
USING Source AS S ON (T.EmployeeID = S.EmployeeID)  WHEN NOT MATCHED BY TARGET AND S.EmployeeName LIKE 'S%' 
THEN INSERT(EmployeeID, EmployeeName) VALUES(S.EmployeeID, S.EmployeeName)
WHEN MATCHED 
THEN UPDATE SET T.EmployeeName = S.EmployeeName
WHEN NOT MATCHED BY SOURCE AND T.EmployeeName LIKE 'S%'
THEN DELETE 
OUTPUT $action, inserted.*, deleted.*;
ROLLBACK TRAN;
GO
"
15198,66822,SQL stuck with this one,"SELECT *
FROM mytable
WHERE id NOT IN (
    SELECT id
    FROM mytable
    GROUP BY id
    HAVING COUNT(*) > 1
) AND time_created < current_timestamp - 1 month
"
36249,45123,How to compare dates in sql query?,"SELECT tahminler.match_id, tahminler.tahmin_text,matches_of_comments.match_id
FROM tahminler
INNER JOIN matches_of_comments ON tahminler.match_id = matches_of_comments.match_id
WHERE (

MONTH(STR_TO_DATE(matches_of_comments.match_date , '%m/%d/%Y'))=  '07'//month variable
 AND YEAR(STR_TO_DATE(matches_of_comments.match_date , '%m/%d/%Y'))=  '2013'//year variable
)
AND tahminler.user_id =12
"
32212,15020,SQL UPDATE with JOIN for WHERE Clause,"UPDATE b
SET ComponentItemID = dbo.GetNewItemID(ComponentItemID)
FROM BillOfMaterials b
INNER JOIN Items I on I.ItemID = b.ComponentItemID
WHERE i.ItemCategory = 1
"
380,38442,How can I use Multiple where clauses in a single mysql select statement?,"SELECT names, subjects, 
SUM(
  CASE 
  WHEN name_of_exam = 'First Weekly Test' THEN (score/full_marks)*20 
  WHEN name_of_exam = 'First Unit Exam' THEN (score/full_marks)*30 
  WHEN name_of_exam = 'Final Unit Exam' THEN (score/full_marks)*50 
  END) AS scored
FROM marksheet
GROUP BY names, subjects
"
36891,41981,I need to insert multiple rows at once in sql server ..based on an iterative value,"insert into tblTemp (a, b)
select a + offset, b
from
  tblTemp2
  cross join
  (SELECT 0 AS offset UNION ALL SELECT 1 UNION ALL SELECT 2) foo
"
34822,69705,In Postgres is it possible to retrieve distinct date data if the table only contains the datetime field?,"SELECT DISTINCT
    col_name::date
FROM
    table_name
"
25511,71330,Does column of integers contains value,"SELECT COUNT(*) FROM table WHERE id = my_value
"
14907,16859,How to pass an output variable in dynamic sql query,"declare @QuestionInclude varchar(10), @stmt nvarchar(max), @params nvarchar(max)

select @stmt = 'select @QuestionInclude = 1 from ##Stg_Prelim'
select @params = '@QuestionInclude varchar(10) output'

exec sp_executesql
    @stmt = @stmt,
    @params = @params,
    @QuestionInclude = @QuestionInclude output
"
3584,38297,Mongo for Meteor data design: opposite of normalizing?,"var myAwesomeCursor = Inventories.find(/* selector */, {
  transform: function (doc) {
    _.each(doc.beverages, function (bev) {
      // use whatever method you want to receive these data,
      // possibly from some cache or even another collection
      // bev.fillTo = ...
      // bev.orderWhen = ...
      // bev.startUnits = ...
    }
  }
});
"
3634,18477,"SQL, select field if field doesn't exist in another table","SELECT * FROM Products p
WHERE NOT EXISTS (SELECT * FROM Images i WHERE i.ProductId=p.ProductId)
"
25010,27529,Good way to get count of children?,"SELECT p.id,
       p.name,
       COUNT(c.id) AS children_count
FROM parent p
LEFT JOIN children c ON p.id = c.parent
GROUP BY p.id
"
10236,39570,RpgSQL - Why is it so slow?,"R> library(RPostgreSQL)
Loading required package: DBI
R> drv <- dbDriver(""PostgreSQL"")
R> con <- dbConnect(drv, password=""...."", dbname=""beancounter"")
R> system.time(res <- dbGetQuery(con,
+>             ""select * from fxprices where date >= '2005-01-01' limit 1000"")) 
   user  system elapsed 
  0.030   0.000   0.113
R> dim(res)
[1] 1000    8
R>
"
10479,63252,SQL query to select all rooms from a table which still have free capacity in date range,"SELECT r.id, r.name, r.room_category_id, r.status, r.capacity, r.capacity - IFNULL(COUNT(res.id), 0) AS beds_available
FROM room AS r
LEFT JOIN reservation_room as rr ON rr.room_id = r.id
LEFT JOIN reservation as res
     ON res.id = rr.reservation_id
     AND @range_start < res.end
     AND @range_end > res.start
GROUP BY r.id
"
9264,6392,Is it possible to select and insert its result in MySQL?,"insert into table1
(Column1, Column2)
select Column1, Column2
from table2
"
10070,11984,"MySQL, select from different table... IF","select coalesce(l.name, c.name)
from cds c
left join languages l on l.cd_id = c.id
                         and l.language = 'de';
"
14454,17829,"Any way to quickly tell which database, if any, is attached to a .mdf file?","declare @files table (
    db_name sysname,
    physical_name nvarchar(260)
)

insert into @files
    exec sp_MSforeachdb 'select ""?"", physical_name from ?.sys.database_files'

select db_name, physical_name 
    from @files
"
8904,12687,"SQL Select; Concatenating strings, avoiding double commas where columns are null?","SELECT
SUPPNAME AS ""Supplier Name"",
(
CASE WHEN STREET IS NULL THEN '' ELSE STREET || ', ' END || 
CASE WHEN TOWN IS NULL THEN '' ELSE TOWN || ', ' END ||
CASE WHEN COUNTY IS NULL THEN '' ELSE COUNTY || ', ' END || 
CASE WHEN POSTCODE IS NULL THEN '' ELSE POSTCODE END
) AS ""Supplier Address""
FROM SUPPLIERS
"
14214,33644,Extract Both Counts AND Earliest Instance from my Dataset,"SELECT uName, COUNT(uId), MIN(PassDate)
FROM UserDetails
INNER JOIN PassDates ON PassDates.fkUser = uId
GROUP BY uName, uId
"
6463,60085,ORA-22163: left hand and right hand side collections are not of same type,"CREATE TYPE col_sub_type IS TABLE OF VARCHAR2(50);
"
8674,15228,again new query. i am trying to solve this from one hour. please help,"select movie.title, actor.name
from movie
inner join casting 
    on movie.id = casting.movieid
    and casting.ord = 1 --Assuming this is the cast order flag
inner join actor
    on casting.actorid = actor.id
where movie.id in (
    select movie.id
    from movie 
    inner join casting 
        on movie.id = casting.movieid
        and casting.actorid = {your actorID in this case Julie Andrew's id
 )
"
9477,70564,Oracle SQL table history,"SELECT * FROM yourtable
  AS OF TIMESTAMP TO_TIMESTAMP('2004-04-04 09:30:00', 'YYYY-MM-DD HH:MI:SS');
"
31950,54603,SQL: Where between two dates without year?,"SELECT * FROM tbl t
WHERE 
  MOD(DAYOFYEAR(currdate) - DAYOFYEAR(t.the_date) + 365, 365) <= 14
  OR MOD(DAYOFYEAR(t.the_date) - DAYOFYEAR(currdate) + 365, 365) <= 14
"
27017,43694,Find last match with latest inserted name in table,"UPDATE PersonalInfo
SET Address = 'US'
WHERE ID = (SELECT MAX(Id)
FROM PersonalInfo
WHERE Name = 'John'
AND Address = 'UK'
)
"
25074,30345,split DB table across two tables,"DECLARE @T1 TABLE (Title varchar(50), NewID int)
INSERT INTO compositeTable (Title, date1, TextContent)
OUTPUT inserted.Title, Inserted.ID INTO @T1
SELECT compositeTable (Title, date1, TextContent)
FROM origArticleTable 


insert into ArticleMeta (compositeID, ArticleID, hasVideo, hasImage, author, date2)
SELECT T1.ID, o.compositeID, o.ArticleID, o.hasVideo, o.hasImage, o.author, o.date2
FROM @T1 T1 
INNER JOIN origArticleTable o ON T1.Title = o.Title
"
5322,4651,LEFT OUTER JOIN with four table,"SELECT u_joinee.fb_id joinee_fb_id ,u_referer.fb_id referer_fb_id, u_joinee.name joinee_name, u_referer.name referer_name
FROM users AS u_joinee
LEFT JOIN referral AS r ON r.joinee = u_joinee.fb_id
LEFT JOIN users AS u_referer ON r.referred_by = u_referer.fb_id
"
25697,54459,SQL select distinct with unique ids,"SELECT MIN(id), LABEL
FROM table 
GROUP BY LABEL
ORDER BY MIN(id)
"
20364,23716,How to Insert row into database for each row of a select in SQL?,"INSERT INTO LOST_CUSTOMERS (CUST_NUM, CUST_NAME, STATUS)
 SELECT CUST_NUM, CUST_NAME, 'Cancelled'
   FROM CUSTOMERS
 WHERE END_DATE < now()
"
19281,8335,Simple SQL Problem,"select  ssn, name
from    YourTable a
where   organisation = 'Finance'
        and exists
        (
        select  *
        from    YourTable b
        where   organisation = 'IT'
                and a.ssn = b.ssn
                and a.name <> b.name
        )
"
26152,20311,Difference between text references and int references in SQLite?,"       select * from people p
       join
       (
        select _id from people join offices
        on people.office = offices._id 
        and offices.name = 'Beadle County'

        UNION

        select _id from people join specialtyareas
        on people.specialty_area_1 = specialtyareas._id 
        and specialtyareas.name='Customer Service'

       ) as MatchingPeople
       on MatchingPeople._id = p._id
"
30643,35693,Can not use recursive table (WITH clause) more than once,"WITH sciezka AS
(
    (something)
)
SELECT TOP 1 @ciag= miasta, @ciag2= odleglosci 
FROM sciezka
WHERE ID_konca=@koniec;
"
34043,25857,Modify XML to Order Mid-level Complextype Elements by Name,"element Things {
  for $thing in /Things/Thing
  let $name := local-name(($thing/*)[1])
  order by $name
  return $thing
}
"
1651,62634,Sql Calculating Averages,"SELECT T.DistrictName, T.TownName, T.CropName, avg(T.pest)
FROM (
    SELECT DistrictName, TownName, CropName, cast(Pests as float) as pest
    FROM [dw_staging].[dbo].[StagingTable]
) as T
group by T.DistrictName, T.TownName, T.CropName
GO
"
37691,30621,SQL calculate difference between cell values,"SELECT 
  TableA.A1 - TableB.A1 AS A1,
  TableA.B1 - TableB.B1 AS B1
FROM TableA, TableB
"
5660,45490,Deleting duplicates with a where clause,"delete t
    from table t join
         (select product, count(*) as cnt
          from table
          group by product
         ) tt
         on tt.product = t.product
    where tt.cnt > 1 and t.product_type = 'house';
"
11990,35289,change default location of table space files,"alter system set db_create_file_dest = '/path/to/new/location';
"
5291,3150,How to use Like in left outer join,"SELECT * 
FROM pay_invoice_list p 
    LEFT outer JOIN paimentDetl d ON p.invoice_no = d.invoiceNo 
WHERE p.invoice_no LIKE ' %$temp%' 
ORDER BY iid DESC
"
31192,72521,Oracle function is Valid or Not,"SELECT status
FROM all_objects
WHERE object_name = 'MYFUNCTIONNAME'
AND object_type = 'FUNCTION';
"
23953,45411,Conditional where clause in Select statement,"where
(upper(Company)=upper(@CompName) or @compName = 'ALL COMPANIES')
and 
(OfficeID=@CompBranchId or @CompBranchId = 'ALL OFFICES')
and
(StateID=@StateID or @StateID = 'ALL States')
"
7431,63159,SQL Server - update on-the-fly added column,"SELECT id,
       (CASE WHEN id=1 THEN 200 ELSE 100 END) AS NewCol
...
FROM Table
"
11194,32884,"Best Practice to Grant Access to specific tables, SQL","GRANT select,insert,update,delete ON [MyDB].[dbo].[t1] TO [MyUser] 
GO
GRANT select,insert,update,delete ON [MyDB].[dbo].[t2] TO [MyUser] 
GO
GRANT select,insert,update,delete ON [MyDB].[dbo].[t3] TO [MyUser] 
GO
GRANT select,insert,update,delete ON [MyDB].[dbo].[t4] TO [MyUser] 
"
25910,17600,multi statement table valued function,"select
    q.Question_ID, q.Answer,
    count(*) as Total,
    count(*) * 100 / (select count(*) from questions as t where t.Question_ID = @question_id) as [Percentage]
from questions as q
where q.Question_ID= @question_id
group by q.Question_ID, q.Answer
"
25258,51951,How to concatenate 2 same-table queries results keeping a unique key in SQLite?,"SELECT  a.*
FROM    foo a
        INNER JOIN
        (
            SELECT  aaa, bbb, MAX(ccc) maxC
            FROM foo
            GROUP BY aaa, bbb
        ) b ON a.aaa = b.aaa AND
                a.ccc = b.maxC AND
                a.bbb = b.bbb
"
3624,21431,Update statement with self join in sybase,"Get the results you're after in a select.
SELECT EMP_ID, max(name), max(Dept), max(cat)
FROM tableName
GROUP BY EMPI_ID
"
19551,43608,Aggregating 15-minute data into weekly values,"select name, week, avg(parameter1), avg(parameter2)
from data
where week in ('29','30','31','32')
group by name, week
order by name
"
7957,10776,sql sub query,"empid   dept 	sal 	c
emp001  d001 	10000 	3
emp004  d001 	10000 	3
emp002  d001 	10000 	3
emp006  d003 	5000 	2
emp005  d003 	5000 	2
emp003  d002 	20000 	1
"
10296,8364,"SQL Geography data type, how to use the gibberish it contains?","declare @g geography = 
    geography::STPointFromText(
      'POINT(55.9523783996701 -3.2051030639559)', 4326
    ).STBuffer(5);

select *
from dbo.yourTable
where gCol.STIntersects(@g) = 1
"
15921,22206,Insert + Select statements in one Query<T> gives ORA-00933: SQL command not properly ended,"  var param = new DynamicParameters();
param.Add(name: ""IinsValue"", value: value, direction: ParameterDirection.Input);
param.Add(name: ""Id"", dbType: DbType.Int32, direction: ParameterDirection.Output);
param.Add(name: ""Value"", dbType: DbType.String, direction: ParameterDirection.Output);
Connection.Execute(""INSERT INTO Table(Id, Value) Values(1, :value) returning Id,Values into :id, :value"", param );
var Id = param.get<int>(""Id"");
var Val = param.get<String>(""Value"");
"
25383,63136,SQL: Full Outer Join across two hierarchies,"SELECT S.*, R.*
FROM Shipment S 
FULL JOIN Receipt R
 ON S.[SHIPMENT NO] = R.[SHIPMENT NO]
AND S.[PART NO] = R.[PART NO]
"
25905,38900,Revert scan state when prompting for variable values,"SQL> show timing
timing OFF
SQL> -- save parameters into an os file
SQL> store set param.sql create
Created file param.sql
SQL> -- run script
SQL> SET TIMING ON
SQL> show timing
timing ON
SQL> -- reset state
SQL> @param.sql
SQL> show timing
timing OFF
"
32904,73696,How to group in fixed count ranges?,"select student_id, ntile(100) over (order by grade desc) from student
"
32358,74382,"By group, check if for each unique value, there is at least one row where the value of the field equals another field's value","select id, max(result) <> 0 as [result2]
from
(
  select id, sum(iif(a=b, 1,0)) > 0 as [result]
  from [table]
  group by id, a
)
group by id
"
16362,26605,SQL conditional SELECT with possible NULL,"SELECT Name
    , Address
    , CASE WHEN REHIRE_DATE IS NULL THEN HIRE_DATE ELSE REHIRE_DATE END
FROM Employee
"
9348,20943,Substring sql nvarchar value from start to first non-int character,"SELECT LEFT(ColumnName,PATINDEX('%[^0-9]%', ColumnName+'a')-1) FROM TABLE
"
18482,5900,MYSQL Database Query with Join and Count,"SELECT A.clientid, A.profileid,
       B.zone_ID, C.zone_name
FROM tblad_clicks A
INNER JOIN tblprofiles B ON A.profileid = B.profileid
INNER JOIN tblzones C ON B.zone_id = C.zoneid
WHERE A.profileid > 0;
"
21403,61543,sqlite insert into table select * from,"INSERT INTO destinationTable (risposta, data_ins)
SELECT STATUS risposta, DATETIME('now') data_ins 
FROM   sourceTable
"
36750,39238,how to find minimum value from result set using cursor in mysql?,"SELECT `price` FROM flight 
WHERE `source1` = 'delhi' 
AND `dest` = 'Bangkok' 
ORDER BY `price` ASC 
LIMIT 1
"
26360,44182,how to combine two numeric fields?,"SELECT name, CAST(ADRESS1 AS VARCHAR(20)) + CAST(ADRESS2 AS VARCHAR(20)) AS columnz from table1
"
37365,6154,How to join mysql tables,"SELECT user.name, user.address, user.comment FROM user
UNION ALL
SELECT user_alias.alias, user.address, user.comment 
   FROM user INNER JOIN user_alias on user.name = user_alias.name
ORDER BY name
"
6260,25188,Merge rows into one row based on condition,"SELECT  [Name],
        MAX(Col1) Col1,
        MAX(Col2) Col2,
        MAX(Col3) Col3,
        MAX(Col4) Col4,
        MAX(Col5) Col5
FROM #Temp
GROUP BY [Name]
"
5991,44302,How to get last message from every conversation,"  select c.maxid as chatID,d.from_user,d.to_user,c.convo_id,d.message 
  from tblchat d 
  inner join  (select max(b.id) as maxID,b.convo_id  
  from tblconv a 
  inner join tblchat b 
  on a.convo_id=b.convo_id 
  group by b.convo_id) c 
  on c.maxID=d.id
"
1489,54927,SQL GROUP BY multiple fields,"SELECT *
FROM (yourquery)
GROUP BY producer
"
26784,64605,force sql results to return each date even if it is not in database,"SELECT ISNULL(SUM(mt.number), 0) AS number, mc.c_date 
FROM 
    my_calendar mc LEFT JOIN
    my_table mt ON mt.c_date = mc.c_date
WHERE mc.c_date between '11/6/2012' AND '11/12/2012' 
GROUP BY mc.c_date 
ORDER BY mc.c_date DESC
"
10510,3593,Oracle SQL: merge with more conditions than matched/not matched,"MERGE INTO swap 
      USING (SELECT id FROM student WHERE number = '123' and id is not null) stu
      on (stu.id = swap.id)
WHEN MATCHED THEN 
  UPDATE SET swapped = 1, last_swap = sysdate 
WHEN NOT MATCHED THEN 
  INSERT (student_id, swapped, last_swap) VALUES (stu.id , 1, sysdate);
"
29577,14040,"SQL: Fetch rows based on even, odd values from multiple tables","SELECT *
FROM `course` `c`
INNER JOIN `section` `even` ON `c`.`course_id` = `even`.`course_id`
INNER JOIN `section` `odd` ON `c`.`course_id` = `odd`.`course_id`
WHERE `even`.`semester` % 2 = 0 
  AND `odd`.`semester`  % 2 = 1;
"
14659,21505,Finding unlinked data in a many to many relationship,"SELECT p.PersonKey, pf.Description as 'MissingFieldDescription' 
 FROM Person p, PersonField pf
  WHERE pf.PersonFieldKey NOT IN 
  (select PersonFieldKey FROM PersonFieldValue WHERE PersonKey = p.PersonKey)
  AND (pf.IsRequired = 1 or pf.IsLateRequirement = 1)
"
26009,15188,Creating a function in Postgresql that does not return composite values,"SELECT (t2.function_row).id,
       (t2.function_row).cost
FROM (SELECT _tmp_myfunction(t.id) as function_row
     FROM transactions  t ) t2;
"
15190,62854,selecting distinct value order by desc,"SELECT customer_id, MAX(time)
FROM table_name
GROUP BY customer_id
ORDER BY MAX(time) DESC
"
16651,39400,Oracle SQL - is there a standard HAVING EVERY workaround?,"SELECT P.pid
FROM (select distinct Pi.pid, M.Director
      from Production Pi INNER JOIN 
    Movie M ON Pi.mid = M.mid) P
GROUP BY P.pid
HAVING sum(case when P.Director in ('Ben Affleck', 'Peter Jackson') 
           then 1 else 99 end) = 2
"
7487,22552,Laravel relationships in migrations?,"$admins = User::where('role_id', '=', 1);
"
11449,29807,How to group result in the same line : Many to Many relationship by using MySQL,"SELECT  product.product_name, GROUP_CONCAT(provider.provider_name SEPARATOR '/') 
FROM  product, provider, provider_product 
WHERE product.id_product = provider_product.ref_product 
AND provider.id_provider = provider_product.ref_provider 
GROUP BY product.product_name
"
13549,49559,how to get data from separate columns in parse.com,"for(ParseObject vegetable : ob){
    Log.d(""TAG"", ""price: "" + vegetable.getDouble(""price""))
}
"
31435,50609,Mysql Many to Many Query,"SELECT g.*, ht.name, ht.tid, at.name, at.tid, ht.league
FROM games g
JOIN team_games htg ON htg.gid = g.gid AND htg.homeoraway = 1
JOIN team ht ON ht.tid = htg.tid
JOIN team_games atg ON atg.gid = g.gid AND atg.homeoraway = 0
JOIN team at ON at.tid = atg.tid
"
39025,38165,Select and count rows by category,"SELECT
    COUNT(item_table.id_category) as total,
    category_table.name
FROM
    category_table
    INNER JOIN item_table ON item_table.id_category = category_table.id_category
GROUP BY
    id_category
"
14461,21340,MySQL: have internal query reference external column on same table,"select id,
(select count(*) from T 
    where DATE(startTime)=DATE(T1.startTime)
          AND 
          StartTime<T1.StartTime  
) as 
CountNumIDsBeforeThisIDOnSameDay,

(select count(*) from T 
    where DATE(startTime)=DATE(T1.startTime)
          AND 
          EndTime<T1.StartTime  
) as 
CountNumIDsThatEndedBeforeThisIDOnSameDay


from T as T1
Order by StartTime
"
34096,56604,SQL table - semi-unique row?,"CONSTRAINT my_contraint_name UNIQUE ([userID], [data])
"
23075,61605,SQL Query to update data from 2 tables into another one,"UPDATE  table_a a
        INNER JOIN table_b b
            ON a.id = b.rel_id
        INNER JOIN table_c c
            ON a.id = c.rel_id
SET     a.date = b.date,
        a.valid = c.valid
"
32885,32470,Datepart in store procedure,"IF (MONTH(GETDATE()-1) = MONTH(GETDATE()))
 BEGIN
   /* DO something here */
 END
ELSE
 BEGIN
  /* Else do something here*/
 END
"
19539,69974,Clause ORDER BY,"SELECT * 
FROM table1
ORDER BY 
CASE 
   WHEN col2>=100 THEN 1
   ELSE 0
END,
col1,
col2
"
16648,73560,SQL Statement - Excluding certain data,"SELECT Job.Job
FROM   Job LEFT JOIN Jobs ON Job.ID = Jobs.JobID
WHERE  Jobs.DepartmentID IS NULL;
"
4519,66783,Get the duplicate records based in 2 columns,"SELECT O.EMP_ID 
FROM ORDERS O 
GROUP BY O.EMP_ID  
HAVING COUNT(distinct O.ITEM_ID) <> COUNT(*)
"
9521,66636,how do i get mysql results of todays date?,"SELECT x,y,z FROM t WHERE Date(added)=Curdate()
"
18084,15202,SQL: Join two different rows from the same table to a relation,"select rel.id, rel.type, p1.id, p1.name, p2.id, p2.name
  from relation rel
     , person p1
     , person p2
 where rel.person1 = p1.id
   and rel.person2 = p2.id
"
10322,25860,UPDATE row when matching row exists in another table,"UPDATE A
SET A.[ResponseLetterSent] = 1 
FROM [LenqReloaded].[dbo].[Enquiry] A
WHERE A.[ResponseLetterSent] IS NULL 
    AND EXISTS ( SELECT * FROM [LenqReloaded].[dbo].[Attachment] B WHERE A.[EnquiryID] = B.[EnquiryID] )
"
29691,30705,SQL query for total unique hits,"select s.site_id, count(*) as totalhits
from sites s join hits h
on s.site_id = h.site_id
group by s.site_id
"
31805,65861,Add a column that increments when another column changes,"with cte as (
    select
        *,
        row_number() over(order by id) as rn1,
        row_number() over(partition by status order by id) as rn2
    from Table1
)
select
    id, status,
    dense_rank() over(order by rn1 - rn2) as status_index
from cte
order by id
"
39547,3627,Retrieving string extract using Substring and Charindex,"Update [MM].[dbo].[Star]
SET [Query Name]= 
    SUBSTRING([File Name], LEN([File Name]) - CHARINDEX('\', REVERSE([File Name])) + 2, CHARINDEX('\', REVERSE([File Name])) - CHARINDEX(' ', REVERSE([File Name])) - 1)
"
8571,31371,TSQL: Swap two values of the same type in diffrent tables,"-- Value from DB1
declare @B1 as int

-- Value from DB2
declare @B2 as int

-- Get value from DB1
select @B1 = Val
from DB1.dbo.TBL1.Val
where ID = 1

-- Get value from DB2
select @B2 = Val
from DB2.dbo.TBL2.Val
where ID = 1

-- Update value in DB1
update DB1.dbo.TBL1
set Val = @B2
where ID = 1

-- Update value in DB2
update DB2.dbo.TBL2
set Val = @B1
where ID = 1
"
23169,22556,complex sql query to update main table,"UPDATE m
SET m.flgType = f.FlagCategory
FROM main_table m
 JOIN emp_flagdetails fd
  ON fd.ecode = m.emp_no   
 JOIN flag_table f
  ON f.FlagType = fd.flag;
"
29085,20672,Using Alias In When Portion of a Case Statement in Oracle SQL,"select ""Id"",
    case ""Id""
        when 3
        then 'foo'
        else 'bar'
    end AS ""Results""
from (
    select TABLEA.SomeIDNumber AS ""Id"",
    from TABLEA
);
"
31648,59369,querying multiple tables and returning 1 compiled result,"select price
from tabel1
union all
select price
from tabel2
"
29309,52951,Sorting an Alphanumeric value mysql,"select columnName from tableName
order by convert(int, right(columnName, 5)) desc
"
35662,55805,"Using SQL (for MySQL), how can I UPDATE data on a row based on data from a previous row?","update yourtable y
join (
  select id, scott, @prevNumericId:=
          if(scott REGEXP '^[0-9]+$', scott, @prevNumericId) prevNumericId
  from yourtable, (select @prevNumericId:=0) t
  order by id   
  ) t on y.id = t.id and y.scott = t.scott
set y.scott = concat(t.prevNumericId,y.scott)
where y.scott not REGEXP '^[0-9]+$'
"
26945,15182,How to count if all documents in a group have a value set to 1?,"select
    b.name, 
    count(db.DocumentArtifactID) as documents,
    -- count only completed
    count(case when d.Testcompleted = 1 then d.ArtifactID end) as reviewed,
    -- if the minimum = 1 there's no 0 or NULL
    case when min(cast(Testcompleted as tinyint)) = 1 then 'yes' else 'no' end as completed
from
    #Batch b

    left join #DocumentBatch db
    on db.BatchArtifactID = b.ArtifactID

    left join #Document d
    on db.DocumentArtifactID = d.ArtifactID
group by b.name;
"
870,38152,SQL query group by multiple time periods,"select productId,
       sum(case when salesdate >= dateadd(month, -1, getdate()) then quantitysold else 0 end) as qs1m,
       sum(case when salesdate >= dateadd(month, -3, getdate()) then quantitysold else 0 end) as qs3m
       sum(case when salesdate >= dateadd(month, -12, getdate()) then quantitysold else 0 end) as qs12m
from table t
group by productId;
"
34347,47059,Left outer join + SUM with group by,"SELECT users.id as user_id, 
       SUM(purchases.quantity) as quantity
FROM users
LEFT JOIN purchases ON (users.id=purchases.user_id) 
                       AND (purchases.state_id = 10)
GROUP BY users.id
ORDER BY quantity DESC
"
39599,32632,mySQL - Combining result from rows depending on count in first row?,"select order_number, dr_amount, dr_speed, oi_amount, oi_up
from data
where order_number in (select order_number
                       from data
                       where oi_amount IS NOT NULL
                       group by order_number
                       having count(*) < 2
                      ) and
      dr_amount is not null;
"
21843,44860,select with subquery takes about 1min in sqlite and < 1s in SQL Server,"SELECT d.* FROM data d
INNER JOIN data_tag ON data_tag.data = d.id AND (tag = 2136 OR tag = 8)
WHERE d.category = 3 
GROUP BY d.id
HAVING COUNT(data_tag.id) >= 2 
ORDER BY id ASC
"
34688,68696,How do you get whether a column is a primary key of a table from with all columns?,"SELECT column_name, CASE WHEN COLUMN_KEY = 'PRI' THEN 'y' ELSE 'n' END AS result
FROM information_schema.columns
WHERE table_schema = DATABASE()
   AND `table_name` = 'tab'     -- table name
ORDER BY `table_name`, ordinal_position
"
4036,34940,How can I rearrange the numerical data of some columns,"select row_number() over (order by BookId) - 1 as BookId, BookTitle
from books b;
"
1238,54590,Oracle: How to do multiple counts with different where clauses the best way?,"  SELECT
    c_unit_code,
    COUNT(case when YOUR_CONDITIONS_FOR_ADVICE_EXPORT then 1 end) AS ADVICE_EXPORT,
    COUNT(case when YOUR_CONDITIONS_FOR_CONFIRMATION_EXPORT then 1 end) AS CONFIRMATION_EXPORT,
    COUNT(case when YOUR_CONDITIONS_FOR_ISSUANCE_STANDBY then 1 end) AS ISSUANCE_STANDBY
  FROM EXIMTRX.EPLC_MASTER
  GROUP BY c_unit_code
"
32918,54313,"How to check if a foreign column is part of a constraint with ""ON DELETE CASCADE"" option?","select ao.name,ao.type_desc,delete_referential_action_desc,*
from sys.foreign_keys fk 
inner join sys.all_objects ao 
on fk.parent_object_id = ao.object_id     
where delete_referential_action_desc <> 'CASCADE'
"
31482,51458,Combine multiple tables in one," with t1 as (select col1, row_number() over (order by col1) rn from tbl1 ),
 t2 as (select col2,col3, row_number() over (order by col2) rn from tbl2),
 t3 as (  select col4,col5, row_number() over (order by col4) rn  from tbl3) 
 select t1.col1,t2.col2,t2.col3,t3.col4,t3.col5 
 from t1 full outer join t2 on t1.rn = t2.rn
 t3 full outerjoin t2 on t2.rn = t3.rn
"
30261,21991,Deleting and replacing entries in a table using SQL Server,"--update cats to felines
Update ""mammal attribute table""
set AttributeID = 456 
where AttributeID=234

go 

--delete cat attribute
delete from attributetable where AttributeID=234
go 

--delete duplicate feline attribute
delete 
from ""mammal attribute table"" 
where mammalattributeid in(
        select max(mammalattributeid)
        from ""mammal attribute table"" 
        group by mammalid,attributeid
        having count(*)>1)
"
24034,23322,How does one concatenate database values into a string?," select
  c.firstname,
  c.lastname,
  concat(c.firstname, ' ', c.lastname) as fullname
 from
  customer c
 where
  c.cust_id = 1;
"
18595,51766,Query FTS table MIN,"SELECT MIN(CAST(_id AS UNSIGNED)) FROM fts WHERE tbl_no=2 AND parent_id=6
"
19286,32854,Counting the amount of Days in a date range,"Declare @Startdate DATE
Declare @enddate DATE
SET @Startdate='9/1/2013'
SET @enddate='9/1/2013' 
SELECT (DATEDIFF(day,@Startdate,@enddate)+1)*1154
"
29848,259,Query to get one entry from multiple rows,"SELECT machinename, StatusCode, size, statusID
FROM (
    SELECT
        machinename,
        StatusCode,
        size,
        statusID,
        ROW_NUMBER() OVER (PARTITION BY MachineID ORDER BY size DESC) AS rn
    FROM machine
    WHERE MachineID IN ('33','22')
    AND StatusCode = 166 
) T1
WHERE rn = 1
ORDER BY size DESC 
"
2021,67253,Joining SQL tables on the column that has a value,"select c.CollectionID, isnull(d.MovieId, s.MovieId) MovieID
from Collection c
left join Director d on d.Director=c.DirectorId
left join Studio s on s.Studio=c.StudioId
"
5125,67705,Selecting a subset of records from a very large record set in Oracle runs out of memory,"where ora_hash(rowid, 1200) = 1
where ora_hash(rowid, 1200) = 2
...
"
9815,63086,Select data from two rows of the same table,"SELECT 
  rec_prison.location as 'Recieving Location',
  cur_prison.location as 'Current Location'
FROM TransferRequest tr
INNER JOIN Prison rec_prison 
  ON rec_prison.prisonID = tr.receivingPrison 
INNER JOIN Prison cur_prison 
  ON cur_prison.prisonID = tr.currentPrison;
"
23249,35446,"What does it mean by ""Non-deterministic User-Defined functions can be used in a deterministic manner""?","CREATE TABLE [dbo].[deterministicTest](
    [intDate] [int] NULL,
    [dateDateTime] [datetime] NULL,
    [castIntToDateTime]  AS (CONVERT([datetime],[intDate],0)),
    [castDateTimeToInt]  AS (CONVERT([int],[dateDateTime],0)),
    [castIntToVarchar]  AS (CONVERT([varchar],[intDate],0))
) ON [PRIMARY]
"
8911,19236,How to select titles and price where price is more then price of 'Movie3',"SELECT title,price FROM movies WHERE price >= (SELECT price FROM test WHERE title='Movie3')
"
39745,39060,SQL unique sequencial id for resultset based on accounting entities,"SELECT
  *,
  DENSE_RANK() OVER (ORDER BY InvoiceNo) AS sequence
FROM
  yourTable
"
13146,20767,How can I do this SQL update query in fewer lines?,"UPDATE AOOBJECT 
SET NAME = CASE 
               WHEN RIGHT(NAME , 2) = '_2' THEN LEFT(NAME , LEN(NAME) - 2)
               ELSE NAME 
           END + '_GRP'
WHERE ObjectDescription = 'Portfolio Group Description'
"
5083,51680,sub string for non English languages,"SELECT CHAR_LENGTH('Época Cosméticos_T2') AS _char_length
     , LENGTH('Época Cosméticos_T2') AS _length

_char_length  _length  
------------  -------
          19       21
"
22446,55786,Why subquery does not work in teradata?,"SELECT * 
FROM
(
 SELECT *
FROM mytable
) as MY_TABLE;
"
18219,24135,Count distinct where attribute is either of keys,"SELECT
  s1.country,
  s1.age,
  COUNT(distinct s2.name)
FROM stats s1
JOIN stats s2 ON s1.country=s2.country OR s1.age=s2.age
GROUP by 1, 2;
"
14664,27419,How can I concatenate columns in a INSERT SELECT,"...SELECT [PatientName] + ', ' + ....
"
22571,15814,Can I get two counts from mysql with a conditional where statement?,"SELECT    COUNT(*) AS total_count,
          COUNT(CASE WHEN profile_visits.visit_time > '2012-07-30 18:53:16' THEN 1 END) AS visitors_count
FROM      profile_visits
LEFT JOIN users ON users.user_id=profile_visits.user_id
LEFT JOIN profile_info ON profile_info.user_id = users.user_id
WHERE     profile_user_id=5 AND 
          users.restricted <> 1
"
37430,19681,How to get the order distinct rows were last inserted into a database?,"SELECT 
    MAX([order]) AS MaxOrd
  , value
FROM Event
GROUP BY value
ORDER BY MaxOrd DESC
"
11692,71838,Datediff GETDATE Add,"AND ( Orders.ShipDate >= DATEADD(Day, Datediff(Day,0, GetDate() -7), 0)
      AND Orders.ShipDate < DATEADD(Day, Datediff(Day,0, GetDate()), 0) )
"
31657,15756,Mysql SUM function with an IF statement,"SELECT SUM(SELECT amount FROM receipt WHERE type='euro') AS euro_amount, SUM(SELECT amount FROM receipt WHERE type='usd') AS usd_amount FROM receipt
"
17120,7871,MySQL: get a stored procedure to exit early on warning,"CREATE PROCEDURE foo
BEGIN
  DECLARE EXIT HANDLER FOR SQLWARNING
    SET @exiting=1 -- any statement will work here
  ;

  A;
  B;
  C;
  D;
END//
"
12503,23074,SQL query with two columns as foreign keys of the same table,"SELECT a.id, a.name, b1.code, b2.code
FROM tableA a
JOIN tableB b1 ON b1.id = a.fk_1_table_B_1
JOIN tableB b2 ON b2.id = a.fk_2_table_B_2
"
19873,18561,Using execSQL for INSERT operation in Android SQLite,"It has no means to return any data (such as the number of affected rows). Instead, you're encouraged to use insert...
"
7994,46171,"SQL query, where = value of another table","select column1 from table1 
   inner join table2 on table1.column = table2.column
   where table2.columne=0
"
18285,68358,Cast collation of nvarchar variables in t-sql,"SELECT CAST('abc' AS varchar(5)) COLLATE French_CS_AS
"
38710,72796,Group by and outer apply not working,"  SELECT C.id_credito, SUM(M.monto), M.fecha_mov,  
  ISNULL(min(tg.nombre),min(tp.NombComp)) AS Acreditados
  .
  . 
  .
  GROUP BY C.id_credito, M.fecha_mov
"
33850,45324,Postgresql - return results if field value exists in another table,"SELECT statement_id, statement_value
FROM statement_bank sr
WHERE category_id=6 AND level=7 and
      exists (select 1
              from statement_record sr
              where sr.user_id = sb.user_id and
                    sr.statement_id = sb.statement_id and
                    sr.date between '2013-01-01' and '2013-12-31'
             );
"
20108,18484,Check a whole table for a single value,"SELECT *
FROM   tbl t
WHERE  t::text LIKE '%999999%';
"
209,5641,MySQL relationships: Bid with products and users,"user_bids_on_product
--------------------
product_id  FK to product
user_id     FK to user
price
"
38445,40958,Hive DATE manipulation in a query,"SELECT col1, col2, myDate, DATE_ADD(myDate,daysDiff) as adjustedDate 
FROM DateSource
JOIN
  (
    SELECT DATEDIFF(FROM_UNIXTIME(UNIX_TIMESTAMP(),""yyyy-MM-dd""),maxDate) as daysDiff 
      FROM 
       (
         SELECT max(myDate) as maxDate FROM DateSource
       ) maxDate
  ) diffDate;
"
17841,58017,how to return typed nulls from a view," ,   cast(null as datetime) as Column3
"
13677,30292,Syntax for projection in SQL,"SELECT ID, NAME
FROM PRODUCTS
WHERE PRICE > 100;
"
12380,58262,MySQL select multiple row on table 2 with two differents Id from table 1 result in one row as two differents fields,"select t21.text as subject, t22.text as description
from table1 t1
join table2 t21 on t1.refidone = t21.id
join table2 t22 on t1.refidtwo = t22.id
"
36905,19678,How to sort and display mixed lists of alphas and numbers as the users expect?,"SELECT  cust_name
FROM    t_customer c 
ORDER BY
    REGEXP_REPLACE(cust_name, '[0-9]', ''), TO_NUMBER(REGEXP_SUBSTR(cust_name, '[0-9]+'))
"
29909,56194,Finding a Named column present in a table,"SELECT DISTINCT TABLE_NAME, COLUMN_NAME
FROM INFORMATION_SCHEMA.COLUMNS
WHERE COLUMN_NAME = 'Name of column';
"
37973,48214,Netezza Create Table of records that are not in both original tables,"SELECT * 
FROM table1 AS t1 
FULL JOIN table2 AS t2 ON t1.key1 = t2.key2 
WHERE t1.key1 IS NULL OR t2.key2 IS NULL
"
36210,38516,MySql table design: multiple tables vs. multiple columns,"   SELECT IFNULL(SUM(t.value), 0)
     FROM PLAYERS p
     JOIN ITEM_STAT_RELATION itr ON itr.player_id = t.player_id
LEFT JOIN STATS s ON s.stat_id = itr.stat_id
    WHERE p.player_id = ?
      AND ...
"
15437,4926,Appending data to a MySQL database field that already has data in it,"UPDATE Table SET Field=CONCAT(Field,'your extra html');
"
23251,31987,SQL Select ONLY Non-Empty Columns,"Select * 
From TableName 
Where ColumnA Is Not NULL And ColumnA <> '' 
  And ColumnB Is Not NULL And ColumnB <> ''
.......
"
25285,54962,SQL Server. How do i round a decimal considering all decimal digits,"SELECT CAST(CAST(795.5921967249997 AS decimal(18, 9)) as decimal(18, 8))
"
35087,56800,Identify rows that differs,"SELECT
T1.AppId,
COUNT(*)
FROM TABLE1 T1
WHERE T1.Req = r1
GROUP BY T1.AppId
HAVING COUNT(distinct status) > 1
"
4880,71101,"Calculate max, average of some row sql","SELECT name, SUM(v) AS sum FROM table GROUP BY name ORDER BY SUM(v) DESC
"
12193,46526,add column while copying data in sql,"SELECT *, GETDATE() AS CurrentDate from dbo.source
"
36390,58435,SQL - delete all values in table X that are less than the MIN of table Y,"DELETE FROM S WHERE S.value < (SELECT MIN(value) FROM Y)
"
7088,33488,inner join vs stored procedure or Function sql server,"select at.Id , p.Name , e.Name , at.Start, at.End 
from Patient p inner join 
     Attend at
     on p.Id = at.PatientId inner join
     Employee as e
     on at.DoctorId = e.Id;
"
963,62581,"Linq version of SQL ""IN"" statement","var TagIds = new int[] {12, 32, 42};

var q = from map in Context.TagMaps 
        where TagIds.Contains(map.TagId)
        select map.Items;
"
31876,51304,Populating two tables from another table using a trigger,"CREATE TRIGGER distributing_info_details AFTER INSERT ON Info FOR EACH ROW
BEGIN
  INSERT INTO Household (personID, sons, daughters, ...)
    VALUES (new.PersonID, new.sons, new.daughters, ...)
    # use    ^ this key word to access the newly inserted ID.
  INSERT INTO Person (firstName, lastName, ...)
    VALUES (new.firstName, new.lastName,...)
END;
"
12372,74619,"How to fix a count() in a query with a ""group by"" clause?","Select count(*) as rowcount from
(

     Paste your query here

) as countquery
"
7984,18643,SQL Having count logic,"SELECT t1.[Code], t1.[Name]
FROM [#tmpTest1] t1
INNER JOIN
(
    SELECT [Code]
    FROM [#tmpTest1] 
    GROUP BY [Code]
    HAVING COUNT(DISTINCT [Name]) > 1
) t2
    ON t1.[Code] = t2.[Code]
"
14794,51665,Adding a SQL Default value of 01 to a database column,"create table MyTable (Id int, Value varchar(100) not null default('01'))
Insert into MyTable (Id) values (1) 

Select Value
From MyTable 

will be '01'
"
31797,42169,Trigger that will now allow any operation on a table on particular days in PostgreSql,"CREATE FUNCTION check_sunday() RETURNS trigger AS $$
    BEGIN
        IF EXTRACT(DOW FROM NOW()) = 0 THEN
            RAISE EXCEPTION 'You cannot do this on Sunday!';
        END IF;
        RETURN NEW;
    END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER foo_trigger ON foo
BEFORE INSERT EXECUTE PROCEDURE check_sunday();
"
19529,36787,How to execute two quires in JDBC,"SELECT emp.name,
       emp.salary,
       COUNT(*) OVER () AS total_count
FROM   employees emp;
"
2656,27275,ColdFusion Query - Injection Protection,"<cfset value = ""\'; DROP TABLE tableName -- "" />

<cfquery>
    select * from tableName
    where fieldName = '#value#'
</cfquery>
"
5908,52697,Foreign Keys Relation - Unique tuple,"CREATE UNIQUE INDEX my_index ON tbl_name (fk1, fk2)
"
37360,53904,SQL query: how to translate IN() into a JOIN?,"SELECT o.Id, o.attrib1, o.attrib2 FROM table1 o
JOIN (
  SELECT DISTINCT Id FROM table1, table2, table3 WHERE ...
) T1
ON o.id = T1.Id
"
26182,36252,Duplicate pairs in SQL cross join?,"select
  p1.investigator,
  p2.investigator
from
  proposals AS p1
    cross join
  proposals AS p2 
where
  p1.investigatorDepartment = 'CIS' and ((
      p2.investigatorDepartment = 'CIS' and 
      p1.investigator < p2.investigator
  ) or (
      p2.investigatorDepartment != 'CIS' or
      p2.investigatorDepartment is null
  )) and
  p1.proposalNum = p2.proposalNum;
"
1644,20271,Oracle SQL; Determine if value is unique or not in a group,"select pallet_id,
    case 
        when count(case when product_group not in ('LAMINAAT','ACCESSORIE') then 1 end) > 0 then ''
        when count(distinct product_group) > 1 then 'Mix'
        when count(case when product_group = 'LAMINAAT' then 1 end) > 0 then 'LAM'
        else 'ACC'
    end as label
from mytable
group by pallet_id
"
25202,26241,MySQL: Concatenate different values as single value,"SELECT  a.proID,
        GROUP_CONCAT(b.domainID) domainId,
        GROUP_CONCAT(b.domainName) domainName
FROM    projects a
        LEFT JOIN domain b
            ON a.domainID = b.domainID
GROUP BY a.proID
"
6357,71988,ms-access Group BY a match between several fields,"SELECT Field1 AS FieldValue FROM MyTable
UNION ALL
SELECT Field2 AS FieldValue FROM MyTable
UNION ALL
SELECT Field3 AS FieldValue FROM MyTable
"
24024,24519,SQL : return value in required format,"SELECT REVERSE(
  INSERT(
    INSERT(REVERSE(1234567890), 5, 0, '.'),
      8, 0, '.')) AS formatted;

+--------------+
| formatted    |
+--------------+
| 1234.56.7890 |
+--------------+
"
6820,37083,Where is the oracle db stored in windows,"select * from dba_data_files; -- The database files (this is where the tables live)
select * from v$logfile; -- The online redo logs
select * from v$controlfiles; -- The controlfiles
"
17695,58348,Converting 1 record with a start and end date into multiple records for each day," SELECT A.data,
    DT.startDate,
    DT.endDate
 FROM
 DateTable DT
 JOIN A
 ON A.StartDate >= DT.startDate
 And A.EndDate <= DT.endDate
"
39143,12055,Combining the results of two seperate SQL queries with 'OR',"SELECT ""outbreaks"".* FROM ""outbreaks"" INNER JOIN ""bacterial_agents"" ON bacterial_agents.outbreak_id = outbreaks.id INNER JOIN ""bacteria"" ON ""bacteria"".id = ""bacterial_agents"".bacterium_id WHERE (bacteria.name ILIKE E'%VTEC O157%')
UNION
SELECT ""outbreaks"".* FROM ""outbreaks"" INNER JOIN ""viral_agents"" ON viral_agents.outbreak_id = outbreaks.id INNER JOIN ""virus"" ON ""virus"".id = ""viral_agents"".virus_id WHERE (virus.name ILIKE E'%NOROVIRUS%')
"
158,33335,Postgres - Selecting rows begining with value,"select *
from TABLE
where cast(number as varchar(255)) like '11%';
"
22306,65826,Sum and condition in oracle on update,"update stackoverflow_employee set salary = case 
when hire_date>'1-Jan-2001' then salary+salary*0.1
when hire_date between ('1-Jan-1997') AND ('1-Jan-2000') then salary+salary*0.07
when hire_date < '1-Jan-1996' then salary+salary*0.04
end
"
23094,6070,"SELECT entry in SQLite, without a WHERE condition?","result = db.rawQuery(""SELECT col FROM tbl"", new String[0]);
"
15221,24678,Update data in table1 where duplicates in table2,";WITH cteDedup AS(
  SELECT
    UserId
   ,FName
   ,LName
   ,ROW_NUMBER() OVER(PARTITION BY FName, LName ORDER BY UserID ASC) AS row_num
  FROM UserTable
 )

 UPDATE rt
 SET UserId = original.UserId
 FROM ResultsTable rt
 JOIN cteDedup dupe
   ON rt.UserId = dupe.UserId
 JOIN cteDedup original
   ON dupe.FName = original.FName
   AND dupe.LName = original.LName
 WHERE dupe.row_num <> 1
   AND original.row_num = 1
"
16010,40089,SQL: SELECT if entry in one column corresponds to another column of a different table,"SELECT DISTINCT n.node_name, n.data
    FROM nodes n
        INNER JOIN nodeActivity na
            ON n.node_name = na.node_name
                AND na.time = '00:00:00'
"
8737,36150,Need help in developing DB logic,"""customer [cid] has name [firstname] [lastname]
    AND customer [cid] has a phone number [phonenumber] of type [type] ...""
""customer [cid] can use credit card #[card_no]""
""seat [seatid] is at row [row] and column [column]""
""seat [seatid] is booked""
""seat [seatid] is temporarily committed to an unfinished booking""
...
"
25859,46358,SQL - Query records within an undefined interval,"SELECT N1.CustomerID, COUNT(N2.OrderDate)  FROM Northwind N1
INNER JOIN Northwind N2
ON N1.CustomerID=N2.CustomerID
AND N1.OrderDate<=Dateadd(MONTH, 6, N2.OrderDate)
GROUP BY N1.CustomerID
HAVING COUNT(N2.OrderDate)>=3
"
26354,29209,MySql Select Query,"  SELECT t1.f1,
         t1.f2,
         GROUP_CONCAT(t2.value) AS values
    FROM TABLE_1 t1
    JOIN TABLE_2 t2 ON FIND_IN_SET(t2.color, t1.f2)
GROUP BY t1.f1, t1.f2
"
25243,72512,Combine a SELECT and a UNION ALL,"SELECT A.idA, A.idB, COALESCE(B1.Value, B2.Value)
FROM tableA A
WHERE idA = 1;
LEFT JOIN TableB1 B1 ON B1.idB = A.idB
LEFT JOIN TableB2 B2 on B2.idB = A.idB
"
36846,1621,result set from self joined table and another one MySQL,"select
    money_ex.StudentIdFrom,
    st_from.FirstName,
    st_from.LastName,
    money_ex.StudentIdTo,
    st_to.FirstName,
    st_to.LastName,
    money_ex.Amount
from
    MoneyExchange as money_ex
    join Student as st_from on money_ex.StudentIdFrom = st_from.StudentId
    join Student as st_to on money_ex.StudentIdTo = st_to.StudentId
order by
    money_ex.Amount asc
limit 0 , 15;
"
2711,23263,webmatrix - sql query relationship,"SELECT * FROM 'Property Table' props LEFT JOIN 'Images Table' imgs ON imgs.PropertyID = props.PropertyID
"
21607,43833,Getting difference of value between two adjacent records in SQL Server,"SELECT
ID,
Score,
ISNULL(convert(int, lead(Score) over(partition by id order by timestamp)), 0) 
- convert(int, Score)
FROM RiskPredLog 
-- where ID = '1002010'
"
31422,60379,Select and aggregate last records base on order,"WITH recordsList
AS
(
    SELECT Type, Charges,
            ROW_NUMBER() OVER (PArtition BY TYPE
                                ORDER BY [ORDER] DESC) rn
    FROM tableName
)
SELECT  SUM(Charges) totalCharge
FROM recordsLIst
WHERE rn = 1
"
32976,57322,"sql select min, return value from different column in same row with grouping","SELECT [T].* 
FROM (  
    SELECT [Name]
         , [DATE]
         , [OrderType]
         , ROW_NUMBER() OVER (PARTITION BY [Name] ORDER BY [Date]) AS [seq]
    FROM [TableA]
) AS [T]
WHERE [T].[seq] = 1
"
24515,48478,"it doesn't recognize ""sum"". why?","SELECT c.c_id, c.c_name, SUM( p.p_sum ) AS sum
FROM clients c, contracts_rent r, payments p
WHERE c.c_id = r.c_id
AND r.contract_id = p.contract_id
GROUP BY c.c_id 
HAVING SUM( p.p_sum ) > 1300
"
35180,60168,How to set network adapter used by SQL Server Replication?,"   ping server1
   ping server2
"
12747,39085,"How to query: Select games in categories A, B and C","SELECT  g.*
FROM    game g
WHERE   EXISTS
        (
        SELECT  NULL
        FROM    categories c
        WHERE   c.name IN ('A', 'B')
                AND c.game = g.id
        LIMIT 1 OFFSET 1
        )
"
33938,56585,"what does order 1,2 do","select *
from t
order by item, bin;
"
3292,4469,Sql Group By Two Fields,"SELECT Branch AS 'Branch Code',
    SUM(CASE WHEN CustomerStatus_Value = 'E' THEN 1 ELSE 0 END) AS 'Created',
    SUM(CASE WHEN CustomerStatus_Value = 'A' THEN 1 ELSE 0 END) AS 'Active',
    SUM(CASE WHEN CustomerStatus_Value = 'B' THEN 1 ELSE 0 END) AS 'Blocked',
    SUM(CASE WHEN CustomerStatus_Value = 'C' THEN 1 ELSE 0 END) AS 'Cancelled',
    COUNT(CustomerStatus_Value) AS 'All'
FROM CustomerStatusEntries
GROUP BY Id
"
31081,47031,Relational division in mysql without aggregrate functions?,"select distinct p.team from player p 
where not exists
(select * from player p1 
where not exists
(select * from player p2 
where 
p.team=p2.team 
and 
p2.gid=p1.gid))
"
22999,1623,GROUP BY having MAX date,"SELECT n.* 
FROM tblpm n 
INNER JOIN (
  SELECT control_number, MAX(date_updated) AS date_updated
  FROM tblpm GROUP BY control_number
) AS max USING (control_number, date_updated);
"
5834,20106,Matching BIT to DATETIME in CASE statement,"WHERE
   (@BitInput = 0 AND DateColumn IS NULL)
   OR
   (@BitInput = 1 AND DateColumn IS NOT NULL)
   OR
   @BitInput IS NULL
"
38222,23094,SQL statement to select an object that has multiple attributes in the same column,"select player_name, sport_played, count(*) 
from athlete group by player_name, sport_played having count(*) > 1
"
21938,36993,Mysql Query - Giving only generalised result,"SELECT *
FROM product
WHERE (
        SELECT count(*)
        FROM product AS p
        WHERE p.Product = product.Product AND p.Date >= product.Date
      ) <= 2
ORDER BY Product ASC;
"
16698,28585,"SQL query to find ""all words starting with the exact phrase"" in a string?","SELECT * FROM books WHERE header LIKE 'dan%' OR header like '% dan%';
"
36446,41965,Updated a table based on a condtion Sql server?,"UPDATE AH
    SET [Booking Rating] = (CASE WHEN RLI.B_KEY IS NULL THEN '0' ELSE '1' END)
    FROM [H$Agency Header] AH LEFT JOIN
         #RatingLines RL1
         ON RL1.[B_KEY] = AH.[Reservation No_] AND
            RL1.[RTD_COMMENT] <> ''-- If the Booking have a comment inDB2
    WHERE AH.[Booking Rating] = '0'    -- Get only Booking without Comments
"
36952,66043,SQL - Update table changing one column value based on another table,";WITH goodlist AS
(
  SELECT child-id, image-url
  FROM relationstable
  left join imagetable on relationstable.child-id = relationstable.child-id and attribute-id = ""goodimage""
)
UPATE imagetable
 set imagetable.image-url = 
   (SELECT top 1 image-url from goodlist where child-id = imagetable.object-id) 
WHERE imagetable.image-url = ""no""
"
21246,3291,Joining Table using range in foreign key,"select t1.*,
       (select top 1 Y
        from table2 t2
        where t2.id <= t.id
        order by t2.id desc
       ) as Y
from table1 t1;
"
22943,1535,how to reformat DateTime data type,"select convert(varchar(30), getdate(), 108) -- returns hh:mi:ss
"
37993,44389,Using multiple values in SQL query where clause,"Select Distinct 
    SomeDay.SomeDayID,SomeDay.FolderName,SomeDay.FolderColor 
from 
    SomeDay,SomeDayEvent 
where 
    SomeDay.SomeDayID not in (4,3,2,1);
"
2326,61828,PostgreSQL field data type for IPv4 addresses,"regress=> SELECT '192.168.1.19'::inet << '192.168.1.0/24'::cidr;
 ?column? 
----------
 t
(1 row)
"
18160,36981,Excluding results of nested SQL query,"select previous.loser
from table1 previous
where previous.winner=CURRENTLOSER and (
   select count(*)
   from table1 ancient
   where (ancient.winner=CURRENTWINNER and ancient.loser=previous.loser) or
         (ancient.loser=CURRENTWINNER and ancient.winner=previous.loser)
   ) = 0
"
18737,58087,Count distinct items based on group by clause,"SELECT c1.Color, c1.Value
FROM colors c1
INNER JOIN
(
    SELECT Color, MIN(VALUE) AS minValue
    FROM colors
    GROUP BY Color
) c2
    ON c1.Color = c2.Color AND c1.VALUE = c2.minValue
"
20114,17005,Is There Any Way to Combine These Queries into One?,"SELECT `bio_community_events`.`id`, `bio_community_events`.`begin_on`, `bio_community_events`.`name`
    FROM `bio_community_events` INNER JOIN `bio_contacts` on `bio_community_events`.user_id=bio_contacts.contact_id
WHERE bio_contacts.user_id=33;
"
35537,3601,"How to use ""IN"" in CASE on SQL server?","WHERE (Column1 = @Value AND @chk = 'Y')
OR (@chk <> 'Y' AND Column1 IN (SELECT column2 FROM table2));
"
13499,53855,SQL time stamp to millisecond,"Dim milliseconds As Double
milliseconds = (end - start).TotalMilliseconds
"
31410,72797,SQL same join in two columns with different values,"SELECT  F1.Fighter as Fighter1,
        F2.Fighter as Fighter2
FROM    FIGHT
        INNER JOIN FIGHTERS as F1 ON FIGHT.Fighter_ID1 = F1.ID
        INNER JOIN FIGTHERS as F2 ON FIGHT.Fighter_ID2 = F2.ID
"
7201,7992,How to merge rows from one table to another row in another table,"SELECT
`name`,
group_concat(`description`) as `description`,
sum(`amount`) as `amount` 
FROM `table_name`
GROUP BY `name`
"
2243,63566,Problem in string concatenation in sql server using FOR XML Path. ,";with cte1 as
(
select 
UniqueId
, id
, data
,case when isnumeric(data) = 1 
    THEN replicate(',-',data) 
    ELSE ',' + data end as string
from @t
)

select 
id
,LTRIM(STUFF(
    (
    SELECT
      ' ' + t2.String
    FROM Cte1 t2
    WHERE t2.id = t1.id
    FOR XML PATH('')
    ), 2, 1, ''
  )) As concatenated_string
from cte1 t1 group by t1.ID ,t1.ID 
"
39325,4435,Is it possible to execute a SQL dbo automatically?,"WHILE (1 = 1)
BEGIN
    SET NOCOUNT ON;
    select * from [test_p]
    WAITFOR DELAY '00:00:02'
END
"
33830,18517,How to convert empty string to null in SQLite,"SELECT NULLIF(MyColumn, '') FROM MyTable
"
8603,14199,combing two SELECT statements into a JOIN,"SELECT  b.url
FROM    table1 a
        INNER JOIN table2 b
            ON a.item_id = b.item_id
WHERE   a.name = '$name'
"
39259,25494,MySQL multiple subquery,"SELECT  rep.ID
FROM    reparacoes rep
        INNER JOIN
        (   SELECT  id_reparacao, MAX(Edit_Data) AS Edit_Data
            FROM    reparacoes
            GROUP  BY id_reparacao
        ) MaxRep
            ON MaxRep.id_reparacao = rep.id_reparacao
            AND MaxRep.Edit_Data = rep.Edit_Data;
"
14970,7765,Creating one table from select query in SQL,"Select    
  Books.IdBooks,
  Books.Title,
  Books.Author,
  COUNT(Books.IdBooks) as NumberOfOrderedBooks
Into NEW_TABLE
From Books
right join Orders
  on (Books.IdBooks = Orders.IdBooks)
group by
    Books.IdSeminar,
    Books.Naziv
"
24128,74681,functional dependency for mysql,"CREATE VIEW MyGuestsView
SELECT id, firstname, lastname, CONCAT(firstname, lastname) AS fullname, email, reg_date
FROM MyGuests
"
18177,64267,Reverse Start With,"WITH CTE (USER_ID,USER_NAME,RPT_TO_USR,LV) AS
(
    SELECT USER_ID,USER_NAME,RPT_TO_USR,1 
      FROM USERTABLE 
     WHERE RPT_TO_USR IS NULL
    UNION ALL
    SELECT A.USER_ID,A.USER_NAME,A.RPT_TO_USR,B.LV + 1
      FROM USERTABLE A, CTE B
     WHERE A.RPT_TO_USR = B.USER_ID
)
SELECT * FROM CTE;
"
1747,18521,Multiple many-to-many relations SQL query,"select ed.name, e.title
  from event e
  join event_to_category etc
    on etc.event_id = e.id
  join event_category ec
    on etc.event_category_id = ec.id
  join event_to_date etd
    on e.id = etd.event_id
  join event_date ed
    on etd.event_date_id = ed.id
 where etc.category_id = 53
 order by ed.name
"
26543,11724,SQL INNER JOIN ON LIKE,"SELECT  DISTINCT tableA.group
FROM    tableB
INNER JOIN
        tableA
ON      tableA.group LIKE CONCAT(tableB.groups, '%')
"
36892,5795,SQL Server Sorting Date With Hours/Mins,"SELECT DivisionName as Division, StoreNum as Store, LeadName as Lead, Type, ChangeType,Changes, 
UpdatedBy, 
convert(varchar(10),UpdatedDate, 101) + right(convert(varchar(32), UpdatedDate,100),8) as UpdatedDate FROM m 
WHERE DivID!=0 
ORDER by UPDATEdDate desc
"
11536,37329,Calculating blank fields in MS Access via a SQL query,"SELECT Count(*) AS CountIfSexNull
FROM DEMO
WHERE DEMO.SEX Is Null
"
1775,9769,Need help please with a mysql query,"Select asgn.user_id, asgn.ticket_id, answ.answer
from
Assigned asgn
inner join
Answers answ
on asgn.user_id = answ.id_per
and asgn.ticket_id = answ.id_ticket
and upper(answer) like '%YES%'
"
17595,22326,"Why are ""Null Like X"" and ""Not (Null Like X)"" equal?","NULL LIKE 'X'
NULL NOT LIKE 'X'
NOT (NULL LIKE 'X')
NOT (NULL NOT LIKE 'X')
"
3021,41520,ON DUPLICATE KEY: multi-column unique constraint,"ALTER TABLE tblname ADD UNIQUE (a,b)
"
36498,45847,Conditional count over multiple tables,"select tablename, count(*)
from (select 'table1' as tablename, someid
      from table1
      union all
      select 'table2' as tablename, someid
      from table2
     ) t
where someid in ('1815972751', '1815751159', '1815752967', '1815756079')
group by tablename;
"
5458,69894,How to optimize delete query (with subquery) in Oracle?," delete from tableA where tableA.fk in (
    select id from (
            select id from tableB where 
                tableB.column1='somevalue' and tableB.date between date1 and date2 and id in (select distinct fk from tableA.fk)

        )
        where rownum < XXXX 
    )
"
35960,55870,Unique combination in a table,"CREATE UNIQUE INDEX picture_homepage_uni ON picture (house_id) WHERE homepage;
"
27446,20459,How to retrieve specific rows from SQL Server table?,"SELECT * FROM (
  SELECT
    ROW_NUMBER() OVER (ORDER BY ColumnName ASC) AS rownumber
    FROM TableName
)  as temptablename
WHERE rownumber IN (2,5)
"
29779,67065,How to properly trigger an insert to a linked sql server?,"CREATE TABLE dbo.SyncQueue
(
    QueueId INT IDENTITY(1,1),        
    KeyForSync INT, -- Primary key value of record in dbo.SourceTable
    SyncStatus INT  -- statuses can be: 0 - New, 1 - Synchronized, 2 - Error
)

suppose you source table is

CREATE TABLE dbo.SourceTable
(
        Key INT, -- primary key of the table
        Data varchar(xxx)
)
"
15660,37811,Combine INSERT INTO statements,"INSERT INTO Totals([TOTAL VERIFIED FORMULARIES], [TOTAL AVAILABLE FOR IMPORT], [TOTAL SHOULD BE IMPORTED])
SELECT A.cnt, B.cnt, C.cnt
FROM ( 
    SELECT COUNT([FORMULARY ID]) as cnt
    FROM VerifiedFormularies
) AS A
, (
    SELECT COUNT([FORMULARY ID]) as cnt
    FROM ImportMetricsIDs
) as B
, (
    SELECT COUNT([FORMULARY ID]) as cnt
    FROM ShouldImportMetricsIDsTable 
    WHERE [IMPORT STATUS]= 'Yes'
) AS C
"
21668,74437,about sql select not working,"SELECT id_towaru, nazwa_tow, 'it''s work' AS result
FROM TOWAR
WHERE ID_KATEGORIA = '00001'
"
15042,57516,Calculate value per day,"SELECT trunc(event_date), 
       sum(network_up) total_up,
       sum(network_down) total_down
  FROM agent_history
 WHERE event_date >= trunc(sysdate) - 30
 GROUP BY trunc(event_date)
"
115,38134,"SQL - Proper ""where"" clause for current month","SELECT * FROM date_sargable
WHERE  YEAR(value) = YEAR (getDate())
  AND MONTH(value) = MONTH(getDate())
;

SELECT * FROM date_sargable
WHERE DATEDIFF(MONTH, value, getDate()) = 0
;

SELECT * FROM date_sargable
WHERE DATEDIFF(MONTH, 0, value) = DATEDIFF(MONTH, 0, getDate())
;


SELECT * FROM date_sargable
WHERE value >= DATEADD(MONTH, DATEDIFF(MONTH, 0, getDate())    , 0)
  AND value <  DATEADD(MONTH, DATEDIFF(MONTH, 0, getDate()) + 1, 0)
;
"
20009,75349,Select from duplicated rows the biggest one,"SELECT ID, MAX(second_col)
FROM table
GROUP BY ID
"
7665,54465,Randomly SELECT two disctinct rows on a table,"SELECT DISTINCT postid 
FROM tablename
ORDER BY RAND()
LIMIT 2
"
5323,58491,Update a table from another table,"UPDATE distinct_network_point 
SET altitude = altitude_of_point.altitude 
FROM  altitude_of_point 
    WHERE distinct_network_point.id= altitude_of_point.id
"
1960,52918,Insert double quotes into SQL output,"SELECT QUOTENAME(First, '""'), QUOTENAME(Last, '""'), QUOTENAME(Email, '""')
    FROM People
"
39696,3120,SQLite SELECT not returning anything,"SELECT Fname, Lname 
FROM EMPLOYEE 
WHERE dno = 4 
  AND Ssn IN (SELECT essn FROM WORKS_ON);
"
15100,55859,one query instead of four - is it possible?,"(SELECT id, name_ar FROM tour_type ORDER BY order)
UNION ALL
(SELECT id, name_ar FROM hotel_type ORDER BY order)
UNION ALL
(SELECT id, name_ar FROM food_type ORDER BY order)
UNION ALL
(SELECT id, name_ar FROM cities WHERE id_parent = ? ORDER BY name_ar)
"
20026,25653,How to use use pivot table,"SELECT PupilID, Subject, [Year1], [Year2], [Year3], [Year4]
FROM (
    SELECT PupilID, Subject, Year, Score
    FROM Scores
    --Where (PupilID = 10016) 
    ) AS DT
PIVOT(SUM(Score) FOR Year IN ([Year1],[Year2], [Year3], [Year4])) AS PVT
"
22732,56336,Connecting to .sql file from terminal on a Mac,"mysql -h hostname -u user --password=password databasename < file_name.sql
"
5606,53726,Inner and left join on the same tables,"select a.x, a.y
from TableA a
inner join TableB b on a.x = b.x
"
11350,34272,How to create a file system directory in a SQL Server 2005 call/query,"declare @Path varchar(100)
set @Path = 'c:\CreatedFromSQL'
EXEC master.dbo.xp_create_subdir @Path
"
38130,71154,SQL Server Select top 10-20 results?,"WITH T AS
(
SELECT TOP 20 name, 
       row_number() OVER (ORDER BY id) AS RN
FROM Products
ORDER BY id
)
SELECT 
       MAX(CASE WHEN RN <=10 THEN name END) AS Col1,
       MAX(CASE WHEN RN > 10 THEN name END) AS Col2
FROM T       
GROUP BY RN % 10
"
196,44392,How can I get the MAX COUNT for multiple users?,"select trainerID,count(trainerID) [Count]
From
(
select clientID,trainDate,trainerID,
       row_number()over(partition by clientID order by trainDate Desc) Rn
From yourtable
) A
where Rn=1
Group by trainerID
"
875,43372,Insert data into remote database table from local database table,"INSERT INTO OPENROWSET('SQLNCLI',
'Server=someserver.net\SQLEXPRESS2014;User=xxxx;Password=xxxx;',
'SELECT [Name], [Description], [ARXUrl], [IsDeleted], [CreatedDate]
FROM [slic-test].[dbo].[ARXSystem]')
SELECT [Name], [Description], [ARXUrl], [IsDeleted], [CreatedDate]
FROM [dbo].[ARXSystem]
"
37861,3773,counting mysql values,"  SELECT TAG_DESC as 'Description', 
         COUNT(TAG_DESC) as 'Occurances' 
    FROM table_name 
GROUP BY TAG_DESC
"
21889,50094,SQL INSERT INTO from multiple tables,"INSERT INTO table3 ( name, age, sex, city, id, number, nationality)
SELECT name, age, sex, city, p.id, number, n.nationality
FROM table1 p
INNER JOIN table2 c ON c.Id = p.Id
INNER JOIN table3 n ON n.Id = p.Id
"
39300,6546,How to do a search function with two like parameters in sql,"WHERE  (@Lastname is NULL or customer.lastname LIKE '%' + @Lastname + '%' ) or
       (@Street is NULL or address.street LIKE '%' + @Street + '%' ) 
"
3436,39999,Grouping Timestamps based on the interval between them,"select min(thetime) as start_time, max(thetime) as end_time
from
(
  select thetime, count(gap) over (rows between unbounded preceding and current row) as groupid
  from
  (
    select thetime, case when thetime - lag(thetime) over (order by thetime) > interval '30 minutes' then 1 end as gap
    from mytable
  ) times
) groups
group by groupid
order by min(thetime);
"
29706,17269,SQL How to find carts that only contain specific cart items?,"WHERE c.cart_id_pk IN (
    SELECT ci.cart_id_fk 
    FROM cart_item ci 
    WHERE ci.item_name = ""Apple"")
AND c.cart_id_pk IN (
    SELECT ci.cart_id_fk 
    FROM cart_item ci 
    WHERE ci.item_name = ""Banana"")
AND c.cart_id_pk IN (
    SELECT ci.cart_id_fk 
    FROM cart_item ci 
    WHERE ci.item_name = ""Carrot"")
"
1101,19424,Cannot check for null values in sql database,"query {
    for h in dc.Table do
    where h.SectorId.HasValue
    select h
}
"
1478,44561,"Oracle SQL Between Date, Except Some Month","where some_date between to_date('01/01/2015','MM/DD/YYYY') and to_date('12/31/2015','MM/DD/YYYY')
and extract(month from some_date) in (1, 2, 3, 10, 11, 12);
"
20199,9495,MS Access SQL: select rows with the same order as IN clause,"SELECT b.name, a.title
FROM book as a
JOIN user as b
ON b.id = a.userId
WHERE SUBSTRING(LOWER(a.title), 1, 1) = 'a'
ORDER by a.title
"
19930,70201,How to sort by 2 columns when joining 2 tables?,"  SELECT id_image, occurences
  FROM (
      SELECT id_image, COUNT(id) AS occurences, 2 AS priority 
      FROM images_bookmarks
      GROUP BY id_image
    UNION
      SELECT id_image, COUNT(id) AS occurences, 1 AS priority
      FROM images_likes il 
      GROUP BY id_image
  ) AS favorites
  ORDER BY occurences DESC, priority DESC
"
7488,14557,MySql query ordering in JOIN tables,"SELECT Doc.Code,Doc.DataAccept,DocTypes.Name,Org.Name

FROM Doc LEFT OUTER JOIN DocTypes JOIN Org

ON Doc.Type=DocTypes.Code AND Doc.Org=Org.Code;

WHERE Doc.Code < 1000 ;

ORDER BY 1
"
27229,59812,SQL find in string separated by commas,"select * from table 
where find_in_set(21, demo) > 0
"
6532,16785,how to drop an index key from a table,"IF NOT EXISTS ( select * 
                  from sys.objects 
                 where parent_object_id = object_id('MyTable') 
                   and type = 'PK' )

do <create index for rec_index>
"
30201,59632,Get rows matching the combination of ids in sql server 2008,"select *
from T2 T21
inner join T2 T22
on T21.ID = T22.ID
inner join T1 T1
on T21.CombiIDs = T1.Combi1
and T22.CombiIDs = T1.Combi2
"
33239,28158,Select multiple columns from multiple tables?,"SELECT p.Prdnum, s.Brand, q.Data
FROM PTable p
JOIN STable s on p.Prdnum = s.Prdnum
JOIN QTable q on p.Prdnum = q.Prdnum
WHERE q.Pid != 2
"
35612,35148,Get every second row as a result table in t-sql,"WITH data AS (
    SELECT  *, ROW_NUMBER() OVER  (PARTITION BY Customer ORDER BY Quantity) rn
    FROM    @Table1 
)
SELECT Customer, Quantity
FROM    data 
WHERE   rn = 2
"
34905,42716,SQL troubling exam query,"SELECT a.Fo_Name as 'Larger', 
       b.Fo_Name as 'Smaller',
       a.fo_Comp
FROM Forest a
INNER JOIN Forest b
   ON a.fo_Comp= b.fo_Comp
   AND a.fo_loc = b.fo_loc
   AND a.fo_name <> b.fo_name
WHERE a.fo_size > b.fo_size
"
7551,62732,Specified values for a column,"create table mydata(
cars char(4)CONSTRAINT limit_cars_to CHECK (cars in ('bmw', 'audi'))
);

insert into mydata values('bmw'); /*this insert works*/
insert into mydata values('xxx');/*this insert fails msg: ERROR: new row for relation ""mydata"" violates check constraint ""limit_cars_to"": insert into mydata values('xxx')
*/
"
18744,7076,sqlcmd with output file and screen output,"@echo off

:: this will execute the script into PROCESS.log
sqlcmd -i Scripts\STEP01.sql -o PROCESS.log -S MYSERVER -E -d MYDATABASE

:: this present the contents of PROCESS.log to the screen
echo The result of the query was:
type PROCESS.log

pause
CHOICE /C:YN /M ""Is the result accord?""
IF ERRORLEVEL 2 GOTO ENDWITHERROR
IF ERRORLEVEL 1 GOTO STEP2
"
20309,63685,Search a table using a string,"ALTER PROCEDURE [dbo].[test]
    @search_string varchar(50)
"
523,50953,Change first 200 record in a column into sequent,"SET @rownumber = 0;
UPDATE your_table
SET your_column = (@rownumber := @rownumber + 1)
ORDER BY the_column_that_defines_the_order_of_the_first_200_records
LIMIT 200;
"
23931,66502,Calculating previous date in PostgreSQL,"select id, match_date, team,
       lag(id) over (partition by team order by match_date) as prev_matchid
from ((select id, match_date, home_team as team, 'home' as which
       from matches
      ) union all
      (select id, match_date, away_team as team, 'away' as which
       from matches
      )
     ) m;
"
24368,72982,is it possible to write a SQL query that does this without a subselect?,"select m.*, r1.* 
from mail m
inner join recipient r1 on m.pkm=r1.pkm
left join recipient r2 on m.pkm=r2.pkm and r2.address<>'abc@domain.com' and r2.address like '%@domain.com'
where r2.pkm is null
and r1.address='abc@domain.com'
"
35242,2573,How to add zeros in front of a text field in an access table,"UPDATE yourTable
SET YourField = LEFT(""00"", 3-LEN(YourField)) + YourField
WHERE LEN(YourField)<3 AND Len(YourField)>0
"
23669,23774,How to return maxvalue or nullvalue in SQL?,"SELECT MAX(NVL(END_DATE,SYSDATE + 1) ...
"
12026,23899,Oracle Reports - Setting Variable from Database,"function Project_idValidTrigger return boolean is
begin

 :project_id := 'BMDSA'; 

  SELECT VALUE 
    INTO :project_id   --gets value into the parameter
    FROM WOS_REPORT_PARAM 
   WHERE parameter = 'PROJECT_ID'
     AND SEQUENCE_NUM = :sequenceNum;  --uses the parameter value in the AND clause

  return (TRUE);
end;
"
35279,57105,SQL Update (simple??),"--Do this select first for safety
select c.CustomerName, m.CorrectedName
from TableCustomers c join TableCustomerMapping m on c.CustomerName = m.WrongName

--Update if okay
update c
set c.CustomerName = m.CorrectedName
from TableCustomers c join TableCustomerMapping m on c.CustomerName = m.WrongName
"
27875,4924,First() INNER JOIN,"select top 1  tblT.Tick, First(tblB.BDF) AS FirstOfBDF
 from FROM tblT INNER JOIN tblB ON tblT.Tick = tblB.Tick
    GROUP BY tblT.Tick
    Order by tblt.Tick ;
"
5879,58323,SQL: Get all records from one table AND a count of records from a second table?,"SELECT tableA.*
    ,(SELECT count(commentID) FROM tableB WHERE tableA.messageID = tableB.messageID) as commentcount 
FROM tableA
"
29672,18073,Oracle Regular Expression (REGEXP_LIKE) Too Long Error - ORA-12733,"CREATE OR REPLACE AND RESOLVE JAVA SOURCE NAMED ipv6 as
import java.net.Inet6Address;
public class ipv6
...
create or replace function isProperIPv6Address (string varchar2) return number 
as language java name 'ipv6.isProperIPv6Address(java.lang.String) return int';
"
36178,29754,How do I know if record from an SQL database is being used elsewhere?,"SELECT g.groupid, COUNT(*) AS user_count
FROM dbo.Groups g JOIN dbo.Users u ON (g.groupid = u.groupid)
GROUP BY g.groupid;
"
14932,22293,SQL SELECT and COUNT of second table,"SELECT u.*
,      (SELECT COUNT(*) FROM notes WHERE notes.user_id=u.id) as amountnotes
FROM users u
ORDER BY amountnotes DESC
"
18195,53511,SQL Select Query Trouble with unique values,"SELECT [Master Record].[Family ID], Max([Master Record].[Last Name]) AS [MaxOfLast Name], 
Max([Master Record].[Address 1]) AS [MaxOfAddress 1], Max([Master Record].[Address 2]) AS 
[MaxOfAddress 2], Max([Master Record].City) AS MaxOfCity, Max([Master Record].State) AS 
MaxOfState, Max([Master Record].Zipcode) AS MaxOfZipcode, Max([Family Members].Email) AS 
MaxOfEmail
FROM [Master Record] LEFT JOIN [Family Members] ON [Master Record].[Family ID] = [Family 
Members].[Family ID]
GROUP BY [Master Record].[Family ID]
HAVING (((Count([Family Members].Email))=0));
"
38197,67510,Compare elements by Linked Server rules for values (MSSQL+ Linked MySQL),"select t.student,
     t.grade,
     t.expected,
     case 
        when m.val > m1.val then 'Above Target'
        when m.val < m1.val then 'Below target'
        else 'on target'
        end as achievements
     from students t
left join (select * from openquery(mysql, 'select * from Grade')) m on t.grade = m.grade
left join (select * from openquery(mysql, 'select * from Grade')) m1 on t.expected = m1.grade
"
38204,3080,Manually specify starting value for Row_Number(),"select 3258170 - 1 + row_number() over (order by (select NULL)) as idd
"
8599,45804,how to reference multiple columns in a 1:N relationship chain,"SELECT
  CASE GROUPING(d.name)
    WHEN 1 THEN 'All:'
    ELSE d.name
  END AS dept,
  COUNT(*) AS total_manager,
  SUM(p.salary) AS wages
FROM dept d
  INNER JOIN office o ON d.id = o.dept_id
  INNER JOIN personnel p ON o.id = p.office_id
GROUP BY d.name WITH ROLLUP
"
21565,27692,Removing special character SQL,"SELECT regexp_replace(some_column, '[^0-9]*', '') as clean_value
FROM your_table
"
127,12551,"SQL Server BIGINT or DECIMAL(18,0) for primary key","CREATE TABLE dbo.foo (bar decimal(18,0))
GO
SELECT * FROM sys.columns WHERE object_id = OBJECT_ID('foo') 
GO
DROP TABLE dbo.foo
GO
"
32331,50341,Database query in Drupal,"<?php
$query2 = db_select('wp_votes','wpv');
$query2->join('node','n','wpv.nid = n.nid');
$query2->fields('wpv',array('nid','vote'));
$query2->fields('n',array('title'));
$alias = $query2->addExpression('AVG(vote)', 'average');
$query2->groupBy('wpv.nid');
$query2->sortBy($alias, 'DESC');
$rez = $query2->execute()->fetchAll();
"
14218,54385,How can I calculate a minimum number of A and B on mysql?,"LEAST()
"
14574,61520,Microsoft access Query design,"SELECT *
FROM item i
INNER JOIN
  (SELECT itemno,
          Sum(qtyordered)
   FROM delivereditem
   GROUP BY itemno) d ON d.itemno = i.itemno
INNER JOIN
  (SELECT itemno,
          Sum(qtyissued)
   FROM itemissued
   GROUP BY itemno) iss ON iss.itemno = i.itemno
"
26066,50543,"Problem with DISTINCT, SELECT and SORT in TSQL","SELECT  DATENAME(MONTH, DATEADD(month, b_month - 1, 0)) + ' ' + SUBSTRING(CAST(b_year AS VARCHAR), 3, 4)
FROM    (
        SELECT  DISTINCT YEAR([BEGIN]) AS b_year, MONTH([BEGIN]) AS b_month
        FROM    RECORDS
        ) q
ORDER BY
        b_year, b_month
"
35690,64543,how do i count up in a table with data from other table? mysql,"CREATE TRIGGER
        trg_sales_ai
AFTER INSERT
ON      sales
FOR EACH ROW
BEGIN
        UPDATE  publisher p
        CROSS JOIN
                book b
        SET     p.`sales volume` = p.`sales volume` + NEW.amount_sold * b.price
        WHERE   p.name = NEW.publisher
                AND b.ISBN = NEW.isbn
END;
"
39047,16562,SQL Server Updating getting id from another table,"UPDATE coinvdept 
SET code = 'ABC123'
WHERE coinv IN (SELECT coinvid FROM coinv WHERE itemnumber = '12345678')
"
962,24932,How can I return a result set of records with duplicate columns in SQL,"select first_name, last_name, count(*) as DupeCount 
from table
group by first_name, last_name
having count(*) > 1
"
33216,33057,SQL Server: need to add a primary key,"ALTER TABLE myTable ADD id INT IDENTITY
CONSTRAINT id _pk PRIMARY KEY;
"
10435,74931,Foreign Key for either-or column?,"create table A (Id int not null primary key)
go
create table B (Id int not null primary key)
go
create table C (Id int not null primary key, A_Id int null, B_Id int null)
go
alter table C add constraint FK_C_A
foreign key (A_Id) references A (Id)
go
alter table C add constraint FK_C_B
foreign key (B_Id) references B (Id)
go
alter table C add constraint CK_C_OneIsNotNull
check (A_Id is not null or B_Id is not null)
go
alter table C add constraint CK_C_OneIsNull
check (A_Id is null or B_Id is null)
go
"
22031,1501,query to Sum product of two tables,"SELECT Name,SUM(Amount)Amount FROM(
SELECT Name, Amount
    FROM TableA
UNION ALL
SELECT Name, Amount
    FROM TableB) AS A GROUP BY Name
"
30973,21040,Incremental Update statement in DB2,"UPDATE (SELECT new_key, new_record,
               MAX(key) OVER(ORDER BY key) as minimumKey,
               COUNT() OVER(ORDER BY key ROWS UNBOUNDED PRECEDING) + 1 as offsetKey
        FROM MyTable) MyTable
SET new_key = minimumKey + offsetKey
WHERE new_record = 0;
"
3044,14269,SQL Query to create records of dates and amounts?,"SELECT [Date], SUM(Amount) TotalAmount
FROM YourTable
GROUP BY [Date]
"
10967,7763,"In a Many to Many relationship, how can records collectively owned be selected","SELECT b.*
FROM books b
INNER JOIN
  (SELECT book_id, COUNT(*) as cnt 
  FROM user_has_book 
  WHERE user_id IN ('Frank', 'Joe')    
  GROUP BY book_id
  HAVING cnt=2)x ON (x.book_id = b.book_id)
"
8708,25300,SQL query to get distinct rows from multiple tables,"SELECT c.id, c.name 
FROM Company c
WHERE EXISTS
(SELECT 1
 FROM Branch b
 WHERE c.id = b.cid AND b.profit > 100)
"
11110,58666,SQL Server 2008 select with regular expression,";with T as (
    select 0 as row, CHARINDEX('/', Col) pos, Col from page_data
    union all
    select row + 1, CHARINDEX('/', Col, pos + 1), Col
    from T
    where pos > 0
)
select distinct MIN(Col1) Col
from(
    select 
         row,
         Col,
         (case when row=2 then SUBSTRING(Col, 1, pos-1) else Col end) Col1
    from T 
    where pos > 0 and row<3
)x
group by Col
"
22473,73542,Adding a column which uses other column fields as operands for operation like addition and percentage calculation,"ALTER TABLE tbl_Marks ADD total AS (Maths + English + Hindi) PERSISTED;
ALTER TABLE tbl_Marks ADD Percentage AS CAST(CAST((Maths + English + Hindi) AS NUMERIC(8,2)) / 300 * 100 AS NUMERIC(8,2)) PERSISTED;
"
4861,52388,Using REGEXP_LIKE in old style join,"SQL> WITH main_table AS
  2  (SELECT 1 ID FROM dual UNION ALL
  3   SELECT 2 FROM dual),
  4  lookup_table AS
  5  (SELECT 1 ID, 'txt' txt FROM dual UNION ALL
  6   SELECT 2 ID, '999' txt FROM dual)
  7  SELECT m.id, l.txt
  8    FROM main_table m, lookup_table l
  9   WHERE m.id = l.id(+)
 10     AND REGEXP_LIKE(l.txt(+), '^[A-Z]+');

        ID TXT
---------- ---
         1 txt
         2 
"
19894,22614,Combine row after used group by in SQL,"SELECT COUNT(*) AS attempts,
       CurrentSlideId,
       UserLessonProgressId,
       MAX(IsHint)
FROM  UserAnswers
WHERE UserID = 169494
  and UserLessonProgressId = 218629 
GROUP BY CurrentSlideId, UserLessonProgressId
ORDER BY CurrentSlideId, UserLessonProgressId
"
34123,55722,"SQL CASE WHEN to narrow results, change field","SELECT OrderHed.OrderNum, 
      (CASE WHEN SUM(ShipDtl.OrderLine) > 1 then 'MIXED' else MAX(ShipDtl.PartNum) end) as [Item#]
FROM dbo.OrderHed, dbo.ShipDtl
WHERE ShipDtl.Company = OrderHed.Company 
AND ShipDtl.OrderNum = OrderHed.OrderNum
GROUP BY OrderHed.OrderNum
"
14095,41453,Select two records where a two way relationship exists,"    select * 
      from Likes like1 
inner join Likes like2 on like1.UserID1 = like2.UserID2 
                      and like1.UserID2 = like2.UserID1
"
31293,19213,SQL Server query for total dollar amount of orders per customerID,"SELECT c.CompanyName AS ""Company Name"",
       c.Address AS ""Address"",
       sum(od.Unitprice * od.quantity) as ""Orders""
FROM Customers c LEFT JOIN
     Orders o
     ON c.CustomerID = o.CustomerID left join
     [Order Details] od
     on od.orderid = o.orderid
GROUP BY c.CompanyName, c.Address
ORDER BY c.CompanyName, c.Address
"
21172,23214,How can I make android application open activity depend on condition at application startup,"if(databasePresent()){
    Intent intent = new Intent(MainActivity.this, LoginActivity.class);
    startActivity(intent);
}else{
    Intent intent = new Intent(MainActivity.this, CreateProfileActivity.class);
    startActivity(intent);
}
"
24925,42864,Getting Objects information,"SELECT *
FROM Chag.sys.columns c
WHERE OBJECT_NAME(c.object_id, DB_ID('Chag'))='Aduser'

SELECT *
FROM Chag.sys.tables so
WHERE so.name = 'Aduser'
  AND OBJECT_SCHEMA_NAME(so.object_id, DB_ID('Chag')) = 'Tref'
"
4846,71368,Now() vs GetDate(),"    sysdate(3) returned '2014-01-07 10:52:07.252'
"
17899,16497,SELECT to Skip First and Last Rows and Select in Between,"SELECT * FROM waypoint 
WHERE id NOT IN(
        (SELECT MIN(ID) FROM waypoint where booking_id=""1""), 
        (SELECT MAX(ID) FROM waypoint where booking_id=""1"")
      )
AND booking_id=""1"";
"
23676,26240,getting filename count from multiple tables group by that file name,"SELECT filename, 
       SUM(CASE WHEN t = 28 THEN 1 ELSE 0 END) t28count,
       SUM(CASE WHEN t = 29 THEN 1 ELSE 0 END) t29count,
       SUM(CASE WHEN t = 30 THEN 1 ELSE 0 END) t30count
  FROM
(
  SELECT 28 AS t, filename
    FROM t28
   UNION ALL
  SELECT 29 AS t, filename
    FROM t29
   UNION ALL
  SELECT 30 AS t, filename
    FROM t30
) q
 GROUP BY filename
 ORDER BY filename
"
11946,20079,Re-writing the oracle sql query,"SELECT STATUS, 
       POSTAL_CODE, 
       CITY_STATE,
       max(case when SERVICE = 1 THEN org_id end) AS WATER,
       max(case when SERVICE = 2 THEN org_id end) AS COFFEE,
       max(case when SERVICE = 3 THEN org_id end) AS FILTRATION
FROM MAP
WHERE POSTAL_CODE = '02216'
GROUP BY status, postal_code, city_state
"
11353,38042,multiple select in one query [Teradata],"select cnt
from ((SELECT COUNT(*) as cnt, 1 as ord FROM tb1)
      union all
      (SELECT COUNT(*), 2 FROM tb2)
      union all
      (SELECT COUNT(*), 3 FROM tb3)
     ) t
order by ord
"
36707,56074,Query for restricting associated entities,"Criteria crit = session.createCriteria(Kite.class);
crit.add(Restrictions.ge(""length"", new BigDecimal(1.0))
.createCriteria(""boy"")
.add(Restrictions.eq(""name"", ""Huck"")));
List<Kite> list = crit.list();
"
13827,70857,Why does PostgreSQL allow frame clause without order by expression?,"select  id
,       max(id) over (rows between 1 following and 1 following) as next_id
from    AnyTable
"
11516,54058,SQL Query For Non-Alphabet name field,"WHERE
   EmployeeName COLLATE Latin1_General_CI_AI LIKE '%[^a-z]%
"
11335,56546,check if value is present in one of the database rows,"SELECT *
FROM   mytable
WHERE  FIND_IN_SET('45', page) > 0
"
5114,31596,Count in Query 400 not passing correctly,"select ordernum
from order_detail od
join item_master im on im.itemnum = od.itemnum
group by ordernum
having count(case when im.item_type <> 'Phone' then 1 end) = 0
and count(*) = 1
"
29894,7726,Excel table lookup matching values of two columns,"=INDEX(
       $A$2:$A$6,
       SUMPRODUCT(
                  ($B$2:$B$6 = ""Biennial"") *
                  ($C$2:$C$6 = ""Warning"") *
                  ROW($A$2:$A$6)
                 ) - 1
       )
"
26035,19451,SQL Server more columns than group by,"WITH Temp AS (
  SELECT
      emp.EMpID   
     ,emp.DepID
     ,COUNT(OrderId) nb_order
     ,ROW_NUMBER() OVER(PARTITION BY emp.DepID ORDER BY COUNT(OrderId) DESC) Ordre
  FROM
     Order ord
  INNER JOIN
     Employee emp
        ON emp.EmpID = ord.EmpID
GROUP BY  
   emp.EMpID
  ,emp.DepID)


SELECT *
FROM Temp
WHERE Ordre = 1
"
37397,41491,SQL CASE statement to do multiple thens,"select 
  salesperson, 
  sum(case when Type='internet' then ItemCount else 0 end) as InternetItems,
  sum(case when Type='internet' then Sales     else 0 end) as InternetSales,
  sum(case when Type='store'    then ItemCount else 0 end) as StoreItems,
  sum(case when Type='store'    then Sales     else 0 end) as StoreSales,
  sum(ItemCount) as TotalItems,
  sum(Sales) as TotalSales
...
 group by 1
"
7272,20260,"Extracting day, week and month from another database using sql","select Seasontime_seq.nextval,
       Month,
       Week,
       Day
from   (
        select extract(Month from PDate) as Month,
               to_number(to_char(PDate, 'WW')) as Week,
               extract(Day from PDate) as Day
        From notmydatabase.performance
       );
"
28019,9810,Forbid insert into table on certain conditions,"DROP TRIGGER DiffByTerminal;
GO

CREATE TRIGGER dbo.DiffByTerminal
 ON dbo.SampleTable
INSTEAD OF INSERT
AS
BEGIN
  SET NOCOUNT ON;

  INSERT dbo.RealTable(...) SELECT ActionCode, ActionTime, TerminalID
    FROM inserted
    WHERE TerminalID = 'C';

  INSERT dbo.SampleTable(...) SELECT ActionCode, ActionTime, TerminalID
    FROM inserted
    WHERE TerminalID <> 'C';
END
GO
"
10348,55608,Find duplicate rows in database,"SELECT GROUP_CONCAT(first_name SEPARATOR ' ')
FROM table
GROUP BY last_name
HAVING COUNT(first_name) > 1
"
21394,22906,How can i select the primary key columns from the table?,"SELECT COLUMN_NAME FROM INFORMATION_SCHEMA.COLUMNS  
WHERE TABLE_NAME = '<TABLE_NAME>' and IS_NULLABLE = 'NO'
"
20143,54247,database insert/updates in an event-driven matter in nodejs,"var interval = 1000;
setInterval(function(){
  db.find(function(err, data){
    // check data for changes
  })

}, interval);
"
11635,74093,How to create crosstab queries in PostgreSQL,"SELECT sampling_point, time_sampling,
       CASE WHEN sampling_point = 'floor' THEN entero ELSE NULL END AS entero_floor,   
       CASE WHEN sampling_point = 'wall' THEN entero ELSE NULL END AS entero_wall
FROM SourceTable
ORDER BY sampling_point DESC;
"
38107,12454,SQL: using mulitiple SELECT statements / retrieving same field twice?,"select
    teacher.name as Teacher,
    student.name as Student,
    lesson.time,
    lesson.place
from
    lesson
join
    person teacher on teacher.person_id = lesson.teacher_id
join
    person student on student.person_id = lesson.student_id
"
30828,66086,SQL double aggregate function with condition,"select
    departmentid,
    sum(case status when 'active' then salary else 0 end) as active_salary_sum,
    sum(case status when 'passive' then salary else 0 end) as passive_salary_sum
from t
group by departmentid
"
19257,67173,select speed on indexed column mysql,"SELECT * FROM tbl_name WHERE str_col=1;
"
1051,62126,Querying a 1 to many table where the many side has at least one row,"select u.*
from users u
where exists (select 1
              from checks c
              where c.user_id = u.id and c.checkin_date >= '2016-01-01'
             );
"
9543,24975,SELECT records based on criteria,"SELECT TOP 1
    id, Company
FROM Table1
WHERE
    id NOT IN(
        SELECT id
        FROM Table2
        WHERE 
            Criteria_A = 1
            OR Criteria_B = 1
    )
ORDER BY LatestOrder DESC
"
11923,10063,Number of times one row column equals another row's other column in SQL,"SELECT ID, COUNT(*)
FROM(
    SELECT ID1 AS ID FROM MyTable
UNION ALL
    SELECT ID2 AS ID FROM MyTable
) source
GROUP BY ID
ORDER BY ID ASC
"
36126,69888,MySQL bulk value insert,"LOAD DATA INFILE '/where/the/file/is'
INTO TABLE table (email)
FIELDS TERMINATED BY ','
LINES STARTING BY '';
"
26930,53656,Access database outside of vagrant box as user,"CREATE USER 'testuser'@'10.0.2.2' IDENTIFIED BY 'testpassword';
GRANT ALL PRIVILEGES ON testdb.* TO 'testuser'@'10.0.2.2';
"
37564,27870,Update table from another table and different database,"UPDATE 
  prc.user, 
  prc_test.user 
SET 
  prc_test.user.pwd_user = prc.user.pwd_user
WHERE 
  prc_test.user.name_user = prc.user.name_user
"
18299,49832,Laravel find while using first returns first record in table,"public function first($columns = array('*'))
{
    return $this->take(1)->get($columns)->first();
}
"
11040,61847,MySQL UPDATE query with nested SELECT query,"UPDATE
    `my_table`
SET
    `my_column_1` = 0
WHERE 
    `my_column_2` = 35
    AND `my_column_3` = 3
    AND `id` != 136
"
4483,30263,Group Between Keywords TSQL,"select
    f3.FruitName, f3.FruitCost, f.FruitName
from
    @Fruit f
        inner join
    (
        SELECT  *,
        (Select max(productid) from @Fruit f2 where FruitCost is null and ProductID<=f.ProductID) as fgroup
        FROM    @Fruit f
    ) f3
        on f.ProductID = f3.fgroup
where f3.FruitCost is not null  
"
14097,61580,MySQL Conditioning Query,"  SELECT * 
    FROM table_name 
   WHERE Department = 'IT' 
     AND 1000 BETWEEN `Start Amount` AND `End Amount`
     AND country IN ('India','*')
     AND `Sub Department` IN ('SD2','*')
ORDER BY country = 'India' DESC,
         `Sub Department` = 'SD2' DESC
   LIMIT 1
"
3517,25377,How to store results from a query while in a stored procedure,"      -- do sumthin.. data is in @field1 and @field2

      -- get next row

      fetch next from myCursor into @field1, @field2
"
2045,4586,Sybase SQL Dynamic Select (Joins?) Relational Database,"SELECT s.Student_Name, a.Assignment_Name, sa.Score
    FROM Student s
        INNER JOIN StudentAssignment sa
            ON s.Student_PK = sa.Student_FK
        INNER JOIN Assignment a
            ON sa.Assignment_FK = a.Assignment_PK
    ORDER BY s.Student_Name, a.Assignment_Name
"
16278,50216,SQL: select from t1 all rows for which there's no corresponding in t2,"SELECT *
  FROM t1
 WHERE NOT EXISTS (SELECT 1
                     FROM t2
                    WHERE t2.id = t1.id
                      AND t2.Memo = 'myText')
"
11615,71085,What does := mean in oracle when we use it,"Declare
   v1 number;
   v2 number;
   res number;
Begin
   --initialise values
   v1 := 2;
   v2 := 2;
   res := v1 + v2;
   dbms_output.put_line(res);
end;
"
10700,75554,Substring in SQL query," WHERE theme LIKE '%math%'  // math appears anywhere in the string
 WHERE theme LIKE 'math%'   // math appears at the START of the string
 WHERE theme LIKE '%math'   // math appears at the END of the string
"
26805,4775,Help with a fairly simple MySQL Query,"SELECT *, `school`.`name` as school_name
FROM (`school`)
LEFT JOIN `school_semester` ON 
        `school`.`id` = `school_semester`.`school_id` AND
        `school_semester`.`active`
LEFT JOIN `semester` ON `semester`.`id` = `school_semester`.`semester_id`
"
333,6431,Invalid Identifier SQL,"SELECT p.plantnaam, o.levcode, o.offerteprijs
FROM 
(
  SELECT plantcode , MIN(offerteprijs) AS offprijs 
  FROM offerte
  GROUP BY plantcode
) s
INNER JOIN plant p
   ON s.plantcode = p.plantcode
INNER JOIN offerte o
   ON s.offprijs = o.offerteprijs
ORDER BY p.plantnaam, l.levcode
"
22184,51584,return columns vertically,"SELECT ID, 'Name' ColumnName, Name1 '1st', Name2 '2nd'
FROM YourTable
UNION
SELECT ID, 'Description' ColumnName, Description1 '1st', Description2 '2nd'
FROM YourTable
UNION
SELECT ID, 'Notes' ColumnName, Notes1 '1st', Notes2 '2nd'
FROM YourTable
"
15546,70133,Can we use CASE statement outside select or update query. CASE statement on Input Parameters,"DECLARE @UpdateStatus nvarchar(20)
SET @UpdateStatus='P'
 IF @UpdateStatus='P'
     BEGIN
        BEGIN TRAN
            Print 'A' --Update some table
        COMMIT
     END
 ELSE IF @UpdateStatus='F'
     BEGIN
        BEGIN TRAN
            Print 'B' --Update some table
        COMMIT
     END
"
30659,12626,mysql substring get only characters,"select documentnumber
from transactionheader
where  documentnumber  LIKE 'RCV%'
"
37662,45260,List of distinct years between two dates,"; with  CTE as
        (
        select  datepart(year, '2006-12-25') as yr
        union all
        select  yr + 1
        from    CTE
        where   yr < datepart(year, '2013-11-14')
        )
select  yr
from    CTE
"
34595,10843,Replace id foreign key with username in query result,"SELECT u.username, SUM(l.points) AS points
  FROM leaderboard l
        INNER JOIN yourUserTable u
                ON l.id = u.ColumnNameForTheUserId
 WHERE roundtime BETWEEN LOCALTIMESTAMP - INTERVAL '24 hours' 
                     AND LOCALTIMESTAMP
 GROUP BY u.username 
 ORDER BY points DESC 
 LIMIT 25
"
8353,70908,SQL Join where string is contained within another table field,"SELECT table_1.NAME
FROM table_1
INNER JOIN table_2 ON table_2.fieldA like '%' + table_1.NAME  + '%'
"
24448,75429,mysql update column with value from another table,"UPDATE tableB
INNER JOIN tableA ON tableB.name = tableA.name
SET tableB.value = IF(tableA.value > 0, tableA.value, tableB.value)
WHERE tableA.name = 'Joe'
"
9391,19105,Retrieve values In the same order of values given in IN caluse,"SELECT id
FROM YourTable
WHERE id In (16,18,15,20)
ORDER BY 
    Switch(
        id=16,1,
        id=18,2,
        id=15,3,
        id=20,4
    );
"
28310,37921,Specify order for query manually,"order by date, 
         case operation 
              when 'INCOMING' then 1
              when 'ACCEPT' then 2
              when 'WITHDRAW' then 3
              else 4 -- this is a fallback, anything else will be sorted at the end
         end 
"
16907,24788,Complex where clause with multiple joins in SQL,"select leagues.id, leagues.name, sum(goals.num_goals) from leagues
  join teams on teams.id = leagues.id
  join players on players.id = teams.id
  join goals on goals.id = players.id
group by leagues.id, leagues.name;
"
24061,51114,SQL JOIN returning multiple rows when I only want one row,"SELECT  DISTINCT a.PolicyNumber
FROM    Policy_Office a
        INNER JOIN Office_Info b
            ON a.OfficeCode = b.OfficeCode
WHERE   b.officeName = 'Acme'
"
29754,3297,display tables even if one is empty,"SELECT * 
FROM   blog LEFT JOIN user ON blog.user_id = user.id
       LEFT JOIN photos ON blog.id = photos.blog_id 
"
26550,18244,Logic in MySQL Query To Skip Days,"SELECT Patient_Name
FROM   Patients_Appointment_List
WHERE 
    CASE WHEN WEEKDAY(CURDATE() + INTERVAL 1 DAY) = 6 THEN 
         appointment_Date BETWEEN NOW() AND NOW() + INTERVAL 2 DAY ELSE
         appointment_Date BETWEEN NOW() AND NOW() + INTERVAL 1 DAY
    END
"
31670,75068,SQL Adding count (from 2 tables) to existing select (of 3 tables),"SELECT `thread_subject`, COUNT(*) AS PostCount 
FROM `fusion_posts` JOIN `fusion_threads`
ON fusion_posts.thread_id=fusion_threads.thread_id JOIN `fusion_users` 
ON fusion_posts.post_author=fusion_users.user_id 
GROUP BY fusion_posts.thread_id, `thread_subject` 
ORDER BY `post_id` DESC 
LIMIT 16
"
2293,42242,SubQuery on Single Table,"SELECT TaskId as ParentTaskId, ChildOf , 
 (SELECT count(t2.TaskId) 
  FROM Tasks t2
  WHERE t2.ChildOf = t.TaskId) as CountChildren
FROM Tasks t 
WHERE t.ChildOf = 0
"
8796,10949,If select returns nothing then,"SELECT * 
FROM table1 a 
WHERE a.d > COALESCE((SELECT b.d FROM table2 b WHERE a.id = b.id and a.Something = 1), '0')
"
33201,10327,Check for a string in a CLOB,"select tbl3.*
  from tbl1
       inner join tbl2
               on tbl2.art_id = tbl1.art_id
       inner join tbl3
               on tbl3.a1 like '%' || tbl1.project_line_id || '%'
 where tbl2.type = 3;
"
37667,58886,Select data for last X month from table with year and month separated in different coloumns,"WHERE (year = @yearfrom AND month >= @monthfrom or year > @yearfrom) 
AND (year = @yearto AND month <= @monthto or year < @yearto)
"
12695,31340,Derby's handling of NULL values,"insert into T_AUTHOR (
  ID, FIRST_NAME, LAST_NAME, 
  DATE_OF_BIRTH, YEAR_OF_BIRTH, ADDRESS) 
VALUES ( 
  1000, 'Lukas', 'Eder', 
  '1981-07-10', null, null 
);
"
37961,14342,Get top 1 row of each group,";WITH cte AS
(
   SELECT *,
         ROW_NUMBER() OVER (PARTITION BY DocumentID ORDER BY DateCreated DESC) AS rn
   FROM DocumentStatusLogs
)
SELECT *
FROM cte
WHERE rn = 1
"
30909,45905,SQL DELETE with INNER JOIN,"DELETE s.* FROM spawnlist s
INNER JOIN npc n ON s.npc_templateid = n.idTemplate
WHERE (n.type = ""monster"");
"
7611,49009,Finding the Ultimate manager ID,"declare @id int = 1

;with cte
as
(
    select PARENTCUSTOMERID, 0 as level 
    from CUSTOMER_PROFILE where CUSTOMERID = @id

    union all

    select t.PARENTCUSTOMERID, cte.level  + 1 as level
    from CUSTOMER_PROFILE t
    inner join cte on t.CUSTOMERID = cte.PARENTCUSTOMERID 

)

select top 1 PARENTCUSTOMERID from cte
order by level desc
"
29814,70943,Join table to entry if within 30 seconds of Table,"SELECT *
FROM TableA
INNER JOIN TableB on (a.Value = b.Value or a.Value = dateadd(second,30,b.Value))
"
18560,55885,Change Time to include Hours/Minutes AND AM/PM,"SELECT CONVERT(VARCHAR(15),CAST(sa.StartDateTime AS TIME),100
"
29155,6764,Select one row with MAX(column) for known other several columns without subquery,"SELECT votes.*, items.name, items.price
    FROM votes JOIN items ON items.id = votes.item_id
    WHERE user_id = #user# AND item_id = #item#
    ORDER BY votes.utc_time DESC
        LIMIT 1 ;
"
16031,52625,Programmatically create a new table from anothers (Postgres),"SELECT 'INSERT INTO myschema.mynewtable SELECT * FROM ' || table_schema || '.' || table_name || ';'
  FROM information_schema.tables 
  WHERE table_schema='myschema' AND table_name LIKE 'old%';
"
2686,50278,Insert data into join table,"insert into user_role(user_id, role_id)
    select u.user_id, r.role_id
    from user u cross join role r;
"
26915,46769,Conditionally create stored procedure using TSQL,"IF @Version = '1.0'
BEGIN
    --Drop it if it already exists
    IF OBJECT_ID('uspCreateAccount', 'P') IS NOT NULL
        EXEC ('DROP PROCEDURE uspCreateAccount')
    --Recreate it.
    EXEC('
          CREATE PROCEDURE uspCreateAccount
          AS BEGIN
          --The rest of the code goes here
          END
    ')
END
"
22976,7721,optimizing the DELETE statement with a count,"declare @batchSize int = 10000;
do while(1=1)
begin
   delete top(@batchSize) from ProductInfo where productId = @productId;
   if (0 = @@rowcount)
      break;
end
"
30690,65750,sql conditional WHERE clause CASE WHEN,"where coalesce(date1,date2) between '2010-01-01' and '2011-01-01'
"
18451,48420,How to SET CONVERT date and time formats with MS SQL,"[Date Order Finished] = 
      CONVERT (VARCHAR(16), GETDATE(),111) +' '+ CONVERT (VARCHAR(16), GETDATE(),108)
"
22311,21567,MS Access sum of 2 table in one query,"select* into #temp from table1
union
select* from table2

select id,sum(ppic) as ppic, sum(pcrt) as pcrt from #temp group by id
"
15821,32724,Mysql SELECT statement to return only rows where/if a given number of cols are not null,"SELECT * from Table 
WHERE ISNULL(c1) + ISNULL(c2) + ISNULL(c3) + ISNULL(c4) + ISNULL(c5) <= 2
"
6887,3304,Copy data from one table to another- Oracle,"declare
newId number;
begin
select nvl(max(person.pk),0) + 1 into newId from person;
for x in (
    select w.Name, p.Address
    from wife w inner join Person p
    on w.Person_id = P.pk) loop
   insert into Person(pk, Name,Address,Is_Married) values (newId ,x.Name ,x.Address,'Y');
   newId := newId  +1;
end loop;
commit;
end
"
31223,52640,migrating multiple linked server from one server to another on sql server 2008 R2,"SELECT
    serv.NAME,
    serv.product,
    serv.provider,
    serv.data_source,
    serv.catalog,
    prin.name,
    ls_logins.uses_self_credential,
    ls_logins.remote_name
FROM
    sys.servers AS serv
    LEFT JOIN sys.linked_logins AS ls_logins
    ON serv.server_id = ls_logins.server_id
    LEFT JOIN sys.server_principals AS prin
    ON ls_logins.local_principal_id = prin.principal_id
"
1235,65401,How to constrain right hand table in LEFT JOIN?,"SELECT p.post_id, p.content_status, p.post_title, c.comment_id, 
       c.content_status AS comment_status 
FROM post p  
LEFT JOIN comment c 
  ON p.post_id = c.post AND c.content_status = 'Approved'
WHERE p.content_status = 'Approved'
"
11546,38685,Formatting pattern to numbers in Oracle,"select to_char(column_name, '000') from ...
"
27896,6618,Sharing a database connection with included classes in a Sinatra application,"require 'lib/myclass'

before do
  $MysqlDB = Sequel.connect('mysql://user:password@host:port/db_name')
end

class Myclass
  def self.find_by_domain_and_stub(domain, stub)
    # use $MysqlDB here
  end
end
"
77,5049,Complex SQL Query Using Group By,"SELECT User, ReferredBy, COUNT(*) cnt
FROM tbl
GROUP BY User, ReferredBy
"
33832,57625,Can anyone explain me about this SQL Query,"select * from TableA where exists 
(select null from TableB where TableB.Col1=TableA.Col1)
"
32954,57566,SQL help about selecting 3 rows in a specific order,"ORDER BY (IF(title='team1', 1, IF(title='team2', 3, 2)))
"
23431,24330,SQL- WHERE and HAVING,"SELECT * FROM (
  SELECT Sparte , Region , SUM(Umsatz) as S_Umsatz
  FROM Fakten
  GROUP BY Sparte , Region
) d
WHERE S_Umsatz >= 50000
"
33246,65004,Getting 1 record even a day includes 2 different record,"DATEADD(DD, DATEDIFF(DD, 0, STARTTIME), 0)  BETWEEN DATEADD(DD, DATEDIFF(DD, 0, <DATE_TIME_PARAMETER>), 0) AND DATEADD(DD, DATEDIFF(DD, 0, <DATE_TIME_PARAMETER>), 0)
"
36371,42016,How can I finding the index of a record with SQL or Stored Procedure?,";WITH Q as (
    SELECT id, text, date, ROW_NUMBER() OVER (ORDER BY date) as RowNumber 
    FROM t
)
SELECT * FROM Q WHERE RowNumber = 3
"
6930,38203,"Trigger to ensure, that date1 must be smaller than date2","ALTER TABLE table_name
(
    ADD CONSTRAINT valid_dates CHECK (date2 >= date1) 
)
"
20488,62781,Select count from particular foreign key in SQLite,"select 
    a.author_id,
    a.author_name,
    count(*) as number_of_books
from
    authors a inner join
    books b on b.author_id = a.author_id
group by
    a.author_id,
    a.author_name
order by 
    number_of_books
"
39549,26880,Size of Fields in bytes per table SQL,"SELECT  o.name TABLE_name, c.name colimn_name, c.max_length, t.name type
FROM sys.columns c
JOIN sys.objects o ON c.object_id=o.object_id AND o.type='U'
JOIN sys.types t ON c.system_type_id=t.system_type_id
"
9589,42382,Difficulties with setting up a difficult mySQL query,"SELECT YEAR(`date`)  AS `year`, 
       MONTH(`date`) AS `month`, 
       COUNT(*)      AS amount 
FROM   `table` 
GROUP  BY YEAR(`date`), 
          MONTH(`date`) 
ORDER  BY `date` DESC 
"
11235,9306,Counting first table in joined tables,"SELECT COUNT(*) AS TotalReceipt, Format(MakeDate, 'yyyy') AS [Year], SUM(Total) AS Amount
FROM (        
             SELECT  SaleNo, SUM(ItemQty * ItemPrice) AS Total
                      FROM            SalesDetail
                      GROUP BY SaleNo) DetailSum 
INNER JOIN Sales ON Sales.SaleNo = DetailSum.SaleNo
GROUP BY Format(MakeDate, 'yyyy')
"
2660,49221,Speed up the SQL query,"SELECT dtime, temperature, avg_temperature
FROM temperatures 
JOIN (
    SELECT DATE(dtime) AS date_dtime, AVG(temperature) AS avg_temperature
    FROM temperatures
    WHERE dtime >= '2012-11-15' AND dtime < '2012-12-01'
    GROUP BY DATE(dtime)
) AS avg_t
ON date_dtime = DATE(dtime)
WHERE dtime dtime >= '2012-11-15' AND dtime < '2012-12-01'
ORDER BY dtime DESC
"
13559,22438,sql selecting from different tables based on boolean,"  SELECT  products.*  
          , CASE WHEN isMainUser=1 
            THEN MainUser.emailAddress 
            ELSE SubUser.emailAddress 
            END
  FROM    tblProducts as products  
          LEFT OUTER JOIN MainUser mu ON mu.UserProductID = products.UserProductID
          LEFT OUTER JOIN SubUser su ON su.UserProductID = products.UserProductID      
  WHERE   product.intID = @id   
"
11864,27189,find unique rows using SQL?,"SELECT name FROM myTable GROUP BY name HAVING COUNT(name) = 1
"
31980,36902,Mysql SELECT CASE LIKE give a NULL row,"SELECT  CASE 
WHEN csuseragent LIKE '%MSIE+8.0%' or csuseragent like '%Trident%' THEN 'IE'
WHEN csuseragent LIKE '%Firefox%' THEN 'Firefox'
WHEN csuseragent LIKE '%chrome%' THEN 'chrome'
END AS Browser ,count(*) as num
FROM logs.log
GROUP BY Browser
HAVING Browser IS NOT NULL
ORDER BY num DESC
"
15696,56431,SQL get decimal with only 2 places with no round,"SELECT ROUND(3381.5786, 2, 1)
"
34304,8802,Wrong behavior of mysql with group by and inner join,"SELECT orders.* 
FROM orders 
INNER JOIN order_items AS bonus_items ON (bonus_items.order_id = orders.id) 
WHERE DATE(DATE_ADD(orders.created_at, INTERVAL 4 HOUR)) >= '2013-12-02' 
  AND DATE(DATE_ADD(orders.created_at, INTERVAL 4 HOUR)) <= '2013-12-02' 
  AND orders.status = 'payed'
GROUP BY orders.id
HAVING count(*) = 1 and MIN(bonus_items.user_id) = 0;
"
31603,32582,Cannot Decrypt the encrypted columns from the database backup on local machine,"Use Test;
"
20243,5066,How to get total number of registered users *at* each month?,"SELECT date, COUNT(id) FROM users GROUP BY MONTH(date_registered).
"
14422,8867,SQL query with multiple values in table A whose description is in table B,"select Territory, G1.Group_Description as desc1 , G2.Group_Description as desc2 , G3.Group_Description as desc3 , G4.Group_Description as desc4 
from Territory T 
   left outer join [Territory_Group] G1 on T.Group_ID1 = G1.Group_ID
   left outer join [Territory_Group] G2 on T.Group_ID2 = G2.Group_ID
   left outer join [Territory_Group] G3 on T.Group_ID3 = G3.Group_ID
   left outer join [Territory_Group] G4 on T.Group_ID4 = G4.Group_ID
"
11507,38709,Table Joins is not returning accurate results; any ideas why?,"select
    e.lastname, e.firstname
from emp as e
where
    e.employee_id not in
    (
         select c.employee_id
         from contributions as c
         where c.date_stamp >= convert(datetime, '20121127', 112)
    )
"
21650,73585,Access database query for using month from a date,"SELECT Abs(Sum(lunch)) AS SumofLunch, Abs(Sum(snacks)) AS SumofSnacks, Abs(Sum(Tea)) AS SumofTea
FROM YourTable
WHERE eventDate >= #2009/08/01# And eventDate < #2009/09/01#;
"
24976,54312,max count together in an sql query,"select modeldescription, count(modeldescription) 
from products 
group by modeldescription
order by 2 desc
"
12486,23320,How to give a unique constraint to a combination of columns in Oracle?,"ALTER TABLE YourTable
  add CONSTRAINT YourTable_unique UNIQUE (B, C, D);
"
26437,66313,How to do full outer join in MySQL,"select t1.id,t1.c, t2.id, t2.c
FROM t1
LEFT JOIN t2 on t1.id=t2.id
UNION
select t1.id,t1.c, t2.id, t2.c
FROM t2
LEFT JOIN t1 on t1.id=t2.id
"
33468,38583,Issues with Date Format() Function,"DATE_FORMAT(b.fecha, '%m-%d-%Y') as fecha
"
32504,27135,Generate comma separated value based on input in sql,"DECLARE @List varchar(100)

SELECT 
   @List = COALESCE(@List + ', ', '') + CAST(Value AS varchar(10))
FROM 
   Rule_X_ListType
WHERE 
   Rule_ID = 1 and ListType_ID = 2

SELECT @List
"
4941,70189,"In Mongo, how do I find all the documents, but display only their titles?","db.Books.find({ISBN : ""1234567890"" }, { title : 1 } );
"
12711,15537,Query to Update Table using another table as information?,"SELECT s.id, s.name, s.jobID, w.wage
FROM Staff s
LEFT OUTER JOIN Wages w ON s.jobID = w.jobID
"
2286,40897,How to insert a record in many to many relationship tables?,"alter table teacher_student
   add constraint s_t_fk_t foreign key (T_Id)
   references teachers (id)
   on delete cascade
   on update cascade;

alter table teacher_student
   add constraint s_t_fk_s foreign key (S_Id)
   references students (id)
   on delete cascade
   on update cascade;
"
25877,10339,SQL Join with wildcards,"SELECT tableb.Name, tableb.Surname, tablea.col1, tableb.col2
FROM table1 as tablea
LEFT JOIN table2 as tableb
    ON (tablea.Name LIKE '%' + tableb.Name + '%' OR tableb.Name LIKE '%' + tablea.Name + '%')
    AND (tablea.Surname LIKE '%' + tableb.Surname + '%' OR tableb.Surname LIKE '%' + tablea.Surname + '%')
"
15998,29595,PostgreSQL WITH query,"WITH t AS (
    UPDATE products SET price = price * 1.05
    RETURNING *
)
SELECT p.*, t.price, (t.price - old.price) as diff
FROM products p JOIN
     t
     ON p.productid = t.productid;
"
30982,16728,Select records by comparing subsets,"SELECT
  table1.x
FROM
  table1
INNER JOIN
  table2
    ON table1.y = table2.z
GROUP BY
  table1.x
HAVING
      COUNT(*) = (SELECT COUNT(*) FROM table2 AS lookup)
  AND COUNT(*) = (SELECT COUNT(*) FROM table1 AS lookup WHERE x = table1.x)
"
21589,31000,MySQL Group By and Order By used together,"SELECT p.date_recorded as date_recorded, p.id, p.userid, p.status, w.user_nicename, w.user_login, w.display_name
FROM wp_bbpas AS p
JOIN wp_users AS w ON w.id = p.userid
WHERE date_recorded >= NOW() - INTERVAL 24 HOUR
and (p.userid, p.date_recorded) in (  select  userid, MAX(date_recorded)
                         from wp_bbpas  group by userid)
ORDER BY date_recorded DESC
"
35031,73849,sort sql query by values in another table,"SELECT DISTINCT a.artist
FROM            artists a
     INNER JOIN paintings p
     ON         a.artistID = p.artistID
ORDER BY        p.date_created desc
"
20214,43468,DocumentDB queries with arrays,"SELECT docs
FROM docs
JOIN tags IN docs.tags
WHERE tags IN (""B"", ""C"")
"
15896,56448,Use varchar and uniqueidentifier to search in XML column in SQL Server,"SELECT [Event_Id] 
FROM [Processing].[Event]
WHERE [RefEventTypeId] = 8
  AND CONVERT(nvarchar(max), [Description]) LIKE '%' + (SELECT CONVERT(nvarchar(32), [Guid])
                                FROM [Security].[WebUser] 
                                WHERE Login = 'test') +'%'  
"
21047,10530,Utility to create sql statements,"select *
from INFORMATION_SCHEMA.COLUMNS
where TABLE_CATALOG = <my-db-name>
  and TABLE_SCHEMA  = <table-owner-schema>
  and TABLE_NAME    = <table-name>
order by ORDINAL_POSITION
"
14059,34900,Selecting external data source in DMX,"OPENQUERY (relDatabaseServer, 'SELECT name FROM example.titles WHERE name = ''NewTitle''');
"
31701,35043,Get top 'n' records by report_id,"SELECT *
FROM (SELECT *,
         ROW_NUMBER() OVER(PARTITION BY report_id ORDER BY (SELECT 0)) AS RN
         FROM top_keywords
         WHERE ym BETWEEN '2010-05' AND '2010-05') TK
WHERE RN <= 10
"
23805,36782,How to get the total rows on a database with one query,"select (select count(1) from bill) + (select count(1) from items);
"
34555,64177,Get MySQL processlist log every 5 seconds,"i = 0
while i < 20:
   i++
   show full processlist
   delay 4 sec
"
31496,69477,Find rows without relations in sqlite3?,"SELECT homes.* 
FROM homes
LEFT JOIN members ON (members.home_id = home.id)
WHERE members.home_id IS NULL
"
7027,7528,using two datasets without merging them,"DATA outTable;
Set Mydata;
if _n_=1 then Set coefs;
/* calculation */
run;
"
32841,14631,Select query using IN() and without any sorting,"select * 
from product 
where productId in(25,36,40,1,50) 
order by find_in_set(productId, '25,36,40,1,50');
"
13282,68133,mysql- How to Update a record only under a specific condition?,"INSERT INTO TABLE(NAME, time)
    VALUES('newName', time)
    ON DUPLICATE KEY
        UPDATE NAME = (case when values(time) > time then values(name) else name end),
               time = (case when values(time) > time then values(time) else time end);
"
38324,6976,Always show decimal places in SQL?,"TO_CHAR(pAmount, '9,999,999.99');
"
33977,74163,Query for filling Sequence number on child rows,"update child
    set seq_no = (select count(*)
                  from child c2
                  where c2.parent_id = child.parent_id and
                        c2.id <= child.id
                 );
"
22899,56146,Creating a Table B which has only a subset of Table A attributes,"CREATE VIEW B AS (SELECT a,b,c FROM X)
"
39840,14896,Getting the ceil value of a number in SQLite,"select (case when x = cast(x as int) then cast(x as int)
             else 1 + cast(x as int)
        end)
"
24883,17105,sql table join:efficient syntax,"Select ...
From T1
    Join T2
        On T2.Col1 = T1.Col1
    Join T3
        On T3.Col2 = T2.Col2
    Join P1
        On P1.Col1 = T1.Col1
    Join P2
        On P2.Col1 = P1.Col1
    Join P3
        On P3.Col2 = P2.Col2
    Left Join X1
        On X1.Col1 = T1.Col1
"
15369,72969,"SQL selection based on two variables, exclusive of others","select * from your_table
where group_id in
(
  select group_id
  from your_table
  group by group_id
  having count(distinct service) = 1
)
"
24219,41631,Iterate through row to compare with ascii value in sql?,"SELECT CHARINDEX((CHAR(97), fruit)
FROM MyTable
"
12661,61563,"What's the difference between ""LIKE"" and ""="" in SQL?","create table t1 ( c10 char(10) );
insert into t1 values ('davyjones');

select * from t1 where c10 = 'davyjones';
-- yields 1 row

select * from t1 where c10 like 'davyjones';
-- yields 0 rows
"
23191,40995,Select records newer than a specified date,"SELECT *
FROM human
WHERE bornOnUtc >= '2013-01-01 00:00:00'
"
25759,7835,Is there such a thing as portable SQL?,"UPDATE some_table
    SET some_column = some_column || '_more_data';
"
32420,38554,How to select dates [not] between list of ranges,"SELECT d.date
FROM days d
WHERE NOT EXISTS (SELECT 1
                  FROM filter f
                  WHERE d.date BETWEEN f.start and f.end_time
                 );
"
10692,60306,Second Order Relationship in Graph Database,"1. user-[:write]->comment
2. comment-[:about]->hotdog
3. comment-[:concern]->restaurant
4.restaurant-[serve]->hotdog 
"
30480,69335,Include partial matches in SQLite FTS3 Search,"SELECT name
FROM (
      SELECT name, 1 as matched
      FROM nametable
      WHERE name MATCH 'fast'
    UNION ALL
      SELECT name, 1 as matched
      FROM nametable
      WHERE name MATCH 'food'
    UNION ALL
      SELECT name, 1 as matched
      FROM nametable
      WHERE name MATCH 'restaurant'
  )
GROUP BY name
ORDER BY SUM(matched) DESC, name
"
11069,30100,How can I find all columns A whose subcategories B are all related to the same column C?,"T1.Department | T1.Employees| T1.Managers | T2.Managers | T2.Employees | T2.Department
--------------+-------------+-------------+-------------+--------------+--------------
  A           |  John       |  Bob        | Sam         | Sue          | A
  A           |  Sue        |  Sam        | Bob         | John         | A
"
36197,46963,Difference between values in consecutive rows for unique ID's,";with cte AS (SELECT *,ROW_NUMBER() OVER(PARTITION BY AccountNumber ORDER BY ValueDate) AS RN 
              FROM YourTable)
SELECT a.*,a.Amount - b.Amount AS Diff
FROM cte a
LEFT JOIN cte b
  ON a.AccountNumber = b.AccountNumber
  AND a.RN = b.RN -1
"
35835,20725,Create column based on grouping other values,"SELECT *,
       DENSE_RANK() OVER (ORDER BY CASE 
                                      WHEN From_Airport < To_Airport THEN From_Airport
                                      ELSE To_Airport
                                   END)
FROM mytable
"
25630,62636,Mixing two records in Oracle,"select id, date, max(userid1) as userid1, max(userid2) as userid2
from table t
group by id, date;
"
38833,7766,SQL List the representative that handles the most customers,"SELECT TOP 1 WITH TIES rep_lname, COUNT(cust_num)
FROM customer inner join salesrep 
  ON customer.REP_NUM = SALESREP.REP_NUM 
GROUP BY rep_lname
ORDER BY count(cust_num) DESC
"
1188,18662,MySQL query left join issue,"SELECT p.*
FROM   products p
       JOIN product_child pc1 ON pc1.product_id = p.product_id and pc1.product_size  in (5,9)
       JOIN product_child pc2 ON pc2.product_id = p.product_id and pc2.product_size  = 6
"
12579,21128,Oracle partitioning solution for DELETE performance problem,"CREATE PROCEDURE add_case (case_id, ...) AS
BEGIN
   EXECUTE IMMEDIATE 'ALTER TABLE OptimizationRun ADD partition...';
   /* repeat for each child table */
   INSERT INTO Case VALUES (...);
END;
"
20409,74088,Update top N rows with N specific for each row from other table,"UPDATE t
    SET SomeId = NULL 
FROM (SELECT t.*, ROW_NUMBER() OVER (PARTITION BY t.SomeId ORDER BY t.SomeId) as seqnum
      FROM dbo.TableName t
      WHERE t.Status = 960
     ) t JOIN
     @Quantities q 
     ON q.SomeId = ie.SomeId;
"
2122,18564,How can I join A with B and also B with C at one time?,"SELECT Product.title, User.username, Order.id
FROM Order
INNER join Product ON Order.ProductID = Product.ID
INNER JOIN user ON Product.UserID = User.ID
"
27142,6229,"DB2 - Restrict a DB User to just use Select, Insert and Update Operations","GRANT SELECT ON DSN8A10.EMP TO SOME_USER;
GRANT UPDATE (EMPNO, WORKDEPT) ON TABLE DSN8A10.EMP TO SOME_USER;
"
38832,2185,sql query return values for rows n times,"SELECT suborgs.* 
FROM wp_postmeta suborgs JOIN
     (SELECT '152' as post_id UNION ALL SELECT '162' UNION ALL SELECT '156' UNION ALL
      SELECT '154' UNION ALL SELECT '152' UNION ALL SELECT '162'
     ) p
     ON suborgs.meta_key = 'product_relationship' AND
        suborgs.post_id = p.post_id;
"
34441,53691,Zend update ... returning ... into,"$stmt->bindParam('bind_var', $counter, SQLT_INT);
"
21513,19471,SQL - not sure how to join tables,"SELECT COALESCE(a.ID, B.ID) As ID, a.Value1, b.Value2 
FROM TableA a 
FULL OUTER JOIN TableB b ON a.ID=b.ID
"
7210,39225,SQL Subquery column equals operation,"select u.ID, u.Name, case when p.value>0 then 'True' else '' end   
   as IsPermissionEnabled
from Users u
left join permission p on p.UserID = u.ID and p.key='CanEdit'
"
37436,37540,Filter and Merge inner table data,"select id, 
  max(field1) as field1, 
  max(field2) as field2, 
  max(field3) as field3, 
  max(field4) as field4, 
  max(field5) as field5
from yourtable
group by id;
"
24955,49112,SQL Query to update the same table,"UPDATE ""Table A"" AS A1
SET Col2 = 
(
    SELECT 'Same as ' + MIN(A2.Col1) 
    FROM ""Table A"" AS A2 
    WHERE A2.Col2 = A1.Col2 
    AND A2.Col1 < A1.Col1
)
WHERE EXISTS
(
    SELECT 1
    FROM ""Table A"" AS A2 
    WHERE A2.Col2 = A1.Col2 
    AND A2.Col1 < A1.Col1
)
"
34571,70444,Delete duplicate rows with same text,"delete from news 
where idnews not in (
  select idnews from (
    select idnews from news
    join (
      select title, text, min(date) as min_date 
      from news
      group by title, text
    ) x 
     on news.title = x.title
    and news.text  = x.text 
    and news.date  = x.min_date
  ) a
);
"
34832,13910,how to use like query to search a column value with % in it?,"SELECT `values`
FROM names
WHERE `values` LIKE '\%%'
"
21254,71835,Oracle query - without temporary table,"select name, min(datetime), max(datetime)
from (select t.*,
             sum(case when name <> prevname then 1 else 0 end) over (order by datetime) as cnt
      from (select t.*, lag(name) over (order by datetime) as prevname
            from table t
           ) t
     ) t
group by name, cnt;
"
36781,18115,Select distinct record with multiple time related,"select fName, sName, 
    sum(convert(int, awards)) as awards,
    sum(convert(int, smart)) as smart,
    max([date]) as maxdate
from tablename 
group by fName, sName
"
7962,39031,Newbie to linking SQL tables,"Select * from Employee as E
  Join EmployeeDate as ED 
    on E.EmployeeID = ED.EmployeeID
  Join DateTable D 
    on D.Dateid = ED.Dateid
Where D.fulldate = <your full Date>
"
22191,52418,passing combobox value into sql query MS ACCESS,"  [Forms]![Enter Data]![comboCup]
  [Forms]![Enter Data]![comboCup].Value
"
11839,24523,Group columns into one column,"Select b.BookingID, c.CustName + ' ' + c.CustEmail + ' ' + c.CustAdd As Cust
from  Booking b
INNER JOIN Customer c ON b.CustID = c.CustID
"
18517,26021,How to print table columns to use in an INSERT query,"DECLARE @ColNames VARCHAR(1000) 
SELECT @ColNames = COALESCE(@ColNames+', ', '') + QUOTENAME('tableName.'+NAME,'[')
FROM SYS.COLUMNS
WHERE OBJECT_id = OBJECT_id('tableName')
SELECT @ColNames
"
18430,50159,"Get records having both values in ""IN"" using SQL","SELECT a.id
FROM applicant a
JOIN applicantdeployment ad ON a.id = ad.applicantid
JOIN ApplicantAttachment at7 ON a.id = at7.applicantid AND at7.tag = 7
JOIN ApplicantAttachment at8 ON a.id = at8.applicantid AND at8.tag = 8
WHERE a.applicanttype = 'TCN/LN' 
AND ad.groundlocation IN (4,8,14)
AND ad.deploymentstatus = 1
AND ad.trainingdeploymentstatus = 6
"
34434,26855,How to get the first and the last record of every month within a time range in sql,"WITH FilterOrders AS (
    SELECT
    *
    , MinDatePrio = ROW_NUMBER() OVER (PARTITION BY YEAR(OrderDate), MONTH(OrderDate) ORDER BY OrderDate, PurOrderNum)
    , MaxDatePrio = ROW_NUMBER() OVER (PARTITION BY YEAR(OrderDate), MONTH(OrderDate) ORDER BY OrderDate DESC, PurOrderNum DESC)
    FROM Purchasing.PurOrder
    WHERE OrderDate BETWEEN '2013-02-28' AND '2014-12-29'
) SELECT PurOrderNum, OrderDate FROM FilterOrders
WHERE MinDatePrio = 1 OR MaxDatePrio = 1
"
94,44692,how do i combine two selects from one table where one has a GROUP BY and the other has a DISTINCT,"SELECT *
   FROM (
         SELECT PONumber, count(RequestNumber) as ""InNumOfRequests"", sum(Amount) as ""SumofAmounts""
           FROM tableView
          GROUP BY PONumber
        ) a,
        (
         SELECT DISTINCT PONumber, (10 * ceiling((DATEDIFF(day, POApprovedDate, GETDATE()))/10)) AS ""BINofDaysSincePOApproved""
           FROM tableView
        ) b
 WHERE a.PONumber = b.PONumber
"
3644,29965,Export a table with SQL Server 2005,"ALTER TABLE TableName DROP COLUMN ColumnName;
"
5897,58797,Selecting rows and updating them in the same query?,"UPDATE products
SET update_id = '550b8d7f3ba477.82670719', 
    date_update_started = UTC_TIMESTAMP()
WHERE date_update_started < UTC_TIMESTAMP() - INTERVAL 1 HOUR 
    AND updated = 1
ORDER BY some_date
LIMIT 100
"
23382,71187,How to define a table in SQL with 2 fields being not-null (mandatory) dependent?,"CREATE TRIGGER t BEFORE INSERT ON mytable
FOR EACH ROW BEGIN
    IF COALESCE(NEW.email, NEW.phone_number) IS NULL THEN
        SIGNAL SQLSTATE '45000'
          SET MESSAGE_TEXT = 'Either email or phone_number must be non-null';
    END IF;
END
"
10136,48134,Allowing users to specify regular expressions in SQL select statement in T-SQL,"public partial class UserDefinedFunctions
{
    [Microsoft.SqlServer.Server.SqlFunction(DataAccess = DataAccessKind.None, IsDeterministic = true)]
    public static SqlBoolean RegexMatch(string Pattern, string Expression)
    {
        return new Regex(Pattern).IsMatch(Expression);
    }
};
"
2836,14470,Most efficient way to query one to many to many table relationship,"SELECT gl.gameid, gl.type, ..., ul.userid, ul.username
FROM
    (
        SELECT gameid
        FROM game2users
        WHERE userid = a_certain_numeric_id
    ) AS ug
    INNER JOIN gamelist AS gl
        ON ug.gameid = gl.gameid
    INNER JOIN game2users AS g2u
        ON ug.gameid = g2u.gameid
    INNER JOIN userlist AS ul
        ON g2u.userid = ul.userid
"
14911,26320,Selecting count by row combinations,"select player,
       sum(case when result = 0 then 1 else 0 end) as result_00,
       sum(case when result = 1 then 1 else 0 end) as result_01,
       . . .
       sum(case when result = 50 then 1 else 0 end) as result_50
from t
group by player;
"
38391,60598,Detect consecutive dates ranges using SQL,"WITH t AS (
  SELECT InfoDate d,ROW_NUMBER() OVER(ORDER BY InfoDate) i
  FROM @d
  GROUP BY InfoDate
)
SELECT MIN(d),MAX(d)
FROM t
GROUP BY DATEDIFF(day,i,d)
"
7360,36679,SQL unique constraint on either of 2 columns,"create trigger dbo.something after insert as
begin
    if exists ( select * from inserted where ...check here if your data already exists... )
    begin
        rollback transaction
        raiserror ('some message', 16, 1)
    end
end
"
27633,35224,Insert into row if value exists in a different table," UPDATE Users u
 SET ValueToUpdate = 'some value'
 WHERE EXISTS (SELECT 1 FROM Subscribers S WHERE s.userid = u.userid);
"
19184,42399,Oracle SQL new Column with condition,"select ename as name, sal as salary,
       (case when sal = max(sal) over () then 'max'
             when sal = min(sal) over () then 'min'
        end) as MaxOrMin
from emp;
"
14778,58418,SQL create weak entity table,"CREATE TABLE primary_entity (
   id numeric PRIMARY KEY,
   -- some data fields
);

CREATE TABLE weak_entity (
   id numeric PRIMARY KEY 
    REFERENCES primary_entity(id)
    ON DELETE CASCADE,
   -- some data fields
);
"
39368,18458,check on overlapping dates (vb.net),"select   count(1)
from     YourTable
where    (@start < End and @end > Start)
"
39334,4542,Proper database design for this task,"words (w_id int, w_word varchar(50))

categories (c_id int, c_category)

wordcategories (wc_wordid int, wc_catid int)
"
32985,66861,Concatenate all the notes in a single row based on lead's ID?,"SELECT l.first_name, l.last_name, l.id, group_concat(n.name), n.description
FROM 
    leads AS l inner join notes as n on l.id = n.parent_id
where l.deleted = 0
and n.deleted = 0
and l.id='104c4b25-adab-32f3-16ee-50d098a5dd5d'
group by l.id
"
19168,8594,concatenate values from two columns and compare it against one value in sqlite,"SELECT name FROM CONTACT_LIST 
WHERE mblDc || mbl = ""+8801617634317"";
"
39102,68057,Are these PL/SQL variable initializations equivalent?,"
SQL> DECLARE
  2    blood_type CHAR DEFAULT 'O';         -- Same as blood_type CHAR := 'O';
  3  
  4    hours_worked    INTEGER DEFAULT 40;  -- Typical value
  5    employee_count  INTEGER := 0;        -- No typical value
  6  
  7  BEGIN
  8    NULL;
  9  END;
 10  /

PL/SQL procedure successfully completed.

SQL>
"
31301,9271,Does Where Clauses with sub-queries in t-sql queries the data for each row?,"WHERE ad.AdvertisementID IN (SELECT AdvertisementID FROM UDF_GetAdvertisements)
"
18974,5899,Oracle SQL : Pivot a column,"select product,
       max(case when rn = 1 then supplier end) as supplier_1,
       max(case when rn = 2 then supplier end) as supplier_2,
       -- ...
       -- max(case when rn = n then supplier end) as supplier_n,
       avg(price) as price,
       sum(qty) as sum
  from(select t.*,
              row_number() over (partition by product order by supplier) rn
         from your_table t
      )
 group
    by product;
"
23756,49143,"Tracking differences between two SQL tables (added, removed, changed)","Select code-id, 'added' result from a
Except
Select code-id, 'added' result from b
Union all
Select code-id, 'removed' result from b
Except
Select code-id, 'removed' result from a
Union all
Select code-id, 'changed' result 
from a join b on a.code-id = b.code-id 
Where a.code-name-1 != b.code-name-1 or a.code-name-2 != b.code-name-2
"
2470,13551,SQL - SSRS Search for list of values using LIKE,"
WITH    condition
      AS ( SELECT   SUBSTRING(c.SplitValue, 1, 3) Criteria
           FROM     dbo.fncSplit('111-1,112-2,113-3,114-4,115-1,116-1', ',') c
         )
SELECT  SUM(t.QTY)
FROM dbo.tblTest t
INNER JOIN condition con ON con.Criteria = SUBSTRING(t.Value1, 1, 3)
"
210,72115,Dynamic Aliases in the SQL statement,"SELECT
    CASE P.Type WHEN 'Individual' THEN P.Amount ELSE NULL END AS Salary,
    CASE P.Type WHEN 'Individual' THEN NULL ELSE P.Amount END AS Profit
FROM
    Person p
"
8267,3421,Select all items with sum of fields in specified range,"SELECT * 
FROM test_table AS D0
WHERE (

  SELECT TOTAL( file_size ) 
  FROM test_table AS D1
  WHERE D1.file_time < D0.file_time
  OR (
    D1.file_time = D0.file_time
    AND D1.file_id <= D0.file_id
  )
  ORDER BY file_time, file_id DESC
)
BETWEEN 1 
AND 9
"
11405,53392,SQL: replacing a value with corresponding values in differet table after join,"select survey.worker_id,
   (Select Value from Code where ID = survey.code_number_of_days_id) as No_of_Days,
   (Select Value from Code where ID = survey.code_gender) as Gender,
   Info.Name, 
   (Select Value from Code where ID = Info.code_category_id) as Category,
   (Select Value from Code where ID = Info.code_confirmed_status_id) as Confirmed,
from Survey 
full outer join Info 
on Survey.worker_id = Info.id 
"
21979,67332,SQL - Group by special case,"SELECT 
   t1.WO,
   t1.x - t2.x,
   t1.y - t2.y,
   t1.z - t2.z,
   t1.date
FROM tab AS t1
JOIN 
 (
   SELECT tab.*,
      ROW_NUMBER()
      OVER (PARTITION BY WO 
      ORDER BY date) AS rn
   FROM tab
 ) AS t2
  ON t1.WO = t2.WO 
 AND t1.date <> t2.date
 AND t2.rn = 1
"
22157,29867,Microsoft Access - Search Query without opening Datasheet,"Private Sub SearchButton_Click()

Me.Subform_Name_Here.Form.Requery

End Sub
"
7756,14780,"Using Substring, within ISNULL in TSQL returns unexpected number of characters for the field","ISNULL(CAST(SUBSTRING(BI.dbo.SKU.phl5,0,3) AS VARCHAR(13)),'Uncategorized') AS phl1
"
20757,17059,PL/SQL Sum by hour,"SELECT TRUNC(stoptime,'HH'), sum(eventcapacity) 
  FROM yourtable
 GROUP BY TRUNC(stoptime,'HH');
"
5299,53687,How to Program respond in Oracle REST Data Services,"begin
htp.p('your textual content as respond body');
end
"
959,2115,SQL: Do you need an auto-incremental primary key for Many-Many tables?,"ArtistFans
    ArtistID (PK)
    UserID (PK)
"
10912,41539,Issue with my WHERE clause: mulitle condition issue,"select c.user
from c
group by c.user
having sum(case when c.options = 'TA' then 1 else 0 end) > 0 and
       sum(case when c.options = 'PT' then 1 else 0 end) = 0
"
37978,33546,How to add two columns from two separate MS SQL queries with different number of rows,"select ProductID, (inv.Inventory + s.Sales) as BalanceInventory
from
( 
    select  ProductID, Inventory
    from [table]
    where xxx
) inv
left outer join
(
   select  ProductID, Sales 
    from [table]
    where xxx
) s on (s.ProductID = inv.ProductID)
"
3046,10839,How to determine if NULL is contained in an array in Postgres?,"select exists (
    select 1 
    from unnest(array[1, null]) s(a)
    where a is null
);
 exists 
--------
 t
"
31055,5634,Saving SQL files into specific folders in Oracle,"edit c:\users\dibya\projects\erp\logindetails.sql
"
30372,13906,mysql retrieving data starting from joined table,"SELECT t11.*,t12.*,t2.* FROM t2 
LEFT JOIN t1 as t11 ON t1.ID = t2.ID1
LEFT JOIN t1 as t12 ON t12.ID = t2.ID2
"
27136,334,Using WITH + DELETE clause in a single query in postgresql,"WITH max_table as (
    SELECT uid, max(timestamp) - 10000 as mx
    FROM listens 
    GROUP BY uid
) 
DELETE FROM listens 
WHERE timestamp < (SELECT mx
                   FROM max_table 
                   where max_table.uid = listens.uid);
"
21663,41375,Troubleshooting SQL Query,"select admissionId, calendarid, admitTime=
         (select top(1) admitTime 
         from activity a1 
         where a1.admisionID=a.admissionID and a1.calendarID=a.calendarid),
     dischargeTime=
         (select top(1) dischargeTime 
         from activity a1 
         where a1.admisionID=a.admissionID and a1.calendarID=a.calendarid)
 from activity a
 where calendarid=100
"
12230,70940,Error in database class in data fetching query,"Cursor mCursor = db.query(true, DATABASE_TABLE, new String[] {
        KEY_id, KEY_ques,KEY_correctans,KEY_wrongans1,KEY_wrongans2,KEY_wrongans3,KEY_subject,KEY_subjectid }, KEY_id + ""=""
        + rowId + "" AND "" + KEY_subjectid + ""="" + subId,null, null,null, null,null);
"
32967,40153,Getting priority messages from Oracle Advanced Queues," DBMS_AQADM.CREATE_QUEUE_TABLE (
queue_table        => 'aq.priority_msg', 
sort_list          => 'PRIORITY desc,ENQ_TIME', 
queue_payload_type => 'aq.Message_typ');
"
24605,59999,How to get the last date of previous three months,"select TO_CHAR(LAST_DAY(ADD_MONTHS(last_day(SYSDATE),-level)),'DD-MM-YYYY') month 
from dual
connect by level<4;
"
15715,14256,outer join for parent child chain,"declare @theName char(25)
select @theName = 'dave'

SELECT p.id, p.name 
FROM parent p
LEFT OUTER JOIN child c   -- OUTER in case there's no children
    ON p.id = c.parentid
INNER JOIN grandchild g   -- INNER because you say there's always children
    ON c.id = g.parentid
WHERE p.name = @theName
    OR c.name = @theName
    OR g.name = @thename
GROUP BY p.id, p.name     -- GROUP BY to combine multiple hits
"
5791,70580,select row from table and substitute a field with one from another column if it exists,"SELECT A.id, COALESCE(
  ( SELECT max(B.title) FROM B WHERE
    langcode = 'nl' AND B.table_a_id = A.id), A.name ) as name
FROM  A
WHERE A.id = 5
"
21223,55478,Copy data from one table into other table in MYSQL,"INSERT INTO delete_subscriber        
(SubID,RandomCode,Email,FirstName,LastName,
CreateDate,UpdateDate,DeleteDate,DeletingPerson) 
 SELECT     s.SubID,s.RandomCode,s.Email,s.FirstName,s.LastName,
s.CreateDate,s.UpdateDate,NOW(),?
 FROM subscriber s , list_sub
WHERE list_sub.ListID=? AND list_sub.SubID=s.SubID;
"
26358,67918,ORDER BY CASE does not working?,"select *
from ( 
   .... here goes your statement ...
) t
order by 
   case STATUS
      when 'IN' then 1
      when 'OUT' then 2
      when 'FINISHED' then 3
   end
"
16941,29704,How do I handle nulls in NOT IN and NOT LIKE statements in Oracle?,"AND (NVL(T.Col_One,'NuLl') NOT LIKE 'AString'
      OR NVL(T.Col_Two,'NuLl') NOT IN ('BString','CString')) 
"
32894,73803,"SQL, where clause is not applied","SELECT COUNT( DISTINCT user.id ) AS user
FROM profile join user on user.id=profile.user_id
WHERE (
profile.age
BETWEEN 0 
AND 14
)
AND user.enabled =1
"
13635,38605,Conditional If statement within table visual basic database (T-SQL),"[ColumnName] AS CASE WHEN (the formula for overall) <= 40 THEN 'fail' ELSE 'pass' END
"
24919,47537,SQL: Cumulative summing and insertion into table,"SELECT
    t.Date,
    t.Visits,
    t.Purchases,
    SUM(r.Visits) AS CumVisits,
    SUM(r.Purchases) AS CumPurchases,
    SUM(r.Purchases)*1.0/SUM(r.Visits) AS Ratio
FROM t
JOIN t AS r ON r.Date BETWEEN SUBSTR(t.DATE, 1, 4) AND t.Date
GROUP BY t.Date
"
14051,6231,SQL Query on four tables with MySQL - 'intersection',"SELECT pt.post_id
FROM SEARCH s INNER JOIN post_tag pt ON pt.tag_id = s.tag_id AND pt.value = s.value
GROUP BY pt.post_id
HAVING COUNT(*) = (SELECT COUNT(*) FROM SEARCH)
"
18556,8225,SQL retrieve and perform arithmetic on values from associated table,"SELECT 
    re1.occured_at as started_at, 
    re2.occured_at as finished_at,
    (re2.occured_at - re1.occured_at) as race_time,
    p.id,
    p.membership_id,
    p.race_id

participant_id FROM PARTICIPANTS p 
INNER JOIN RACE_EVENTS re1 ON re1.participant_id = p.id AND re1.event_type = 'start'
INNER JOIN RACE_EVENTS re2 ON re2.participant_id = p.id AND re2.event_type = 'finish'
"
9876,1952,Calling stored procedures with parameters in PetaPoco,"var s = PetaPoco.Sql.Builder.Append(""EXEC SP_FindCust @@last_name = @0"", lname);
s.Append("", @@first_name = @0"", fName),
s.Append("", @@last_name = @0"", lName),
s.Append("", @@dob = @0"", dob);
return db.Query<Cust>(s);
"
4690,23512,sql sort statement not working correctly,"SELECT country, COUNT(country) as total 
FROM user 
GROUP BY country 
order by total desc
"
28773,14110,How to get 0 rows updated query/data from Oracle in PHP?,"$parse_result = oci_parse($conn,$query_ora_update);             
$result = oci_execute($parse_result);   
$row_count = oci_num_rows($parse_result);                                    
oci_commit($conn);              
if($row_count > 0)
  { 
   -------------------
"
12231,9745,two composite keys from same table,"INSERT INTO `closure_new` (subtypeId, subtype_effectiveTime, supertypeId, supertype_effectiveTime)
SELECT subCon.id, subCon.effectiveTime, superCon.id, superCOn.effectiveTimed.effectiveTime
  FROM closure o, concept subCon, concept superCon
 where subcon.Id = o.subtypeId and supercon.Id = o.supertypeId
"
30132,68056,Join over substring across tables in MSSQL,"select
  *
from
  table_1 t1

  inner join table_2 t2 on
     t1.url like concat('%',t2.compname, '%')
"
16711,32474,MSSQL select single row with all references counted,"select t1.*, ISNULL(t2.c, 0) AS CountOfB
from table1 t1
left join
(
    select parttypes_uid_fk, count(*) c
    from table2
    group by parttypes_uid_fk
) t2 on t2.PartTypes_uid_fk=t1.uid
"
3512,45148,Magento Update all products manufacturer using SQL Query,"$installer = new Mage_Catalog_Model_Resource_Setup();
$installer->startSetup();

$products = Mage::getModel(""catalog/product"")->getCollection()->addAttributeToSelect('*');
foreach($products as $product) {
    $product->setManufacturer(...);
    $product->save();
}
$installer->endSetup();`
"
32715,72247,How to write minimum linq query with many-to-many table involved?,"
(from p in ctx.Products
join c in cts.ProductsToCategories on c.ProductId 
join c2 in cts.ProductsToCategories on c.CategoryId = c2.CategoryId 
join p2 in ctx.Products on c2.ProductId = p2.id
where 
  p2.Id == id &&
  p2 != p
orderby p).FirstOrDefault();
"
34071,47802,SQL - How to duplicate rows but change only one column info?,"SELECT p.weeknum, dateadd(day, n.n, p.date) as date, q.Key, q.ID, q.Score      
FROM tblWeeks p cross apply 
     fnBenchmarkData(p.weeknum) q cross join
     (select 0 as n union all select 1 as n union all select 2 union all select 3 union all
      select 4 union all select 5 union all select 6
     ) n;
"
38827,11691,Update with self-join,"MERGE
INTO    contactassociations ca1
USING   contactassociations ca2
ON      (
        ca1.contactid = ca2.contactid
        AND ca1.entitytable = 'EMPLOYER'
        AND  ca2.entitytable = 'CLIENT'
        )
WHEN MATCHED THEN
UPDATE
SET     parentid = ca2.id
"
23109,55128,Count all duplicates of each value,"SELECT   col,
         COUNT(dupe_col) AS dupe_cnt
FROM     TABLE
GROUP BY col
HAVING   COUNT(dupe_col) > 1
ORDER BY COUNT(dupe_col) DESC
"
3297,8809,Select All Values From Table That Match All Values of Subquery,"select * from table where tableid in(select tableid 
from table1 
where tableid like '%this%')
"
28320,24654,Return only records validated against a lookup table,"SELECT p.prod_id FROM products p
  LEFT JOIN product_keywords pk
    ON p.prod_id = pk.prod_id
  LEFT JOIN valid_keywords vk
    ON vk.keyword_id = pk.keyword_id
GROUP BY p.prod_id
  HAVING COUNT(vk.keyword_id) = COUNT(pk.keyword_id);

+---------+
| prod_id |
+---------+
|       2 |
|       4 |
+---------+
"
2646,9559,How to do a SQL insert inside of varchar in mysql,"INSERT INTO vartemp (SQLSyntax)
    VALUES ('UPDATE RegExample SET Field1 = ''abc'', Field2 = 123 WHERE whereCond1 = ''abc''')
"
13859,67986,Is it possible to deny access to SQL Server from specific programs?,"CREATE TRIGGER application_limit_trigger
ON ALL SERVER WITH EXECUTE AS '...'
FOR LOGON
AS
BEGIN
IF EXISTS (SELECT *
   FROM sys.dm_exec_sessions
   WHERE session_id = @@SPID
   AND program_name IN (N'Bad Program', N'Worse Program', N'Unmentionable')
    ROLLBACK;
END;
"
3466,75384,How to delete last character Oracle,"select SUBSTR('350 M', 0, LENGTH('350 M') - 1) from dual;
"
4979,6409,How to select data and insert those data using single sql?,"MERGE INTO   dates_temp_table trgt
      USING  (SELECT * FROM master_dates_table WHERE e_id=100) src
          ON     (trgt.prm_key = src.prm_key)  
WHEN NOT MATCHED
THEN
    INSERT       (trgt.col, trgt.col2, trgt.status)
         VALUES  (src.col, src.col2, 'Modified');
"
37806,45840,Oracle Database: how to restrict a user to see only his/her own data?,"create view Sample as
select col_1, col_2, col3
from   Sample_Table
where  Data_Owner = USER;
"
536,33707,SQL - SELECT * FROM posts WHERE id_user IN SUBQUERY?,"SELECT * 
FROM 
    posts P
INNER JOIN 
    friends F ON P.id_user = F.id_friend 
WHERE F.id_user  = :some_id_user
"
30711,17342,SQL specific question - get child that belong to all item of a collection,"Select cityname, count(distinct userID) 
from  User u inner join Person p on  u.personID = p.personID 
inner join Adresse a on  p.addressID = a.addressID
inner join City c on a.cityID = p.cityID 
group by cityName
"
36727,71901,SQL mass insert based off of data pulled from another table,"insert into table2 (Xid, configKey, ConfigVal)
select id, 'doSomething', 'true'
from table1
"
31625,37308,Retrieving Date format rows in MySQL,"SELECT addeddate FROM status
WHERE addeddate <= NOW() - INTERVAL 29 DAY
"
21637,16578,Concating rows in SQL,"select NO,
  listagg(NAME, ',') within group (order by NAME) as name
from TableName
group by NO
"
22252,12179,Check if field value updated on sql server trigger,"ALTER TRIGGER dbo.OrderApprovedSms 
   ON  dbo.[Order]
   AFTER UPDATE
AS 
BEGIN
    SET NOCOUNT ON;

    /*How can check approve date is updated*/
    IF (UPDATE (ApproveDate))
    BEGIN
       INSERT INTO office.SmsSendBuffer
               ( Number ,
                 Body 
               )
       SELECT 'xxxxxx','ORDER APPROVED!'
    END

END
"
19805,32219,Exact fetch returns more than requested number of rows when trying to fetch multiple records from two columns,"BEGIN
  FOR t IN (SELECT table_name, num_rows
              FROM user_tables)
  LOOP
    dbms_output.put_line( 'Table ' || t.table_name || 
                          ' has ' || t.num_rows || ' rows.' );
  END LOOP;
END;
"
8300,18944,fill month gaps,"SELECT date, product FROM (
SELECT date,SUM(orders.product) AS product
FROM orders 
GROUP BY MONTH(date),YEAR(date)
UNION 
select datefield AS date, '0' AS product
from calendar
WHERE (calendar.datefield BETWEEN (SELECT MIN(DATE(date)) FROM orders) AND (SELECT MAX(DATE(date)) FROM orders))
GROUP BY MONTH(date),YEAR(date)
) AS a
GROUP BY MONTH(date),YEAR(date)
ORDER BY date
"
8205,9163,Setting the Owning Schema For Oracle Membership Provider,"DECLARE
  CURSOR ora_obj_rows IS (SELECT * FROM ALL_OBJECTS WHERE OWNER = '&owner_user' AND OBJECT_NAME LIKE 'ORA_ASPNET%' AND OBJECT_TYPE IN ('TABLE', 'PACKAGE', 'FUNCTION'));
BEGIN
FOR ora_obj IN ora_obj_rows
LOOP
  EXECUTE IMMEDIATE 'CREATE SYNONYM ""' || '&login_user' || '"".""' || ora_obj.OBJECT_NAME || '"" FOR ""' || '&owner_user' || '"".""' || ora_obj.OBJECT_NAME || '""';
END LOOP;
END;
/
"
15937,14044,Database operations needed for the required output,"SELECT DISTINCT t1.Ebeln, t2.Ebelp, t1.Ekorg, t2.belnr, t3.netpr FROM TABLE1 t1
RIGHT JOIN TABLE2 t2 ON t1.EBELN = t2.EBELN
FULL JOIN table3 t3 ON t2.belnr = t3.belnr
"
38751,47716,Google BigQuery SQL for summing individual columns,"SELECT Code, COUNT(Col_A) count_column_x, COUNT(Col_B) count_column_y
FROM [your:list.of_codes] a
LEFT JOIN EACH [your:sample.table] b
ON a.Code=b.Col_A
GROUP BY 1
"
1669,52643,sql find average from counting?,"countytable:
state|county
a     aa
a     ab
a     ac
b     ba


SELECT AVG(counties) FROM (SELECT state, COUNT(county) as counties FROM countytable GROUP BY state) as temp
"
32272,21186,Convert Any to String in SQL,"SELECT CONVERT(NVARCHAR(MAX), @param);
SELECT CAST(@param AS NVARCHAR(MAX));
"
14243,45049,Get Last Records for Multiple Items in SQL Server,"WITH temps as
(
  SELECT city_id, date, high_temp,
         ROW_NUMBER() OVER (PARTITION BY city_id ORDER BY date DESC) RowNum
  FROM TemperatureHistory  <-- use the real table name here
)
SELECT city_id, date, high_temp FROM temps WHERE RowNum <= 3
"
16814,57338,How to find a table in sql server if only the partial table name is known,"SELECT 
      OBJECT_SCHEMA_NAME(object_id) AS schema_name
    , name
FROM sys.tables
WHERE name LIKE '%[_]13[_]6[_]14%';

SELECT 
      TABLE_SCHEMA
    , TABLE_NAME
FROM INFORMATION_SCHEMA.TABLES
WHERE TABLE_NAME LIKE '%[_]13[_]6[_]14%';
"
4511,35939,how to eliminate unneeded record,"select firstname, lastname, scheduled, posted, eventadded
from (select rs.*,
             row_number() over (partition by firstname, lastname
                                order by (case when eventadded is not null then 1 else 2 end)
                               ) as seqnum
      from ResultSet rs
     ) rs
where seqnum = 1;
"
32151,60063,Date Range SQL Query,"SELECT Schedule_ID 
FROM TBL_SCHEDULE 
WHERE CARD_NO = 1000058 
  AND yourDate BETWEEN FromDate AND ToDate
"
1087,10119,How to change column type in SQL view,"CASE WHEN (LEN(PartnerID) = 5 AND (PartnerID LIKE '11%' OR
                      PartnerID LIKE '22%')) THEN stuff(PartnerID, 1, 2, '00') ELSE CONVERT(VARCHAR(5), PartnerId) END AS PartnerID
"
37665,13082,SQL server – get rows with customers that has only purchased online,"SELECT t.Email , t.StoreID 
FROM TransactionData t
WHERE EXISTS (SELECT 1 
              FROM Subscribers 
              WHERE t.Email = Email)
AND NOT EXISTS (SELECT 1 
                FROM TransactionData
                WHERE t.Email = Email
                 AND StoreID <> 50001)
GROUP BY t.Email , t.StoreID 
"
17265,32084,How to retrieve an average from a specific data type from a column in sql,"SELECT AVG(Price) AS PriceAverage FROM Products WHERE mfr = 'particularManufacter'
"
2584,62237,PHP Oracle convert date to mm/dd/yyyy from yyyy-mm-dd,"to_date('02/10/2015', 'mm/dd/yyyy')
"
32004,57368,MySQL query to return a list of months,"SELECT DATE_FORMAT(date, '%Y-%m-01') as Months from Table GROUP BY Months;
"
12285,6214,SELECT common value from two similar columns,"SELECT
    player,
    COUNT(player) as count
FROM (
    SELECT homepom AS player
    FROM matches
    WHERE homepom IS NOT NULL AND homepom != '' AND league_id = xxx AND other_things
    UNION ALL
    SELECT awaypom AS player
    FROM matches
    WHERE awaypom IS NOT NULL AND awaypom != '' AND league_id = xxx AND other_things
) as players
GROUP BY player
ORDER BY count DESC 
LIMIT 5
"
16768,53789,how to check whether on delete property is set or not in a foreign key constraint in postgresql?,"SELECT  UPDATE_RULE, DELETE_RULE
FROM    INFORMATION_SCHEMA.REFERENTIAL_CONSTRAINTS
WHERE   CONSTRAINT_NAME = 'FK_YourForeignKey';
"
12533,15233,first value in group by,"select id, count(*) as multiplicity,
       if (count(*) > 1, 0, if(max(good) = 't', 1, 0)) as goodN
from ...
"
13640,19405,SQL to Join Two Tables with some business conditions,"SELECT  CAT.AccountNo, 
        SUM(CASE WHEN CAT.Balance1 <> 0 OR ISNULL(SAT.Balance2,0) <> 0 THEN 1 ELSE 0 END) CountTransactionId,
        SUM(CASE WHEN CAT.Balance1 <> 0 OR ISNULL(SAT.Balance2,0) <> 0 THEN CAT.Balance1+SAT.Balance2 ELSE 0 END) SumBalance1Balance2
FROM CAT
LEFT JOIN SAT
ON CAT.BalanceId = SAT.BalanceId 
"
30584,51243,Selecting array of options as part of select statement,"SELECT O.name, GROUP_CONCAT(SO.name) subOptionName
FROM Options O 
LEFT JOIN SubOptions SO ON O.id = SO.option_id 
GROUP BY O.name;
"
26590,21194,JOIN the same table,"SELECT  date,
        SUM(CASE WHEN facility = 3 THEN 1 ELSE 0 END) `Facility 3 Count`,
        SUM(CASE WHEN facility = 1 THEN 1 ELSE 0 END) `Facility 1 Count`
FROM      badge
WHERE     xtype = 19 AND      
          date BETWEEN 'some_date' AND 'some_date'
GROUP     BY  date
"
33886,15603,SQL statement returns wrong values (TOP n ... ORDER BY),"select top n ...
from (
  select ...
  from table
  where ...
  order by ...
)
"
19090,48793,Complicated mysql query across two tables,"SELECT
  invTypes.*,
  item_value.*
FROM
  item_value
INNER JOIN
  (
    SELECT
      MAX(updated_on) AS `updated_on`
    FROM
      item_value
    GROUP BY
      DATE(updated_on)
  ) latest
ON
  latest.updated_on = item_value.updated_on
INNER JOIN
  invTypes
ON
  invTypes.typeID = item_value.typeID
ORDER BY
  item_value.updated_on
"
22051,11710,Fill rows for missing data by last day of month,"select u.userId, l.LastDayofMonth, coalesce(t.cnt, 0) as cnt
from (select distinct userId from t) u cross join
     (select distinct LastDayofMonth from t) l left join
     t
     on t.userId = u.userId and t.LastDayofMonth = l.LastDayofMonth;
"
29286,71997,Please explain the syntax the SQLServer uses to create a check constraint,"ALTER TABLE [dbo].[tblEventTurnJudgeStartValues] WITH CHECK CHECK CONSTRAINT [tblEventTurnJudgeStartValues_ExecutionToggle]
"
24472,19969,"Comparing duplicate rows in one table, and returning values in another table"," SELECT *
 FROM table2 
 WHERE table2.id NOT IN (SELECT DISTINCT table1.id
                         FROM table1
                         WHERE table1.checkin > sysdate OR
                           table1.checkout > sysdate) AND
 table2.id IN (SELECT DISTINCT table1.id
               FROM table1)
"
6088,16646,insert the last status of a service of users to another table in SQL Server,"merge table2 as tgt
using
(
 select * from table1 
 where logid in
 (
  --Get the row which has the last status for that user-service combination
  select distinct max(logid) over (partition by userid, serviceid order by userid,serviceid) mid 
  from table1)
) as src
on tgt.userid = src.userid and tgt.serviceid = src.serviceid
when matched then
update
set tgt.[status] = src.[status]
when not matched then
insert (userid,serviceid, [status])
values(src.userid, src.serviceid, src.[status]);        
"
16914,13617,SQL How to Update only first Row,"UPDATE Table SET Checked='Y' 
WHERE ID =(SELECT ID FROM Table WHERE Checked='N' ORDER BY ID LIMIT 1) 
"
7744,40883,Convert SQL to MongoDB,"db.oshibka.remove( { date : { $lt : <now-900> } } )
"
27048,9222,(Oracle) Joining all_tab_columns and all_cons_columns,"SELECT atc.TABLE_NAME, 
       atc.DATA_TYPE, 
       count(distinct atc.column_name) cols, 
       count(distinct acc.constraint_name) cons
 FROM all_tab_columns atc 
INNER JOIN all_cons_columns acc 
   ON acc.COLUMN_NAME = atc.COLUMN_NAME AND 
      acc.TABLE_NAME = atc.TABLE_NAME
WHERE atc.OWNER = 'PARRANDEROS'
GROUP BY atc.DATA_TYPE, 
         atc.TABLE_NAME;
"
16684,60797,sql join query not working,"Select *
From 
   Tab1
Left Join
   Tab2
on 
   Tab1.CompID = Tab2.CompID
Where
   (Tab2.Status = 'open' or 
   Tab2.Status is null) and
   Tab1.CompDate = '2012-03-02'
"
2212,15787,SQL query for finding tables containing a column in my schema,"SELECT table_name
  FROM user_tab_cols
 WHERE column_name = 'IS_REVIEW_APPEALS'
"
10569,41558,SELECT only where relational row is found,"SELECT DISTINCT m.id, m.name, m.description 
FROM  menu_categories m 
JOIN dishes d 
ON d.menu_id = m .id
"
10950,70613,is it possible to update 2 fields in the same column in one query (mysql),"UPDATE System
SET Value = (CASE
    WHEN Variable = 'Username' THEN 'myuser'
    WHEN Variable = 'Password' THEN 'mypass'
  END)
 WHERE Variable = 'Username' or Variable = 'Password'
"
10726,6009,"PostgreSQL ""nested""? distincts and count ","select extract(hour from occurred) as hr, count(distinct name)
from table t
group by extract(hour from occurred)
order by 1
"
1515,74498,Chracter codes in sql 'like' queries?,"SELECT * 
    FROM users
    WHERE CHARINDEX(CHAR(6), CompanyName) <> 0
"
36684,75296,How to add check constraint on time with a timestamp?," alter table toy_store ADD CHECK (EXTRACT(HOUR FROM store_opening_time) > 8 || NULL);
"
4195,15771,"If I have two tables in SQL with a many-many relationship, do I need to create an additional table?"," item_id     (Foreign Key)
 category_id (Foreign Key)
"
17835,12792,Very large intervals in PostgreSQL,"SELECT INTERVAL '1 second' * 50000000000;
"
25498,75372,Sql Query with Count & GroupBy,"SELECT  YEAR(T.TransactionDate) AS [YEAR],
        MONTH(T.TransactionDate) AS [MONTH], 
        COUNT(T.Id) AS Transactions,
        SUM(CASE WHEN P.ProductType = 1 THEN 1 ELSE 0 END) AS TransactionsType1
FROM [Transaction] T 
INNER JOIN Product P 
    ON P.Id = T.ProductId
GROUP BY T.DepartmentId, YEAR(T.TransactionDate), MONTH(T.TransactionDate);
"
15972,39893,SQL Calculations based by field type and group by the type,"SELECT t.`Type 1`, t.`Type 2`, t.`Type 3`,
    (t.`Type 1` + t.`Type 2` + 2*t.`Type 3`) AS Total
FROM
(
    SELECT FamID AS Family,
        SUM(CASE WHEN TicketType = 1 THEN Amt ELSE 0 END) AS `Type 1`,
        SUM(CASE WHEN TicketType = 2 THEN Amt ELSE 0 END) AS `Type 2`,
        SUM(CASE WHEN TicketType = 3 THEN Amt ELSE 0 END) AS `Type 3`,
    FROM Tickets
    GROUP BY FamID
) t
ORDER BY t.Total DESC
"
30557,58469,Display same SQL attribute from different joins," SELECT t1.messageID, 
        fromName.displayName as fromDisplayName, 
        toName.displayName as toDisplayName
 FROM table1 t1
 JOIN table2 t2 
   ON t1.messageID = t2.messageID
 JOIN table3 fromName
   ON t1.fromID = fromName.id
 JOIN table3 toName
   ON t2.toID = toName.id   
"
39430,15330,Friendship Website Database Design,"Users.id | .name | .birthdate | .Gender | .someotherfixedattribute
----------------------------------------------------------
1743     | Me.   | 01/01/1970 | M       | indeed


Propertytpes.id | .name
------------------------
  234           | pet 
  235           | hobby

Poperties.uid | .pid | .content
-----------------------------
1743          |  234 | Husky dog
"
18725,55631,How To Code a Multi-Join SQL Query And Get Query Results Even When 1 Table Lacks A Joining Row,"SELECT  customerID, lastName, firstName, companyName, email, citizenship, primaryLanguage
FROM    customers
JOIN    citizenships
USING   (citizenshipID)
JOIN    languages
USING   (languageID)
LEFT JOIN
        paymentMethods
USING   (customerID)
WHERE   customerID = ""1""
"
38993,41001,MySQL selecting data from 2 tables,"SELECT *
FROM members a
WHERE NOT EXISTS (
  SELECT 1
  FROM team_members b
  WHERE b.member_id = a.member_id
  )
"
31052,62892,SQL fill rows with value from one row in a view,"MAX(<ShopId case clause>) OVER() as ShopId
"
28562,41745,Selecting Distinct Data from all columns but 1,"  SELECT agg_article_title,agg_article_link,agg_article_media,agg_article_description,agg_article_source_name, agg_source_tag_tag_name, agg_source_url
  FROM agg_article 
  join agg_source 
  ON agg_article_source_name = agg_source_name 
  join agg_source_tag 
  ON agg_source_name = agg_source_tag_source_name 
  WHERE agg_source_included = 1 
  GROUP BY agg_article_title, agg_article_link
"
478,13585,Price Comparision in mysql query,"SELECT * FROM tableA
WHERE (CASE priceType WHEN 1 THEN price WHEN 2 THEN price * (800000 / 1000) END) <= $price
"
37856,23361,Get Records By Most Recent Date From two tables,"select a.id ""id"", null ""message"", a.cityname ""city"", a.countryname ""country"", a.street ""street"", a.datecreated ""dt""
from dbo.appraisal a
union all
select s.id, s.message, null, null, null, s.datecreated
from dbo.sub_appraisal s
order by 6
"
39350,28447,Inserting columns to another table,"insert into table2 (id, f1, f2, f3, f4, fdate, farbitrary)
select id, field1, field2, field3, field4, SYSDATE, 'I put what I want here')
from table1
"
11735,52728,SQL - get all projects in which a person is inserted or not,"SELECT p.id, p.name, CASE WHEN pp.Id IS NOT NULL THEN 'TRUE' ELSE 'FALSE' END AS ExistProjP
FROM Project p
LEFT JOIN ProjectPeople pp ON (pp.idProject = p.id AND pp.idPeople = @IDPEOPLE)
"
1594,26318,MYSQL Summing of Column With Unique Results,"SELECT 
 t, 
 SUM(weight) AS sWeight 
FROM p_to_t 
WHERE p IN(1,2,4,5)
GROUP BY t
"
30401,37108,MySQL - Select from table 1 if second table is empty or not not empty,"SELECT ST.* , E.data, E.status
FROM `students` ST
LEFT JOIN `table2` E
ON E.id_student=ST.id_student and E.data LIKE '$year-$month-%'
WHERE ST.class='$class'
ORDER BY ST.surname, ST.name, E.data
"
22145,37854,Wrong SQL output,"FROM Project, Member m, ProjectIterationMember, ProjectIterationID pid 
WHERE m.CompanyRole = 'Project Manager'
  AND Project.CompanyID = '"" + co_id + ""'
  AND m.MemberID = ProjectIterationMember.MemberID
  AND pid.projectIterationID=ProjectIterationMember.ProjectIterationID
  AND pid.ProjectID=Project.ProjectID`
"
7273,2703,Ordering in a MySQL GROUP_CONCAT with a function in it,"select GROUP_CONCAT(columnName order by someColumn SEPARATOR '|') from tableName where fieldId = p.id
"
29868,59741,How to check for a duplicate value before inserting with SQL,"Dim strSQL As String = ""If Not Exists ("" & _
             ""Select * From tblDetail ""  & _
             ""Where PersonId = "" & strPersonID & "")"" & _
    ""INSERT INTO tblDetail VALUES('"" & strPersonID _   
         & ""','"" & strForename & ""','"" & strSurname & 
         ""','"" & strDateOfBirth & ""',"" &
          strCurrentlyWith & "",'"" & strConditions & ""')"" 
"
28037,54680,Allow max 10 items with same GUID,"with todelete as (
      select id, row_number() over (partition by GUID order by timestamp) as seqnum
      from mytable
      where GUID = 'xxx'
     )
delete from mytable
    where id in (select id from todelete where seqnum > 10);
"
13945,33989,SQL Server - convert XML Column to delimited string,"SELECT Col1 =  Col.value('(/XMLDoc/AAA/Value)[1]', 'varchar(255)') ,
 Col2 =  Col.value('(/XMLDoc/AAA/Value)[2]', 'varchar(255)') ,
Col3 = STUFF( (SELECT ',' + x.value('(Value)[1]', 'varchar(50)') FROM Col.nodes('/XMLDoc/AAA[position()>2]') AS Node(x) FOR XML PATH('')), 1, 1, '')
FROM table 
"
20350,24380,"How to call stored procedure within function by output value, then get and return this value?","CREATE FUNCTION [dbo].[spsRouteRules_getNewNumber](@oldNumber NVARCHAR(15))
RETURNS NVARCHAR(15)
AS BEGIN
    SET NOCOUNT ON;

    RETURN ISNULL(SELECT TOP 1 newTellNo FROM changedPhones WHERE oldTelNo = @oldNumber),0);
END
"
8976,65986,How to JOIN four tables,"SELECT orders.ID, orders.Quantity, items.Desc, stores.store_name, projects.Project_no 
FROM orders
join items on items.item_id=orders.item_id
join stores on stores.store_id=orders.store_id
join projects on projects.project_id=orders.project_id
"
24756,53221,return only one row for complex multi join sql,"Select (select top 1 fieldname from table1 where id=mastertable.id order by fieldnamesort) result from mastertable.
"
23179,12045,"Counting customers from different countries, country table will not join to customer table (Oracle)","SELECT country.country, count(customer_details.customer_id) AS customer_count
FROM country
INNER JOIN customer_details
ON customer_details.country_id = country.country_id
GROUP by country.country
ORDER by country.country;
"
25402,53672,SQL: Loop through all columns in a database and alter type,"SELECT 'ALTER TABLE ' + TABLE_NAME + ' ALTER COLUMN ' + COLUMN_NAME + ' INT  ' + CASE when IS_NULLABLE = 'NO' THEN 'NOT' END + ' NULL' + char(13) + 'GO'

FROM INFORMATION_SCHEMA.COLUMNS
WHERE DATA_TYPE = 'bigint'
"
24877,38760,sqlite create statement for composition class,"CREATE TABLE Tasks(
    Practical_ID INTEGER NOT NULL REFERENCES Practicals(PracticalID),
    TaskNo INTEGER NOT NULL,
    Task_Topic TEXT,
    Description TEXT,
    Outcomes,
    PRIMARY KEY (PracticalID, TaskNo)
);
"
10823,10675,Date Difference Query,"Select start_date, 
       end_date, 
       other_columns
  From table
 Where end_date - start_date <= 15
"
20738,39977,selecting from sql,"DECLARE @input XML = '<suggestions>
 <suggestion>
  <description>plate.</description> 
 </suggestion>
 <suggestion>
 <description>snack.</description> 
 </suggestion>
</suggestions>'

DECLARE @Suggestions TABLE ([Description] VARCHAR(800))

INSERT INTO @Suggestions
    SELECT
        Sugg.value('(description)[1]', 'varchar(800)')
    FROM
        @input.nodes('/suggestions/suggestion') AS Tbl(Sugg)

SELECT * FROM @Suggestions
"
5583,25291,Oracle SQL: Importing datestamp in UTC format,"TO_TIMESTAMP_TZ('2014-01-01 08:16:02 (+00:00)', 'YYYY-MM-DD HH24:MI:SS (TZH:TZM)')
"
11458,2223,How to specify ORDER BY when using DELETE FROM in combination with OUTPUT?,";WITH T
     AS (SELECT TOP(1) *
         FROM   Schedule WITH (ROWLOCK, READPAST)
         WHERE  intScheduleType = @intScheduleType
         ORDER  BY dtmLastRunDate)
DELETE FROM T
OUTPUT DELETED.intUserID,
       DELETED.dtmLastRunDate  
"
7643,70217,Oracle. Execute stored procedure on creation of the view,"create or replace function ""ORDTEST"".""DEPARTMENT_FULLPATH"" (depId IN VARCHAR2)
return VARCHAR2 as 
....
return path ;
"
30586,61338,Simple DB query,"SELECT Users.id, Users.username, COUNT(*) AS classes 
  FROM Users 
LEFT OUTER JOIN Classes ON User.fk_class_id = Classes.id 
       GROUP BY Users.id, Users.username
"
39864,26826,Value isnt saved after inputstring on TDBWPRichText to linked MemoField,"RichEdit.Changing
"
28002,20595,How to find the greatest difference between cells in different rows,"select 
    (case when (@prev is null) then 0
    else abs(value - @prev) end) as diff
  , concat(value, '-', @prev)
  , @prev := value

    from (select value, dt from table1 order by dt) ordered
    order by diff limit 1
"
20045,68802,Sql self join where not exists?,"SELECT t.*
FROM dbo.TableName t
WHERE t.language = 1
AND NOT EXISTS
(
   SELECT 1 FROM dbo.TableName t2
   WHERE t.name = t2.name
   AND ( t2.language IS NULL OR t2.language <> 1 )
)
"
37923,12914,i want to store size of the log file in a temp table,"create table #tempA (
    MailSize decimal
)

insert into #tempA(MailSize) 
    EXEC sp_msforeachdb 
        @command1 = N' USE ? 
                       SELECT (size * 8)/1024.0 AS size_in_mb 
                       FROM sys.database_files 
                       WHERE data_space_id = 0'

select * from #tempA

drop table #tempA
"
30572,32416,Two counts in one query with opposing where criteria,"SELECT     SiteProductVariation.ProductVariationID
         , COUNT(CASE WHEN SiteProduct.ProductDisplay = 0 THEN  SiteProduct.SiteProductID END) AS Expr1
         , COUNT(CASE WHEN SiteProduct.ProductDisplay = 1 THEN  SiteProduct.SiteProductID END) AS Expr2
FROM SiteProductVariation 
INNER JOIN SiteProduct ON SiteProduct.SiteProductID = SiteProductVariation.SiteProductID 
WHERE (SiteProductVariation.ProductVariationID = 159868) 
  AND (SiteProduct.ProductDisplay = 0 
       OR 
      SiteProduct.ProductDisplay = 1)
GROUP BY SiteProductVariation.ProductVariationID
"
12022,23489,DELETE ... OUTPUT COUNT(DELETED.*),"DELETE 
FROM datacache 
WHERE userId=@id

SELECT @@ROWCOUNT
"
343,15361,"SQL Server add strings (of 0,1) logically","SELECT 
  on_date,rate_id,type_id,
  MAX(substring(publish_flag, 1,1)) + MAX(substring(publish_flag, 2,1)) + 
  MAX(substring(publish_flag, 3,1)) + MAX(substring(publish_flag, 4,1)) as publish_flag
FROM YourTable
GROUP BY on_date,rate_id,type_id
"
2172,45569,SQL Server: How can I delete all space in a table,"update  YourTable
set     P_Type = rtrim(p_type)
"
26189,57883,converting mysql sub queries to join,"SELECT count(distinct mytable.*) as total 
FROM mytable 
JOIN maps
  ON mytable.pid = maps.pid
  AND maps.tid = mytable.tid
JOIN shop
  ON maps.node_id = shop.nid
  AND shop.value = 'selling' 
  AND shop.parent = '170' 
  AND shop.tid = mytable.tid
JOIN users_pro 
  ON mytable.pnumber = users_pro.pnumber
  AND users_pro.value = 'hulo' 
  AND users_pro.tid = mytable.tid
WHERE mytable.tid=1
"
15049,61906,How do I get the return value from a function in Oracle using Toad,"begin
    dbms_output.put_line(packagename.functionname(paraname));
end;
"
30130,57306,How to create and open SQLite table in Android?,"db.execSQL(""CREATE TABLE if not exists mytable (_id INTEGER PRIMARY KEY AUTOINCREMENT, mydate VARCHAR, mydata SMALLINT)"");
"
35728,63208,"Duplicating table rows, but with another value","insert ignore into `product_to_store` (
  select a.product_id, 1 as store_id
  from (select distinct product_id from product_to_store where store_id=0) a
)
"
18735,38680,Highest Count with a group,"with cte as (
    select p.productcategory, p.ProductSubCategory, COUNT(*) cnt, 
        ROW_NUMBER() over (partition by p.productcategory order by count(*) desc) rn 
    from products p 
        join sales s on p.ProductSubCategory = s.ProductSubCategory
    group by p.productcategory, p.ProductSubCategory
    )
select * 
from cte 
where rn = 1
"
12652,74193,.NET DataGridView displays 1899-12-30 as part of a time-only value,"dataGridView1.Columns[3].DefaultCellStyle.Format = ""t"";  // short time
"
34115,70300,SQL query to find the highest paid salary for each lanauges,"WITH cte AS (
  SELECT PNAME, SALARY, PROF1 PROF FROM programmer
  UNION 
  SELECT PNAME, SALARY, PROF2      FROM programmer
)
SELECT p1.PNAME, p1.PROF, p1.SALARY
FROM cte p1
LEFT JOIN cte p2
  ON p1.PROF = p2.PROF AND p1.SALARY < p2.SALARY
WHERE p2.PNAME IS NULL;
"
24578,34904,SQL Self joining query,"SELECT Id
FROM tbl
GROUP BY Orig_Id
HAVING 
    SUM(CASE WHEN Type <> 'Internal' THEN 1 ELSE 0 END) = 0
    AND SUM(CASE WHEN Type = 'Internal' THEN 1 ELSE 0 END) > 0
"
24251,75294,calculate the sum of two columns category,"SELECT  a.vehicle,
        a.vehicle_color,
        COUNT(b.vehicle) Number
FROM    master a
        LEFT JOIN data b
            ON a.vehicle = b.vehicle AND
                a.vehicle_color = b.vehicle_color
GROUP   BY a.vehicle,
           a.vehicle_color
"
3393,71341,Merging tables in access,"SELECT t1.ID, t1.a, t1.b, t1.c, t2.d, t2.e, t2.f 
INTO t0
FROM t1 INNER JOIN t2 ON t1.ID = t2.ID;
"
28999,392,Building a queue in CouchDB,"function(doc) {
  if(doc.visible)
    emit(doc.created_at, doc)
}
"
4357,46562,Django keep statistics up to date,"from django.db.models import signals
import models

def itemSaved(sender, **kwargs):
    obj = kwargs['instance']
    colorMod =  models.Color.get(name = obj.color)
    colorMod.count = colorMod.count + 1
    colorMod.save()

# listen to post_save event for model MyModel
signals.post_save.connect(itemSaved, sender=models.MyModel)
"
33522,30657,How to work with CSV values in stored procedure?,"declare @Temp nvarchar(max), @c int, @a nvarchar(max)

declare @Temp_Table table (value nvarchar(max))

select @Temp = 'a,b,c,g,a'

select @c = CHARINDEX(',', @Temp)
while @c > 0
begin
    insert into @Temp_Table
    select LEFT(@Temp, @c - 1)

    select @Temp = right(@Temp, LEN(@Temp) - @c)
    select @c = CHARINDEX(',', @Temp)
end

select * from @Temp_Table
"
30685,19367,optimizing SQL UPDATE with LIKE,"UPDATE
    I2
SET
    BVRTLPRICE01 = I1.BVRTLPRICE01
FROM
    INVENTORY I2
INNER JOIN INVENTORY I1 ON
    I1.CODE = REPLACE(LEFT(I2.CODE, 1), 'S', 'C') +
              SUBSTRING(I2.CODE, 2, LENGTH(I2.CODE)))
WHERE
    I2.CODE LIKE 'S%'
"
6762,15522,Use table metadata for select statement in SQL Server?,"select table_name 
from information_schema.columns 
where column_name = 'classtypeid'
"
5911,14584,How to get the value of related rows?,"SELECT x.subject
     , y.id IS NOT NULL has_accepted
  FROM qanda x
  LEFT
  JOIN qanda y
    ON y.related = x.id
   AND y.type = 1
   AND y.acceptedanswer = 1
  JOIN qanda z
    ON z.related = x.id
 WHERE x.type = 0 
   AND z.id = 5;
"
6429,58981,How to implode a query result inside a mysql5 stored procedure?,"SELECT GROUP_CONCAT(id ORDER BY id DESC SEPARATOR ',') FROM temp;
"
1993,10264,wildcard for single digit mysql,"select name
from table1
where name regexp binary '^CU[0-9]'
"
5376,49233,Query logic check: to calcualte no. of primary keys in db,"SELECT Count(*)
FROM   INFORMATION_SCHEMA.TABLE_CONSTRAINTS
WHERE  CONSTRAINT_TYPE = 'PRIMARY KEY' 
"
14847,71400,SQL Output text or date depending on another field,"select
CASE WHEN isExofficio = 1
THEN CAST 'Never Expires' ELSE CONVERT(varchar,boardDate,101)
END from tableName
"
33590,25151,How to get the next biggest int value in SQL?,"---Supply the ID and the Contact_ID
DECLARE @ID INT = 1
    ,@C_ID INT = 100;


WITH OrdCte AS(

SELECT ID,Contact_ID,ROW_NUMBER() OVER(PARTITION BY Contact_ID ORDER BY ID) ord 
FROM #sample

) 
    SELECT B.ID,B.Contact_ID 
    FROM OrdCte A 
    JOIN OrdCte B 
    ON A.Contact_ID = B.Contact_ID
    WHERE A.Contact_ID = @C_ID AND A.ID = @ID AND A.ord+1 = B.ord;
"
3756,34105,Multiple conditions on the joined table when using group by,"SELECT p.id AS id, p.name AS name
FROM   products p, products_sizes s
WHERE  p.id = s.product_id AND s.size_id IN (1, 3)
GROUP  BY s.product_id
HAVING COUNT(DISTINCT s.size_id) = 2;
"
10422,61685,Get sum of integers each hour on MySQL table,"select floor(es.event_timestamp/(1000*60*60)) as hour_timestamp,
       sum(`count`) as cnt
from metrics.event_summary es
group by floor(es.event_timestamp/(1000*60*60))
order by hour_timestamp;
"
4341,32196,INSERT data into a table only if it matches a field in another table,"INSERT INTO table1(data_1, email) 
VALUES 
(SELECT data_1,email 
     FROM table_2 
     WHERE table_1.email=table2.email)
"
5951,64639,Outer Joining to more than 1 Table,"Select TA.ColumnB,TB.ColumnB from 
TableC TC 
LEFT JOIN TableB TB ON (TC.ColumnA = TB.ColumnA)
LEFT JOIN TableA TA ON (TB.ColumnA = TA.ColumnA)
"
25125,45817,How to run a block of MSSQL code with multiple int variable values?,"DECLARE @Sectors TABLE ( Sector INT );

INSERT INTO @Sectors VALUES (40), (41), (42);

DECLARE @Sector INT;
DECLARE Sectors CURSOR FOR
    SELECT
        Sector
    FROM @Sectors;

OPEN Sectors;
FETCH Sectors INTO @Sector;

WHILE (@@FETCH_STATUS = 0)
BEGIN
    -- Do something here that cannot be batched
    PRINT @Sector;

    FETCH Sectors INTO @Sector;
END

CLOSE Sectors;
DEALLOCATE Sectors;
"
18828,8945,Trying to find values that are greater than the average. SQL Developer from ORACLE,"select *
from (select s.name, count(distinct p.idt) as vocsize,
             avg(count(distinct p.idt)) over () as avg_vocsize
      from series s join
           posting p
           on s.ids = p.ids
      group by s.name
     ) s
where vocsize > avg_vocsize;
"
6461,67297,SQL add values based on conditions then dived the two sums,"select Year,sum(iif(Type=1, value, 0))/sum(iif(Type=4, value, 0))
from data
GROUP BY Year
"
13055,62840,Compare rows and calculate column of same row,"SELECT add * ((CASE Fun1 WHEN 'Abc' THEN 1 ELSE 0 END) + 
              (CASE Fun2 WHEN 'Abc' THEN 1 ELSE 0 END) + 
              (CASE Fun3 WHEN 'Abc' THEN 1 ELSE 0 END)) AS total
FROM   mytable
"
2749,44149,split a string in Perl into a database,"use strict;
use warnings;

my $data_read = ""T=3420499518  A=914 B=97 C=49 D=436 E=428 F=863 G=34 H=771 I=214 J=493 K=165"";
my %data = split(/\s+|=/, $data_read);

my @cols = keys %data;
my $cols = join(', ', @cols);
my $placeholders = join(', ', ('?')x scalar @cols );

my $query = ""INSERT INTO table ($cols) VALUES ($placeholders)"";
    # execute like this:
# $dbh->do($query, undef, @data{@cols});

print ""$query\n"";
"
1867,47832,select query for names of student with marks atleast 60 in two subjects,"SELECT name
FROM yourtable
WHERE (mark1>=60)+(marks2>=60)+(marks3>=60) >= 2
"
24644,59874,Formula Appliance as SR,"SELECT (SUM(r)/SUM(i)) AS tera FROM
((SELECT SUM(reflectance) AS r, 0 AS i FROM table WHERE wavelength BETWEEN 340 AND 345)
UNION
(SELECT 0 AS r, SUM(reflectance) AS i FROM table WHERE wavelength BETWEEN 350 AND 355))
AS total
"
36488,27755,How to find which views are using a certain table in SQL Server (2008)?,"SELECT * 
FROM   INFORMATION_SCHEMA.VIEWS 
WHERE  VIEW_DEFINITION like '%[YourTableName]%'
"
28026,52997,ApplySimple Formula for Current year in Microstrategy,"Year(CurrentDate())
"
9708,13684,SQL Server SSIS and Oracle Data Pump,"Corresponding to SSIS ,oracle has oracle warehouse builder.

Oracle data pump is an alternative to EXPORT and Import utility in SQL SERVER.
"
38752,39283,how to execute sql command from command line using NO script file?,"echo ""update contact set email_address='foo@bar.com';"" | /path/to/isql --your-favorite-switches
"
9636,10126,How do I create a SQL Distinct query and add some additional fields,"SELECT  *
FROM    (
        SELECT  *, COUNT(*) OVER (PARTITION BY FirstName, LastName) AS cnt
        FROM    Contacts
        WHERE   ContactTypeId = 1
        ) q
WHERE   cnt > 1
ORDER BY
        cnt DESC
"
36411,44460,select statement from a table ONLY if some of the fields were updated ORACLE,"SELECT t.*
FROM   table_name t
       INNER JOIN
       (
         SELECT *
         FROM   table_name
                AS OF TIMESTAMP SYSTIMESTAMP - INTERVAL '1' DAY
       ) p
       ON ( t.a = p.a
           AND ( t.d <> p.d OR t.e <> p.e OR t.f <> p.f ) );
"
33041,36074,Is this query irreducibly complex?,"SELECT d.id, d.name, l.message
FROM device AS d
LEFT JOIN (
  SELECT l1.device_id, l1.message
  FROM log AS l1
  WHERE l1.when = (
        SELECT MAX(l2.when)
        FROM log AS l2
        WHERE l2.device_id = l1.device_id
  ) l ON l.device_id = d.id
WHERE d.active = 1
ORDER BY d.id ASC;
"
37451,27983,SQL query to display records from multiple tables,"SELECT
    T.Thread_ID
    ,T.Thread_Title
    ,T.Description
    ,T.Posted_Time
    ,T.Subject
    ,COUNT(R.Reply_ID) AS No_of_replies
FROM
    Thread T
    INNER JOIN Reply R ON T.Thread_ID = R.Thread_ID
GROUP BY
    T.Thread_ID
    ,T.Thread_Title
    ,T.Description
    ,T.Posted_Time
    ,T.Subject
"
19341,4052,Calculated column issue in sql query,"SELECT  S.Product_Name, 
        SPD.UnitPrice, 
        SPD.Quantity, 
        SPD.Quantity * SPD.UnitPrice Amount,
        (SPD.Quantity * SPD.UnitPrice)/(SUM(SPD.Quantity * SPD.UnitPrice) OVER()) * 100 [Cost %]
FROM dbo.Stock_Purchase SP
INNER JOIN dbo.Stock_Purchase_Details SPD
    ON SP.Purchase_ID = SPD.Purchase_ID 
INNER JOIN dbo.Store S
    ON SPD.Pro_ID = S.Pro_ID;
"
7807,16378,MySQL stored procedure: variable in WHERE clause?,"DROP PROCEDURE IF EXISTS `test`;
DELIMITER //

CREATE PROCEDURE TEST (IN_TEAM_ID varchar(30))
BEGIN

    SELECT t.* 
      FROM TEAMS t
     WHERE t.team_id = IN_TEAM_ID;

END //

DELIMITER ;
"
8006,65646,How to insert data to a temp table from multiple tables in SQL,"INSERT INTO #Temp (id, id2, a, b)
SELECT TABLE_A.ID, TABLE_B.ID2, TABLE_A.A, TABLE_B.B
FROM TABLE_A INNER JOIN TABLE_B ON TABLE_A.[primary_key] = TABLE_B.[foreign_key]
"
292,15755,a simple way to sum a result from UNION in MySql,"select id, sum(amount) from (
    select id,amount from table_1 union all
    select id,amount from table_2 union all
    select id,amount from table_3
) x group by id
"
28750,49808,SQL insert with function referencing same row," INSERT INTO the_table
 SELECT a, upper(a) FROM
 ( SELECT 'qwerty' a )
"
22739,30963,SQL troubling with multiple count in query,"SELECT c.name, count(distinct p.id) provincecoutn, count(distinct city.id) citycount
FROM country c
  LEFT JOIN province p on c.id = p.country_id
  LEFT JOIN City on p.id = city.province_id
GROUP BY c.name
"
21649,71423,MySql: get data from two tables with grouping by Date,"select payment_by, amount as debit, NULL as credit, added_on
from order_payments_detail
union all
select cust_name, NULL, amount, added_on
from orders
order by added_on;
"
18777,53212,"Grouping with SQL using Max, Min, Avg and dates","SELECT cast([dateTime] as date) as Your_Date,ChannelID,
       max(reading) as max_reading,
       min(reading) as min_reading,
       avg(reading) as avg_reading
FROM YourTable
GROUP BY cast([dateTime] as date) ,ChannelID
"
2338,61174,SSIS Speed up working days calculation query,"WITH cte AS (
 SELECT [Date] AS WorkingDay,
 ROW_NUMBER() OVER (ORDER BY [Date] ASC) AS RN
 FROM DimDate
 WHERE IsHolidayUSA = 0
 AND IsWeekday = 1
)
SELECT
 DateStarted,
 DateCompleted,
 c2.RN - c1.RN AS CycleTime
FROM MyTable t
INNER JOIN cte c1
 ON t.DateStarted=c1.WorkingDay
INNER JOIN cte c2
 ON t.DateCompleted=c2.WorkingDay
"
24096,7533,Kohana 3.x: SQL-Query for Entities and all their Members,"SELECT * FROM myEntity
join member on member.foreignKey = myEntity.foreignKey
WHERE myEntity.foreignKey = {$myForeignKey};
"
6404,61797,Select rows who's FIRST result is a specific value,"SELECT v.users_id
  FROM pageviews v JOIN
(
  SELECT users_id, MIN(time_in) time_in
    FROM pageviews
   GROUP BY users_id
) q ON v.users_id = q.users_id AND v.time_in = q.time_in
 WHERE v.articles_id = 1
"
6172,29541,mysql inner join query with multiple boolean conditions,"SELECT *
FROM   creatives
WHERE  creative_id IN (SELECT   creative_id
                       FROM     term_relationship
                       WHERE    term_id IN (1, 2, 3)
                       GROUP BY creative_id
                       HAVING   COUNT(*) = 3)
"
35677,37557,Need a more efficient join query,"SELECT d1.attr AS ChildAttr, d2.attr AS ParentAttr
FROM dependency AS dep
INNER JOIN data AS d1 ON dep.child = d1.id
INNER JOIN data AS d2 ON dep.parent = d2.id
"
5615,8247,Oracle data in 24 hour format,"SELECT TO_CHAR(time, 'mm/dd/yyyy hh24:mi:ss') from mytable
"
15978,22710,String to DateTime in SQL Server,"SELECT CONVERT(VARCHAR(10), CAST(value as datetime), 101) + ' ' 
     + substring(convert(varchar(20), CAST(value as datetime), 9), 13, 5) 
     + ' ' + substring(convert(varchar(30), CAST(value as datetime), 9), 25, 2) As dateValue
FROM mytable 
WHERE ISDATE(mytable.Value) = 1
"
1204,61647,sql question .. how can i dynamically add columns to a sql query result set?,"        SELECT <non-pivoted column>,

            [first pivoted column] AS <column name>,

            [second pivoted column] AS <column name>, ...
    From Table 
    PIVOT (
...
FOR 
...
)
"
32142,69819,SQL code does not work,"select c.name,a.adress,a.postcode_id from customer c left join Adress a on c.customer_id=a.customer_id where c.customer_id>11
"
38459,38125,Return all dates that do not have a matching entry,";WITH CTE AS
(
  --create list of all names and date combinations from both table
  SELECT DISTINCT A.LastName, A.FirstName, B.Date_col
  FROM Table1 A, Table2 B
)
--select rows that are missing dates in your first table
SELECT X.* FROM CTE X
LEFT OUTER JOIN Table1 Y 
    ON X.LastName = Y.LastName 
    AND X.FirstName = Y.FirstName 
    AND X.Date_col = Y.Date_Col
WHERE Y.LastName IS NULL
"
38224,41637,Get the entire row of the maximum value of a column in every category,"SELECT * FROM ( 
   SELECT * FROM table ORDER BY date DESC
) as t
GROUP BY t.category;
"
25988,15397,How to use a sql table-valued parameter to filter results?,"create procedure [dbo].[usp_RecipientsSendCheck]
(
    @Type int,
    @RecipientsImports dbo.RecipientsImport READONLY
)
as
begin
    select i.Name
    from @RecipientsImports as i
        left outer join Recipients as r on r.Name = i.Name
        left outer join SendResults as s on s.RecipientId = r.id and s.[Type] = @Type
    where
        r.Name is null or
        s.id is not null
end
"
21874,69348,Efficient query to find singular orders for a product,"select o.id OrderID, MIN(i.id) LineItemID
from orders o
inner join lineitems i on i.order_id = o.id
where o.user_id= 1
group by o.id
having count(*)=1
"
5499,68359,how to prevent duplicate entry in table?,"ALTER TABLE tableName ADD CONSTRAINT tb_uq UNIQUE (post_id, tag_id)
"
1015,5916,PostgreSQL unique index for a specific set of values,"CREATE UNIQUE INDEX avatars_userid_state_0_idx ON avatars(user_id,(state<>0));
"
27564,2481,Sql GROUP BY conflict with the arrays,"SELECT * 
FROM `Projectos` 
JOIN `Projectos-Sectores` ON `ProjectID` = `Pid` 
JOIN `Sectores` ON `SectorID` = `Sectores`.`ID`
ORDER BY `Pid` 
"
24107,11584,Oracle Stored Procedure Returning Table Structure to PowerShell,"CREATE OR REPLACE PROCEDURE sp_test1( p_cursor OUT SYS_REFCURSOR )
AS
BEGIN
  OPEN p_cursor
   FOR SELECT id, test1, test3
         FROM test_table;
END;
"
30307,37567,SQL side by side query. Matching routes,"Select a.orig, a.dest, a.stuff, b.orig, b.dest, b.stuff 
from a inner join a as b on
a.orig = b.dest and b.orig = a.dest
where a.orig = 'ATL' 
Order by a.orig, a.dest
"
18570,18731,"Update 4,000+ rows of MySQL database with same integer","UPDATE table_blah
SET    column_blah = 0
"
31722,57712,Insert Blank value in DB2 for different data types,"function insertMajor($application_id, $major,$type, $conn){
//insert
$query = ""INSERT INTO [dbo].[Applicant_Majors] ""
        . ""([application_id],""
        . ""[program],""
        . ""[type])""
        . ""VALUES('$application_id','$major','$type')"";

//connection
$stmt = sqlsrv_query($conn, $query);

if ($stmt === false) {//start if
    die(print_r(sqlsrv_errors(), true));
 }//end if

}
"
31672,64499,Conditional Insert?,"INSERT INTO productsInCategories (categoryId, productId)
SELECT id,@0 FROM Categories WHERE userId=@1 AND id=@2

@0=Last insert id (the product inserted prior to this query)
@1=The user id
@2=The category id supplied by the client
"
2054,50930,PLSQL : If variable IN subquery,"select count(*) 
into foo 
from blah
where yVar = xVar

if foo > 0 then ...
"
2491,44586,Join where does not equal,"select t2.*
from table2 t2
left join table1 t1 on t2.email = t1.email
where t1.email is null
"
15170,23583,Creating a table with one of the column values from an expression,"select orderid,
       Round(Sum(nz([Quantity]*[UnitPrice]*(1-[Discount])*100)/100)+
            [RushCharge],2) AS TotalCost from 
from [order details]
group by orderid
"
10997,61136,How to use an IN Clause with a user defined list,"SELECT SUM(net_sales)
FROM Sales_tb
WHERE 
    Store_number IN (SELECT Item FROM dbo.SplitStrings(@list, ','))
"
21435,41241,"Sql Select top 2 , bottom 2 and 6 random records","with cte
as
(
    select 
        row_number() over (order by name) RowNumber, 
        row_number() over (order by newid()) RandomOrder,
        count(*) over() Total,
        *
    from sys.tables
)
select *
from cte
where RowNumber <= 2 or Total - RowNumber + 1 <= 2
union all
select *
from
(
    select top 6 *
    from cte 
    where RowNumber > 2 and Total - RowNumber > 2
    order by RandomOrder
) tt
"
26215,57207,SQL Filter the output based on decimal format,"WHERE ROUND(Amount1,2) = Amount1
"
6744,30800,Do several aggregates in one query using where clause SQL,"select
    sum(case when date between '2012-05-01' AND '2012-06-01' then value else 0 end) as sum1,
    sum(case when date between '2012-05-01' AND '2012-10-01' then value else 0 end) as sum2,
    sum(case when situation like 'Urgent' then 1 else 0 end) as count1
from mytable
"
2292,57611,Limit results per column value,"select category, subcategory, `count`
from (
    select *, 
         ( 
            case category 
            when @curCategory 
            then @curRow := @curRow + 1 
            else @curRow := 1 AND @curCategory := category end
          ) + 1 AS rank
    from yourtable cross join (select @curRow:=0, @curCategory:='') c
    order by category, `count` desc
) t
where rank <= 100
"
923,2622,"SQL Server, selecting from 2 columns from different tables","Select a.id, a.code, b.code 
from Table1 a LEFT OUTER JOIN Table2 b
on a.code = b.code
where a.id = '1';
"
15423,11419,SQL Select from many-to-many + phonegap,"tx.executeSql(""SELECT P.* FROM PRODUCTS P INNER JOIN LISTS_HAS_PRODUCTS L ON P.id = L.productid WHERE listid "" + listid, [], onSelectSupermarketsSuccess, onTxError);
"
39118,50038,Get File Name Stored in SQL Server,"DECLARE @FileName VARCHAR(50)
SET @FileName = 'Attachments_21046_123400100473.pdf'

SELECT REVERSE(
        SUBSTRING(
        REVERSE(@FileName), 
        5, -- Length of extension + 1.
        CHARINDEX('_', REVERSE(@FileName)) - 5
    )
)
"
5745,68684,How to get the average for one column of data in sql server,"Select  *
From [Enterprise].[dbo].[Employee]
WHERE ED_LVL > (Select  AVG(ED_LVL) From [Enterprise].[dbo].[Employee])
"
2604,53966,Select count() max() Date,"With ShiftCounts As
    (
    SELECT ope_id, count(ope_id) ShiftCount
        , ROW_NUMBER() OVER( ORDER BY Count(ope_id) Desc ) ShiftRank
    FROM operator_shift
    WHERE ope_shift_date >=to_date( '01-MAR-10','dd-mon-yy') 
        and ope_shift_date <= to_date('31-MAR-10','dd-mon-yy')
    GROUP BY OPE_ID 
    )
Select ope_id, ShiftCount
From ShiftCounts
Where ShiftRank = 1
"
1673,63750,For the same value it should be incremented by 1 and different it should be reset and gives result,"SELECT BPIN, Name, @value:=IF(@bpin=BPIN, @value + 1, 1) AS value, @bpin:=BPIN
FROM 
(
    SELECT BPIN, Name
    FROM some_table
    ORDER BY BPIN, Name
) sub0
CROSS JOIN (SELECT @value:=0, @bpin:=0) sub1
"
22979,21425,codeigniter insert multiple rows by selected checkboxes,"function InsertSymbols() {
    $data = array();
    foreach($this->input->post('symbols') as $symb) {
        $data[] = array('symbol_id' => $symb);
    }
    return $this->db->insert_batch('symbols', $data);
}
"
30743,18579,Check constraint over two columns,"CREATE VIEW VIEW_UNIQUE_MEETINGID WITH SCHEMABINDING AS 
  SELECT  ClubID
          , MeetingID
          , COUNT_BIG(*)
  FROM    YourTable
  GROUP BY
          ClubID
          , MeetingID
GO

CREATE UNIQUE CLUSTERED INDEX UIX_VIEW_UNIQUE_MEETINGID ON VIEW_UNIQUE_CLUBID (MeetingID)
"
9371,13276,"How to write a query with ""or"" statements in iBATIS?","<select id=""selectKeys"" parameterType=""list""
        resultMap=""selectKeysResultMap"">
        SELECT COL1,COL2
        FROM
        TABLE1
        WHERE COL1 IN
        <foreach item=""item"" index=""index"" collection=""list"" open=""(""
            separator="","" close="")"">
            #{item}
        </foreach>
    </select>
"
34310,31964,SQL Statements Display More Rows Than Table Has,"SELECT  t1.*
FROM    table1 t1
CROSS JOIN
        table2 t2
"
24651,41944,update data in table based on data in another table,"update table1 
set table1.dt = table2.dt2 
from table1 join (
       select id,max(dt2) as maxDT
       from table2
       group by id) as derivedTable2 on derivedTable2 .id = table1.id
"
12037,40655,Relating multiple tables to each other in SQL,"Comments
 - CommentID
 - CommentText

Posts
 - PostID
 - Other fields

Pages
 - PageID
 - Other fields

PostComments
 - PostID
 - CommentID

PageComments
 - PageID
 - CommentID
"
22603,21541,SQL: Are we able to combine multiple conditions into one result column?,"SELECT TOP 1 name, email, phone, is_user = CASE
   WHEN ( isuser = 1 
      OR is_user = 1
      OR cust_type LIKE 'USER%'
      OR cust_type = 'DIRECT USER')
   THEN 1 ELSE 0 END,
 is_reseller = CASE 
   WHEN (...any condition that makes a customer a reseller...)
   THEN 1 ELSE 0 END
FROM dbo.customer
...WHERE...
"
37444,13291,Oracle SQL - update ids in oracle sql to be in sequential order,"update (select t.*, row_number() over (order by id) as newid) toupdate
    set id = newid
"
21687,43405,How to display all the record by date wise?,"SELECT A.PersonID, B.Date
FROM (SELECT DISTINCT PersonID from myTable) A, 
(SELECT DISTINCT Date from myTable) B
"
16940,43734,Extracting MySQL backup file,"-- MySQL dump 10.13  Distrib 5.5.14, for osx10.6 (i386)
--
-- Host: huey    Database: test
-- ------------------------------------------------------
-- Server version   5.5.31-30.3-log
"
38474,8288,Delimeter files issues,"load data
append
into table schema.table
fields terminated by '~'
trailing nullcols
(
   line       BOUNDFILLER,
   name       ""regexp_substr(:line, '^[^,]+')"",
   phone_num  ""regexp_substr(:line, '[^,]+', 1, 2)"",
   Address    ""regexp_replace(:line, '^.*?,.*?,')""
)
"
10564,31224,Is it possible to join strings in PL/SQL procedure in my sql statement,"SELECT fcs.category,
       fcs.numbers,
       fcs.points
  FROM some_table fcs
 WHERE fcs.object  = 'T'
   AND fcs.this_db = strSelectedDB
"
18273,41835,How to guarantee that at least N rows are returned by recursive CTE in Postgres,"SELECT *   -- or DISTINCT * to fold duplicates like UNION does
FROM   TABLE
ORDER  BY random()
LIMIT  n;
"
24164,5353,rank items in sql by dates,"ORDER BY 
  CASE WHEN movieDate >= DATEADD(hour, -24, GETDATE()) THEN movieDate END DESC,
  CHECKSUM(NEWID())
"
37483,13059,Appending Text to FOR XML SQL Select Statement,"Declare @V1 VarChar(Max), @V2 VarChar(Max), @V3 VarChar(Max)

Select @V1 = ...

Set @V2 = (Select ...)

Select @V3 = ...

Select @V1+@V2+@V3
"
27442,33275,"To use or not to use inverse geocoding to index a MySQL table with ~500,000 rows?","SELECT  placeId, name, lat, lng,
( 3959 * acos( cos( radians($user_latitude) ) * cos( radians( lat ) ) 
* cos( radians( lng ) - radians($user_longitude)) + sin( radians($user_latitude))
* sin( radians( lat ) ) ) ) AS distance FROM myTable HAVING distance < 25 
ORDER BY distance LIMIT 0 , 20
"
10058,8083,Problem with MySql INSERT MAX()+1,"INSERT INTO users (user_id, name)
SELECT 1 + coalesce((SELECT max(user_id) FROM users WHERE name='Bob'), 0), 'Bob';
"
21294,47960,How do I structure a SQL query to find an object that is the parent of two specific other objects?,"SELECT p.*
FROM parent p JOIN join_table j ON p.id=j.parent_id
WHERE j.child_id=1 OR j.child_id=2
GROUP BY j.parent_id
HAVING COUNT(j.child_id)=2;
"
39678,806,How do I show unique constraints of a table in MySQL?,"select distinct CONSTRAINT_NAME
from information_schema.TABLE_CONSTRAINTS
where CONSTRAINT_SCHEMA = 'mysql'
"
35546,73090,How to select only 1 row per unique field (with another field determining which in case of duplicates),"SELECT  a.*
FROM    tableName a
        INNER JOIN
        (
            SELECT  elem_ID, MAX(`Draft`) maxDraft
            FROM tableName
            GROUP BY elem_ID
        ) b ON a.elem_ID = b.elem_ID AND
                a.`draft` = b.maxDraft
"
32120,12997,Mysql - How to alias a whole table data in a left join,"SELECT CONCAT('[\n ""id"": ',POSTS.ID,', \n ""body"": ""'
  ,BODY,'"",\n  ""date"": ""' ,DATE,'""\n  ""user"": [\n   ""id"": '
  ,USERS.ID,',\n   ""name"": ""', NAME,'"",\n   ""gender"": ""'
  ,gender,'""\n  ]\n ]')
FROM USERS
LEFT JOIN POSTS ON users.id=posts.user_id
"
6893,15016,How to get the 10 highest count in SQL?,"select top 10 product_id, count(*)
from request_list
group by product_id
order by count(*) desc
"
30950,7470,Regular expression for removing Postgres SQL data insert (COPY) statements.,"pg_dump -s mydatabase > dump.sql
pg_dump -a -t table_i_want1 -t table_i_want2 -t table_i_want3 >> dump.sql
"
151,61113,Select data from table and SUM qty of the same ID,"SELECT  T1.GEST,T2.CODINTERN, SUM(T3.REST) AS Suma  
FROM mydb.t3

INNER JOIN mydb.t2 ON 
              mydb.t3.CODOBIECT = mydb.t2.CODOBIECT 
INNER JOIN mydb.1 ON 
              mydb.t3.CODNIR=mydb.t1.CODNIR 
WHERE T1.gest=738 and T3.REST>0 
GROUP BY T2.CODINTERN, T1.GEST;
"
32842,23215,Oracle: when was my table modifed?," select scn_to_timestamp(max(ora_rowscn)) from table_name
"
32447,35174,Replacing CASE in SQL query,"select left('C', T.flag1)+
       left('G', T.flag2)+
       left('R', T.flag3)
from TableA as T
"
23691,34280,How can I exclude values from a third query (Access),"SELECT t1.* FROM t1 LEFT JOIN t2 on t1.id = t2.id where t2.id is null;
"
7773,45076,"In Mongoose (node.js MongoDB), how do I perform this update?","for(i in result.reports){
    result.reports[i].uid = 0;
}
result.save();
"
1730,55455,Howto find a maximum value for attribute pairs in an MYSQL?,"SELECT Date, Device, MAX(Configuration) AS Configuration
FROM logData
GROUP BY Date, Device
"
307,25565,sql query null data was not retrieved,"SELECT DEPARTMENT.Department_ID, DEPARTMENT.Department_Name, Count(EMPLOYEE.Employee_ID) As Employees 
FROM DEPARTMENT 
LEFT JOIN EMPLOYEE ON EMPLOYEE.Department_ID = DEPARTMENT.Department_ID 
GROUP BY DEPARTMENT.Department_ID, DEPARTMENT.Department_Name
"
39104,32665,Select users' info with their total number of comments,"SELECT
*,
(SELECT COUNT(id) FROM Comment WHERE id = id) AS Comments
FROM User
ORDER BY id DESC
"
10610,23880,Is it possible to filter within a windowing function's partition,"select t1.PlaceID, t1.ItemID, t1.ItemCount
     , t1.Amount as 'AmtMe'
     , SumPlace.sum as 'AmtPlace' 
     , SumPlace.sum - t1.Amount as 'AmtPlaceNoMe'
  from #test as t1
  join (select PlaceID, sum(Amount) as 'sum'
          from #test 
         group by PlaceID) as SumPlace 
    on t1.PlaceID = SumPlace.PlaceID 
"
6162,22576,SQLite - How to implement a search function of sorts,"select sectionid, count(sectionid)
from WORDS2SECTION
where id in (select id
    from WORDS
    where word in ('hello', 'foo', 'bar')
)
group by sectionid
"
38144,38566,Selecting a subset of rows with MySql: conditionally limiting number of entries selected,"SELECT a.* FROM $marketdb a
INNER JOIN
(
    SELECT  seller, MAX(amount) amount
    FROM    $marketdb
    WHERE   price=$minprice
    GROUP   BY seller
) 
b ON a.seller = b.seller AND
a.amount = b.amount group by a.seller;
"
39695,43891,How to update multiple rows with multiple values?,"update ce set valor=valor/@total from #table1 ce inner join table2 m
on ce.t2id=m.id 
where codigo in (10, 11)
"
25362,26044,Restricting an SQL query to certain fields in a table not used by the query,"SELECT month(saledate), SUM(sales.cost)
FROM sales, products
WHERE sales.productname=products.productname
AND category='food'
GROUP BY month(saledate)
UNION ALL
SELECT month(purchasedate), SUM(purchases.cost)
FROM purchases, products
WHERE purchases.productname=products.productname
AND category='food'
GROUP BY month(purchasedate)
"
11396,71081,Extensive String Manipulation - Cursor or While-Loop?,"UPDATE
    MT
SET
    description = REPLACE(description, old_value, new_value)
FROM
    dbo.My_Table MT
INNER JOIN dbo.Fix_Table FT ON MT.description LIKE '%' + FT.old_value + '%'
"
810,26915,SQL: How to sort / order query result in somewhat arbitrary manner?,"SELECT *, 1 as sort_pref FROM table WHERE column LIKE 'CHAIR%'
UNION
SELECT *, 2 as sort_pref FROM table WHERE column LIKE '%CHAIR%' AND column NOT LIKE 'CHAIR%'
ORDER BY sort_pref, column
"
29079,5120,"SQL Query outputting ""yes"""," SELECT ""Yes""
 FROM dbsProfs
 HAVING MAX(dbsProfs.age) - MIN(dbsProfs.age) <= 5
"
36687,74449,Add a table for all databases in SQL Server,"SELECT * FROM mytable AS t
INNER JOIN Main.dbo.SharedTable AS s ON t.Id=s.Id
....
"
3289,40306,Sql query with multiple column join,"   select t2.val valofc1,t3.val valofc2,t4.val valofc3 from table1 t1
   inner join table2 t2 on t1.C1 = t2.ids
   inner join table2 t3 on t1.C2 = t3.ids
   inner join table2 t4 on t1.C3 = t4.ids
   where tempId = 'ab'
"
38995,19308,Calling a stored procedures within the same schema from a SP,"$ db2 ""values substr(current path,1,60)""

1
------------------------------------------------------------
""SYSIBM"",""SYSFUN"",""SYSPROC"",""SYSIBMADM"",""IBJORHOV""

  1 record(s) selected.
"
23601,50671,select how many DEPTNO's exists for each LOC plus number of EMP's,"select d.loc,
       count(distinct d.deptno) depts,
       count(e.ename) emps
from dept d
left join emp e on d.deptno = e.deptno
group by d.loc
"
10536,60287,Different column types on INNER JOIN,"TAB1.VARCHAR_COL = TO_CHAR( TAB2.NUMBER_COL, '000' )
"
8293,64979,Is there an issue in SSIS with logging only child tasks but not its parent container?,"select id, event, source, starttime, endtime from dbo.sysssislog
"
10924,51919,Listing preferences with oracle db,"SELECT p.name,
       LISTAGG( s.name, ',' ) WITHIN GROUP ( ORDER BY s.name ) AS preferences
FROM   Person p
       INNER JOIN School s
       ON ( p.preference_id = s.school_id )
GROUP BY p.name
"
22235,28596,SQL Query Help Part 2 - Add filter to joined tables and get max value from filter,"WITH SchoolsInState (id, state, schoolname)
AS (
    SELECT id, state, schoolname
    FROM Schools
    WHERE state = 'XX'
)
SELECT *
FROM SchoolsInState AS s
JOIN Grades AS g
ON s.id = g.id_schools
WHERE g.Reading = max(g.Reading)
"
3273,3438,MySql - Find values that occur AT LEAST two times without using any aggregate function,"SELECT distinct c1.city_name 
  FROM `city` c1 
  JOIN city c2 
        ON c1.city_name=c2.city_name 
       AND c1.state_name!=c2.state_name
"
24873,17354,Send Null to oracle if the textbox value is empty,"Dim emptyTextBoxes =
    From txt In Me.Controls.OfType(Of TextBox)()
    Where txt.Text.Length = 0
    Select txt.Name
If emptyTextBoxes.Any Then
    MessageBox.Show(String.Format(""Please fill following textboxes: {0}"",
                    String.Join("","", emptyTextBoxes)))
End If
"
6886,46558,Query for sqlite in android (insert query),"db.execSQL(""insert into your table name (order_id,doc_id,doc_name)"" + ""values(""ordid+"",""+doci+"",""
                + ""\"""" + docnam + ""\"""" + "") ;"");
"
4248,37261,Updating two column values into another column,"UPDATE table SET TotalMoney = Money1 + Money2;
"
11247,74757,How to update all records in the table that has no 0 at the beginning on SQL Server?,"UPDATE numberTable
SET number = '0' + number
WHERE LEN(number) = 9
"
9931,16399,How to duplicate and add more characters to a string row in sql?,"select
  cname
from
  table1
union all
select
  cname + '*'
from
  table1 
union all
select
  cname + '#'
from
  table1 
order by cname
"
33150,71442,Update int column in table with incrementing value,"with cte as 
( select prodID, row_number() over (order by prodID) as rn 
  from table 
)
update cte set prodID = rn + 9
"
8873,56278,hive group-by dealing with empty values,"select col, count(*)
from table t
group by col;
"
23095,34927,Oracle Query compare 2 columns that both have dates and only display the record if column a less than column b,"WHERE CLOSED_D > ETR_D
"
29572,31966,Multiple joins on the same table,"select d.tech_id, t.first_name, t.last_name, 
       d.rt_completed as completed_id, 
       t2.first_name as completed_first_name, 
       t2.last_name as completed_last_name
from RT_QUEUE_Delta d
    join Technician t on d.tech_id = t.tech_id
    join Technician t2 on d.RT_Completed = t2.tech_id
"
28451,43920,Optimize query to count total from two different column and different rows of one table,"SELECT  currency, SUM(price) totalPrice
FROM    tableName
GROUP   BY currency
"
10796,28193,Issue with Oracle Trigger,"CREATE OR REPLACE TRIGGER update_offering_status BEFORE UPDATE ON users
 FOR EACH ROW
WHEN (NEW.status = 'i')
BEGIN
     UPDATE offering
     SET status = 'i'
    WHERE userid = :NEW.id
END; 
"
13892,33782,Convert number to varchar in SQL with formatting,"RIGHT('00' + CONVERT(VARCHAR, MyNumber), 2)
"
27974,33543,Passing arguments to stored procedures MySql,"SET @s = CONCAT('USE old_database; CALL old_database.dbCreate(', dbName,');');
PREPARE stmt FROM @s;
EXECUTE stmt;
"
132,58939,Many to many relationship in the same table?,"CREATE TABLE formula_relation (
  formula_relation_id SERIAL PRIMARY KEY,
  formula1_id INT REFERENCES formulas (formula_id) ON DELETE CASCADE,
  formula2_id INT REFERENCES formulas (formula_id) ON DELETE CASCADE,
  CHECK (formula1_id < formula2_id)
);
"
13969,14749,Oracle: Insufficient privileges on inserting data into tablespace tables,"grant imp_full_database to p4ss;
"
22216,23717,ORDER BY RAND() in MySQL,"(SELECT image FROM tab WHERE(first) ORDER BY RAND() LIMIT 1)
UNION
(SELECT image FROM tab WHERE(second) ORDER BY RAND() LIMIT 2)
UNION
(SELECT image FROM tab WHERE(third) ORDER BY RAND() LIMIT 2)
"
4492,56919,Laravel 4.x migrations on production environment,"if( App::environment() === 'dev' )
{
    $this->call('UserTableSeeder');
} 
"
27217,37147,SQL query to identify completely contained subset,"DECLARE
  @UserId  int
 ,@ClientCount  int

DECLARE @Clients as table
 (ClientId  int  not null)

--  All clients for the ""target"" user
INSERT @Clients
 select Clientid
 from MyTable
 where UserId = @userId

--  Track how many there are
SET @ClientCount = @@rowcount

--  List all users that have those clients
SELECT mt.UserId, count(*) HowMany
 from Mytable mt
  inner join @Clients cl
   on cl.ClientId = mt.Clientid
 where UserId <> @UserId
 group by mt.UserId
 having count(*) = @ClientCount
"
13822,43766,Add default value for unknown,"SELECT v.name, u._id as userId, vu._id as vaccineId FROM user u LEFT OUTER JOIN vacc_user vu ON u._id = vu.userId LEFT OUTER JOIN vaccine v ON ((v._id = vu.vaccineId) OR (v._id IS NULL)) WHERE u._id = 4;
"
18795,21246,Map-like object type in PL/SQL?,"CREATE OR REPLACE TYPE TKey AS OBJECT(
 name varchar2(240),
 value_text varchar2(2000),
 value_map_name varchar2(240));
"
3474,27789,SQL order by string order,"SELECT strNum FROM your_table
ORDER BY FIELD(strNum,'One','Two','Three','Four','Five','Six','Seven','Eight','Nine','Ten') ASC
"
23487,24969,Optimize SQL Stored Procedure,"Create Table #Cities(City varchar(200))
"
11511,8471,"How does CONVERT (DATETIME, FLOAT) work?","Decimal value    Time Value    Calculation 
=============    ==========    ===========
0.00094444444    12:01:00 AM   1.0 / 24 / 60 (1 day/24 hours/60 minutes per hour)
0.01041666666    12:15:00 AM   1.0 / 24 / 60 * 15
0.02083333333    12:30:00 AM   1.0 / 24 / 60 * 30
0.04166666666    01:00:00 AM   1.0 / 24
"
11087,3925,How to select every tag from XML document in SQL Server 2008?,"DECLARE @input XML = '..... add your XML here........'

SELECT 
    NodeName = Nod.value('local-name(.)', 'varchar(50)'),
    NodeValue = Nod.value('.', 'varchar(50)')
FROM @input.nodes('//*') AS TBL(Nod)
"
28150,25464,VB.NET and Access DataBase Trends,"Command.CommandText = ""SELECT COUNT([Product Number]) AS CNT, [Product Number] FROM TableXXX GROUP BY [Product Number] ORDER BY COUNT([Product Number]) DESC""
"
39314,28757,Query to get user info and list of roles in a single row,"SELECT u.id, u.firstname, u.lastname, array_agg(r.name)
FROM user u 
LEFT OUTER JOIN user_role ur ON (u.id = ur.user_id)
LEFT OUTER JOIN role r ON (ur.role_id = r.id)
GROUP BY u.id;
"
9622,66578,How do you get the last access (and/or write) time of a MySQL database?,"SELECT UPDATE_TIME
FROM   INFORMATION_SCHEMA.TABLES
WHERE  TABLE_SCHEMA = 'dbname'
AND    TABLE_NAME = 'tabname'
"
6146,46220,How to do an IN with a subquery returning 2 columns?,"SELECT *
FROM GUITARS.FENDER
WHERE EXISTS (SELECT 1
              FROM GUITARS.GUITAR_TYPE
              WHERE GuitarColor = 'RED' AND
                    FENDER.GUITARTYPE = GUITARTYPE.GUITARTYPE AND
                    FENDER.GUITARSUBTYPE = GUITARTYPE.GUITARSUBTYPE
             );
"
13533,17777,Does SQL Compact Edition Support Clustered Indexes?,"This is the only supported index type
"
3201,39196,Picking first instance in grouped rows- PostgreSQL,"SELECT * FROM
(SELECT accountid,
    procdate, 
        type, 
        value, 
        LAG(type) OVER (ORDER BY procdate ASC) AS previousType
   FROM transaction) w WHERE previousType = 'RECOVERY';
"
15752,66174,Where to get Oracle SERVICE_NAME?,"select sys_context('USERENV','SERVICE_NAME') from dual
"
14172,9633,Convert SQL Server query to MySQL,"Select *
from
(
    SELECT tbl.*, @counter := @counter +1 counter
    FROM (select @counter:=0) initvar, tbl
    ORDER BY ordcolumn
) X
where counter <= (50/100 * @counter);
ORDER BY ordcolumn
"
27271,42906,How to calculate total weight of all components in Oracle,"select componentid,
         (select sum(cs.weightkg)
            from component c2, componentstats cs
           where c2.componentstatsid = cs.componentstatsid
               start with c2.componentid = c1.componentid
         connect by prior c2.componentid = c2.fkcomponentid) sum_weightkg
from component c1
start with c1.fkcomponentid is null
connect by prior componentid = fkcomponentid;
"
34847,50505,Oracle: MIN() Statement causes empty row returns,"select * from (
-- your original select without rownum and with order by
)
WHERE ROWNUM = 1
"
5990,56008,Change inserted value with trigger,"CREATE OR REPLACE TRIGGER NumberOfBooks
BEFORE INSERT
ON book
FOR EACH ROW
BEGIN 
  IF :new.nobook < 10 THEN
    :new.nobook = 10;
  END IF;
END;
"
3658,40908,Efficient way to join two tables only for the records having values of a var from the third table,"SELECT A.VAR1, B.VAR2
FROM A 
INNER JOIN B
    ON A.id1 = b.id1
INNER join
(
    SELECT DISTINCT id2
    FROM c
) c1
    ON b.id2 = c1.id2
"
28417,26364,Creating a SQL Script that inserts several items into a table but checking if each exist first,"INSERT [dbo].[Product] ([Id], [Name])
    SELECT id, name
    FROM (VALUES (1, N'Product 1'),
                 (2, N'Product 2')
                 (3, N'Product 3')
         ) v(Id, Name)
    WHERE NOT EXISTS (SELECT 1 FROM Product P2 WHERE p2.id = v.id);
"
33987,75632,SQL query: multiplication from 2 tables,"select t2.*, (t2.quantity * p.price) as sales
from table2 t2 outer apply
     (select top 1 t1.price
      from table1 t1
      where t1.product = t2.product and t1.date <= t2.date
      order by t1.date desc
     ) p
"
38813,35414,How do you select a date range in postgres?,"select * from table where timestamp > now() - interval '1 month'
"
32414,49397,SQL CONVERT and FLOOR query,"DECLARE @test nvarchar
"
25487,60330,How to find number of failed grades and the number of general average?,"SELECT 
   sID,
   SUM(CASE WHEN grade < 50 THEN 1 ELSE 0 END) AS noOfFails,
   AVG(grade) AS Average
FROM studentTable
GROUP BY sID
"
28545,1637,MySQL result redirection / linked rows?,"SELECT DISTINCT Table,Length,Height FROM Inventory WHERE ID IN (SELECT DISTINCT ID FROM Inventory WHERE length < x and Parent => 0) AND Parent = NULL
"
36149,19943,"How can I SELECT rows with MAX(Column value), DISTINCT by another column in SQL?","SELECT tt.*
FROM topten tt
INNER JOIN
    (SELECT home, MAX(datetime) AS MaxDateTime
    FROM topten
    GROUP BY home) groupedtt 
ON tt.home = groupedtt.home 
AND tt.datetime = groupedtt.MaxDateTime
"
2395,66995,Select query ordered by two subselects that depend on the outer query,"SELECT 
  v.user_id, 
  SUM(v.points) as addedNum,
  if(
      v.points = 3, @a := 2, if(v.points = 2, @a := 1, @a := 0)
  ) as num_p_three_two
FROM vote v 
JOIN (select @a := 0, @b := 0) as temp
GROUP BY v.user_id
ORDER BY 
addedNum DESC,
num_p_three_two DESC;
"
9125,32521,WHERE clause in nested select,"select *
from (
   SELECT i.BOOK_ID
   , i.in_out
   , i.event_date AS in_time
   , LOCATION in_location
   , lag(event_date) over (partition by book_id order by event_date) out_date
   , lag(location) over (partition by book_id order by event_date) out_location
   FROM TRANSACTIONS i
   ORDER BY i.event_date)
where in_out = 'I'
and   in_location != out_location;
"
35856,22808,Group_concat in old MySQL version,"SELECT @prev_item_id := NULL;

SELECT  MAX(@keyword_ids := IF(@prev_item_id = item_id, CONCAT_WS(',',     
    @keyword_ids, keyword_ids), keyword_ids)), 
         @prev_item_id := item_id
FROM mytable
GROUP BY item_id;
"
21864,50413,How can I order a selection by the results of a function (sum)?,"select bill_no, bill_month, ..., (consumption + consumption2 + consumption3) as tot_sum
  from ws_bill
 order by tot_sum desc
"
28479,32891,MySQL IFNULL on 4 or 5 columns,"SELECT ....
  FROM ....
ORDER BY COALESCE(rrp, wholesale, column3, column4)
"
34855,4308,MYSQL List of number between a range,"SELECT DISTINCT TableA.ID
FROM
  TableA INNER JOIN Ranges
  ON TableA.ID BETWEEN Ranges.id_lower AND Ranges.id_upper
"
37261,49293,How to access an index of a string in PL/SQL?,"DECLARE
  str VARCHAR2(20);
BEGIN
  str:='Test';

  FOR i IN 1..LENGTH(str) LOOP
    DBMS_OUTPUT.PUT_LINE('Character at index ' || i || ' is ' || SUBSTR(str, i, 1));
  END LOOP;
END;
"
4844,54440,mysql query add [something]_ infront of all table rows when grabbing multiple tables,"SELECT a.field AS a_field, a.field2 AS a_field2, ...
"
23768,18062,sql count and select couple rows," select login as ID,(select COUNT(*) from users)  as USERCOUNT  from users;
"
876,19606,Averaging In SQL When Multiples Values Possible In A Row,"select productname, 
       sum(unitprice * quantity) / sum(quantity) as avg_unit_price, 
       sum(quantity) as cnt
from your_table
group by productname
"
19507,49446,Query shows no results when searching for dates,"select order_slip,product_name,month from orders where month between '09/03/2015' and '09/09/2015'
"
15851,62928,OPENQUERY on SQL Server 2005 64bit behaves weird,"select * from 
OPENQUERY(DB0PBB0,'select *  
                     from DB0PBB0.DM_CLICK 
                    where Date_stamp < to_date(''24-Jul-09'', ''dd-mon-rr'') 
                      and Date_stamp >= to_date(''23-Jul-09'', ''dd-mon-rr'')')
"
34748,52260,Delete records not present in join,"DELETE FROM A WHERE NOT EXISTS (SELECT * FROM B WHERE A.id = B.id)
"
4646,51552,Sybase use parameter as where clause,"declare @where_clause varchar(100)
declare @sql_statement varchar(500)
select @where_clause = 'date in (''2011-01-01'',''2012-01-01'',''2012-05-24'') AND doc = ''1'''
select @sql_statement = 'select * from my_table where ' + @where_clause
exec (@sql_statement)
"
16312,53534,Tool for importing CSV files into MySQL database?,"LOAD DATA INFILE 'data.txt' INTO TABLE tbl_name
 FIELDS TERMINATED BY ',' ENCLOSED BY '""'
 LINES TERMINATED BY '\r\n'
 IGNORE 1 LINES;
"
24801,74256,Give priority to ORDER BY over a GROUP BY in MySQL without subquery,"select v.*
from
(
    select program, MAX(id) id
    from versions
    group by program
) m
inner join versions v on m.program=v.program and m.id=v.id
"
24017,48690,SQL query not providing range for nvarchar,"CAST(REPLACE(CubeNumber,'AA-','') as INT) BETWEEN 1 AND 20;
"
17794,44326,how to write multiple select queries in single procedure?,"DELIMITER $$
CREATE PROCEDURE procedureName(IN _uid VARCHAR(15))
BEGIN
    SELECT UID, COLLEGE_NAME name, COLLEGE_ADDRESS address
    FROM    table1
    WHERE uid = _uid
    UNION ALL
    SELECT UID, COMPANY_NAME name, COMPANY_ADDRESS address
    FROM    table2
    WHERE uid = _uid
END $$
DELIMITER ;
"
14805,27371,Mysql min/max optimization,"SELECT id, MIN(dateA), MAX(dateB)
  FROM TableA
 GROUP BY id;
"
38051,54698,How to get key of the maximal record in group?,"SELECT name, t2.score
FROM Table1 t1
LEFT OUTER JOIN Table2 t2 ON t2.file_id = t1.id
LEFT OUTER JOIN Table2 t2copy ON t2copy.file_id = t2.file_id
                             AND t2.score < t2copy.score
WHERE name LIKE :pattern
  AND t2copy.score IS NULL
"
4991,54177,Postgres 9.4: fast way to convert color from hex to rgb representation,"with colors (hex_code) as (
  values ('#112233'), ('#203040')
)
select 'rgb('||
       ('x'||substr(hex_code,2,2))::bit(8)::int||','||
       ('x'||substr(hex_code,4,2))::bit(8)::int||','||
       ('x'||substr(hex_code,6,2))::bit(8)::int||')'
from colors
;
"
17189,71873,Oracle varchar not equal statement,"select * from my_table where not regexp_like(name,'\_sp[0-9]+$')
"
5891,1124,SQL (Oracle) - Selecting rows containing a max() using 'having',"with sec_enrollment as (
select course_id, sec_id, count(ID) as enrollment
from section natural join takes
where semester = 'Fall' and year = 2009
group by course_id, sec_id)
, max_enrollment as (
select max(enrollment) as maxenrollment from sec_enrollment)
select course_id, sec_id 
from sec_enrollment s 
join max_enrollment m on s.enrollment = m.maxenrollment
"
24992,14952,how to write this oracle query in jpa?,"Select q fom QuestionInfo q where q.name in (Select r.name from ResponseInfo q2 where r.isConflict = 'yes')
"
39598,28044,Create table with column names from fields of another table,"stringBuilder.append(""CREATE TABLE IF NOT EXISTS tablename ( id INT NOT NULL AUTO_INCREMENT, article_id INT, "");
for (int i=0; i<verbList.size(); i++){
    stringBuilder.append(""`""+verbList.get(i)+""`""+"" SMALLINT, "");
}
stringBuilder.append(""PRIMARY KEY (id))"");
String finalString = stringBuilder.toString();
"
3029,74880,SQL Count number of values given compound condition on row,"select count(*)
from UserService
where 
    ServiceId = 3 and
    UserId in (select UserId from UserService where ServiceId != 3)
"
22071,14380,Renumber keys in a table using sub-query,"update  [TEST-PH].[dbo].[Emp_PosDepartments]
set     Code = Code + 200
"
3422,55515,Get the sum even if a column false/true,"SELECT COALESCE(
    (SELECT ROUND(SUM([Time]*[Price]),0)  
     FROM [tblTime] Y 
     WHERE Y.[OwnerId] = <ID> AND Y.[Invoice] = 'True')
    , 0)    -- value 0 is used only if SELECT returns NULL
+
COALESCE(
    (SELECT ROUND(SUM([Amount]*[Price]),0)  
     FROM [tblMaterial] M 
     WHERE M.[OwnerId] = <ID> AND M.[Invoice] = 'True')
    , 0)    -- value 0 is used only if SELECT returns NULL
"
20748,66229,"SQL, finding entries when value to one column is A or B","select * from table where col in ('foo1', 'foo2')

select * from table where col = 'foo1' or col = 'foo2'
"
3379,68743,Postgres 9.x - Is there a way to avoid hard coding database connection info into views?,"CREATE VIEW ProdLink.Users AS
    select * from dblink(
        (select conn_string from conn_string where conn = 'that_one'),
        'select * from users'
    ) as t1 (
        userid uuid, 
        email varchar(50), 
        alias varchar(50), 
        fullname varchar(50), 
        password varchar(100)
    );
"
7560,23204,Select statement where fields each contain multiple values,"SELECT v.*
FROM
  vendors v
WHERE
  NOT EXISTS (
    SELECT *
    FROM vendor_styles vs1 INNER JOIN vendor_styles vs2
         ON vs1.style_id = vs2.style_id
            AND vs1.vendor_id = 1 --- insert vendor id here
    WHERE
      vs2.vendor_id = v.id)
"
25083,63975,Ordering Postgresql Table Results by Chronological Date,"order by min(""Date"")
"
6649,35248,How to construct common table with multiple nested queries,"WITH 
ctTableA AS (Select * FROM tableA WHERE fldAID=A), 
ctTableB AS (Select * FROM tableB WHERE fldAID=A)

SELECT * FROM ctTableA INNER JOIN ctTableB ON ctTableA.fldX=ctTableB.fldX
"
213,53659,Unused columns in a view / subquery (MySQL),"select l.loan_id, max(ph.received_d) as last_payment_date,
       max(case when ph.co = 1 then coalesce(ph.received_d, ph.month)
           end) as charge_off_date
from loans l left join
     payment_history ph
     on ph.loan_id = l.loan_id
group by l.loan_id;
"
33280,72713,"regex , select sentence in database exept","WHERE semi_sentence NOT RLIKE '[[:<:]](to|a)[[:>:]]'
"
1902,37046,counting rows in select clause with DB2,"select t.*, g.tally
  from mytable t,
       (select count(*) as tally
          from mytable
       ) as g;
"
29025,68963,Best way to check for current date in where clause of sql query,"WHERE
  DateDiff(d, Received, GETDATE()) = 0
"
9410,53005,Specify different conditions for different columns in the same Query,"select 
a.col1,
sum (case when a.YourDateColumn between to_date ('01/01/1900', 'DD/MM/YYYY') and to_date ('01/10/1990', 'DD/MM/YYYY') then a.a1 else 0 end) as a1total,
sum (case when a.YourDateColumn between to_date ('01/01/1992', 'DD/MM/YYYY') and to_date ('01/10/1992', 'DD/MM/YYYY') then a.a2 else 0 end) as a2total
from A 
group by a.col1
"
14510,68673,Exclude rows with the same values in some columns,"select t.*
from table t
where not exists (select 1
                  from table t2
                  where t2.col2 = t.col2 and t2.col3 = t.col3 and
                        t2.id <> t.id
                 );
"
11288,64118,Get all the entries alphabetically preceding a certain entry (postgres),"select c.*
from clients c
where c.name < (select c2.name from clients c2 where c2.id = 123)
order by c.name;
"
27481,19758,How to display all row data after ordering is done using union with single column,"SELECT name,lastname,id,Position
FROM (

SELECT name,lastname,id,base_layers.position AS Position
FROM base_layers
WHERE base_layers.section_id =1
UNION 
SELECT name,lastname,id,selects.position
FROM selects
WHERE selects.section_id =1
UNION 
SELECT name,lastname,id,subbases.position
FROM subbases
WHERE subbases.section_id =1
)x
ORDER BY Position ASC 
"
18002,15210,How to single query this case,"WHERE timestamp_b >= current_timestamp
ORDER BY ABS(timestamp_c - timestamp_a)
"
35085,29219,IF EXISTS in SQL Server Cursor Not Working,"DECLARE @tablename sysname 

SET @tablename = 'ps_vars' + @datasetid

IF (OBJECT_ID(@tablename, 'U') IS NOT NULL)
BEGIN
 SET @sql = ' UPDATE ' + QUOTENAME(@tablename) + '
     SET    programming_notes = replace(programming_notes, ''Some of the variables listed are source variables.'') ';
     EXEC sp_executesql @sql  
END
"
33601,65726,SQL queries to determine more than 1 specialize and display in table,"SELECT *
FROM ""HOSPITAL""  H
JOIN ""HOSPITAL_SPECIALIZE"" HS
  ON  H.""HOSPITAL_ID"" = HS.""HOSPITAL_ID""
WHERE DECODE(""MATERINITY"", 'YES', 1, 0) +
      DECODE(""ENT"", 'YES', 1, 0) +
      DECODE(""DERMATOLOGY"", 'YES', 1, 0) +
      DECODE(""ORTHOPEDICS"", 'YES', 1, 0) >= 2
"
14091,40579,How to using INNER JOIN if one table is empty or no data,"SELECT room.id_room
     , room.name_room
     , room.available_room - SUM(COALESCE(reservation.reserved_qty, 0)) AS remaining_rooms
    FROM room
        LEFT OUTER JOIN reservation
            ON room.id_room = reservation.id_room
    WHERE
        checkin_date IS NULL OR
        @day BETWEEN checkin_date AND checkout_date
    GROUP BY room.id_room, room.name_room;
"
34830,26397,Take thousand value in SQL,"SELECT CONVERT(INT,YourColumn) % 1000
FROM dbo.YourTable
"
21741,66820,T-SQL calculate with calendar week,"where Year ='2013'
and CAST(Calendarweek AS INT) >= datepart(week,getdate())-6 
"
31735,57818,How can i query table within table?,"select
  case when c.ClientId <> @clientid then c.Name else '' end as ClientName,
  case when c.ClientId <> @clientid then @ClientId := c.ClientId else '' end as ClientId,
  p.ContactId,
  p.Name as ContactName
from
  Clients c
  inner join Contacts p on p.ClientId = c.Clientid
  , (select @clientid := -1) x
order by
  c.ClientId, p.ContactId
"
